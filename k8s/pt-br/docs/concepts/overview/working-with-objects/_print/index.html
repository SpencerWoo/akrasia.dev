<!doctype html><html lang=pt-br class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/concepts/overview/working-with-objects/><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/concepts/overview/working-with-objects/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/concepts/overview/working-with-objects/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/concepts/overview/working-with-objects/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/concepts/overview/working-with-objects/><link rel=alternate hreflang=id href=https://kubernetes.io/id/docs/concepts/overview/working-with-objects/><link rel=alternate hreflang=ru href=https://kubernetes.io/ru/docs/concepts/overview/working-with-objects/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Objetos do Kubernetes | Kubernetes</title><meta property="og:title" content="Objetos do Kubernetes"><meta property="og:description" content="Orquestração de contêineres em nível de produção"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Objetos do Kubernetes"><meta itemprop=description content="Orquestração de contêineres em nível de produção"><meta name=twitter:card content="summary"><meta name=twitter:title content="Objetos do Kubernetes"><meta name=twitter:description content="Orquestração de contêineres em nível de produção"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:url" content="https://kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/"><meta property="og:title" content="Objetos do Kubernetes"><meta name=twitter:title content="Objetos do Kubernetes"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/pt-br/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/pt-br/docs/>Documentação</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/pt-br/blog/>Kubernetes Blog</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/pt-br/partners/>Parceiros</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/pt-br/community/>Comunidade</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/pt-br/case-studies/>Casos de estudo</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versões</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/pt-br/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/pt-br/docs/concepts/overview/working-with-objects/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Português (Portuguese)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/concepts/overview/working-with-objects/>English</a>
<a class=dropdown-item href=/zh-cn/docs/concepts/overview/working-with-objects/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/concepts/overview/working-with-objects/>한국어 (Korean)</a>
<a class=dropdown-item href=/ja/docs/concepts/overview/working-with-objects/>日本語 (Japanese)</a>
<a class=dropdown-item href=/fr/docs/concepts/overview/working-with-objects/>Français (French)</a>
<a class=dropdown-item href=/es/docs/concepts/overview/working-with-objects/>Español (Spanish)</a>
<a class=dropdown-item href=/id/docs/concepts/overview/working-with-objects/>Bahasa Indonesia</a>
<a class=dropdown-item href=/ru/docs/concepts/overview/working-with-objects/>Русский (Russian)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Essa é a versão completa de impressão dessa seção
<a href=# onclick="return print(),!1">Clique aqui para imprimir</a>.</p><p><a href=/pt-br/docs/concepts/overview/working-with-objects/>Retornar à visualização normal</a>.</p></div><h1 class=title>Objetos do Kubernetes</h1><ul><li>1: <a href=#pg-9f5adfa77f48c50d5cc81155a3cecb98>Entendendo os objetos do Kubernetes</a></li><li>2: <a href=#pg-f37749a83c2916b63279ea60f3cfe53e>Nomes de objetos e IDs</a></li><li>3: <a href=#pg-1127165f472b7181b9c1d5a0b187d620>Namespaces</a></li><li>4: <a href=#pg-046c03090d47bc4b89b818dc645c3865>Seletores de Campos</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-9f5adfa77f48c50d5cc81155a3cecb98>1 - Entendendo os objetos do Kubernetes</h1><p>Esta página explica como os objetos do Kubernetes são representados na API do Kubernetes e como você pode expressá-los no formato <code>.yaml</code>.</p><h2 id=kubernetes-objects>Entendendo os objetos do Kubernetes</h2><p><em>Os objetos do Kubernetes</em> são entidades persistentes no Kubernetes. Kubernetes utiliza estas entidades para representar o estado do cluster. Especificamente, eles podem descrever:</p><ul><li>Quais aplicativos estão sendo executados (e em quais nós).</li><li>Os recursos disponíveis para esses aplicativos</li><li>As políticas acerca de como esses aplicativos se comportam, como políticas de reinicialização e tolerâncias a falhas.</li></ul><p>Um objeto do Kubernetes é um “registro de intenção”-uma vez criado o objeto, o sistema do Kubernetes trabalha constantemente para garantir que este objeto existe. Ao criar um objeto, você está efetivamente falando para o sistema do Kubernetes como você quer que a carga do seu cluster seja. Este é o <em>estado desejado</em> do seu cluster.</p><p>Para trabalhar com objetos do Kubernetes seja para criar, modificar ou deletar eles, você precisará usar a <a href=/docs/concepts/overview/kubernetes-api/>API do Kubernetes</a>. Quando você usa a interface de linha de comando do <code>kubectl</code>, por exemplo, o CLI faz as chamadas necessárias na API do Kubernetes para você. Você também pode usar a API do Kubernetes diretamente no seu próprio programa usando uma das <a href=/docs/reference/using-api/client-libraries/>Bibliotecas</a>.</p><h3 id=especificação-e-status-do-objeto>Especificação e status do objeto</h3><p>Quase todos os objetos do Kubernetes incluem dois campos de objetos aninhados que governam a configuração do objeto: a <em><code>especificação</code></em> do objeto e o <em><code>status</code></em> do objeto. Para objetos que têm especificação, você tem que definir isso quando você cria o objeto, fornecendo uma descrição das características que você quer que o recurso tenha: o seu <em>estado desejado</em>.</p><p>O <code>status</code> descreve o <em>estado atual</em> do objeto, fornecido e atualizado pelo Kubernetes e seus componentes. A <a class=glossary-tooltip title='A camada de gerenciamento de contêiner que expõe a API e as interfaces para definir, implantar e gerenciar o ciclo de vida dos contêineres.' data-toggle=tooltip data-placement=top href='/pt-br/docs/reference/glossary/?all=true#term-control-plane' target=_blank aria-label='camada de gerenciamento'>camada de gerenciamento</a> do Kubernetes gerêncai continuamente e ativamente o real estado para corresponder ao estado desejado que você forneceu.</p><p>Por exemplo, no Kubernetes, o <a class=glossary-tooltip title='Manages a replicated application on your cluster.' data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/deployment/ target=_blank aria-label=Deployment>Deployment</a> é um objeto que pode representar uma aplicação executando no seu cluster. Quando você cria o Deployment, você pode alterar a <code>especificação</code>para definir que você quer três réplicas da aplicação em execução simultânea. O Kubernetes lê as especificações do Deployment e inicia três instâncias do seu aplicativo desejado, atualizando o status para corresponder às suas especificações. Se uma dessas instâncias falhar (um status mudar), o Kubernetes responde as diferenças entre as especificações e o status fazendo uma correção-neste caso, iniciando uma instância de substituição.</p><p>Para mais informações sobre especificações do objeto, status e metadados, veja <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md>Kubernetes API Conventions</a>.</p><h3 id=descrevendo-um-objeto-kubernetes>Descrevendo um objeto Kubernetes</h3><p>Quando se cria um objeto do Kubernetes, deve-se fornecer a especificação do objeto que descreve seu estado desejado, bem como algumas informações básicas sobre o objeto (como um nome, por exemplo). Quando utiliza a API Kubernetes para criar o objeto (diretamente ou via <code>kubectl</code>), essa solicitação de API deve incluir essa informação como JSON no corpo da solicitação. <strong>Na maioria das vezes, você fornece as informações ao comando <code>kubectl</code> em um arquivo .yaml</strong>. O comando<code>kubectl</code> converte a informação para JSON ao fazer a requisição para a API.</p><p>Aqui está um exemplo de arquivo <code>.yaml</code> que mostra os campos necessários e as especificações de objeto para uma implatação Kubernetes:</p><div class=highlight><div class=copy-code-icon style=text-align:right><a href=https://raw.githubusercontent.com/kubernetes/website/main/content/pt-br/examples/application/deployment.yaml download=application/deployment.yaml><code>application/deployment.yaml</code></a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick='copyCode("application-deployment-yaml")' title="Copy application/deployment.yaml to clipboard"></img></div><div class=includecode id=application-deployment-yaml><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apps/v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Deployment<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx-deployment<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>selector</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchLabels</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>replicas</span>:<span style=color:#bbb> </span><span style=color:#666>2</span><span style=color:#bbb> </span><span style=color:#080;font-style:italic># diz ao deployment para executar 2 pods que correspondam ao modelo</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>template</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>containers</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>image</span>:<span style=color:#bbb> </span>nginx:1.14.2<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>ports</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span>- <span style=color:green;font-weight:700>containerPort</span>:<span style=color:#bbb> </span><span style=color:#666>80</span><span style=color:#bbb>
</span></span></span></code></pre></div></div></div><p>Uma maneira de criar um Deployment usando um arquivo <code>.yaml</code> como o representado acima é usar o comando <a href=/docs/reference/generated/kubectl/kubectl-commands#apply><code>kubectl apply</code></a> na interface de linha de comando <code>kubectl</code>, passando o arquivo <code>.yaml</code> como argumento. Aqui está um exemplo:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl apply -f https://k8s.io/examples/application/deployment.yaml
</span></span></code></pre></div><p>A saída será similar a esta:</p><pre tabindex=0><code>deployment.apps/nginx-deployment created
</code></pre><h3 id=campos-obrigatórios>Campos obrigatórios</h3><p>No arquivo <code>.yaml</code> para o objeto Kubernetes que pretende criar, você precisará definir valores para os seguintes campos:</p><ul><li><code>apiVersion</code> - Qual a versão de API do objeto que será usado no Kubernetes para criar esse objeto.</li><li><code>kind</code> - Qual tipo de objeto pretende criar.</li><li><code>metadata</code> - Dados que ajudam a identificar de forma única o objeto, incluindo uma string <code>nome</code>, <code>UID</code> e um <code>namespace</code>.</li><li><code>spec</code> - Que estado deseja para o objeto.</li></ul><p>O formato preciso do objeto <code>spec</code> é diferente para cada objeto Kubernetes, e contém campos aninhados específicos para aquele objeto. A documentação de <a href=/docs/reference/kubernetes-api/>referência da API do Kubernetes</a> pode ajudar a encontrar o formato de especificação para todos os objetos que você pode criar usando Kubernetes.</p><p>Por exemplo, veja o campo de <a href=/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodSpec><code>spec</code> field</a> para a referência Pod API.
Para cada Pod, o campo <code>.spec</code> especifica o pod e seu estado desejado (como o nome da imagem do contêiner para cada recipiente dentro daquela cápsula).
Outro exemplo de especificação de um objeto é o
<a href=/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetSpec>campo <code>spec</code> </a>.
Para o StatefulSet, o campo <code>.spec</code> especifica o StatefulSet e seu estado desejado.
Dentro do <code>.spec</code> de um StatefulSet está um <a href=/docs/concepts/workloads/pods/#pod-templates>template</a>
para objetos de Pod. Esse modelo descreve os Pods que o controlador StatefulSet criará para
satisfazer a especificação do StatefulSet. Diferentes tipos de objetos também podem ter diferentes
<code>.status</code>; novamente, as páginas de referência API detalham a estrutura daquele campo <code>.status</code>,
e seu conteúdo para cada tipo diferente de objeto.</p><h2 id=próximos-passos>Próximos passos</h2><p>Aprenda sobre os mais importantes objetos básicos Kubernetes, como o <a href=/docs/concepts/workloads/pods>Pod</a>.
Aprenda sobre as <a href=/docs/concepts/architecture/controller/>controladoras</a> do Kubernetes.
<a href=/docs/reference/using-api>Usando a API Kubernetes</a> explica mais alguns conceitos da API.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-f37749a83c2916b63279ea60f3cfe53e>2 - Nomes de objetos e IDs</h1><p>Cada objeto em seu cluster possui um <a href=#names><em>Nome</em></a> que é único para aquele
tipo de recurso.
Todo objeto do Kubernetes também possui um <a href=#uids><em>UID</em></a> que é único para todo
o cluster.</p><p>Por exemplo, você pode ter apenas um Pod chamado <code>myapp-1234</code> dentro de um
<a href=/pt-br/docs/concepts/overview/working-with-objects/namespaces/>namespace</a>, porém
você pode ter um Pod e um Deployment ambos com o nome <code>myapp-1234</code>.</p><p>Para atributos não-únicos definidos pelo usuário, o Kubernetes fornece
<a href=/docs/concepts/overview/working-with-objects/labels/>labels</a> e
<a href=/docs/concepts/overview/working-with-objects/annotations/>annotations</a>.</p><h2 id=names>Nomes</h2><p>Uma string fornecida pelo cliente que referencia um objeto em uma URL de
recurso, como por exemplo <code>/api/v1/pods/qualquer-nome</code>.</p><p>Somente um objeto de um dado tipo pode ter um certo nome por vez. No entanto,
se você remover o objeto, você poderá criar um novo objeto com o mesmo nome.</p><div class="alert alert-info note callout" role=alert><strong>Nota:</strong> Em casos em que objetos representam uma entidade física, como no caso de um Nó
representando um host físico, caso o host seja recriado com o mesmo nome mas o
objeto Nó não seja recriado, o Kubernetes trata o novo host como o host antigo,
o que pode causar inconsistências.</div><p>Abaixo estão descritos quatro tipos de restrições de nomes comumente utilizadas
para recursos.</p><h3 id=dns-subdomain-names>Nomes de subdomínio DNS</h3><p>A maior parte dos recursos do Kubernetes requerem um nome que possa ser
utilizado como um nome de subdomínio DNS, conforme definido na
<a href=https://tools.ietf.org/html/rfc1123>RFC 1123</a>.
Isso significa que o nome deve:</p><ul><li>conter no máximo 253 caracteres</li><li>conter somente caracteres alfanuméricos em caixa baixa, traço ('-') ou ponto
('.').</li><li>iniciar com um caractere alfanumérico</li><li>terminar com um caractere alfanumérico</li></ul><h3 id=dns-label-names>Nomes de rótulos da RFC 1123</h3><p>Alguns tipos de recurso requerem que seus nomes sigam o padrão de rótulos DNS
definido na <a href=https://tools.ietf.org/html/rfc1123>RFC 1123</a>.
Isso significa que o nome deve:</p><ul><li>conter no máximo 63 caracteres</li><li>conter somente caracteres alfanuméricos em caixa baixa ou traço ('-')</li><li>iniciar com um caractere alfanumérico</li><li>terminar com um caractere alfanumérico</li></ul><h3 id=nomes-de-rótulo-da-rfc-1035>Nomes de rótulo da RFC 1035</h3><p>Alguns tipos de recurso requerem que seus nomes sigam o padrão de rótulos DNS
definido na <a href=https://tools.ietf.org/html/rfc1035>RFC 1035</a>.
Isso significa que o nome deve:</p><ul><li>conter no máximo 63 caracteres</li><li>conter somente caracteres alfanuméricos em caixa baixa ou traço ('-')</li><li>iniciar com um caractere alfanumérico</li><li>terminar com um caractere alfanumérico</li></ul><h3 id=nomes-de-segmentos-de-caminhos>Nomes de segmentos de caminhos</h3><p>Alguns tipos de recurso requerem que seus nomes possam ser seguramente
codificados como um segmento de caminho, ou seja, o nome não pode ser "." ou
".." e não pode conter "/" ou "%".</p><p>Exemplo de um manifesto para um Pod chamado <code>nginx-demo</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Pod<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx-demo<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>containers</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>image</span>:<span style=color:#bbb> </span>nginx:1.7.9<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>ports</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>containerPort</span>:<span style=color:#bbb> </span><span style=color:#666>80</span><span style=color:#bbb>
</span></span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>Nota:</strong> Alguns tipos de recursos possuem restrições adicionais em seus nomes.</div><h2 id=uids>UIDs</h2><p>Uma string gerada pelos sistemas do Kubernetes para identificar objetos de
forma única.</p><p>Cada objeto criado durante todo o ciclo de vida do cluster do Kubernetes possui
um UID distinto. O objetivo deste identificador é distinguir ocorrências
históricas de entidades semelhantes.</p><p>UIDs no Kubernetes são identificadores únicos universais (também conhecidos como
UUIDs).
UUIDs seguem os padrões ISO/IEC 9834-8 e ITU-T X.667.</p><h2 id=próximos-passos>Próximos passos</h2><ul><li>Leia sobre <a href=/docs/concepts/overview/working-with-objects/labels/>labels</a> no Kubernetes.</li><li>Consulte o documento de design <a href=https://git.k8s.io/design-proposals-archive/architecture/identifiers.md>Identifiers and Names in Kubernetes</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1127165f472b7181b9c1d5a0b187d620>3 - Namespaces</h1><p>No Kubernetes, <em>namespaces</em> disponibilizam um mecanismo para isolar grupos de recursos dentro de um único cluster. Nomes de recursos precisam ser únicos dentro de um namespace, porém podem se repetir em diferentes namespaces. Escopos baseados em namespaces são aplicáveis apenas para objetos com namespace <em>(como: Deployments, Services, etc)</em> e não em objetos que abrangem todo o cluster <em>(como: StorageClass, Nodes, PersistentVolumes, etc)</em>.</p><h2 id=quando-utilizar-múltiplos-namespaces>Quando Utilizar Múltiplos Namespaces</h2><p>Namespaces devem ser utilizados em ambientes com múltiplos usuários espalhados por diversos times ou projetos. Para clusters com poucos ou até algumas dezenas de usuários, você não deveria precisar criar ou pensar a respeito de namespaces. Comece a utilizar namespaces quando você precisar das funcionalidades que eles oferecem.</p><p>Namespaces oferecem escopo para nomes. Nomes de recursos precisam ser únicos dentro de um namespace, porém não em diferentes namespaces. Namespaces não podem ser aninhados dentro de outros namespaces e cada recurso Kubernetes pode pertencer à apenas um namespace.</p><p>Namespaces nos permitem dividir os recursos do cluster entre diferentes usuários (via <a href=/docs/concepts/policy/resource-quotas/>resource quota</a>).</p><p>Não é necessário utilizar múltiplos namespaces para separar recursos levemente diferentes, como diferentes versões de um mesmo software: use <a class=glossary-tooltip title='Tags objects with identifying attributes that are meaningful and relevant to users.' data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels target=_blank aria-label=labels>labels</a> para distinguir recursos dentro de um mesmo namespace.</p><h2 id=trabalhando-com-namespaces>Trabalhando com Namespaces</h2><p>Criação e eliminação de namespaces estão descritas na
<a href=/docs/tasks/administer-cluster/namespaces>documentação de namespaces do guia de administradores</a>.</p><div class="alert alert-info note callout" role=alert><strong>Nota:</strong> Evite criar namespaces com o prefixo <code>kube-</code>, já que este prefixo é reservado para namespaces do sistema Kubernetes.</div><h3 id=visualizando-namespaces>Visualizando namespaces</h3><p>Você pode obter uma lista dos namespaces atuais dentro de um cluster com:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get namespace
</span></span></code></pre></div><pre tabindex=0><code>NAME              STATUS   AGE
default           Active   1d
kube-node-lease   Active   1d
kube-public       Active   1d
kube-system       Active   1d
</code></pre><p>O Kubernetes é inicializado com quatro namespaces:</p><ul><li><code>default</code> O namespace padrão para objetos sem namespace</li><li><code>kube-system</code> O namespace para objetos criados pelo sistema Kubernetes</li><li><code>kube-public</code> Este namespace é criado automaticamente e é legível por todos os usuários (incluindo usuários não autenticados). Este namespace é reservado principalmente para uso do cluster, no caso de alguns recursos que precisem ser visíveis e legíveis publicamente por todo o cluster. O aspecto público deste namespace é apenas uma convenção, não um requisito.</li><li><code>kube-node-lease</code> Este namespace contém os objetos de <a href=/docs/reference/kubernetes-api/cluster-resources/lease-v1/>Lease</a> associados com cada node. Node leases permitem que o kubelet envie <a href=/docs/concepts/architecture/nodes/#heartbeats>heartbeats</a> para que a camada de gerenciamento detecte falhas nos nodes.</li></ul><h3 id=preparando-o-namespace-para-uma-requisição>Preparando o namespace para uma requisição</h3><p>Para preparar o namespace para a requisição atual, utilize o parâmetro <code>--namespace</code>. Por exemplo:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl run nginx --image<span style=color:#666>=</span>nginx --namespace<span style=color:#666>=</span>&lt;insert-namespace-name-here&gt;
</span></span><span style=display:flex><span>kubectl get pods --namespace<span style=color:#666>=</span>&lt;insert-namespace-name-here&gt;
</span></span></code></pre></div><h3 id=configurando-a-preferência-de-namespaces>Configurando a preferência de namespaces</h3><p>Você pode salvar permanentemente o namespace para todos os comandos <code>kubectl</code> subsequentes no mesmo contexto:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl config set-context --current --namespace<span style=color:#666>=</span>&lt;insert-namespace-name-here&gt;
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Validando</span>
</span></span><span style=display:flex><span>kubectl config view --minify | grep namespace:
</span></span></code></pre></div><h2 id=namespaces-e-dns>Namespaces e DNS</h2><p>Quando você cria um <a href=/docs/concepts/services-networking/service/>Serviço</a>, ele cria uma
<a href=/docs/concepts/services-networking/dns-pod-service/>entrada DNS</a> correspondente.
Esta entrada possui o formato: <code>&lt;service-name>.&lt;namespace-name>.svc.cluster.local</code>, de forma que se um contêiner utilizar apenas <code>&lt;service-name></code> ele será resolvido para um serviço que é local ao namespace.
Isso é útil para utilizar a mesma configuração em vários namespaces, por exemplo em Desenvolvimento, <code>Staging</code> e Produção. Se você quiser acessar múltiplos namespaces, precisará utilizar um <em>Fully Qualified Domain Name</em> (FQDN).</p><h2 id=nem-todos-os-objetos-pertencem-a-algum-namespace>Nem todos os objetos pertencem a algum Namespace</h2><p>A maior parte dos recursos Kubernetes (como Pods, Services, controladores de replicação e outros) pertencem a algum namespace. Entretanto, recursos de namespaces não pertencem a nenhum namespace. Além deles, recursos de baixo nível, como <a href=/docs/concepts/architecture/nodes/>nodes</a> e persistentVolumes, também não pertencem a nenhum namespace.</p><p>Para visualizar quais recursos Kubernetes pertencem ou não a algum namespace, utilize:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#080;font-style:italic># Em um namespace</span>
</span></span><span style=display:flex><span>kubectl api-resources --namespaced<span style=color:#666>=</span><span style=color:#a2f>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Sem namespace</span>
</span></span><span style=display:flex><span>kubectl api-resources --namespaced<span style=color:#666>=</span><span style=color:#a2f>false</span>
</span></span></code></pre></div><h2 id=rotulamento-automático>Rotulamento Automático</h2><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes 1.21 [beta]</code></div><p>A camada de gerenciamento Kubernetes configura um <a class=glossary-tooltip title='Tags objects with identifying attributes that are meaningful and relevant to users.' data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels target=_blank aria-label=label>label</a> imutável <code>kubernetes.io/metadata.name</code> em todos os namespaces se a
<a href=/docs/reference/command-line-tools-reference/feature-gates/>feature gate</a>
<code>NamespaceDefaultLabelName</code> estiver habilitada. O valor do label é o nome do namespace.</p><h2 id=próximos-passos>Próximos passos</h2><ul><li>Leia sobre <a href=/docs/tasks/administer-cluster/namespaces/#creating-a-new-namespace>a criação de um novo namespace</a>.</li><li>Leia sobre <a href=/docs/tasks/administer-cluster/namespaces/#deleting-a-namespace>a eliminação de um namespace</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-046c03090d47bc4b89b818dc645c3865>4 - Seletores de Campos</h1><p>Os <em>Seletores de Campos</em> permitem que você <a href=/docs/concepts/overview/working-with-objects/kubernetes-objects>selecione recursos do Kubernetes</a> baseado no valor de um ou mais campos de um recurso. Seguem alguns exemplos de buscas utilizando seletores de campos:</p><ul><li><code>metadata.name=my-service</code></li><li><code>metadata.namespace!=default</code></li><li><code>status.phase=Pending</code></li></ul><p>O comando <code>kubectl</code>, mostrado a seguir, seleciona todos os Pods nos quais o valor do campo <a href=/docs/concepts/workloads/pods/pod-lifecycle/#pod-phase><code>status.phase</code></a> é <code>Running</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get pods --field-selector status.phase<span style=color:#666>=</span>Running
</span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>Nota:</strong> Seletores de campos são essencialmente <em>filtros</em> de recursos. Por padrão, nenhum seletor/filtro é aplicado, de forma que todos os recursos do tipo especificado são selecionados. Isso faz com que as seguintes pesquisas utilizando <code>kubectl</code> sejam equivalentes: <code>kubectl get pods</code> e <code>kubectl get pods --field-selector ""</code></div><h2 id=campos-suportados>Campos suportados</h2><p>Os campos de seleção suportados variam dependendo do tipo de recurso Kubernetes. Todos os tipos de recursos suportam os campos <code>metadata.name</code> e <code>metadata.namespace</code>. Utilizar campos não suportados produz um erro. Como por exemplo:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get ingress --field-selector foo.bar<span style=color:#666>=</span>baz
</span></span></code></pre></div><pre tabindex=0><code>Error from server (BadRequest): Unable to find &#34;ingresses&#34; that match label selector &#34;&#34;, field selector &#34;foo.bar=baz&#34;: &#34;foo.bar&#34; is not a known field selector: only &#34;metadata.name&#34;, &#34;metadata.namespace&#34;
</code></pre><h2 id=operadores-suportados>Operadores suportados</h2><p>Você pode utilizar os operadores <code>=</code>, <code>==</code> e <code>!=</code> com seletores de campos (<code>=</code> e <code>==</code> significam a mesma coisa). Por exemplo, o comando <code>kubectl</code> a seguir seleciona todos os Kubernetes Services que não estão no namespace <code>default</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get services  --all-namespaces --field-selector metadata.namespace!<span style=color:#666>=</span>default
</span></span></code></pre></div><h2 id=seletores-em-cadeia>Seletores em cadeia</h2><p>Assim como <a href=/docs/concepts/overview/working-with-objects/labels>label</a> e outros tipos de seletores, podem ser utilizados em cadeia através de uma lista separada por vírgula. O comando <code>kubectl</code> a seguir seleciona todos os Pods nos quais <code>status.phase</code> não é igual a <code>Running</code> e <code>spec.restartPolicy</code> é igual a <code>Always</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get pods --field-selector<span style=color:#666>=</span>status.phase!<span style=color:#666>=</span>Running,spec.restartPolicy<span style=color:#666>=</span>Always
</span></span></code></pre></div><h2 id=múltiplos-tipos-de-recursos>Múltiplos tipos de recursos</h2><p>Você pode utilizar seletores de campos através de múltiplos tipos de recursos. Por exemplo, o comando <code>kubectl</code> a seguir seleciona todos Statefulsets e Services que não estão presentes no namespace <code>default</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get statefulsets,services --all-namespaces --field-selector metadata.namespace!<span style=color:#666>=</span>default
</span></span></code></pre></div></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/pt-br/docs/home/>Home</a>
<a class=text-white href=/pt-br/blog/>Blog</a>
<a class=text-white href=/pt-br/partners/>Parceiros</a>
<a class=text-white href=/pt-br/community/>Comunidade</a>
<a class=text-white href=/pt-br/case-studies/>Casos de estudo</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 Os autores do Kubernetes | Documentação Distribuída sob <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 A Fundação Linux &reg;. Todos os direitos reservados. A Linux Foundation tem marcas registradas e usa marcas registradas. Para uma lista de marcas registradas da The Linux Foundation, por favor, veja nossa <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Página de uso de marca registrada</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>