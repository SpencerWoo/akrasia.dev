<!doctype html><html lang=vi class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=pt-br href=https://kubernetes.io/pt-br/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=id href=https://kubernetes.io/id/docs/reference/kubectl/cheatsheet/><link rel=alternate hreflang=ru href=https://kubernetes.io/ru/docs/reference/kubectl/cheatsheet/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>kubectl Cheat Sheet | Kubernetes</title><meta property="og:title" content="kubectl Cheat Sheet"><meta property="og:description" content="Xem thêm: Kubectl Overview và JsonPath Guide.
Trang này là trang tổng quan của lệnh kubectl.
kubectl - Cheat Sheet Kubectl Autocomplete BASH source <(kubectl completion bash) # thiết lập autocomplete trong bash vào shell hiện tại, gói bash-completion nên được cài đặt trước tiên echo &#34;source <(kubectl completion bash)&#34; >> ~/.bashrc # thêm vĩnh viễn autocomplete vào trong bash shell Bạn có thể dùng một alias cho kubectl cũng hoạt động với completion:"><meta property="og:type" content="article"><meta property="og:url" content="https://kubernetes.io/vi/docs/reference/kubectl/cheatsheet/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-03-15T00:29:41+02:00"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="kubectl Cheat Sheet"><meta itemprop=description content="Xem thêm: Kubectl Overview và JsonPath Guide.
Trang này là trang tổng quan của lệnh kubectl.
kubectl - Cheat Sheet Kubectl Autocomplete BASH source <(kubectl completion bash) # thiết lập autocomplete trong bash vào shell hiện tại, gói bash-completion nên được cài đặt trước tiên echo &#34;source <(kubectl completion bash)&#34; >> ~/.bashrc # thêm vĩnh viễn autocomplete vào trong bash shell Bạn có thể dùng một alias cho kubectl cũng hoạt động với completion:"><meta itemprop=dateModified content="2021-03-15T00:29:41+02:00"><meta itemprop=wordCount content="2535"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="kubectl Cheat Sheet"><meta name=twitter:description content="Xem thêm: Kubectl Overview và JsonPath Guide.
Trang này là trang tổng quan của lệnh kubectl.
kubectl - Cheat Sheet Kubectl Autocomplete BASH source <(kubectl completion bash) # thiết lập autocomplete trong bash vào shell hiện tại, gói bash-completion nên được cài đặt trước tiên echo &#34;source <(kubectl completion bash)&#34; >> ~/.bashrc # thêm vĩnh viễn autocomplete vào trong bash shell Bạn có thể dùng một alias cho kubectl cũng hoạt động với completion:"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="Xem thêm: Kubectl Overview và JsonPath Guide.
Trang này là trang tổng quan của lệnh kubectl.
kubectl - Cheat Sheet Kubectl Autocomplete BASH source <(kubectl completion bash) # thiết lập autocomplete trong bash vào shell hiện tại, gói bash-completion nên được cài đặt trước tiên echo &#34;source <(kubectl completion bash)&#34; >> ~/.bashrc # thêm vĩnh viễn autocomplete vào trong bash shell Bạn có thể dùng một alias cho kubectl cũng hoạt động với completion:"><meta property="og:description" content="Xem thêm: Kubectl Overview và JsonPath Guide.
Trang này là trang tổng quan của lệnh kubectl.
kubectl - Cheat Sheet Kubectl Autocomplete BASH source <(kubectl completion bash) # thiết lập autocomplete trong bash vào shell hiện tại, gói bash-completion nên được cài đặt trước tiên echo &#34;source <(kubectl completion bash)&#34; >> ~/.bashrc # thêm vĩnh viễn autocomplete vào trong bash shell Bạn có thể dùng một alias cho kubectl cũng hoạt động với completion:"><meta name=twitter:description content="Xem thêm: Kubectl Overview và JsonPath Guide.
Trang này là trang tổng quan của lệnh kubectl.
kubectl - Cheat Sheet Kubectl Autocomplete BASH source <(kubectl completion bash) # thiết lập autocomplete trong bash vào shell hiện tại, gói bash-completion nên được cài đặt trước tiên echo &#34;source <(kubectl completion bash)&#34; >> ~/.bashrc # thêm vĩnh viễn autocomplete vào trong bash shell Bạn có thể dùng một alias cho kubectl cũng hoạt động với completion:"><meta property="og:url" content="https://kubernetes.io/vi/docs/reference/kubectl/cheatsheet/"><meta property="og:title" content="kubectl Cheat Sheet"><meta name=twitter:title content="kubectl Cheat Sheet"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><title>kubectl Cheat Sheet | Kubernetes</title></head><body class="td-page td-documentation"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/vi/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/vi/docs/>Tài liệu</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/vi/blog/>Kubernetes Blog</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/vi/partners/>Các đối tác</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/vi/community/>Community</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/vi/case-studies/>Các Case Study</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versions</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/vi/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/vi/docs/reference/kubectl/cheatsheet/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/vi/docs/reference/kubectl/cheatsheet/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/vi/docs/reference/kubectl/cheatsheet/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/vi/docs/reference/kubectl/cheatsheet/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/vi/docs/reference/kubectl/cheatsheet/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Tiếng Việt (Vietnamese)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/reference/kubectl/cheatsheet/>English</a>
<a class=dropdown-item href=/zh-cn/docs/reference/kubectl/cheatsheet/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/reference/kubectl/cheatsheet/>한국어 (Korean)</a>
<a class=dropdown-item href=/ja/docs/reference/kubectl/cheatsheet/>日本語 (Japanese)</a>
<a class=dropdown-item href=/fr/docs/reference/kubectl/cheatsheet/>Français (French)</a>
<a class=dropdown-item href=/de/docs/reference/kubectl/cheatsheet/>Deutsch (German)</a>
<a class=dropdown-item href=/pt-br/docs/reference/kubectl/cheatsheet/>Português (Portuguese)</a>
<a class=dropdown-item href=/id/docs/reference/kubectl/cheatsheet/>Bahasa Indonesia</a>
<a class=dropdown-item href=/ru/docs/reference/kubectl/cheatsheet/>Русский (Russian)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav><section class="header-hero filler"></section></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-md-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><script>$(function(){$("#td-section-nav a").removeClass("active"),$("#td-section-nav #m-vi-docs-reference-kubectl-cheatsheet").addClass("active"),$("#td-section-nav #m-vi-docs-reference-kubectl-cheatsheet-li span").addClass("td-sidebar-nav-active-item"),$("#td-section-nav #m-vi-docs-reference-kubectl-cheatsheet").parents("li").addClass("active-path"),$("#td-section-nav li.active-path").addClass("show"),$("#td-section-nav li.active-path").children("input").prop("checked",!0),$("#td-section-nav #m-vi-docs-reference-kubectl-cheatsheet-li").siblings("li").addClass("show"),$("#td-section-nav #m-vi-docs-reference-kubectl-cheatsheet-li").children("ul").children("li").addClass("show"),$("#td-sidebar-menu").toggleClass("d-none")})</script><div id=td-sidebar-menu class="td-sidebar__inner d-none"><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" name=q placeholder="&#xf002 Tìm kiếm" aria-label="Tìm kiếm" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-vi-docs-li><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-vi-docs-reference-glossary-li><input type=checkbox id=m-vi-docs-reference-glossary-check>
<label for=m-vi-docs-reference-glossary-check><a href=/vi/docs/reference/glossary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-vi-docs-reference-glossary><span>Thuật ngữ chuẩn hóa</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-vi-docs-home-li><input type=checkbox id=m-vi-docs-home-check>
<label for=m-vi-docs-home-check><a href=/vi/docs/home/ title="Tài liệu Kubernetes" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-vi-docs-home><span>Home</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-vi-docs-home-supported-doc-versions-li><input type=checkbox id=m-vi-docs-home-supported-doc-versions-check>
<label for=m-vi-docs-home-supported-doc-versions-check><a href=/vi/docs/home/supported-doc-versions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-vi-docs-home-supported-doc-versions><span>Các phiên bản được hỗ trợ của tài liệu Kubernetes</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-vi-docs-reference-kubectl-cheatsheet-li><input type=checkbox id=m-vi-docs-reference-kubectl-cheatsheet-check>
<label for=m-vi-docs-reference-kubectl-cheatsheet-check><a href=/vi/docs/reference/kubectl/cheatsheet/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-vi-docs-reference-kubectl-cheatsheet><span>kubectl Cheat Sheet</span></a></label></li></ul></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://kubernetes.io/vi/docs/>Tài liệu</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://kubernetes.io/vi/docs/reference/kubectl/cheatsheet/>kubectl Cheat Sheet</a></li></ol></nav><div class=td-content><h1>kubectl Cheat Sheet</h1><p>Xem thêm: <a href=/docs/reference/kubectl/overview/>Kubectl Overview</a> và <a href=/docs/reference/kubectl/jsonpath>JsonPath Guide</a>.</p><p>Trang này là trang tổng quan của lệnh <code>kubectl</code>.</p><h1 id=kubectl-cheat-sheet>kubectl - Cheat Sheet</h1><h2 id=kubectl-autocomplete>Kubectl Autocomplete</h2><h3 id=bash>BASH</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>source</span> &lt;<span style=color:#666>(</span>kubectl completion bash<span style=color:#666>)</span> <span style=color:#080;font-style:italic># thiết lập autocomplete trong bash vào shell hiện tại, gói bash-completion nên được cài đặt trước tiên </span>
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;source &lt;(kubectl completion bash)&#34;</span> &gt;&gt; ~/.bashrc <span style=color:#080;font-style:italic># thêm vĩnh viễn autocomplete vào trong bash shell</span>
</span></span></code></pre></div><p>Bạn có thể dùng một alias cho <code>kubectl</code> cũng hoạt động với completion:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>alias</span> <span style=color:#b8860b>k</span><span style=color:#666>=</span>kubectl
</span></span><span style=display:flex><span><span style=color:#a2f>complete</span> -F __start_kubectl k
</span></span></code></pre></div><h3 id=zsh>ZSH</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>source</span> &lt;<span style=color:#666>(</span>kubectl completion zsh<span style=color:#666>)</span>  <span style=color:#080;font-style:italic># thiết lập autocomplete trong zsh vào shell hiện tại</span>
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;if [ </span><span style=color:#b8860b>$commands</span><span style=color:#b44>[kubectl] ]; then source &lt;(kubectl completion zsh); fi&#34;</span> &gt;&gt; ~/.zshrc <span style=color:#080;font-style:italic># thêm vĩnh viễn autocomplete vào trong zsh shell</span>
</span></span></code></pre></div><h2 id=ngữ-cảnh-và-cấu-hình-kubectl>Ngữ cảnh và cấu hình kubectl</h2><p>Thiết lập cụm Kubernetes nào mà <code>kubectl</code> sẽ giao tiếp với và sửa đổi thông tin cấu hình.
Xem tài liệu <a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>Xác thực giữa các cụm với kubeconfig</a>
để biết thông tin chi tiết của tệp cấu hình.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl config view <span style=color:#080;font-style:italic># Hiển thị các thiết lập kubeconfig đã được merged</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># sử dụng nhiều tệp kubeconfig cùng một lúc và xem cấu hình hợp nhất</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>KUBECONFIG</span><span style=color:#666>=</span>~/.kube/config:~/.kube/kubconfig2 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl config view
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># lấy mật khẩu cho người dùng e2e</span>
</span></span><span style=display:flex><span>kubectl config view -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.users[?(@.name == &#34;e2e&#34;)].user.password}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl config view -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.users[].name}&#39;</span>    <span style=color:#080;font-style:italic># hiển thị người dùng đầu tiên  </span>
</span></span><span style=display:flex><span>kubectl config view -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.users[*].name}&#39;</span>   <span style=color:#080;font-style:italic># lấy danh sách người dùng  </span>
</span></span><span style=display:flex><span>kubectl config get-contexts                          <span style=color:#080;font-style:italic># hiển thị danh sách các ngữ cảnh </span>
</span></span><span style=display:flex><span>kubectl config current-context                       <span style=color:#080;font-style:italic># hiển thị ngữ cảnh hiện tại</span>
</span></span><span style=display:flex><span>kubectl config use-context my-cluster-name           <span style=color:#080;font-style:italic># thiết lập ngữ cảnh mặc định cho my-cluster-name</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># thêm một cụm mới vào kubeconf hỗ trợ xác thực cơ bản</span>
</span></span><span style=display:flex><span>kubectl config set-credentials kubeuser/foo.kubernetes.com --username<span style=color:#666>=</span>kubeuser --password<span style=color:#666>=</span>kubepassword
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># lưu vĩnh viễn namespace cho tất cả các lệnh kubectl tiếp theo trong ngữ cảnh đó</span>
</span></span><span style=display:flex><span>kubectl config set-context --current --namespace<span style=color:#666>=</span>ggckad-s2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># thiết lập ngữ cảnh sử dụng tên người dùng và namespace cụ thể</span>
</span></span><span style=display:flex><span>kubectl config set-context gce --user<span style=color:#666>=</span>cluster-admin --namespace<span style=color:#666>=</span>foo <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>  <span style=color:#666>&amp;&amp;</span> kubectl config use-context gce
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>kubectl config <span style=color:#a2f>unset</span> users.foo                       <span style=color:#080;font-style:italic># xóa người dùng foo</span>
</span></span></code></pre></div><h2 id=apply>Apply</h2><p><code>apply</code> quản lý các ứng dụng thông qua các tệp định nghĩa tài nguyên Kubernetes. Nó tạo và cập nhật các tài nguyên trong một cụm thông qua việc chạy <code>kubectl apply</code>. Đây là cách được đề xuất để quản lý các ứng dụng Kubernetes trong thực tế. Xem thêm <a href=https://kubectl.docs.kubernetes.io>Kubectl Book</a>.</p><h2 id=tạo-một-đối-tượng>Tạo một đối tượng</h2><p>Kubernetes manifests có thể được định nghĩa trong tệp json hoặc yaml. Phần mở rộng <code>.yaml</code>,
<code>.yml</code>, và <code>.json</code> có thể được dùng.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f ./my-manifest.yaml            <span style=color:#080;font-style:italic># tạo tài nguyên</span>
</span></span><span style=display:flex><span>kubectl apply -f ./my1.yaml -f ./my2.yaml      <span style=color:#080;font-style:italic># tạo từ nhiều tệp</span>
</span></span><span style=display:flex><span>kubectl apply -f ./dir                         <span style=color:#080;font-style:italic># tạo tài nguyên từ tất cả các tệp manifest trong thư mục dir</span>
</span></span><span style=display:flex><span>kubectl apply -f https://git.io/vPieo          <span style=color:#080;font-style:italic># tạo tài nguyên từ url</span>
</span></span><span style=display:flex><span>kubectl create deployment nginx --image<span style=color:#666>=</span>nginx  <span style=color:#080;font-style:italic># tạo một deployment nginx</span>
</span></span><span style=display:flex><span>kubectl explain pods,svc                       <span style=color:#080;font-style:italic># lấy thông tin pod và service manifest</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Tạo nhiều đối tượng YAML từ stdin</span>
</span></span><span style=display:flex><span>cat <span style=color:#b44>&lt;&lt;EOF | kubectl apply -f -
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: Pod
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name: busybox-sleep
</span></span></span><span style=display:flex><span><span style=color:#b44>spec:
</span></span></span><span style=display:flex><span><span style=color:#b44>  containers:
</span></span></span><span style=display:flex><span><span style=color:#b44>  - name: busybox
</span></span></span><span style=display:flex><span><span style=color:#b44>    image: busybox
</span></span></span><span style=display:flex><span><span style=color:#b44>    args:
</span></span></span><span style=display:flex><span><span style=color:#b44>    - sleep
</span></span></span><span style=display:flex><span><span style=color:#b44>    - &#34;1000000&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>---
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: Pod
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name: busybox-sleep-less
</span></span></span><span style=display:flex><span><span style=color:#b44>spec:
</span></span></span><span style=display:flex><span><span style=color:#b44>  containers:
</span></span></span><span style=display:flex><span><span style=color:#b44>  - name: busybox
</span></span></span><span style=display:flex><span><span style=color:#b44>    image: busybox
</span></span></span><span style=display:flex><span><span style=color:#b44>    args:
</span></span></span><span style=display:flex><span><span style=color:#b44>    - sleep
</span></span></span><span style=display:flex><span><span style=color:#b44>    - &#34;1000&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Tạo một secret với một số keys</span>
</span></span><span style=display:flex><span>cat <span style=color:#b44>&lt;&lt;EOF | kubectl apply -f -
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: Secret
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name: mysecret
</span></span></span><span style=display:flex><span><span style=color:#b44>type: Opaque
</span></span></span><span style=display:flex><span><span style=color:#b44>data:
</span></span></span><span style=display:flex><span><span style=color:#b44>  password: $(echo -n &#34;s33msi4&#34; | base64 -w0)
</span></span></span><span style=display:flex><span><span style=color:#b44>  username: $(echo -n &#34;jane&#34; | base64 -w0)
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span></code></pre></div><h2 id=xem-tìm-các-tài-nguyên>Xem, tìm các tài nguyên</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># Lệnh get với một số đầu ra cơ bản</span>
</span></span><span style=display:flex><span>kubectl get services                          <span style=color:#080;font-style:italic># Liệt kê tất cả các services trong namespace</span>
</span></span><span style=display:flex><span>kubectl get pods --all-namespaces             <span style=color:#080;font-style:italic># Liệt kê tất cả các pods trong tất cả các namespaces</span>
</span></span><span style=display:flex><span>kubectl get pods -o wide                      <span style=color:#080;font-style:italic># Liệt kê tất cả các pods namespace, với nhiều thông tin hơn</span>
</span></span><span style=display:flex><span>kubectl get deployment my-dep                 <span style=color:#080;font-style:italic># Liệt kê một deployment cụ thể</span>
</span></span><span style=display:flex><span>kubectl get pods                              <span style=color:#080;font-style:italic># Liệt kê tất cả các pods trong namespace</span>
</span></span><span style=display:flex><span>kubectl get pod my-pod -o yaml                <span style=color:#080;font-style:italic># Lấy thông tin của một pod ở dạng YAML</span>
</span></span><span style=display:flex><span>kubectl get pod my-pod -o yaml --export       <span style=color:#080;font-style:italic># Lấy thông tin của một pod ở dạng YAML mà không có thông tin cụ thể về cụm</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Lệnh describe</span>
</span></span><span style=display:flex><span>kubectl describe nodes my-node
</span></span><span style=display:flex><span>kubectl describe pods my-pod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê các services được sắp xếp theo tên</span>
</span></span><span style=display:flex><span>kubectl get services --sort-by<span style=color:#666>=</span>.metadata.name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê các pods được sắp xếp theo số lần khởi động lại</span>
</span></span><span style=display:flex><span>kubectl get pods --sort-by<span style=color:#666>=</span><span style=color:#b44>&#39;.status.containerStatuses[0].restartCount&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê các pods được sắp xếp theo dung lượng trong namespace có tên là test</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl get pods -n <span style=color:#a2f>test</span> --sort-by<span style=color:#666>=</span><span style=color:#b44>&#39;.spec.capacity.storage&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Lấy thông tin phiên bản của tất cả các pods có nhãn app=cassandra</span>
</span></span><span style=display:flex><span>kubectl get pods --selector<span style=color:#666>=</span><span style=color:#b8860b>app</span><span style=color:#666>=</span>cassandra -o <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>  <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.items[*].metadata.labels.version}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê tất cả các worker nodes (sử dụng một selector để loại trừ kết quả có một nhãn</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># có tên &#39;node-role.kubernetes.io/master&#39;  </span>
</span></span><span style=display:flex><span>kubectl get node --selector<span style=color:#666>=</span><span style=color:#b44>&#39;!node-role.kubernetes.io/master&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê tất cả các pods đang chạy trong namespace</span>
</span></span><span style=display:flex><span>kubectl get pods --field-selector<span style=color:#666>=</span>status.phase<span style=color:#666>=</span>Running
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê tất cả các ExternalIPs của tất cả các nodes</span>
</span></span><span style=display:flex><span>kubectl get nodes -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.items[*].status.addresses[?(@.type==&#34;ExternalIP&#34;)].address}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê tên của các pods thuộc về một RC nhất định</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Lệnh &#34;jq&#34; hữu ích cho các chuyển đổi quá mức phức tạp cho jsonpath, xem thêm tại https://stedolan.github.io/jq/</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>sel</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#a2f;font-weight:700>$(</span>kubectl get rc my-rc --output<span style=color:#666>=</span>json | jq -j <span style=color:#b44>&#39;.spec.selector | to_entries | .[] | &#34;\(.key)=\(.value),&#34;&#39;</span><span style=color:#a2f;font-weight:700>)</span>%?<span style=color:#b68;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#a2f;font-weight:700>$(</span>kubectl get pods --selector<span style=color:#666>=</span><span style=color:#b8860b>$sel</span> --output<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>={</span>.items..metadata.name<span style=color:#666>}</span><span style=color:#a2f;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Hiển thị nhãn của tất cả các pods (hoặc các đối tượng Kubernetes khác hỗ trợ gán nhãn)</span>
</span></span><span style=display:flex><span>kubectl get pods --show-labels
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Kiểm tra xem nodes nào đã sẵn sàng</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>JSONPATH</span><span style=color:#666>=</span><span style=color:#b44>&#39;{range .items[*]}{@.metadata.name}:{range @.status.conditions[*]}{@.type}={@.status};{end}{end}&#39;</span> <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span> <span style=color:#666>&amp;&amp;</span> kubectl get nodes -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#34;</span><span style=color:#b8860b>$JSONPATH</span><span style=color:#b44>&#34;</span> | grep <span style=color:#b44>&#34;Ready=True&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê tất cả cá Secrets hiện đang sử dụng bởi một pod</span>
</span></span><span style=display:flex><span>kubectl get pods -o json | jq <span style=color:#b44>&#39;.items[].spec.containers[].env[]?.valueFrom.secretKeyRef.name&#39;</span> | grep -v null | sort | uniq
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Liệt kê tất cả các sự kiện được sắp xếp theo thời gian</span>
</span></span><span style=display:flex><span>kubectl get events --sort-by<span style=color:#666>=</span>.metadata.creationTimestamp
</span></span></code></pre></div><h2 id=cập-nhật-các-tài-nguyên>Cập nhật các tài nguyên</h2><p>Theo như phiên bản 1.11, <code>rolling-update</code> đã không còn được dùng nữa (xem <a href=https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.11.md>CHANGELOG-1.11.md</a>), sử dụng <code>rollout</code> thay thế.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl <span style=color:#a2f>set</span> image deployment/frontend <span style=color:#b8860b>www</span><span style=color:#666>=</span>image:v2               <span style=color:#080;font-style:italic># Cập nhận container &#34;www&#34; của deployment &#34;frontend&#34;, cập nhật image</span>
</span></span><span style=display:flex><span>kubectl rollout <span style=color:#a2f>history</span> deployment/frontend                      <span style=color:#080;font-style:italic># Kiểm tra lịch sử deployment bao gồm các sửa đổi</span>
</span></span><span style=display:flex><span>kubectl rollout undo deployment/frontend                         <span style=color:#080;font-style:italic># Quay trở lại deployment trước đó</span>
</span></span><span style=display:flex><span>kubectl rollout undo deployment/frontend --to-revision<span style=color:#666>=</span><span style=color:#666>2</span>         <span style=color:#080;font-style:italic># Quay trở lại một phiên bản cụ thể</span>
</span></span><span style=display:flex><span>kubectl rollout status -w deployment/frontend                    <span style=color:#080;font-style:italic># Xem trạng thái cập nhật của deployment &#34;frontend&#34; cho đến khi hoàn thành</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># không còn được sử dụng kể từ phiên bản 1.11</span>
</span></span><span style=display:flex><span>kubectl rolling-update frontend-v1 -f frontend-v2.json           <span style=color:#080;font-style:italic># (không dùng nữa) Cập nhật pods của frontend-v1</span>
</span></span><span style=display:flex><span>kubectl rolling-update frontend-v1 frontend-v2 --image<span style=color:#666>=</span>image:v2  <span style=color:#080;font-style:italic># (không dùng nữa) Đổi tên tài nguyên và cập nhật image </span>
</span></span><span style=display:flex><span>kubectl rolling-update frontend --image<span style=color:#666>=</span>image:v2                 <span style=color:#080;font-style:italic># (không dùng nữa) Cập nhật image của pod của frontend</span>
</span></span><span style=display:flex><span>kubectl rolling-update frontend-v1 frontend-v2 --rollback        <span style=color:#080;font-style:italic># (không dùng nữa) Hủy bỏ tiến trình cập nhật hiện tại</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat pod.json | kubectl replace -f -                              <span style=color:#080;font-style:italic># Thay thế một pod dựa trên JSON được truyền vào std</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Buộc thay thế, xóa và sau đó tạo lại tài nguyên, sẽ gây ra sự cố ngưng services</span>
</span></span><span style=display:flex><span>kubectl replace --force -f ./pod.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Tạo một services cho nginx, phục vụ trên công 80 và kết nối đến các container trên cổng 8000</span>
</span></span><span style=display:flex><span>kubectl expose rc nginx --port<span style=color:#666>=</span><span style=color:#666>80</span> --target-port<span style=color:#666>=</span><span style=color:#666>8000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Cập nhật phiên bản image của một container đơn lẻ lên v4 </span>
</span></span><span style=display:flex><span>kubectl get pod mypod -o yaml | sed <span style=color:#b44>&#39;s/\(image: myimage\):.*$/\1:v4/&#39;</span> | kubectl replace -f -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl label pods my-pod new-label<span style=color:#666>=</span>awesome                      <span style=color:#080;font-style:italic># Thêm một nhãn</span>
</span></span><span style=display:flex><span>kubectl annotate pods my-pod icon-url<span style=color:#666>=</span>http://goo.gl/XXBTWq       <span style=color:#080;font-style:italic># Thêm một chú thích</span>
</span></span><span style=display:flex><span>kubectl autoscale deployment foo --min<span style=color:#666>=</span><span style=color:#666>2</span> --max<span style=color:#666>=</span><span style=color:#666>10</span>                <span style=color:#080;font-style:italic># Tự động scale deployment &#34;foo&#34;</span>
</span></span></code></pre></div><h2 id=vá-các-tài-nguyên>Vá các tài nguyên</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># Cập nhật một phần một node</span>
</span></span><span style=display:flex><span>kubectl patch node k8s-node-1 -p <span style=color:#b44>&#39;{&#34;spec&#34;:{&#34;unschedulable&#34;:true}}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Cập nhật image của container; spec.containers[*].name là bắt buộc vì đó là khóa hợp nhất</span>
</span></span><span style=display:flex><span>kubectl patch pod valid-pod -p <span style=color:#b44>&#39;{&#34;spec&#34;:{&#34;containers&#34;:[{&#34;name&#34;:&#34;kubernetes-serve-hostname&#34;,&#34;image&#34;:&#34;new image&#34;}]}}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Cập nhật image của container sử dụng một bản vá json với các mảng vị trí</span>
</span></span><span style=display:flex><span>kubectl patch pod valid-pod --type<span style=color:#666>=</span><span style=color:#b44>&#39;json&#39;</span> -p<span style=color:#666>=</span><span style=color:#b44>&#39;[{&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/spec/containers/0/image&#34;, &#34;value&#34;:&#34;new image&#34;}]&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Vô hiệu hóa một deployment livenessProbe sử dụng một bản vá json với các mảng vị trí</span>
</span></span><span style=display:flex><span>kubectl patch deployment valid-deployment  --type json   -p<span style=color:#666>=</span><span style=color:#b44>&#39;[{&#34;op&#34;: &#34;remove&#34;, &#34;path&#34;: &#34;/spec/template/spec/containers/0/livenessProbe&#34;}]&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Thêm một phần tử mới vào một mảng vị trí</span>
</span></span><span style=display:flex><span>kubectl patch sa default --type<span style=color:#666>=</span><span style=color:#b44>&#39;json&#39;</span> -p<span style=color:#666>=</span><span style=color:#b44>&#39;[{&#34;op&#34;: &#34;add&#34;, &#34;path&#34;: &#34;/secrets/1&#34;, &#34;value&#34;: {&#34;name&#34;: &#34;whatever&#34; } }]&#39;</span>
</span></span></code></pre></div><h2 id=chỉnh-sửa-các-tài-nguyên>Chỉnh sửa các tài nguyên</h2><p>Chỉnh sửa bất kì API tài nguyên nào trong trình soạn thảo ưa thích của bạn.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl edit svc/docker-registry                      <span style=color:#080;font-style:italic># Chỉnh sửa services có tên docker-registry</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>KUBE_EDITOR</span><span style=color:#666>=</span><span style=color:#b44>&#34;nano&#34;</span> kubectl edit svc/docker-registry   <span style=color:#080;font-style:italic># Sử dụng một trình soạn thảo thay thế</span>
</span></span></code></pre></div><h2 id=scaling-tài-nguyên>Scaling tài nguyên</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl scale --replicas<span style=color:#666>=</span><span style=color:#666>3</span> rs/foo                                 <span style=color:#080;font-style:italic># Scale một replicaset có tên &#39;foo&#39; thành 3</span>
</span></span><span style=display:flex><span>kubectl scale --replicas<span style=color:#666>=</span><span style=color:#666>3</span> -f foo.yaml                            <span style=color:#080;font-style:italic># Scale một tài nguyên được xác định trong &#34;foo.yaml&#34; thành 3</span>
</span></span><span style=display:flex><span>kubectl scale --current-replicas<span style=color:#666>=</span><span style=color:#666>2</span> --replicas<span style=color:#666>=</span><span style=color:#666>3</span> deployment/mysql  <span style=color:#080;font-style:italic># Nếu kích thước hiện tại của deployment mysql là 2, scale mysql thành 3</span>
</span></span><span style=display:flex><span>kubectl scale --replicas<span style=color:#666>=</span><span style=color:#666>5</span> rc/foo rc/bar rc/baz                   <span style=color:#080;font-style:italic># Scale nhiều replication controllers</span>
</span></span></code></pre></div><h2 id=xóa-tài-nguyên>Xóa tài nguyên</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl delete -f ./pod.json                                              <span style=color:#080;font-style:italic># Xóa một pod sử dụng loại và tên được xác định trong pod.json</span>
</span></span><span style=display:flex><span>kubectl delete pod,service baz foo                                        <span style=color:#080;font-style:italic># Xóa pods và services có tên &#34;baz&#34; và &#34;foo&#34;</span>
</span></span><span style=display:flex><span>kubectl delete pods,services -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel                              <span style=color:#080;font-style:italic># Xóa pods và services có nhãn name=myLabel</span>
</span></span><span style=display:flex><span>kubectl -n my-ns delete pod,svc --all                                     <span style=color:#080;font-style:italic># Xóa tất cả pods và services trong namespace my-ns,</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Xóa tất cả pods matching với pattern1 hoặc pattern2</span>
</span></span><span style=display:flex><span>kubectl get pods  -n mynamespace --no-headers<span style=color:#666>=</span><span style=color:#a2f>true</span> | awk <span style=color:#b44>&#39;/pattern1|pattern2/{print $1}&#39;</span> | xargs  kubectl delete -n mynamespace pod
</span></span></code></pre></div><h2 id=tương-tác-với-các-pods-đang-chạy>Tương tác với các pods đang chạy</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs my-pod                                 <span style=color:#080;font-style:italic># kết xuất logs của pod (stdout)</span>
</span></span><span style=display:flex><span>kubectl logs -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel                        <span style=color:#080;font-style:italic># kết xuất logs của pod có nhãn name=myLabel (stdout)</span>
</span></span><span style=display:flex><span>kubectl logs my-pod --previous                      <span style=color:#080;font-style:italic># kết xuất logs của pod (stdout) cho khởi tạo trước của một container</span>
</span></span><span style=display:flex><span>kubectl logs my-pod -c my-container                 <span style=color:#080;font-style:italic># kết xuất logs của container của pod (stdout, trường hợp có nhiều container)</span>
</span></span><span style=display:flex><span>kubectl logs -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel -c my-container        <span style=color:#080;font-style:italic># kết xuất logs của container có tên my-container và có nhãn name=myLabel (stdout)</span>
</span></span><span style=display:flex><span>kubectl logs my-pod -c my-container --previous      <span style=color:#080;font-style:italic># kết xuất logs của container my-container của pod my-pod (stdout, trường hợp có nhiều container) cho khởi tạo trước của một container</span>
</span></span><span style=display:flex><span>kubectl logs -f my-pod                              <span style=color:#080;font-style:italic># lấy logs của pod my-pod (stdout)</span>
</span></span><span style=display:flex><span>kubectl logs -f my-pod -c my-container              <span style=color:#080;font-style:italic># lấy logs của container my-container trong pod my-pod (stdout, trường hợp nhiều container)</span>
</span></span><span style=display:flex><span>kubectl logs -f -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel --all-containers    <span style=color:#080;font-style:italic># lấy logs của tất cả các container của pod có nhãn name=myLabel (stdout)</span>
</span></span><span style=display:flex><span>kubectl run -i --tty busybox --image<span style=color:#666>=</span>busybox -- sh  <span style=color:#080;font-style:italic># Chạy pod trong một shell tương tác</span>
</span></span><span style=display:flex><span>kubectl run nginx --image<span style=color:#666>=</span>nginx --restart<span style=color:#666>=</span>Never -n 
</span></span><span style=display:flex><span>mynamespace                                         <span style=color:#080;font-style:italic># Chạy pod nginx trong một namespace cụ thể</span>
</span></span><span style=display:flex><span>kubectl run nginx --image<span style=color:#666>=</span>nginx --restart<span style=color:#666>=</span>Never     <span style=color:#080;font-style:italic># Chạy pod nginx và ghi spec của nó vào file có tên pod.yaml</span>
</span></span><span style=display:flex><span>--dry-run -o yaml &gt; pod.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl attach my-pod -i                            <span style=color:#080;font-style:italic># Đính kèm với container đang chạy</span>
</span></span><span style=display:flex><span>kubectl port-forward my-pod 5000:6000               <span style=color:#080;font-style:italic># Lắng nghe trên cổng 5000 của máy local và chuyển tiếp sang cổng 6000 trên pod my-pod</span>
</span></span><span style=display:flex><span>kubectl <span style=color:#a2f>exec</span> my-pod -- ls /                         <span style=color:#080;font-style:italic># Chạy lệnh trong một pod (trường hợp 1 container)</span>
</span></span><span style=display:flex><span>kubectl <span style=color:#a2f>exec</span> my-pod -c my-container -- ls /         <span style=color:#080;font-style:italic># Chạy lệnh trong pod (trường hợp nhiều container)</span>
</span></span><span style=display:flex><span>kubectl top pod POD_NAME --containers               <span style=color:#080;font-style:italic># Hiển thị số liệu của pod và container chạy trong nó</span>
</span></span></code></pre></div><h2 id=tương-tác-với-các-nodes-và-cụm>Tương tác với các nodes và cụm</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl cordon my-node                                                <span style=color:#080;font-style:italic># Đánh dấu my-node là không thể lập lịch</span>
</span></span><span style=display:flex><span>kubectl drain my-node                                                 <span style=color:#080;font-style:italic># Gỡ my-node ra khỏi cụm để chuẩn bị cho việc bảo trì</span>
</span></span><span style=display:flex><span>kubectl uncordon my-node                                              <span style=color:#080;font-style:italic># Đánh dấu my-node có thể lập lịch trở lại</span>
</span></span><span style=display:flex><span>kubectl top node my-node                                              <span style=color:#080;font-style:italic># Hiển thị số liệu của node</span>
</span></span><span style=display:flex><span>kubectl cluster-info                                                  <span style=color:#080;font-style:italic># Hiển thị địa chỉ master và các services</span>
</span></span><span style=display:flex><span>kubectl cluster-info dump                                             <span style=color:#080;font-style:italic># Kết xuất trạng thái hiện tại của cụm ra ngoài stdout</span>
</span></span><span style=display:flex><span>kubectl cluster-info dump --output-directory<span style=color:#666>=</span>/path/to/cluster-state   <span style=color:#080;font-style:italic># Kết xuất trạng thái hiện tại của cụm vào /path/to/cluster-state</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl taint nodes foo <span style=color:#b8860b>dedicated</span><span style=color:#666>=</span>special-user:NoSchedule
</span></span></code></pre></div><h3 id=các-loại-tài-nguyên>Các loại tài nguyên</h3><p>Liệt kê tất cả các loại tài nguyên được hỗ trợ cùng với tên viết tắt của chúng, <a href=/docs/concepts/overview/kubernetes-api/#api-groups-and-versioning>API group</a>, cho dù chúng là <a href=/docs/concepts/overview/working-with-objects/namespaces>namespaced</a>, và <a href=/docs/concepts/overview/working-with-objects/kubernetes-objects>Kind</a>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl api-resources
</span></span></code></pre></div><p>Các hoạt động khác để khám phá các tài nguyên API:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl api-resources --namespaced<span style=color:#666>=</span><span style=color:#a2f>true</span>      <span style=color:#080;font-style:italic># Tất cả các tài nguyên được đặt tên</span>
</span></span><span style=display:flex><span>kubectl api-resources --namespaced<span style=color:#666>=</span><span style=color:#a2f>false</span>     <span style=color:#080;font-style:italic># Tất cả các tài nguyên không được đặt tên</span>
</span></span><span style=display:flex><span>kubectl api-resources -o name                <span style=color:#080;font-style:italic># Tất cả các tài nguyên với đầu ra đơn giản (chỉ gồm tên tài nguyên)</span>
</span></span><span style=display:flex><span>kubectl api-resources -o wide                <span style=color:#080;font-style:italic># Tất cả các tài nguyên với đầu ra mở rộng</span>
</span></span><span style=display:flex><span>kubectl api-resources --verbs<span style=color:#666>=</span>list,get       <span style=color:#080;font-style:italic># Tất cả các tài nguyên hỗ trợ yêu cầu &#34;list&#34; và &#34;get&#34;</span>
</span></span><span style=display:flex><span>kubectl api-resources --api-group<span style=color:#666>=</span>extensions <span style=color:#080;font-style:italic># Tất cả tài nguyên trong nhóm API &#34;tiện ích mở rộng&#34;</span>
</span></span></code></pre></div><h3 id=định-dạng-đầu-ra>Định dạng đầu ra</h3><p>Để xuất thông tin chi tiết ra cửa sổ terminal của bạn theo một định dạng cụ thể, bạn có thể thêm các cờ <code>-o</code> hoặc <code>--output</code> vào lệnh <code>kubectl</code> được hỗ trợ.</p><table><thead><tr><th>Định dạng đầu ra</th><th>Mô tả</th></tr></thead><tbody><tr><td><code>-o=custom-columns=&lt;spec></code></td><td>In một bảng bằng danh sách, các cột tùy chỉnh được phân tách bằng dấu phẩy</td></tr><tr><td><code>-o=custom-columns-file=&lt;filename></code></td><td>In một bảng bằng cách sử dụng mẫu cột tùy chỉnh trong tệp <code>&lt;filename></code></td></tr><tr><td><code>-o=json</code></td><td>Xuất ra một đối tượng API theo định dạng JSON</td></tr><tr><td><code>-o=jsonpath=&lt;template></code></td><td>In ra các trường được xác định trong <a href=/docs/reference/kubectl/jsonpath>jsonpath</a></td></tr><tr><td><code>-o=jsonpath-file=&lt;filename></code></td><td>In ra các trường được xác định bởi <a href=/docs/reference/kubectl/jsonpath>jsonpath</a> trong tệp <code>&lt;filename></code></td></tr><tr><td><code>-o=name</code></td><td>Chỉ in tên tài nguyên và không có gì khác</td></tr><tr><td><code>-o=wide</code></td><td>Xuất ra ở định dạng văn bản thuần với bất kì thông tin bổ sung nào và đối với pods, cần phải thêm tên node</td></tr><tr><td><code>-o=yaml</code></td><td>Xuất ra đối tượng API theo định dạng YAML</td></tr></tbody></table><h3 id=kubectl-output-verbosity-and-debugging>Kubectl output verbosity and debugging</h3><p>Kubectl verbosity được kiểm soát bởi cờ <code>-v</code> or <code>--v</code> theo sau là một số nguyên biểu thị mức log. Các quy ước ghi logs của Kubernetes và các mức logs liên quan được mô tả ở <a href=https://github.com/kubernetes/community/blob/master/contributors/devel/sig-instrumentation/logging.md>đây</a>.</p><table><thead><tr><th>Verbosity</th><th>Description</th></tr></thead><tbody><tr><td><code>--v=0</code></td><td>Hữu ích cho việc hiển thị cho các người vận hành cụm.</td></tr><tr><td><code>--v=1</code></td><td>Một mức log mặc định hợp lý nếu bạn không muốn lấy quá nhiều logs.</td></tr><tr><td><code>--v=2</code></td><td>Thông tin trạng thái về services và các thông điệp logs quan trọng có thể tương quan với những thay đổi quan trọng trong hệ thống. Đây là mức ghi logs mặc định được khuyến nghị cho hầu hết các hệ thống.</td></tr><tr><td><code>--v=3</code></td><td>Thông tin mở rộng về những thay đổi.</td></tr><tr><td><code>--v=4</code></td><td>Debug level verbosity.</td></tr><tr><td><code>--v=6</code></td><td>Hiển thị tài nguyên được yêu cầu.</td></tr><tr><td><code>--v=7</code></td><td>Hiển thị HTTP request headers.</td></tr><tr><td><code>--v=8</code></td><td>Hiển thị nội dung HTTP request.</td></tr><tr><td><code>--v=9</code></td><td>Hiển thị nội dung HTTP request mà không cắt ngắn nội dung.</td></tr></tbody></table><h2 id=có-gì-tiếp-theo>Có gì tiếp theo</h2><ul><li><p>Đọc thêm về <a href=/docs/reference/kubectl/overview/>Tổng quan kubectl</a>.</p></li><li><p>Xem các tùy chọn <a href=/docs/reference/kubectl/kubectl/>kubectl</a>.</p></li><li><p><a href=/docs/reference/kubectl/conventions/>kubectl Usage Conventions</a> để hiểu làm thế nào để sử dụng <code>kubectl</code> trong các kịch bản có thể tái sử dụng.</p></li><li><p>Xem thêm bản cộng đồng <a href=https://github.com/dennyzhang/cheatsheet-kubernetes-A4>kubectl cheatsheets</a>.</p></li></ul></div><div id=pre-footer><h2>Phản hồi</h2><p class=feedback--prompt>Trang này có hữu ích?</p><button class="btn btn-primary mb-4 feedback--yes">Có</button>
<button class="btn btn-primary mb-4 feedback--no">Không</button><p class="feedback--response feedback--response__hidden">Cảm ơn vì đã phản hồi. Nếu bạn có một câu hỏi cụ thể, có thể trả lời về cách sử dụng Kubernetes, hãy hỏi nó trên
<a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/kubernetes>Stack Overflow</a>.
Tạo một issue trên Github repo nến bạn muốn
<a class=feedback--link target=_blank rel=noopener href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">báo cáo một vấn đề</a>
hoặc
<a class=feedback--link target=_blank rel=noopener href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">đề xuất cải tiến</a>.</p></div><script>const yes=document.querySelector(".feedback--yes"),no=document.querySelector(".feedback--no");document.querySelectorAll(".feedback--link").forEach(e=>{e.href=e.href+window.location.pathname});const sendFeedback=e=>{gtag||console.log("!gtag"),gtag("event","click",{event_category:"Helpful",event_label:window.location.pathname,value:e})},disableButtons=()=>{yes.disabled=!0,yes.classList.add("feedback--button__disabled"),no.disabled=!0,no.classList.add("feedback--button__disabled")};yes.addEventListener("click",()=>{sendFeedback(1),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")}),no.addEventListener("click",()=>{sendFeedback(0),disableButtons(),document.querySelector(".feedback--response").classList.remove("feedback--response__hidden")})</script><div class="text-muted mt-5 pt-3 border-top">Last modified March 15, 2021 at 12:29 AM PST: <a href=https://github.com/kubernetes/website/commit/004df073c410dd4151752305362cce48c2aeae80>[vi] update invalid web page link for api group (004df073c4)</a></div></main><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/kubernetes/website/edit/main/content/vi/docs/reference/kubectl/cheatsheet.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/kubernetes/website/new/main/content/vi/docs/reference/kubectl/cheatsheet.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/kubernetes/website/issues/new?title=kubectl%20Cheat%20Sheet" target=_blank><i class="fab fa-github fa-fw"></i> Create an issue</a>
<a id=print href=https://kubernetes.io/vi/docs/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><nav id=TableOfContents><ul><li><a href=#kubectl-autocomplete>Kubectl Autocomplete</a><ul><li><a href=#bash>BASH</a></li><li><a href=#zsh>ZSH</a></li></ul></li><li><a href=#ngữ-cảnh-và-cấu-hình-kubectl>Ngữ cảnh và cấu hình kubectl</a></li><li><a href=#apply>Apply</a></li><li><a href=#tạo-một-đối-tượng>Tạo một đối tượng</a></li><li><a href=#xem-tìm-các-tài-nguyên>Xem, tìm các tài nguyên</a></li><li><a href=#cập-nhật-các-tài-nguyên>Cập nhật các tài nguyên</a></li><li><a href=#vá-các-tài-nguyên>Vá các tài nguyên</a></li><li><a href=#chỉnh-sửa-các-tài-nguyên>Chỉnh sửa các tài nguyên</a></li><li><a href=#scaling-tài-nguyên>Scaling tài nguyên</a></li><li><a href=#xóa-tài-nguyên>Xóa tài nguyên</a></li><li><a href=#tương-tác-với-các-pods-đang-chạy>Tương tác với các pods đang chạy</a></li><li><a href=#tương-tác-với-các-nodes-và-cụm>Tương tác với các nodes và cụm</a><ul><li><a href=#các-loại-tài-nguyên>Các loại tài nguyên</a></li><li><a href=#định-dạng-đầu-ra>Định dạng đầu ra</a></li><li><a href=#kubectl-output-verbosity-and-debugging>Kubectl output verbosity and debugging</a></li></ul></li><li><a href=#có-gì-tiếp-theo>Có gì tiếp theo</a></li></ul></nav></div></div></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/vi/docs/home/>Home</a>
<a class=text-white href=/vi/blog/>Blog</a>
<a class=text-white href=/vi/partners/>Các đối tác</a>
<a class=text-white href=/vi/community/>Community</a>
<a class=text-white href=/vi/case-studies/>Các Case Study</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 Các tác giả Kubernetes | Tài liệu được phân phối theo <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. Đã đăng ký Bản quyền. The Linux Foundation đã đăng ký và sử dụng nhãn hiệu. Để biết danh sách các nhãn hiệu của The Linux Foundation, xem <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Trademark Usage page</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>