<!doctype html><html lang=zh-cn class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/contribute/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/contribute/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/contribute/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/contribute/><link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/contribute/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/contribute/><link rel=alternate hreflang=pt-br href=https://kubernetes.io/pt-br/docs/contribute/><link rel=alternate hreflang=id href=https://kubernetes.io/id/docs/contribute/><link rel=alternate hreflang=hi href=https://kubernetes.io/hi/docs/contribute/><link rel=alternate hreflang=ru href=https://kubernetes.io/ru/docs/contribute/><link rel=alternate hreflang=pl href=https://kubernetes.io/pl/docs/contribute/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/zh-cn/docs/contribute/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>为 Kubernetes 文档出一份力 | Kubernetes</title><meta property="og:title" content="为 Kubernetes 文档出一份力"><meta property="og:description" content="生产级别的容器编排系统"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/zh-cn/docs/contribute/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="为 Kubernetes 文档出一份力"><meta itemprop=description content="生产级别的容器编排系统"><meta name=twitter:card content="summary"><meta name=twitter:title content="为 Kubernetes 文档出一份力"><meta name=twitter:description content="生产级别的容器编排系统"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="Kubernetes 欢迎来自所有贡献者的改进，无论你是新人和有经验的贡献者！
说明： 要了解有关为 Kubernetes 做出贡献的更多信息，请参阅 贡献者文档。
你还可以阅读 CNCF 关于为 Kubernetes 做贡献的页面。
本网站由 Kubernetes SIG Docs（文档特别兴趣小组）维护。
Kubernetes 文档项目的贡献者：
改进现有内容 创建新内容 翻译文档 管理并发布 Kubernetes 周期性发行版的文档 入门 任何人都可以提出文档方面的问题（issue），或贡献一个变更，用拉取请求（PR）的方式提交到 GitHub 上的 kubernetes/website 仓库。 当然你需要熟练使用 git 和 GitHub 才能在 Kubernetes 社区中有效工作。
如何参与文档编制：
签署 CNCF 的贡献者许可协议。 熟悉文档仓库和网站的静态站点生成器。 确保理解发起 PR 和审查变更的基本流程。 flowchart TB subgraph third[发起 PR] direction TB U[ ] -.- Q[改进现有内容] --- N[创建新内容] N --- O[翻译文档] O --- P[管理并发布 K8s
周期性发行版的文档] end subgraph second[评审] direction TB T[ ] -."><meta property="og:description" content="Kubernetes 欢迎来自所有贡献者的改进，无论你是新人和有经验的贡献者！
说明： 要了解有关为 Kubernetes 做出贡献的更多信息，请参阅 贡献者文档。
你还可以阅读 CNCF 关于为 Kubernetes 做贡献的页面。
本网站由 Kubernetes SIG Docs（文档特别兴趣小组）维护。
Kubernetes 文档项目的贡献者：
改进现有内容 创建新内容 翻译文档 管理并发布 Kubernetes 周期性发行版的文档 入门 任何人都可以提出文档方面的问题（issue），或贡献一个变更，用拉取请求（PR）的方式提交到 GitHub 上的 kubernetes/website 仓库。 当然你需要熟练使用 git 和 GitHub 才能在 Kubernetes 社区中有效工作。
如何参与文档编制：
签署 CNCF 的贡献者许可协议。 熟悉文档仓库和网站的静态站点生成器。 确保理解发起 PR 和审查变更的基本流程。 flowchart TB subgraph third[发起 PR] direction TB U[ ] -.- Q[改进现有内容] --- N[创建新内容] N --- O[翻译文档] O --- P[管理并发布 K8s
周期性发行版的文档] end subgraph second[评审] direction TB T[ ] -."><meta name=twitter:description content="Kubernetes 欢迎来自所有贡献者的改进，无论你是新人和有经验的贡献者！
说明： 要了解有关为 Kubernetes 做出贡献的更多信息，请参阅 贡献者文档。
你还可以阅读 CNCF 关于为 Kubernetes 做贡献的页面。
本网站由 Kubernetes SIG Docs（文档特别兴趣小组）维护。
Kubernetes 文档项目的贡献者：
改进现有内容 创建新内容 翻译文档 管理并发布 Kubernetes 周期性发行版的文档 入门 任何人都可以提出文档方面的问题（issue），或贡献一个变更，用拉取请求（PR）的方式提交到 GitHub 上的 kubernetes/website 仓库。 当然你需要熟练使用 git 和 GitHub 才能在 Kubernetes 社区中有效工作。
如何参与文档编制：
签署 CNCF 的贡献者许可协议。 熟悉文档仓库和网站的静态站点生成器。 确保理解发起 PR 和审查变更的基本流程。 flowchart TB subgraph third[发起 PR] direction TB U[ ] -.- Q[改进现有内容] --- N[创建新内容] N --- O[翻译文档] O --- P[管理并发布 K8s
周期性发行版的文档] end subgraph second[评审] direction TB T[ ] -."><meta property="og:url" content="https://kubernetes.io/zh-cn/docs/contribute/"><meta property="og:title" content="为 Kubernetes 文档出一份力"><meta name=twitter:title content="为 Kubernetes 文档出一份力"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script async src=/js/mermaid-8.13.4.min.js></script>
<script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/zh-cn/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/zh-cn/docs/>文档</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/blog/>Kubernetes 博客</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/training/>培训</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/partners/>合作伙伴</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/community/>社区</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/case-studies/>案例分析</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>版本列表</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh-cn/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/zh-cn/docs/contribute/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/zh-cn/docs/contribute/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/zh-cn/docs/contribute/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/zh-cn/docs/contribute/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/zh-cn/docs/contribute/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文 (Chinese)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/contribute/>English</a>
<a class=dropdown-item href=/ko/docs/contribute/>한국어 (Korean)</a>
<a class=dropdown-item href=/ja/docs/contribute/>日本語 (Japanese)</a>
<a class=dropdown-item href=/fr/docs/contribute/>Français (French)</a>
<a class=dropdown-item href=/de/docs/contribute/>Deutsch (German)</a>
<a class=dropdown-item href=/es/docs/contribute/>Español (Spanish)</a>
<a class=dropdown-item href=/pt-br/docs/contribute/>Português (Portuguese)</a>
<a class=dropdown-item href=/id/docs/contribute/>Bahasa Indonesia</a>
<a class=dropdown-item href=/hi/docs/contribute/>हिन्दी (Hindi)</a>
<a class=dropdown-item href=/ru/docs/contribute/>Русский (Russian)</a>
<a class=dropdown-item href=/pl/docs/contribute/>Polski (Polish)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/zh-cn/docs/contribute/>返回本页常规视图</a>.</p></div><h1 class=title>为 Kubernetes 文档出一份力</h1><ul><li>1: <a href=#pg-e5340359b8afe1fe409af06178af8886>提出内容改进建议</a></li><li>2: <a href=#pg-e937703be4ed0c81ebac5c90d296644f>贡献新内容</a></li><ul><li>2.1: <a href=#pg-553b51f3b1991ff428a01644a7c20d90>发起拉取请求（PR）</a></li><li>2.2: <a href=#pg-10ed45584b496b99003f299b4614ff78>为发行版本撰写功能特性文档</a></li><li>2.3: <a href=#pg-563096c308e08ee8545a117b10f2254a>提交博客和案例分析</a></li></ul><li>3: <a href=#pg-7667825f238ad55850e95e02d21e9772>评阅变更</a></li><ul><li>3.1: <a href=#pg-bf4cdc925c4f306d4dc42184255aab58>评审 PR</a></li><li>3.2: <a href=#pg-5f7b891275b826a0a9dc82836542a607>评阅人和批准人文档</a></li></ul><li>4: <a href=#pg-849a2fdb87779db1c212fe5a9f88ff0d>本地化 Kubernetes 文档</a></li><li>5: <a href=#pg-8b9b22280711800788333c1a4d129735>参与 SIG Docs</a></li><ul><li>5.1: <a href=#pg-76656ea25ba7e6404601838389262482>角色与责任</a></li><li>5.2: <a href=#pg-48abd3bcfba9976d000a96a0734b90f6>PR 管理者</a></li></ul><li>6: <a href=#pg-29765496ca296ad24e34e5c0cd42a63f>参考文档概述</a></li><ul><li>6.1: <a href=#pg-f4f605fa4c2e23622d56b067ef56c239>参考文档快速入门</a></li><li>6.2: <a href=#pg-a5eac5b2b794f16aa703a2fa212d7c39>为上游 Kubernetes 代码库做出贡献</a></li><li>6.3: <a href=#pg-6e4e78f20e40bac9bcad59941e974af6>为 Kubernetes API 生成参考文档</a></li><li>6.4: <a href=#pg-03de26b330a5cfdb26672f6bc75dcc04>为 kubectl 命令集生成参考文档</a></li><li>6.5: <a href=#pg-28fc50a0072b0b2b444aa24e552d2e60>为 Kubernetes 组件和工具生成参考文档</a></li><li>6.6: <a href=#pg-eabe0c0c6b0046c51d7fdf5e8450a5b5></a></li></ul><li>7: <a href=#pg-a2d946282df02cdeb47d9f54dfef198e>文档样式概述</a></li><ul><li>7.1: <a href=#pg-3b9549b1c8f5ef9d6ae0a841cc99c180>文档内容指南</a></li><li>7.2: <a href=#pg-75de610057816ac48210db20ec633217>文档样式指南</a></li><li>7.3: <a href=#pg-058d2b4507330747d5d92d3ec6e19585>图表指南</a></li><li>7.4: <a href=#pg-4f09c4b708d2dd4ac9eac1080dab6728>撰写新主题</a></li><li>7.5: <a href=#pg-69e79c7baae79b2f34332a745d62ddca>页面内容类型</a></li><li>7.6: <a href=#pg-357f2ddd61035f18c2aa63fe86203f9c>内容组织</a></li><li>7.7: <a href=#pg-6d76d18115f82583d526bdaf5d05edbc>定制 Hugo 短代码</a></li></ul><li>8: <a href=#pg-8111429863728051b460e1f3a75b6fea>进阶贡献</a></li><li>9: <a href=#pg-ed3187078744c086d64f3d804a926218>查看站点分析</a></li><li>10: <a href=#pg-942048ae9791e526e3586861b637b9e6>中文本地化样式指南</a></li></ul><div class=content><p><em>Kubernetes 欢迎来自所有贡献者的改进，无论你是新人和有经验的贡献者！</em></p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>要了解有关为 Kubernetes 做出贡献的更多信息，请参阅
<a href=https://www.kubernetes.dev/docs/>贡献者文档</a>。</p><p>你还可以阅读
<a class=glossary-tooltip title='云原生计算基金会（Cloud Native Computing Foundation）' data-toggle=tooltip data-placement=top href=https://cncf.io/ target=_blank aria-label=CNCF>CNCF</a>
关于为 Kubernetes 做贡献的<a href=https://contribute.cncf.io/contributors/projects/#kubernetes>页面</a>。</p></div><p>本网站由 <a href=/zh-cn/docs/contribute/#get-involved-with-SIG-Docs>Kubernetes SIG Docs</a>（文档特别兴趣小组）维护。</p><p>Kubernetes 文档项目的贡献者：</p><ul><li>改进现有内容</li><li>创建新内容</li><li>翻译文档</li><li>管理并发布 Kubernetes 周期性发行版的文档</li></ul><h2 id=getting-started>入门</h2><p>任何人都可以提出文档方面的问题（issue），或贡献一个变更，用拉取请求（PR）的方式提交到
<a href=https://github.com/kubernetes/website>GitHub 上的 <code>kubernetes/website</code> 仓库</a>。
当然你需要熟练使用 <a href=https://git-scm.com/>git</a> 和 <a href=https://lab.github.com/>GitHub</a> 才能在 Kubernetes 社区中有效工作。</p><p>如何参与文档编制：</p><ol><li>签署 CNCF 的<a href=https://github.com/kubernetes/community/blob/master/CLA.md>贡献者许可协议</a>。</li><li>熟悉<a href=https://github.com/kubernetes/website>文档仓库</a>和网站的<a href=https://gohugo.io>静态站点生成器</a>。</li><li>确保理解<a href=/zh-cn/docs/contribute/new-content/open-a-pr/>发起 PR</a> 和<a href=/zh-cn/docs/contribute/review/reviewing-prs/>审查变更</a>的基本流程。</li></ol><figure><div class=mermaid>flowchart TB
subgraph third[发起 PR]
direction TB
U[ ] -.-
Q[改进现有内容] --- N[创建新内容]
N --- O[翻译文档]
O --- P[管理并发布 K8s<br>周期性发行版的文档]
end
subgraph second[评审]
direction TB
T[ ] -.-
D[仔细查看<br>K8s/website<br>仓库] --- E[下载安装 Hugo<br>静态站点<br>生成器]
E --- F[了解基本的<br>GitHub 命令]
F --- G[评审待处理的 PR<br>并遵从变更审查<br>流程]
end
subgraph first[注册]
direction TB
S[ ] -.-
B[签署 CNCF<br>贡献者<br>许可协议] --- C[加入 sig-docs<br>Slack 频道]
C --- V[加入 kubernetes-sig-docs<br>邮件列表]
V --- M[参加每周的<br>sig-docs 电话会议<br>或 slack 会议]
end
A([fa:fa-user 新的<br>贡献者]) --> first
A --> second
A --> third
A --> H[提出问题!!!]
classDef grey fill:#dddddd,stroke:#ffffff,stroke-width:px,color:#000000, font-size:15px;
classDef white fill:#ffffff,stroke:#000,stroke-width:px,color:#000,font-weight:bold
classDef spacewhite fill:#ffffff,stroke:#fff,stroke-width:0px,color:#000
class A,B,C,D,E,F,G,H,M,Q,N,O,P,V grey
class S,T,U spacewhite
class first,second,third white</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 1. 新手入门指示。</p><p>图 1 概述了新贡献者的路线图。
你可以遵从“注册”和“评审”所述的某些或全部步骤。
至此，你完成了发起 PR 的准备工作，
可以通过“发起 PR” 列出的事项实现你的贡献目标。
再次重申，欢迎随时提出问题！</p><p>有些任务要求 Kubernetes 组织内更高的信任级别和访问权限。
阅读<a href=/zh-cn/docs/contribute/participate/>参与 SIG Docs 工作</a>，获取角色和权限的更多细节。</p><h2 id=your-first-contribution>第一次贡献</h2><p>你可以提前查阅几个步骤，来准备你的第一次贡献。
图 2 概述了后续的步骤和细节。</p><figure><div class=mermaid>flowchart LR
subgraph second[第一次贡献]
direction TB
S[ ] -.-
G[查阅其他 K8s<br>成员发起的 PR] -->
A[检索 K8s/website<br>问题列表是否有<br>good first 一类的 PR] --> B[发起一个 PR!!]
end
subgraph first[建议的准备工作]
direction TB
T[ ] -.-
D[阅读贡献概述] -->E[阅读 K8s 内容<br>和风格指南]
E --> F[了解 Hugo 页面<br>内容类型<br>和短代码]
end
first ----> second
classDef grey fill:#dddddd,stroke:#ffffff,stroke-width:px,color:#000000, font-size:15px;
classDef white fill:#ffffff,stroke:#000,stroke-width:px,color:#000,font-weight:bold
classDef spacewhite fill:#ffffff,stroke:#fff,stroke-width:0px,color:#000
class A,B,D,E,F,G grey
class S,T spacewhite
class first,second white</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 2. 第一次贡献的准备工作。</p><ul><li>通读<a href=/zh-cn/docs/contribute/new-content/>贡献概述</a>，了解参与贡献的不同方式。</li><li>查看 <a href=https://github.com/kubernetes/website/issues/><code>kubernetes/website</code> 问题列表</a>，
检索最适合作为切入点的问题。</li><li>在现有文档上，<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#changes-using-github>使用 GitHub 提交 PR</a>，
掌握在 GitHub 上登记 Issue 的方法。</li><li>Kubernetes 社区其他成员会<a href=/zh-cn/docs/contribute/review/reviewing-prs/>评审 PR </a>，
以确保文档精准和语言流畅。</li><li>阅读 kubernetes 的<a href=/zh-cn/docs/contribute/style/content-guide/>内容指南</a>和
<a href=/zh-cn/docs/contribute/style/style-guide/>风格指南</a>，以发表有见地的评论。</li><li>了解<a href=/zh-cn/docs/contribute/style/page-content-types/>页面内容类型</a>和
<a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>Hugo 短代码</a>。</li></ul><h2 id=next-teps>下一步</h2><ul><li><p>学习在仓库的<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#fork-the-repo>本地克隆中工作</a>。</p></li><li><p>为<a href=/zh-cn/docs/contribute/new-content/new-features/>发行版的特性</a>编写文档。</p></li><li><p>加入 <a href=/zh-cn/docs/contribute/participate/>SIG Docs</a>，并成为<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/>成员或评审者</a>。</p></li><li><p>开始或帮助<a href=/zh-cn/docs/contribute/localization/>本地化</a> 工作。</p></li></ul><h2 id=get-involved-with-SIG-Docs>参与 SIG Docs 工作</h2><p><a href=/zh-cn/docs/contribute/participate/>SIG Docs</a> 是负责发布、维护 Kubernetes 文档的贡献者团体。
参与 SIG Docs 是 Kubernetes 贡献者（开发者和其他人员）对 Kubernetes 项目产生重大影响力的好方式。</p><p>SIG Docs 的几种沟通方式：</p><ul><li><a href=https://slack.k8s.io/>加入 Kubernetes 在 Slack 上的<code>#sig-docs</code> 频道</a>。
一定记得自我介绍!</li><li><a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>加入 <code>kubernetes-sig-docs</code> 邮件列表</a>,
这里有更广泛的讨论，和官方决策的记录。</li><li>参加每两周召开一次的 <a href=https://github.com/kubernetes/community/tree/master/sig-docs>SIG Docs 视频会议</a>。
会议总是在 <code>#sig-docs</code> 上发出公告，同时添加到
<a href="https://calendar.google.com/calendar/embed?src=cgnt364vd8s86hr2phapfjc6uk%40group.calendar.google.com&ctz=America/Los_Angeles">Kubernetes 社区会议日历</a>。
你需要下载 <a href=https://zoom.us/download>Zoom 客户端软件</a>，或电话拨号接入。</li><li>如果有几周未召开实况 Zoom 视频会议，请参加 SIG Docs 异步 Slack 站会。
会议总是在 <code>#sig-docs</code> 上发出公告。
你可以在会议公告后 24 小时内为其中任一议题做贡献。</li></ul><h2 id=other-ways-to-contribute>其他贡献方式</h2><ul><li>访问 <a href=/zh-cn/community/>Kubernetes 社区网站</a>。
参与 Twitter 或 Stack Overflow，了解当地的 Kubernetes 会议和活动等等。</li><li>阅读<a href=https://github.com/kubernetes/community/tree/master/contributors/guide/contributor-cheatsheet>贡献者备忘单</a>，
参与 Kubernetes 功能开发。</li><li>访问贡献者网站，进一步了解有关 <a href=https://www.kubernetes.dev/>Kubernetes 贡献者</a>
和<a href=https://www.kubernetes.dev/resources/>更多贡献者资源</a>的信息。</li><li>提交一篇<a href=/zh-cn/docs/contribute/new-content/blogs-case-studies/>博客文章或案例研究</a>。</li></ul></div></div><div class=td-content style=page-break-before:always><h1 id=pg-e5340359b8afe1fe409af06178af8886>1 - 提出内容改进建议</h1><p>如果你发现 Kubernetes 文档中存在问题或者你有一个关于新内容的想法，
可以考虑提出一个问题（issue）。你只需要具有 <a href=https://github.com/join>GitHub 账号</a>和 Web
浏览器就可以完成这件事。</p><p>在大多数情况下，Kubernetes 文档的新工作都是开始于 GitHub 上的某个问题。
Kubernetes 贡献者会审阅这些问题并根据需要对其分类、打标签。
接下来，你或者别的 Kubernetes 社区成员就可以发起一个带有变更的拉取请求，
以解决这一问题。</p><h2 id=opening-an-issue>创建问题</h2><p>如果你希望就改进已有内容提出建议或者在文档中发现了错误，请创建一个问题（issue）。</p><ol><li>点击右侧边栏的 <strong>提交文档问题</strong> 按钮。浏览器会重定向到一个 GitHub 问题页面，
其中包含了一些预先填充的内容。</li><li>请描述遇到的问题或关于改进的建议。尽可能提供细节信息。</li><li>点击 <strong>Submit new issue</strong>。</li></ol><p>提交之后，偶尔查看一下你所提交的问题，或者开启 GitHub 通知。
评审人（reviewers）和其他社区成员可能在针对所提问题采取行动之前，问一些问题。</p><h2 id=suggesting-new-content>关于新内容的建议</h2><p>如果你对新内容有想法，但是你不确定这些内容应该放在哪里，你仍可以提出问题。</p><ul><li>在预期的节区中选择一个现有页面，点击 <strong>提交文档问题</strong>。</li><li>前往 <a href=https://github.com/kubernetes/website/issues/new/>GitHub Issues 页面</a>，
直接记录问题。</li></ul><h2 id=how-to-file-great-issues>如何更好地记录问题</h2><p>在记录问题时，请注意以下事项：</p><ul><li>提供问题的清晰描述，描述具体缺失的内容、过期的内容、错误的内容或者需要改进的文字。</li><li>解释该问题对用户的特定影响。</li><li>将给定问题的范围限定在一个工作单位范围内。如果问题牵涉的领域较大，可以将其分解为多个小一点的问题。
例如："Fix the security docs" 是一个过于宽泛的问题，而
"Add details to the 'Restricting network access' topic"
就是一个足够具体的、可操作的问题。</li><li>搜索现有问题的列表，查看是否已经有相关的或者类似的问题已被记录。</li><li>如果新问题与某其他问题或 PR 有关联，可以使用其完整 URL 或带 <code>#</code> 字符的 PR 编号来引用之。
例如：<code>Introduced by #987654</code>。</li><li>遵从<a href=/zh-cn/community/code-of-conduct/>行为准则</a>。尊重同行贡献者。
例如，"The docs are terrible" 就是无用且无礼的反馈。</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e937703be4ed0c81ebac5c90d296644f>2 - 贡献新内容</h1><p>本节包含你在贡献新内容之前需要知晓的信息。</p><figure><div class=mermaid>flowchart LR
subgraph second[开始之前]
direction TB
S[ ] -.-
A[签署 CNCF CLA] --> B[选择 Git 分支]
B --> C[每个 PR 一种语言]
C --> F[检查贡献者工具]
end
subgraph first[基本知识]
direction TB
T[ ] -.-
D[用 markdown 编写文档<br>并用 Hugo 构建网站] --- E[GitHub 源代码]
E --- G['/content/../docs' 文件夹包含<br>多语言文档]
G --- H[评审 Hugo 页面内容<br>类型和短代码]
end
first ----> second
classDef grey fill:#dddddd,stroke:#ffffff,stroke-width:px,color:#000000, font-size:15px;
classDef white fill:#ffffff,stroke:#000,stroke-width:px,color:#000,font-weight:bold
classDef spacewhite fill:#ffffff,stroke:#fff,stroke-width:0px,color:#000
class A,B,C,D,E,F,G,H grey
class S,T spacewhite
class first,second white</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p><em><strong>插图 - 贡献新内容准备工作</strong></em></p><p>上图描述了你在提交新内容之前需要知晓的信息。
详细信息见下文。</p><h2 id=基本知识>基本知识</h2><ul><li>使用 Markdown 编写 Kubernetes 文档并使用 <a href=https://gohugo.io/>Hugo</a> 构建网站。</li><li>Kubernetes 文档使用 <a href=https://commonmark.org/>CommonMark</a> 作为 Markdown 的风格。</li><li>源代码位于 <a href=https://github.com/kubernetes/website>GitHub</a> 仓库中。
你可以在 <code>/content/zh-cn/docs/</code> 目录下找到 Kubernetes 文档。
某些参考文档是使用位于 <code>update-imported-docs/</code> 目录下的脚本自动生成的。</li><li><a href=/zh-cn/docs/contribute/style/page-content-types/>页面内容类型</a>使用 Hugo 描述文档内容的呈现。</li></ul><ul><li>你可以使用 <a href=https://www.docsy.dev/docs/adding-content/shortcodes/>Docsy 短代码</a>
或<a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>定制的 Hugo 短代码</a>贡献 Kubernetes 文档。</li><li>除了标准的 Hugo 短代码外，
我们还在文档中使用一些<a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>定制的 Hugo 短代码</a>来控制内容的呈现。</li><li>文档的源代码有多种语言形式，位于 <code>/content/</code> 目录下。
每种语言都有一个自己的目录，用两个字母表示，这两个字母是基于
<a href=https://www.loc.gov/standards/iso639-2/php/code_list.php>ISO 639-1 标准</a>来确定的。
例如，英语文档的源代码位于 <code>/content/en/docs/</code> 目录下。</li><li>关于为多语言文档做贡献以及如何开始新翻译的详细信息，
可参考<a href=/zh-cn/docs/contribute/localization>本地化文档</a>。</li></ul><h2 id=before-you-begin>开始之前</h2><h3 id=sign-the-cla>签署 CNCF CLA</h3><p>所有 Kubernetes 贡献者<strong>必须</strong>阅读<a href=https://github.com/kubernetes/community/blob/master/contributors/guide/README.md>贡献者指南</a>
并<a href=https://github.com/kubernetes/community/blob/master/CLA.md>签署贡献者授权同意书 (Contributor License Agreement, CLA)</a>。</p><p>若贡献者尚未签署 CLA，其发起的 PR 将无法通过自动化测试。
你所提供的姓名和邮件地址必须与 <code>git config</code> 中配置的完全相同，
而且你的 git 用户名和邮件地址必须与用来签署 CNCF CLA 的信息一致。</p><h3 id=选择要使用的-git-分支>选择要使用的 Git 分支</h3><p>在发起 PR 时，你需要预先知道基于哪个分支来开展工作。</p><table><thead><tr><th style=text-align:left>场景</th><th style=text-align:left>分支</th></tr></thead><tbody><tr><td style=text-align:left>针对当前发行版本的，对现有英文内容的修改或新的英文内容</td><td style=text-align:left><code>main</code></td></tr><tr><td style=text-align:left>针对功能特性变更的内容</td><td style=text-align:left>分支对应于功能特性变更的主要和次要版本，分支名称采用 <code>dev-&lt;version></code> 的模式。例如，如果某功能特性在 <code>v1.26</code> 版本发生变化，则对应的文档变化要添加到 <code>dev-1.26</code> 分支。</td></tr><tr><td style=text-align:left>其他语言的内容（本地化）</td><td style=text-align:left>基于本地化团队的约定。参见<a href=/zh-cn/docs/contribute/localization/#branching-strategy>本地化分支策略</a>了解更多信息。</td></tr></tbody></table><p>如果你仍不能确定要选择哪个分支，请在 Slack 的 <code>#sig-docs</code> 频道上提出问题。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 如果你已经提交了 PR，并且发现所针对的分支选错了，你（且只有作为提交人的你）可以更改分支。</div><h3 id=每个-pr-牵涉的语言>每个 PR 牵涉的语言</h3><p>请确保每个 PR 仅涉及一种语言。
如果你需要对多种语言下的同一代码示例进行相同的修改，也请为每种语言发起一个独立的 PR。</p><h2 id=为贡献者提供的工具>为贡献者提供的工具</h2><p><code>kubernetes/website</code> 仓库的<a href=https://github.com/kubernetes/website/tree/main/content/zh-cn/docs/doc-contributor-tools>文档贡献者工具</a>目录中包含了一些工具，
有助于使你的贡献过程更为顺畅。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-553b51f3b1991ff428a01644a7c20d90>2.1 - 发起拉取请求（PR）</h1><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p><strong>代码开发者们</strong>：如果你在为下一个 Kubernetes 发行版本中的某功能特性撰写文档，
请参考<a href=/zh-cn/docs/contribute/new-content/new-features/>为发行版本撰写功能特性文档</a>。</div><p>要贡献新的内容页面或者改进已有内容页面，请发起拉取请求（PR）。
请确保你满足了<a href=/zh-cn/docs/contribute/new-content/>开始之前</a>一节中所列举的所有要求。</p><p>如果你所提交的变更足够小，或者你对 git 工具不熟悉，
可以阅读<a href=#changes-using-github>使用 GitHub 提交变更</a>以了解如何编辑页面。</p><p>如果所提交的变更较大，
请阅读<a href=#fork-the-repo>基于本地克隆副本开展工作</a>以学习如何在你本地计算机上进行修改。</p><h2 id=changes-using-github>使用 GitHub 提交变更</h2><p>如果你在 git 工作流方面欠缺经验，这里有一种发起拉取请求的更为简单的方法。
图 1 勾勒了后续的步骤和细节。</p><figure><div class=mermaid>flowchart LR
A([fa:fa-user 新的<br>贡献者]) --- id1[(K8s/Website<br>GitHub)]
subgraph tasks[使用 GitHub 提交变更]
direction TB
0[ ] -.-
1[1. 编辑此页] --> 2[2. 使用 GitHub markdown<br>编辑器进行修改]
2 --> 3[3. 填写 Propose file change]
end
subgraph tasks2[ ]
direction TB
4[4. 选择 Propose file change] --> 5[5. 选择 Create pull request] --> 6[6. 填写 Open a pull request]
6 --> 7[7. 选择 Create pull request]
end
id1 --> tasks --> tasks2
classDef grey fill:#dddddd,stroke:#ffffff,stroke-width:px,color:#000000, font-size:15px;
classDef white fill:#ffffff,stroke:#000,stroke-width:px,color:#000,font-weight:bold
classDef k8s fill:#326ce5,stroke:#fff,stroke-width:1px,color:#fff;
classDef spacewhite fill:#ffffff,stroke:#fff,stroke-width:0px,color:#000
class A,1,2,3,4,5,6,7 grey
class 0 spacewhite
class tasks,tasks2 white
class id1 k8s</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 1. 使用 GitHub 发起一个 PR 的步骤。</p><ol><li><p>在你发现问题的网页，选择右上角的铅笔图标。
你也可以滚动到页面底端，选择<strong>编辑此页</strong>。</p></li><li><p>在 GitHub 的 Markdown 编辑器中修改内容。</p></li><li><p>在编辑器的下方，填写 <strong>Propose file change</strong> 表单。
在第一个字段中，为你的提交消息取一个标题。
在第二个字段中，为你的提交写一些描述文字。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>不要在提交消息中使用 <a href=https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword>GitHub 关键词</a>。
你可以在后续的 PR 描述中使用这些关键词。</div></li></ol><ol start=4><li><p>选择 <strong>Propose File Change</strong>。</p></li><li><p>选择 <strong>Create pull request</strong>。</p></li><li><p>出现 <strong>Open a pull request</strong> 界面。填写表单：</p><ul><li><strong>Subject</strong> 字段默认为提交的概要信息，你可以根据需要进行修改。</li><li><strong>Body</strong> 字段包含更为详细的提交消息（如果你之前有填写过的话）和一些模板文字。
填写模板所要求的详细信息，之后删除多余的模板文字。</li><li>确保 <strong>Allow edits from maintainers</strong> 复选框被勾选。</li></ul><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>PR 描述信息是帮助 PR 评阅人了解你所提议的变更的重要途径。
更多信息请参考<a href=#open-a-pr>发起一个 PR</a>。</div></li></ol><ol start=7><li>选择 <strong>Create pull request</strong>。</li></ol><h3 id=addressing-feedback-in-github>在 GitHub 上处理反馈意见</h3><p>在合并 PR 之前，Kubernetes 社区成员会评阅并批准它。
<code>k8s-ci-robot</code> 会基于页面中最近提及的属主来建议评阅人（reviewers）。
如果你希望特定某人来评阅，可以留下评论，提及该用户的 GitHub 用户名。</p><p>如果某个评阅人请你修改 PR：</p><ol><li>前往 <strong>Files changed</strong> Tab 页面；</li><li>选择 PR 所修改的任何文件所对应的铅笔（edit）图标；</li><li>根据建议作出修改；</li><li>提交所作修改。</li></ol><p>如果你希望等待评阅人的反馈，可以每 7 天左右联系一次。
你也可以在 <code>#sig-docs</code> Slack 频道发送消息。</p><p>当评阅过程结束，某个评阅人会合并你的 PR。
几分钟之后，你所做的变更就会上线了。</p><h2 id=fork-the-repo>基于本地克隆副本开展工作</h2><p>如果你有 git 的使用经验，或者你要提议的修改不仅仅几行，请使用本地克隆副本来开展工作。</p><p>首先要确保你在本地计算机上安装了 <a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>git</a>。
你也可以使用 git 的带用户界面的应用。</p><p>图 2 显示了基于本地克隆副本开展工作的步骤。每个步骤的细节如下。</p><figure><div class=mermaid>flowchart LR
1[派生 K8s/website<br>仓库] --> 2[创建本地克隆副本<br>并指定 upstream 仓库]
subgraph changes[你的变更]
direction TB
S[ ] -.-
3[创建一个分支<br>例如: my_new_branch] --> 3a[使用文本编辑器<br>进行修改] --> 4["使用 Hugo 在本地<br>预览你的变更<br>(localhost:1313)<br>或构建容器镜像"]
end
subgraph changes2[提交 / 推送]
direction TB
T[ ] -.-
5[提交你的变更] --> 6[将提交推送到<br>origin/my_new_branch]
end
2 --> changes --> changes2
classDef grey fill:#dddddd,stroke:#ffffff,stroke-width:px,color:#000000, font-size:15px;
classDef white fill:#ffffff,stroke:#000,stroke-width:px,color:#000,font-weight:bold
classDef k8s fill:#326ce5,stroke:#fff,stroke-width:1px,color:#fff;
classDef spacewhite fill:#ffffff,stroke:#fff,stroke-width:0px,color:#000
class 1,2,3,3a,4,5,6 grey
class S,T spacewhite
class changes,changes2 white</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 2. 使用本地克隆副本进行修改。</p><h3 id=fork-the-kubernetes-website-repository>派生 kubernetes/website 仓库</h3><ol><li>前往 <a href=https://github.com/kubernetes/website/><code>kubernetes/website</code></a> 仓库；</li><li>选择 <strong>Fork</strong>.</li></ol><h3 id=create-a-local-clone-and-set-the-upstream>创建一个本地克隆副本并指定 upstream 仓库</h3><ol><li><p>打开终端窗口，克隆你所派生的副本，并更新 <a href=https://github.com/google/docsy#readme>Docsy Hugo 主题</a>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone git@github.com/&lt;github_username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> website
</span></span><span style=display:flex><span>git submodule update --init --recursive --depth <span style=color:#666>1</span>
</span></span></code></pre></div></li></ol><ol start=2><li><p>前往新的 <code>website</code> 目录，将 <code>kubernetes/website</code> 仓库设置为 <code>upstream</code>
远端：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> website
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git remote add upstream https://github.com/kubernetes/website.git
</span></span></code></pre></div></li></ol><ol start=3><li><p>确认你现在有两个仓库 <code>origin</code> 和 <code>upstream</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git remote -v
</span></span></code></pre></div><p>输出类似于：</p><pre tabindex=0><code class=language-none data-lang=none>origin	git@github.com:&lt;github_username&gt;/website.git (fetch)
origin	git@github.com:&lt;github_username&gt;/website.git (push)
upstream	https://github.com/kubernetes/website.git (fetch)
upstream	https://github.com/kubernetes/website.git (push)
</code></pre></li></ol><ol start=4><li><p>从你的克隆副本取回 <code>origin/main</code> 分支，从 <code>kubernetes/website</code> 取回 <code>upstream/main</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git fetch origin
</span></span><span style=display:flex><span>git fetch upstream
</span></span></code></pre></div><p>这样可以确保你本地的仓库在开始工作前是最新的。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>此工作流程与 <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/github-workflow.md>Kubernetes 社区 GitHub 工作流</a>有所不同。
在推送你的变更到你的远程派生副本库之前，你不需要将你本地的 <code>main</code> 与 <code>upstream/main</code> 合并。</div></li></ol><h3 id=create-a-branch>创建一个分支</h3><ol><li><p>决定你要基于哪个分支来开展工作：</p><ul><li>针对已有内容的改进，请使用 <code>upstream/main</code>。</li><li>针对已有功能特性的新文档内容，请使用 <code>upstream/main</code>。</li><li>对于本地化内容，请基于本地化的约定。
可参考<a href=/zh-cn/docs/contribute/localization/>本地化 Kubernetes 文档</a>了解详细信息。</li><li>对于在下一个 Kubernetes 版本中新功能特性的文档，使用独立的功能特性分支。
参考<a href=/zh-cn/docs/contribute/new-content/new-features/>为发行版本撰写功能特性文档</a>了解更多信息。</li><li>对于很多 SIG Docs 共同参与的，需较长时间才完成的任务，例如内容的重构，
请使用为该任务创建的特性分支。</li></ul><p>如果你在选择分支上需要帮助，请在 <code>#sig-docs</code> Slack 频道提问。</p></li></ol><ol start=2><li><p>基于第 1 步中选定的分支，创建新分支。
下面的例子假定基础分支是 <code>upstream/main</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git checkout -b &lt;my_new_branch&gt; upstream/main
</span></span></code></pre></div></li></ol><ol start=3><li>使用文本编辑器进行修改。</li></ol><p>在任何时候，都可以使用 <code>git status</code> 命令查看你所改变了的文件列表。</p><h3 id=commit-your-changes>提交你的变更</h3><p>当你准备好发起拉取请求（PR）时，提交你所做的变更。</p><ol><li><p>在你的本地仓库中，检查你要提交的文件：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git status
</span></span></code></pre></div><p>输出类似于：</p><pre tabindex=0><code class=language-none data-lang=none>On branch &lt;my_new_branch&gt;
Your branch is up to date with &#39;origin/&lt;my_new_branch&gt;&#39;.

Changes not staged for commit:
(use &#34;git add &lt;file&gt;...&#34; to update what will be committed)
(use &#34;git checkout -- &lt;file&gt;...&#34; to discard changes in working directory)

modified:   content/en/docs/contribute/new-content/contributing-content.md

no changes added to commit (use &#34;git add&#34; and/or &#34;git commit -a&#34;)
</code></pre></li></ol><ol start=2><li><p>将 <strong>Changes not staged for commit</strong> 下列举的文件添加到提交中：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git add &lt;your_file_name&gt;
</span></span></code></pre></div><p>针对每个文件重复此操作。</p></li></ol><ol start=3><li><p>添加完所有文件之后，创建一个提交（commit）：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git commit -m <span style=color:#b44>&#34;Your commit message&#34;</span>
</span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 不要在提交消息中使用任何 <a href=https://help.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword>GitHub 关键词</a>。
你可以在后续的 PR 描述中使用这些关键词。</div></li></ol><ol start=4><li><p>推送你本地分支及其中的新提交到你的远程派生副本库：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git push origin &lt;my_new_branch&gt;
</span></span></code></pre></div></li></ol><h3 id=preview-locally>在本地预览你的变更</h3><p>在推送变更或者发起 PR 之前在本地查看一下预览是个不错的主意。
通过预览你可以发现构建错误或者 Markdown 格式问题。</p><p>你可以构建网站的容器镜像或者在本地运行 Hugo。
构建容器镜像的方式比较慢，不过能够显示 <a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>Hugo 短代码（shortcodes）</a>，
因此对于调试是很有用的。</p><ul class="nav nav-tabs" id=tab-with-hugo role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-hugo-0 role=tab aria-controls=tab-with-hugo-0 aria-selected=true>在容器内执行 Hugo</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-hugo-1 role=tab aria-controls=tab-with-hugo-1>在命令行执行 Hugo</a></li></ul><div class=tab-content id=tab-with-hugo><div id=tab-with-hugo-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-hugo-0><p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 下面的命令中使用 Docker 作为默认的容器引擎。
如果需要重载这一行为，可以设置 <code>CONTAINER_ENGINE</code> 环境变量。</div><ol><li><p>在本地构建容器镜像
<em>如果你正在测试对 Hugo 工具本身的更改，则仅需要此步骤</em></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#080;font-style:italic># 在终端窗口中执行（如果有需要）</span>
</span></span><span style=display:flex><span>make container-image
</span></span></code></pre></div></li></ol><ol start=2><li><p>在容器中启动 Hugo：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#080;font-style:italic># 在终端窗口中执行</span>
</span></span><span style=display:flex><span>make container-serve
</span></span></code></pre></div></li></ol><ol start=3><li><p>启动浏览器，浏览 <code>https://localhost:1313</code>。
Hugo 会监测文件的变更并根据需要重新构建网站。</p></li><li><p>要停止本地 Hugo 实例，可返回到终端并输入 <code>Ctrl+C</code>，或者关闭终端窗口。</p></li></ol></div><div id=tab-with-hugo-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-hugo-1><p><p>另一种方式是，在你的本地计算机上安装并使用 <code>hugo</code> 命令：</p><ol><li><p>安装 <a href=https://raw.githubusercontent.com/kubernetes/website/main/netlify.toml><code>website/netlify.toml</code></a>
文件中指定的 <a href=https://gohugo.io/getting-started/installing/>Hugo</a> 版本。</p></li><li><p>如果你尚未更新你的网站仓库，则 <code>website/themes/docsy</code> 目录是空的。
如果本地缺少主题的副本，则该站点无法构建。
要更新网站主题，运行以下命令：</p></li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git submodule update --init --recursive --depth <span style=color:#666>1</span>
</span></span></code></pre></div><ol start=3><li><p>启动一个终端窗口，进入 Kubernetes 网站仓库目录，启动 Hugo 服务器：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;path_to_your_repo&gt;/website
</span></span><span style=display:flex><span>hugo server --buildFuture
</span></span></code></pre></div></li></ol><ol start=4><li><p>在浏览器的地址栏输入： <code>https://localhost:1313</code>。
Hugo 会监测文件的变更并根据需要重新构建网站。</p></li><li><p>要停止本地 Hugo 实例，返回到终端窗口并输入 <code>Ctrl+C</code> 或者关闭终端窗口。</p></li></ol></div></div><h3 id=open-a-pr>从你的克隆副本向 kubernetes/website 发起拉取请求（PR）</h3><p>图 3 显示了从你的克隆副本向 K8s/website 发起 PR 的步骤。
详细信息如下。</p><figure><div class=mermaid>flowchart LR
subgraph first[ ]
direction TB
1[1. 前往 K8s/website 仓库] --> 2[2. 选择 New Pull Request]
2 --> 3[3. 选择 compare across forks]
3 --> 4[4. 从 head repository 下拉菜单<br>选择你的克隆副本]
end
subgraph second [ ]
direction TB
5[5. 从 compare 下拉菜单<br>选择你的分支] --> 6[6. 选择 Create Pull Request]
6 --> 7[7. 为你的 PR<br>添加一个描述]
7 --> 8[8. 选择 Create pull request]
end
first --> second
classDef grey fill:#dddddd,stroke:#ffffff,stroke-width:px,color:#000000, font-size:15px;
classDef white fill:#ffffff,stroke:#000,stroke-width:px,color:#000,font-weight:bold
class 1,2,3,4,5,6,7,8 grey
class first,second white</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 3. 从你的克隆副本向 K8s/website 发起一个 PR 的步骤。</p><ol><li><p>在 Web 浏览器中，前往 <a href=https://github.com/kubernetes/website/><code>kubernetes/website</code></a> 仓库；</p></li><li><p>点击 <strong>New Pull Request</strong>；</p></li><li><p>选择 <strong>compare across forks</strong>；</p></li><li><p>从 <strong>head repository</strong> 下拉菜单中，选取你的派生仓库；</p></li><li><p>从 <strong>compare</strong> 下拉菜单中，选择你的分支；</p></li><li><p>点击 <strong>Create Pull Request</strong>；</p></li><li><p>为你的拉取请求添加一个描述：</p><ul><li><p><strong>Title</strong> （不超过 50 个字符）：总结变更的目的；</p></li><li><p><strong>Description</strong>：给出变更的详细信息；</p><ul><li>如果存在一个相关联的 GitHub Issue，可以在描述中包含 <code>Fixes #12345</code> 或
<code>Closes #12345</code>。GitHub 的自动化设施能够在当前 PR 被合并时自动关闭所提及
的 Issue。如果有其他相关联的 PR，也可以添加对它们的链接。</li><li>如果你特别希望获得某方面的建议，可以在描述中包含你希望评阅人思考的问题。</li></ul></li></ul></li><li><p>点击 <strong>Create pull request</strong> 按钮。</p></li></ol><p>祝贺你！你的拉取请求现在出现在 <a href=https://github.com/kubernetes/website/pulls>Pull Requests</a> 列表中了！</p><p>在发起 PR 之后，GitHub 会执行一些自动化的测试，并尝试使用
<a href=https://www.netlify.com/>Netlify</a> 部署一个预览版本。</p><ul><li>如果 Netlify 构建操作失败，可选择 <strong>Details</strong> 了解详细信息。</li><li>如果 Netlify 构建操作成功，选择 <strong>Details</strong> 会打开 Kubernetes 的一个预览版本，
其中包含了你所作的变更。评阅人也使用这一功能来检查你的变更。</li></ul><p>GitHub 也会自动为 PR 分派一些标签，以帮助评阅人。
如果有需要，你也可以向 PR 添加标签。
欲了解相关详细信息，可以参考
<a href=/zh-cn/docs/contribute/review/for-approvers/#adding-and-removing-issue-labels>添加和删除 Issue 标签</a>。</p><h3 id=addressing-feedback-locally>在本地处理反馈</h3><ol><li><p>在本地完成修改之后，可以修补（amend）你之前的提交：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git commit -a --amend
</span></span></code></pre></div><ul><li><code>-a</code>：提交所有修改</li><li><code>--amend</code>：对前一次提交进行增补，而不是创建新的提交</li></ul></li></ol><ol start=2><li><p>如果有必要，更新你的提交消息；</p></li><li><p>使用 <code>git push origin &lt;my_new_branch></code> 来推送你的变更，重新触发 Netlify 测试。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 如果你使用 <code>git commit -m</code> 而不是增补参数，在 PR 最终合并之前你必须
<a href=#squashing-commits>squash 你的提交</a>。</div></li></ol><h4 id=changes-from-reviewers>来自评阅人的修改</h4><p>有时评阅人会向你的 PR 中提交修改。在作出其他修改之前，请先取回这些提交。</p><ol><li><p>从你的远程派生副本仓库取回提交，让你的工作分支基于所取回的分支：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git fetch origin
</span></span><span style=display:flex><span>git rebase origin/&lt;your-branch-name&gt;
</span></span></code></pre></div></li></ol><ol start=2><li><p>变更基线（rebase）操作完成之后，强制推送本地的新改动到你的派生仓库：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git push --force-with-lease origin &lt;your-branch-name&gt;
</span></span></code></pre></div></li></ol><h4 id=merge-conflicts-and-rebasing>合并冲突和重设基线</h4><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 要了解更多信息，可参考
<a href=https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging#_basic_merge_conflicts>Git Branching - Basic Branching and Merging</a>、
<a href=https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging>Advanced Merging</a>，
或者在 <code>#sig-docs</code> Slack 频道寻求帮助。</div><p>如果另一个贡献者在别的 PR 中提交了对同一文件的修改，这可能会造成合并冲突。
你必须在你的 PR 中解决所有合并冲突。</p><ol><li><p>更新你的派生副本，重设本地分支的基线：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git fetch origin
</span></span><span style=display:flex><span>git rebase origin/&lt;your-branch-name&gt;
</span></span></code></pre></div><p>之后强制推送修改到你的派生副本仓库：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git push --force-with-lease origin &lt;your-branch-name&gt;
</span></span></code></pre></div></li></ol><ol start=2><li><p>从 <code>kubernetes/website</code> 的 <code>upstream/main</code> 分支取回更改，然后重设本地分支的基线：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git fetch upstream
</span></span><span style=display:flex><span>git rebase upstream/main
</span></span></code></pre></div></li></ol><ol start=3><li><p>检查重设基线操作之后的状态：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git status
</span></span></code></pre></div><p>你会看到一组存在冲突的文件。</p></li></ol><ol start=4><li><p>打开每个存在冲突的文件，查找冲突标记：<code>>>></code>、<code>&lt;&lt;&lt;</code> 和 <code>===</code>。
解决完冲突之后删除冲突标记。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>进一步的详细信息可参见
<a href=https://git-scm.com/docs/git-merge#_how_conflicts_are_presented>冲突是怎样表示的</a>.</div></li></ol><ol start=5><li><p>添加文件到变更集合：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git add &lt;filename&gt;
</span></span></code></pre></div></li></ol><ol start=6><li><p>继续执行基线变更（rebase）操作：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git rebase --continue
</span></span></code></pre></div></li></ol><ol start=7><li><p>根据需要重复步骤 2 到 5。</p><p>在应用完所有提交之后，<code>git status</code> 命令会显示 rebase 操作完成。</p></li></ol><ol start=8><li><p>将分支强制推送到你的派生仓库：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git push --force-with-lease origin &lt;your-branch-name&gt;
</span></span></code></pre></div><p>PR 不再显示存在冲突。</p></li></ol><h3 id=squashing-commits>压缩（Squashing）提交</h3><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>要了解更多信息，可参看
<a href=https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History>Git Tools - Rewriting History</a>，
或者在 <code>#sig-docs</code> Slack 频道寻求帮助。</div><p>如果你的 PR 包含多个提交（commits），你必须将其压缩成一个提交才能被合并。
你可以在 PR 的 <strong>Commits</strong> Tab 页面查看提交个数，也可以在本地通过
<code>git log</code> 命令查看提交个数。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>本主题假定使用 <code>vim</code> 作为命令行文本编辑器。</div><ol><li><p>启动一个交互式的 rebase 操作：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git rebase -i HEAD~&lt;number_of_commits_in_branch&gt;
</span></span></code></pre></div><p>压缩提交的过程也是一种重设基线的过程。
这里的 <code>-i</code> 开关告诉 git 你希望交互式地执行重设基线操作。
<code>HEAD~&lt;number_of_commits_in_branch</code> 表明在 rebase 操作中查看多少个提交。</p><p>输出类似于；</p><pre tabindex=0><code class=language-none data-lang=none>pick d875112ca Original commit
pick 4fa167b80 Address feedback 1
pick 7d54e15ee Address feedback 2

# Rebase 3d18sf680..7d54e15ee onto 3d183f680 (3 commands)

...

# These lines can be re-ordered; they are executed from top to bottom.
</code></pre><p>输出的第一部分列举了重设基线操作中的提交。
第二部分给出每个提交的选项。
改变单词 <code>pick</code> 就可以改变重设基线操作之后提交的状态。</p><p>就重设基线操作本身，我们关注 <code>squash</code> 和 <code>pick</code> 选项。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>进一步的详细信息可参考 <a href=https://git-scm.com/docs/git-rebase#_interactive_mode>Interactive Mode</a>。</div></li></ol><ol start=2><li><p>开始编辑文件。</p><p>修改原来的文本：</p><pre tabindex=0><code class=language-none data-lang=none>pick d875112ca Original commit
pick 4fa167b80 Address feedback 1
pick 7d54e15ee Address feedback 2
</code></pre><p>使之成为：</p><pre tabindex=0><code class=language-none data-lang=none>pick d875112ca Original commit
squash 4fa167b80 Address feedback 1
squash 7d54e15ee Address feedback 2
</code></pre><p>以上编辑操作会压缩提交 <code>4fa167b80 Address feedback 1</code> 和 <code>7d54e15ee Address feedback 2</code>
到 <code>d875112ca Original commit</code> 中，只留下 <code>d875112ca Original commit</code> 成为时间线中的一部分。</p></li></ol><ol start=3><li><p>保存文件并退出编辑器。</p></li><li><p>推送压缩后的提交：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git push --force-with-lease origin &lt;branch_name&gt;
</span></span></code></pre></div></li></ol><h2 id=contribute-to-other-repos>贡献到其他仓库</h2><p><a href=https://github.com/kubernetes>Kubernetes 项目</a>包含大约 50 多个仓库。
这些仓库中很多都有文档：提供给最终用户的帮助文本、错误信息、API 参考或者代码注释等。</p><p>如果你发现有些文本需要改进，可以使用 GitHub 来搜索 Kubernetes 组织下的所有仓库。
这样有助于发现要在哪里提交 Issue 或 PR。</p><p>每个仓库有其自己的流程和过程。在登记 Issue 或者发起 PR 之前，
记得阅读仓库可能存在的 <code>README.md</code>、<code>CONTRIBUTING.md</code> 和
<code>code-of-conduct.md</code> 文件。</p><p>大多数仓库都有自己的 Issue 和 PR 模板。
通过查看一些待解决的 Issue 和 PR，
你可以大致了解协作的流程。
在登记 Issue 或提出 PR 时，务必尽量填充所给的模板，多提供详细信息。</p><h2 id=接下来>接下来</h2><ul><li>阅读<a href=/zh-cn/docs/contribute/review/reviewing-prs>评阅</a>节，学习评阅过程。</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-10ed45584b496b99003f299b4614ff78>2.2 - 为发行版本撰写功能特性文档</h1><p>Kubernetes 的每个主要版本发布都会包含一些需要文档说明的新功能。
新的发行版本也会对已有功能特性和文档（例如将某功能特性从 Alpha 升级为
Beta）进行更新。</p><p>通常，负责某功能特性的 SIG 要为功能特性的文档草拟文档，并针对 <code>kubernetes/website</code>
仓库的合适的开发分支发起拉取请求。
SIG Docs 团队会提供文字方面的反馈意见，或者直接编辑文档草稿。
本节讨论两个小组在分支方面和发行期间所遵从的流程方面的约定。</p><h2 id=for-documentation-contributors>对于文档贡献者</h2><p>一般而言，文档贡献者不会为某个发行版本从头撰写文档。
相反，他们会与开发该功能特性的 SIG 团队一起，对文档草稿进行润色，
使之符合发布条件。</p><p>在你选定了某个功能特性，为其撰写文档（主笔或辅助），请在 <code>#sig-docs</code> Slack 频道、SIG Docs 的每周例会上，
或者在功能特性对应的 PR 上提出咨询。如果继续工作是没有问题的，
你可以使用<a href=/zh-cn/docs/contribute/review/for-approvers/#commit-into-another-person-s-pr>提交到他人的 PR</a>
所述的某个技巧参与 PR 的编辑工作。</p><h3 id=find-out-about-upcoming-features>了解即将发布的功能特性</h3><p>要了解即将发布的功能特性，可以参加每周的 SIG Release 例会
（参考<a href=/zh-cn/community/>社区</a>页面，了解即将召开的会议），
监视 <a href=https://github.com/kubernetes/sig-release/>kubernetes/sig-release</a>
中与发行相关的文档。
每个发行版本在
<a href=https://github.com/kubernetes/sig-release/tree/master/releases>/sig-release/tree/master/releases/</a>
下都有一个对应的子目录。
该子目录包含了发行版本的时间计划、发行公告的草稿以及列举发行团队名单的文档。</p><p>发行时间计划文件中包含到所有其他文档、会议、会议记录及发行相关的里程碑的链接。
其中也包含关于发行版本的目标列表、时间线，以及当前发行版本中就绪的特殊流程的信息。
文档末尾附近定义了若干与该发行版本有关的术语。</p><p>此文档也包含到 <strong>功能特性跟踪清单</strong> 的链接。
这一清单是了解哪些功能特性计划进入某发行版本的正式途径。</p><p>发行团队文档列举了哪些人扮演着各个发行版本的不同角色。
如果不清楚要联系谁来讨论特定的功能特性或者回答你的问题，
你可以参加发行团队的会议，提出你的问题，或者联系发行团队的牵头人，
这样他们就可以帮你找到正确的联系人。</p><p>发行说明草稿是用来发现与特定发行版本相关的功能特性、变更、废弃以及其他信息的好来源。
由于在发行周期的后段该文档的内容才会最终定稿，参考其中的信息时请谨慎。</p><h3 id=feature-tracking-sheet>特性跟踪清单</h3><p>针对<a href=https://github.com/kubernetes/sig-release/tree/master/releases>给定 Kubernetes 发行版本</a>
特性跟踪清单中列举的是计划包含于该版本中的每个功能特性。
每一行中都包含特性的名称、特性对应的主要 GitHub Issue，其稳定性级别（ALpha、
Beta 或 Stable）、负责实现该特性的 SIG 和个人、是否该特性需要文档、
该特性的发行说明草稿以及该特性是否已经被合并等等。阅读此清单时请注意：</p><ul><li>Beta 和 Stable 功能特性通常比 Alpha 特性更为需要文档支持。</li><li>如果某功能特性尚未被合并，就很难测试或者为其撰写文档。
对于对应的 PR 而言，也很难讲特性是否完全实现。</li><li>确定某个功能特性是否需要文档的过程是一个手动的过程。
即使某个功能特性没有标记需要文档，你仍可能需要为其提供文档。</li></ul><h2 id=for-developers-or-other-sig-members>针对开发人员或其他 SIG 成员</h2><p>本节中的信息是针对为发行版本中新功能特性撰写文档的来自其他 Kubernetes SIG 的成员。</p><p>如果你是某个 SIG 的成员，负责为 Kubernetes 开发某一项新的功能特性，你需要与
SIG Docs 一起工作，确保这一新功能在发行之前已经为之撰写文档。
请参考<a href=https://github.com/kubernetes/sig-release/tree/master/releases>特性跟踪清单</a>或者
Kubernetes Slack 上的 <code>#sig-release</code> 频道，检查时间安排的细节以及截止日期。</p><h3 id=open-a-placeholder-pr>提交占位 PR</h3><ol><li>在 <code>kubernetes/website</code> 仓库上针对 <code>dev-1.26</code>
分支提交一个<strong>draft</strong> PR，其中包含较少的、待以后慢慢补齐的提交内容。
要创建一个草案（draft）状态的 PR，可以在 Create Pull Request 下拉菜单中选择
<strong>Create Draft Pull Request</strong>，然后点击 <strong>Draft Pull Request</strong>。</li><li>编辑拉取请求描述以包括指向 <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a> PR
和 <a href=https://github.com/kubernetes/enhancements>kubernetes/enhancements</a> 问题的链接。</li><li>在对应的 <a href=https://github.com/kubernetes/enhancements>kubernetes/enhancements</a>
issue 上添加评论，附上新 PR 的链接以便管理此发行版本的人员能够得到通知，
了解特性的文档正在被撰写，在新的发行版本中要跟踪其进展。</li></ol><p>如果对应的功能特性不需要任何类型的文档变更，请通过在 <code>#sig-release</code> Slack
频道声明这一点以确保 sig-release 团队了解。
如果功能特性确实需要文档，而没有对应的 PR
提交，该功能特性可能会被从里程碑中移除。</p><h3 id=pr-ready-for-review>PR 准备好评阅</h3><p>时机成熟时，你可以在你的占位 PR 中完成功能特性文档，并将 PR 的状态从草案状态更改为
<strong>Ready for Review</strong>。要将一个拉取请求标记为已准备好评阅，
转到页面的 merge 框，点击 <strong>Ready for review</strong>。</p><p>尽可能为功能特性提供详尽文档以及使用说明。如果你需要文档组织方面的帮助，
请在 <code>#sig-docs</code> Slack 频道中提问。</p><p>当你已经完成内容撰写，指派给你的功能特性的文档贡献者会去评阅文档。
为了确保技术准确性，内容可能还需要相应 SIG 的技术审核。
尽量利用他们所给出的建议，改进文档内容以达到发布就绪状态。</p><p>如果你在处理的功能特性处于 Alpha 或 Beta 阶段并由某特性门控控制，
请确保在你的 PR 中，该特性门控被添加到
<a href=/zh-cn/docs/reference/command-line-tools-reference/feature-gates/#feature-gates-for-alpha-or-beta-features>Alpha/Beta 特性门控</a>表格中。
对于新的特性门控选项，需要为该特性门控提供一段描述。
如果所处理的功能特性已经进入正式发布（GA）状态或者被废弃，
请确保将其从
<a href=/zh-cn/docs/reference/command-line-tools-reference/feature-gates/#feature-gates-for-alpha-or-beta-features>Alpha 和 Beta 状态的特性门控</a>表格迁移到
<a href=/zh-cn/docs/reference/command-line-tools-reference/feature-gates-removed/#feature-gates-that-are-removed>已毕业和已废弃的特性门控</a>，
并确保迁移后保留其 Alpha、Beta 版本变迁历史。</p><p>如果你的功能特性需要文档，而你未提交初版文档，该特性可能会被从里程碑中删除。</p><h3 id=all-prs-reviewd-and-ready-to-merge>所有 PR 均经过评审且合并就绪</h3><p>如果你的 PR 在发行截止日期之前尚未合并到 <code>dev-1.26</code> 分支，
请与负责管理该发行版本的文档团队成员一起合作，在截止期限之前将其合并。
如果功能特性需要文档，而文档并未就绪，该特性可能会被从里程碑中去除。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-563096c308e08ee8545a117b10f2254a>2.3 - 提交博客和案例分析</h1><p>任何人都可以撰写博客并提交评阅。
案例分析则在被批准之前需要更多的评阅。</p><h2 id=the-kubernetes-blog>Kubernetes 博客</h2><p>Kubernetes 博客用于项目发布新功能特性、
社区报告以及其他一些可能对整个社区很重要的新闻。
其读者包括最终用户和开发人员。
大多数博客的内容是关于核心项目中正在发生的事情，
不过我们也鼓励你提交一些有关生态系统中其他时事的博客。</p><p>任何人都可以撰写博客并提交评阅。</p><h3 id=submit-a-post>提交博文</h3><p>博文不应该是商业性质的，应该包含广泛适用于 Kubernetes 社区的原创内容。
合适的博客内容包括：</p><ul><li>Kubernetes 新能力</li><li>Kubernetes 项目更新信息</li><li>来自特别兴趣小组（Special Interest Groups, SIG）的更新信息</li><li>教程和演练</li><li>有关 Kubernetes 的纲领性理念</li><li>Kubernetes 合作伙伴 OSS 集成信息</li><li><strong>仅限原创内容</strong></li></ul><p>不合适的博客内容包括：</p><ul><li>供应商产品推介</li><li>不含集成信息和客户故事的合作伙伴更新信息</li><li>已发表的博文（可刊登博文译稿）</li></ul><p>要提交博文，你可以遵从以下步骤：</p><ol><li>如果你还未签署 CLA，请先<a href=https://kubernetes.io/docs/contribute/start/#sign-the-cla>签署 CLA</a>。</li><li>查阅<a href=https://github.com/kubernetes/website/tree/master/content/en/blog/_posts>网站仓库</a>中现有博文的 Markdown 格式。</li><li>在你所选的文本编辑器中撰写你的博文。</li><li>在第 2 步的同一链接上，点击 <strong>Create new file</strong> 按钮。
将你的内容粘贴到编辑器中。为文件命名，使其与提议的博文标题一致，
但不要在文件名中写日期。
博客评阅者将与你一起确定最终的文件名和发表博客的日期。</li><li>保存文件时，GitHub 将引导你完成 PR 流程。</li><li>博客评阅者将评阅你提交的内容，并与你一起处理反馈和最终细节。
当博文被批准后，博客将排期发表。</li></ol><h3 id=guidelines-and-expectations>指导原则和期望</h3><ul><li>博客内容不可以是销售用语。<ul><li>文章内容必须是对整个 Kubernetes 社区中很多人都有参考意义。
例如，所提交的文章应该关注上游的 Kubernetes 项目本身，而不是某个厂商特定的配置。
请参阅<a href=/zh-cn/docs/contribute/style/content-guide/#what-s-allowed>文档风格指南</a>
以了解哪些内容是 Kubernetes 所允许的。</li><li>链接应该主要指向官方的 Kubernetes 文档。
当引用外部信息时，链接应该是多样的。
例如，所提交的博客文章中不可以只包含指向某个公司的博客的链接。</li><li>有些时候，这是一个比较棘手的权衡过程。
<a href=https://kubernetes.slack.com/messages/sig-docs-blog/>博客团队</a>的存在目的即是为
Kubernetes 博客提供文章是否合适的指导意见。
所以，需要帮助的时候不要犹豫。</li></ul></li></ul><ul><li>博客内容并非在某特定日期发表。<ul><li>文章会交由社区自愿者评阅。我们会尽力满足特定的时限要求，只是无法就此作出承诺。</li><li>Kubernetes 项目的很多核心组件会在发布窗口期内提交博客文章，导致发表时间被推迟。
因此，请考虑在发布周期内较为平静的时间段提交博客文章。</li><li>如果你希望就博文发表日期上进行较大范围的协调，请联系
<a href=https://www.cncf.io/about/contact/>CNCF 推广团队</a>。
这也许是比提交博客文章更合适的一种选择。</li><li>有时，博客的评审可能会堆积起来。如果你觉得你的文章没有引起该有的重视，你可以通过
<a href=https://kubernetes.slack.com/messages/sig-docs-blog/><code>#sig-docs-blog</code> Slack 频道</a>联系博客团队，
以获得实时反馈。</li></ul></li></ul><ul><li>博客内容应该对 Kubernetes 用户有用。<ul><li>与参与 Kubernetes SIG 活动相关，或者与这类活动的结果相关的主题通常是切题的。
请参考 <a href=https://github.com/kubernetes/community/blob/master/communication/contributor-comms/storytelling-resources/blog-guidelines.md#upstream-marketing-blog-guidelines>贡献者沟通（Contributor Comms）团队</a>的工作以获得对此类博文的支持。</li><li>Kubernetes 的组件都有意设计得模块化，因此使用类似 CNI、CSI 等集成点的工具通常都是切题的。</li><li>关于其他 CNCF 项目的博客可能切题也可能不切题。
我们建议你在提交草稿之前与博客团队联系。<ul><li>很多 CNCF 项目有自己的博客。这些博客通常是更好的选择。
有些时候，某个 CNCF 项目的主要功能特性或者里程碑的变化可能是用户有兴趣在
Kubernetes 博客上阅读的内容。</li></ul></li><li>关于为 Kubernetes 项目做贡献的博客内容应该放在 <a href=https://kubernetes.dev>Kubernetes 贡献者站点</a>上。</li></ul></li></ul><ul><li>博客文章应该是原创内容。<ul><li>官方博客的目的不是将某第三方已发表的内容重新作为新内容发表。</li><li>博客的<a href=https://github.com/kubernetes/website/blob/main/LICENSE>授权协议</a>
的确允许出于商业目的来使用博客内容；但并不是所有可以商用的内容都适合在这里发表。</li></ul></li><li>博客文章的内容应该在一段时间内不过期。<ul><li>考虑到项目的开发速度，我们希望读者看到的是不必更新就能保持长期准确的内容。</li><li>有时候，在官方文档中添加一个教程或者进行内容更新都是比博客更好的选择。<ul><li>可以考虑在博客文章中将较长技术内容的重点放在鼓励读者自行尝试上，
或者放在问题域本身或者为什么读者应该关注某个话题上。</li></ul></li></ul></li></ul><h3 id=technical-consideration-for-submitting-a-blog-post>提交博客的技术考虑</h3><p>所提交的内容应该是 Markdown 格式的，以便能够被 <a href=https://gohugo.io/>Hugo</a> 生成器来处理。
关于如何使用相关技术，有<a href=https://gohugo.io/documentation/>很多可用的资源</a>。</p><p>我们知道这一需求可能给那些对此过程不熟悉的朋友们带来不便，
我们也一直在寻找降低难度的解决方案。
如果你有降低难度的好主意，请自荐帮忙。</p><p>SIG Docs
<a href=https://github.com/kubernetes/community/tree/master/sig-docs/blog-subproject>博客子项目</a>负责管博客的评阅过程。
更多信息可参考<a href=https://github.com/kubernetes/community/tree/master/sig-docs/blog-subproject#submit-a-post>提交博文</a>。</p><p>要提交博文，你可以遵从以下指南：</p><ul><li><p><a href=/zh-cn/docs/contribute/new-content/open-a-pr/#fork-the-repo>发起一个包含新博文的 PR</a>。
新博文要创建于 <a href=https://github.com/kubernetes/website/tree/main/content/en/blog/_posts><code>content/en/blog/_posts</code></a> 目录下。</p></li><li><p>确保你的博文遵从合适的命名规范，并带有下面的引言（元数据）信息：</p><ul><li><p>Markdown 文件名必须符合格式 <code>YYYY-MM-DD-Your-Title-Here.md</code>。
例如，<code>2020-02-07-Deploying-External-OpenStack-Cloud-Provider-With-Kubeadm.md</code>。</p></li><li><p><strong>不要</strong>在文件名中包含多余的句点。类似 <code>2020-01-01-whats-new-in-1.19.md</code>
这类文件名会导致文件无法正确打开。</p></li><li><p>引言部分必须包含以下内容：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>layout</span>:<span style=color:#bbb> </span>blog<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>title</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Your Title Here&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>date</span>:<span style=color:#bbb> </span>YYYY-MM-DD<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>slug</span>:<span style=color:#bbb> </span>text-for-URL-link-here-no-spaces<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span></span></span></code></pre></div></li></ul><ul><li>第一个或者最初的提交的描述信息中应该包含一个所作工作的简单摘要，
并作为整个博文的一个独立描述。
请注意，对博文的后续修改编辑都会最终合并到此主提交中，所以此提交的描述信息
应该尽量有用。<ul><li>较好的提交消息（Commit Message）示例：<ul><li><em>Add blog post on the foo kubernetes feature</em></li><li><em>blog: foobar announcement</em></li></ul></li><li>较差的提交消息示例：<ul><li><em>Add blog post</em></li><li><em>.</em></li><li><em>initial commit</em></li><li><em>draft post</em></li></ul></li></ul></li><li>博客团队会对 PR 内容进行评阅，为你提供一些评语以便修订。
之后，机器人会将你的博文合并并发表。</li></ul><ul><li>如果博文的内容仅包含预期无需更新就能对读者保持精准的内容，
则可以将这篇博文标记为长期有效（evergreen），
且免除添加博文发表一年后内容过期的自动警告。<ul><li><p>要将一篇博文标记为长期有效，请在引言部分添加以下标记：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>evergreen</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span></code></pre></div></li><li><p>不应标记为长期有效的内容示例：</p><ul><li>仅适用于特定发行版或版本而不是所有未来版本的<strong>教程</strong></li><li>对非正式发行（Pre-GA）API 或功能特性的引用</li></ul></li></ul></li></ul></li></ul><h2 id=submit-a-case-study>提交案例分析</h2><p>案例分析用来概述组织如何使用 Kubernetes 解决现实世界的问题。
Kubernetes 市场化团队和 <a class=glossary-tooltip title='云原生计算基金会（Cloud Native Computing Foundation）' data-toggle=tooltip data-placement=top href=https://cncf.io/ target=_blank aria-label=CNCF>CNCF</a> 成员会与你一起工作，
撰写所有的案例分析。</p><p>请查看<a href=https://github.com/kubernetes/website/tree/main/content/zh-cn/case-studies>现有案例分析</a>的源码。</p><p>参考<a href=https://github.com/cncf/foundation/blob/master/case-study-guidelines.md>案例分析指南</a>，
根据指南中的注意事项提交你的 PR 请求。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7667825f238ad55850e95e02d21e9772>3 - 评阅变更</h1><p>本节描述如何对内容进行评阅。</p></div><div class=td-content><h1 id=pg-bf4cdc925c4f306d4dc42184255aab58>3.1 - 评审 PR</h1><p>任何人均可评审文档的拉取请求。
访问 Kubernetes 网站仓库的 <a href=https://github.com/kubernetes/website/pulls>pull requests</a> 部分，
可以查看所有待处理的拉取请求（PR）。</p><p>评审文档 PR 是将你自己介绍给 Kubernetes 社区的一种很好的方式。
它将有助于你学习代码库并与其他贡献者之间建立相互信任关系。</p><p>在评审之前，可以考虑：</p><ul><li>阅读<a href=/zh-cn/docs/contribute/style/content-guide/>内容指南</a>和
<a href=/zh-cn/docs/contribute/style/style-guide/>样式指南</a>以便给出有价值的评论。</li><li>了解 Kubernetes 文档社区中不同的<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/>角色和职责</a>。</li></ul><h2 id=before-you-begin>准备工作</h2><p>在你开始评审之前：</p><ul><li>阅读 <a href=https://github.com/cncf/foundation/blob/main/code-of-conduct.md>CNCF 行为准则</a>。
确保你会始终遵从其中约定。</li><li>保持有礼貌、体谅他人，怀助人为乐初心。</li><li>评论时若给出修改建议，也要兼顾 PR 的积极方面。</li><li>保持同理心，多考虑他人收到评审意见时的可能反应。</li><li>假定大家都是好意的，通过问问题澄清意图。</li><li>如果你是有经验的贡献者，请考虑和新贡献者一起合作，提高其产出质量。</li></ul><h2 id=review-process>评审过程</h2><p>一般而言，应该使用英语来评审 PR 的内容和样式。
图 1 概述了评审流程的各个步骤。
每个步骤的详细信息如下。</p><figure><div class=mermaid>flowchart LR
subgraph fourth[开始评审]
direction TB
S[ ] -.-
M[添加评论] --> N[评审变更]
N --> O[新手应该<br>选择 Comment]
end
subgraph third[选择 PR]
direction TB
T[ ] -.-
J[阅读描述<br>和评论]--> K[通过 Netlify 预览构建<br>来预览变更]
end
A[查阅待处理的 PR 清单]--> B[通过标签过滤<br>待处理的 PR]
B --> third --> fourth
classDef grey fill:#dddddd,stroke:#ffffff,stroke-width:px,color:#000000, font-size:15px;
classDef white fill:#ffffff,stroke:#000,stroke-width:px,color:#000,font-weight:bold
classDef spacewhite fill:#ffffff,stroke:#fff,stroke-width:0px,color:#000
class A,B,J,K,M,N,O grey
class S,T spacewhite
class third,fourth white</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 1. 评审流程步骤。</p><ol><li><p>前往 <a href=https://github.com/kubernetes/website/pulls>https://github.com/kubernetes/website/pulls</a>，
你会看到所有针对 Kubernetes 网站和文档的待处理 PR。</p></li><li><p>使用以下标签（组合）对待处理 PR 进行过滤：</p><ul><li><code>cncf-cla: yes</code> （建议）：由尚未签署 CLA 的贡献者所发起的 PR 不可以合并。
参考<a href=/zh-cn/docs/contribute/new-content/#sign-the-cla>签署 CLA</a> 以了解更多信息。</li><li><code>language/en</code> （建议）：仅查看英语语言的 PR。</li><li><code>size/&lt;尺寸></code>：过滤特定尺寸（规模）的 PR。
如果你刚入门，可以从较小的 PR 开始。</li></ul><p>此外，确保 PR 没有标记为尚未完成（Work in Progress）。
包含 <code>work in progress</code> 的 PR 通常还没准备好被评审。</p></li></ol><ol start=3><li><p>选定 PR 评审之后，可以通过以下方式理解所作的变更：</p><ul><li>阅读 PR 描述以理解所作变更，并且阅读所有关联的 Issues。</li><li>阅读其他评审人给出的评论。</li><li>点击 <strong>Files changed</strong> Tab 页面，查看被改变的文件和代码行。</li><li>滚动到 <strong>Conversation</strong> Tab 页面下端的 PR 构建检查节区，
预览 Netlify 预览构建中的变更。
以下是一个屏幕截图（这显示了 GitHub 的桌面版外观；
如果你在平板电脑或智能手机设备上进行评审，
GitHub 的 Web UI 会略有不同）：<figure><img src=/images/docs/github_netlify_deploy_preview.png alt="GitHub PR 详细信息，包括 Netlify 预览链接"></figure>要打开预览，请点击 <strong>deploy/netlify</strong> 行的 <strong>Details</strong> 链接。</li></ul></li></ol><ol start=4><li><p>前往 <strong>Files changed</strong> Tab 页面，开始你的评审工作。</p><ol><li><p>点击你希望评论的行旁边的 <code>+</code> 号。</p></li><li><p>填写你对该行的评论，
之后选择 <strong>Add single comment</strong>（如果你只有一条评论）
或者 <strong>Start a review</strong>（如果你还有其他评论要添加）。</p></li><li><p>评论结束时，点击页面顶部的 <strong>Review changes</strong>。
这里你可以添加你的评论结语（记得留下一些正能量的评论！）、
根据需要批准 PR、请求作者进一步修改等等。
新手应该选择 <strong>Comment</strong>。</p><ul><li>避免在完成审查后点击 "Request changes（请求修改）"按钮。
如果在完成进一步修改之前你想阻止某 PR 被合并。你可以在评论中留下一个 “/hold”。
同时在评论中说明你为什么要设置 Hold，并且在必要时指定在什么条件下可以由你或其他评审人取消 Hold。</li><li>避免在完成审查后直接点击 "Approve（批准）"按钮。
在大多数情况下，建议在评论区留下一个"/approve（批准）"的评论。</li></ul></li></ol></li></ol><h2 id=reviewing-checklist>评审清单</h2><p>评审 PR 时可以从下面的条目入手。</p><h3 id=language-and-grammar>语言和语法</h3><ul><li>是否存在明显的语言或语法错误？对某事的描述有更好的方式？<ul><li>关注作者正在更改的页面部分的语言和语法。除非作者明确打算更新整个页面，否则他们没有义务修复页面上的所有问题。</li><li>当一个 PR 更新现有页面时，你应专注于评审正在更新的页面部分。你应评审所更改内容的技术和编辑的正确性。
如果你发现页面上的一些错误与 PR 作者尝试解决的问题没有直接关系，
则应将其视为一个单独的 Issue（首先检查是否存在与此相关的 Issue）。</li><li>要特别注意那些 <strong>移动</strong> 内容的 PR。如果作者重命名一个页面或合并两个页面，
我们（Kubernetes SIG Docs）通常应避免要求该作者修复可能在所移动的内容中发现的所有语法或拼写错误。</li></ul></li><li>是否存在一些过于复杂晦涩的用词，本可以用简单词汇来代替？</li><li>是否有些用词、术语或短语可以用不带歧视性的表达方式代替？</li><li>用词和大小写方面是否遵从了<a href=/zh-cn/docs/contribute/style/style-guide/>样式指南</a>？</li><li>是否有些句子太长，可以改得更短、更简单？</li><li>是否某些段落过长，可以考虑使用列表或者表格来表达？</li></ul><h3 id=content>内容</h3><ul><li>Kubernetes 网站上是否别处已经存在类似的内容？</li><li>内容本身是否过度依赖于网站范畴之外、独立供应商或者非开源的文档？</li></ul><h3 id=Website>网站</h3><ul><li><p>PR 是否改变或者删除了某页面的标题、slug/别名或者链接锚点？
如果是这样，PR 是否会导致出现新的失效链接？
是否有其他的办法，比如改变页面标题但不改变其 slug？</p></li><li><p>PR 是否引入新的页面？如果是：</p><ul><li>该页面是否使用了正确的<a href=/zh-cn/docs/contribute/style/page-content-types/>页面内容类型</a>
及相关联的 Hugo 短代码（shortcodes）？</li><li>该页面能否在对应章节的侧面导航中显示？显示得正确么？</li><li>该页面是否应出现在<a href=/zh-cn/docs/home/>网站主页面</a>的列表中？</li></ul></li><li><p>变更是否正确出现在 Netlify 预览中了？
要对列表、代码段、表格、注释和图像等元素格外留心。</p></li></ul><h3 id=other>其他</h3><ul><li>查阅 <a href=https://www.kubernetes.dev/docs/guide/pull-requests/#trivial-edits>Trivial Edits</a>；
如果你看到某个变更在你看来是一个 Trivial Edit，请向作者指明这项政策（如果该变更确实会有所改进，那仍然可以接受）。</li><li>鼓励作者们在第一次发 PR 时修复一些空格相关的问题，在随后的 PR 中增加其他更改。
这样更便于合并和评审。尤其要注意在单个 commit 中大量空格清理附带的微小变更（如果你看到，请鼓励作者进行修复）。</li></ul><p>作为一名 Reviewer，如果你发现 PR 有一些无关紧要的小问题，例如拼写错误或不正确的空格，
可以在你的评论前面加上 <code>nit:</code>。这样做可以让作者知道该问题不是一个不得了的大问题。</p><p>如果你正在考虑批准一个 PR，并且所有剩余的反馈都被标记为 nit，那么你确实可以合并该 PR。
在这种情况下，你需要针对剩余的 nit 发帖登记一个 Issue。
考虑一下是否能把这些新 Issue 标记为
<a href=https://www.kubernetes.dev/docs/guide/help-wanted/#good-first-issue>Good First Issue</a>。
如果可以，这就是这类 Issue 的良好来源。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5f7b891275b826a0a9dc82836542a607>3.2 - 评阅人和批准人文档</h1><p>SIG Docs
<a href=/zh-cn/docs/contribute/participate/#reviewers>评阅人（Reviewers）</a>
和<a href=/zh-cn/docs/contribute/participate/#approvers>批准人（Approvers）</a>
在对变更进行评审时需要做一些额外的事情。</p><p>每周都有一个特定的文档批准人自愿负责对 PR 进行分类和评阅。
此角色称作该周的“PR 管理者（PR Wrangler）”。
相关信息可参考 <a href=https://github.com/kubernetes/website/wiki/PR-Wranglers>PR Wrangler 排班表</a>。
要成为 PR Wangler，需要参加每周的 SIG Docs 例会，并自愿报名。
即使当前这周排班没有轮到你，你仍可以评阅那些尚未被积极评阅的 PRs。</p><p>除了上述的轮值安排，后台机器人也会为基于所影响的文件来为 PR
指派评阅人和批准人。</p><h2 id=评阅-pr>评阅 PR</h2><p>Kubernetes 文档遵循 <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/owners.md#the-code-review-process>Kubernetes 代码评阅流程</a>。</p><p><a href=/zh-cn/docs/contribute/review/reviewing-prs/>评阅 PR</a> 文档中所描述的所有规程都适用，
不过评阅人和批准人还要做以下工作：</p><ul><li><p>根据需要使用 Prow 命令 <code>/assign</code> 指派特定的评阅人。如果某个 PR
需要来自代码贡献者的技术审核时，这一点非常重要。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 你可以查看 Markdown 文件的文件头，其中的 <code>reviewers</code> 字段给出了哪些人可以为文档提供技术审核。</div></li><li><p>确保 PR 遵从<a href=/zh-cn/docs/contribute/style/content-guide/>内容指南</a>和<a href=/zh-cn/docs/contribute/style/style-guide/>样式指南</a>；
如果 PR 没有达到要求，指引作者阅读指南中的相关部分。</p></li><li><p>适当的时候使用 GitHub <strong>Request Changes</strong> 选项，建议 PR 作者实施所建议的修改。</p></li><li><p>当你所提供的建议被采纳后，在 GitHub 中使用 <code>/approve</code> 或 <code>/lgtm</code> Prow 命令，改变评审状态。</p></li></ul><h2 id=提交到他人的-pr>提交到他人的 PR</h2><p>为 PR 留下评语是很有用的，不过有时候你需要向他人的 PR 提交内容。</p><p>除非他人明确请求你的帮助或者你希望重启一个被放弃很久的 PR，不要“接手”他人的工作。
尽管短期看来这样做可以提高效率，但是也剥夺了他人提交贡献的机会。</p><p>你所要遵循的流程取决于你需要编辑已经在 PR 范畴的文件，还是 PR 尚未触碰的文件。</p><p>如果处于下列情况之一，你不可以向别人的 PR 提交内容：</p><ul><li><p>如果 PR 作者是直接将自己的分支提交到
<a href=https://github.com/kubernetes/website/>https://github.com/kubernetes/website/</a>
仓库。只有具有推送权限的评阅人才可以向他人的 PR 提交内容。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 我们应鼓励作者下次将分支推送到自己的克隆副本之后再发起 PR。</div></li><li><p>PR 作者明确地禁止批准人编辑他/她的 PR。</p></li></ul><h2 id=评阅用的-prow-命令>评阅用的 Prow 命令</h2><p><a href=https://github.com/kubernetes/test-infra/blob/master/prow/README.md>Prow</a>
是基于 Kubernetes 的 CI/CD 系统，基于拉取请求（PR）的触发运行不同任务。
Prow 使得我们可以使用会话机器人一样的命令跨整个 Kubernetes 组织处理 GitHub
动作，例如<a href=#adding-and-removing-issue-labels>添加和删除标签</a>、关闭 Issues
以及指派批准人等等。你可以使用 <code>/&lt;命令名称></code> 的形式以 GitHub 评论的方式输入
Prow 命令。</p><p>评阅人和批准人最常用的 Prow 命令有：</p><table><caption style=display:none>评阅用 Prow 命令</caption><thead><tr><th style=text-align:left>Prow 命令</th><th style=text-align:left>角色限制</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left><code>/lgtm</code></td><td style=text-align:left>组织成员</td><td style=text-align:left>用来表明你已经完成 PR 的评阅并对其所作变更表示满意</td></tr><tr><td style=text-align:left><code>/approve</code></td><td style=text-align:left>批准人</td><td style=text-align:left>批准某 PR 可以合并</td></tr><tr><td style=text-align:left><code>/assign</code></td><td style=text-align:left>任何人</td><td style=text-align:left>指派某人来评阅或批准某 PR</td></tr><tr><td style=text-align:left><code>/close</code></td><td style=text-align:left>组织成员</td><td style=text-align:left>关闭 Issue 或 PR</td></tr><tr><td style=text-align:left><code>/hold</code></td><td style=text-align:left>任何人</td><td style=text-align:left>添加 <code>do-not-merge/hold</code> 标签，用来表明 PR 不应被自动合并</td></tr><tr><td style=text-align:left><code>/hold cancel</code></td><td style=text-align:left>任何人</td><td style=text-align:left>去掉 <code>do-not-merge/hold</code> 标签</td></tr></tbody></table><p>要查看可以在 PR 中使用的命令，请参阅
<a href="https://prow.k8s.io/command-help?repo=kubernetes%2Fwebsite">Prow 命令指南</a>。</p><h2 id=对-issue-进行诊断和分类>对 Issue 进行诊断和分类</h2><p>一般而言，SIG Docs 遵从 <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/issue-triage.md>Kubernetes issue 判定</a> 流程并使用相同的标签。</p><p>此 GitHub Issue
<a href="https://github.com/kubernetes/website/issues?q=is%3Aissue+is%3Aopen+-label%3Apriority%2Fbacklog+-label%3Apriority%2Fimportant-longterm+-label%3Apriority%2Fimportant-soon+-label%3Atriage%2Fneeds-information+-label%3Atriage%2Fsupport+sort%3Acreated-asc">过滤器</a>
可以用来查找需要评判的 Issues。</p><h3 id=triaging-an-issue>评判 Issue</h3><ol><li>验证 Issue 的合法性</li></ol><ul><li>确保 Issue 是关于网站文档的。某些 Issue 可以通过回答问题或者为报告者提供
资源链接来快速关闭。
参考<a href=#support-requests-or-code-bug-reports>请求支持或代码缺陷报告</a>
节以了解详细信息。</li><li>评估该 Issue 是否有价值。</li><li>如果 Issue 缺少足够的细节以至于无法采取行动，或者报告者没有通过模版提供
足够信息，可以添加 <code>triage/needs-information</code> 标签。</li><li>如果 Issue 同时标注了 <code>lifecycle/stale</code> 和 <code>triage/needs-information</code>
标签，可以直接关闭。</li></ul><ol start=2><li>添加优先级标签（
<a href=https://github.com/kubernetes/community/blob/master/contributors/guide/issue-triage.md#define-priority>Issue 判定指南</a>中有优先级标签的详细定义)</li></ol><table><caption style=display:none>Issue 标签</caption><thead><tr><th style=text-align:left>标签</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left><code>priority/critical-urgent</code></td><td style=text-align:left>应马上处理</td></tr><tr><td style=text-align:left><code>priority/important-soon</code></td><td style=text-align:left>应在 3 个月内处理</td></tr><tr><td style=text-align:left><code>priority/important-longterm</code></td><td style=text-align:left>应在 6 个月内处理</td></tr><tr><td style=text-align:left><code>priority/backlog</code></td><td style=text-align:left>可无限期地推迟，可在人手充足时处理</td></tr><tr><td style=text-align:left><code>priority/awaiting-more-evidence</code></td><td style=text-align:left>占位符，标示 Issue 可能是一个不错的 Issue，避免该 Issue 被忽略或遗忘</td></tr><tr><td style=text-align:left><code>help</code> or <code>good first issue</code></td><td style=text-align:left>适合对 Kubernetes 或 SIG Docs 经验较少的贡献者来处理。更多信息可参考<a href=https://kubernetes.dev/docs/guide/help-wanted/>需要帮助和入门候选 Issue 标签</a>。</td></tr></tbody></table><p>基于你自己的判断，你可以选择某 Issue 来处理，为之发起 PR
（尤其是那些可以很快处理或与你已经在做的工作相关的 Issue）。</p><p>如果你对 Issue 评判有任何问题，可以在 <code>#sig-docs</code> Slack 频道或者
<a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>kubernetes-sig-docs 邮件列表</a>
中提问。</p><h2 id=adding-and-removing-issue-labels>添加和删除 Issue 标签</h2><p>要添加标签，可以用以下形式对 PR 进行评论：</p><ul><li><code>/&lt;要添加的标签></code> （例如, <code>/good-first-issue</code>）</li><li><code>/&lt;标签类别> &lt;要添加的标签></code> （例如，<code>/triage needs-information</code> 或 <code>/language ja</code>）</li></ul><p>要移除某个标签，可以用以下形式对 PR 进行评论：</p><ul><li><code>/remove-&lt;要移除的标签></code> （例如，<code>/remove-help</code>）</li><li><code>/remove-&lt;标签类别> &lt;要移除的标签></code> （例如，<code>/remove-triage needs-information</code>）</li></ul><p>在以上两种情况下，标签都必须合法存在。如果你尝试添加一个尚不存在的标签，
对应的命令会被悄悄忽略。</p><p>关于所有标签的完整列表，可以参考
<a href=https://github.com/kubernetes/website/labels>Website 仓库的标签节</a>。
实际上，SIG Docs 并没有使用全部标签。</p><h3 id=issue-生命周期标签>Issue 生命周期标签</h3><p>Issues 通常都可以快速创建并关闭。
不过也有些时候，某个 Issue 被创建之后会长期处于非活跃状态。
也有一些时候，即使超过 90 天，某个 Issue 仍应保持打开状态。</p><table><caption style=display:none>Issue 生命周期标签</caption><thead><tr><th style=text-align:left>标签</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left><code>lifecycle/stale</code></td><td style=text-align:left>过去 90 天内某 Issue 无人问津，会被自动标记为停滞状态。如果 Issue 没有被 <code>/remove-lifecycle stale</code> 命令重置生命期，就会被自动关闭。</td></tr><tr><td style=text-align:left><code>lifecycle/frozen</code></td><td style=text-align:left>对应的 Issue 即使超过 90 天仍无人处理也不会进入停滞状态。用户手动添加此标签给一些需要保持打开状态超过 90 天的 Issue，例如那些带有 <code>priority/important-longterm</code> 标签的 Issue。</td></tr></tbody></table><h2 id=handling-special-issue-types>处理特殊的 Issue 类型</h2><p>SIG Docs 常常会遇到以下类型的 Issue，因此对其处理方式描述如下。</p><h3 id=duplicate-issues>重复的 Issue</h3><p>如果针对同一个问题有不止一个打开的 Issue，可以将其合并为一个 Issue。
你需要决定保留哪个 Issue 为打开状态（或者重新登记一个新的 Issue），
然后将所有相关的信息复制过去并提供对关联 Issues 的链接。
最后，将所有其他描述同一问题的 Issue 标记为 <code>triage/duplicate</code> 并关闭之。
保持只有一个 Issue 待处理有助于减少困惑，避免在同一问题上发生重复劳动。</p><h3 id=dead-link-issues>失效链接 Issues</h3><p>如果失效链接是关于 API 或者 <code>kubectl</code> 文档的，可以将其标记为
<code>/priority critical-urgent</code>，直到问题原因被弄清楚为止。
对于其他的链接失效问题，可以标记 <code>/priority important-longterm</code>，
因为这些问题都需要手动处理。</p><h3 id=blog-issues>博客问题</h3><p>我们预期 <a href=/zh-cn/blog/>Kubernetes 博客</a>条目随着时间推移都会过期。
因此，我们只维护一年内的博客条目。
如果某个 Issue 是与某个超过一年的博客条目有关的，可以直接关闭
Issue，不必修复。</p><h3 id=support-requests-or-code-bug-reports>请求支持或代码缺陷报告</h3><p>某些文档 Issues 实际上是关于底层代码的 Issue 或者在某方面请求协助的问题，
例如某个教程无法正常工作。
对于与文档无关的 Issues，关闭它并打上标签 <code>kind/support</code>，可以通过评论
告知请求者其他支持渠道（Slack、Stack Overflow）。
如果有相关的其他仓库，可以告诉请求者应该在哪个仓库登记与功能特性相关的 Issues
（通常会是 <code>kubernetes/kubernetes</code>）。</p><p>下面是对支持请求的回复示例：</p><pre tabindex=0><code class=language-none data-lang=none>This issue sounds more like a request for support and less
like an issue specifically for docs. I encourage you to bring
your question to the `#kubernetes-users` channel in
[Kubernetes slack](https://slack.k8s.io/). You can also search
resources like
[Stack Overflow](https://stackoverflow.com/questions/tagged/kubernetes)
for answers to similar questions.

You can also open issues for Kubernetes functionality in
https://github.com/kubernetes/kubernetes.

If this is a documentation issue, please re-open this issue.
</code></pre><p>对代码缺陷 Issue 的回复示例：</p><pre tabindex=0><code class=language-none data-lang=none>This sounds more like an issue with the code than an issue with
the documentation. Please open an issue at
https://github.com/kubernetes/kubernetes/issues.

If this is a documentation issue, please re-open this issue.
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-849a2fdb87779db1c212fe5a9f88ff0d>4 - 本地化 Kubernetes 文档</h1><p>此页面描述如何为其他语言的文档提供
<a href=https://blog.mozilla.org/l10n/2011/12/14/i18n-vs-l10n-whats-the-diff/>本地化</a>版本。</p><h2 id=contribute-to-an-existing-localization>为现有的本地化做出贡献</h2><p>你可以帮助添加或改进现有本地化的内容。在 <a href=https://slack.k8s.io/>Kubernetes Slack</a> 中，
你能找到每个本地化的频道。还有一个通用的
<a href=https://kubernetes.slack.com/messages/sig-docs-localizations>SIG Docs Localizations Slack 频道</a>，
你可以在这里打个招呼。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>有关如何为特定本地化做贡献的更多信息，请参阅本页面的各个本地化版本。</div><h3 id=find-your-two-letter-language-code>找到两个字母的语言代码</h3><p>首先，有关本地化的两个字母的语言代码，请参考
<a href=https://www.loc.gov/standards/iso639-2/php/code_list.php>ISO 639-1 标准</a>。
例如，韩语的两个字母代码是 <code>ko</code>。</p><h3 id=fork-and-clone-the-repo>派生（fork）并且克隆仓库</h3><p>首先，为 <a href=https://github.com/kubernetes/website>kubernetes/website</a> 仓库
<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#fork-the-repo>创建你自己的副本</a>。</p><p>然后，克隆你的 website 仓库副本并通过 <code>cd</code> 命令进入 website 目录：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> website
</span></span></code></pre></div><p>网站内容目录包括每种语言的子目录。你想要助力的本地化位于 <code>content/&lt;two-letter-code></code> 中。</p><h3 id=suggest-changes>建议更改</h3><p>根据英文原件创建或更新你选择的本地化页面。
有关更多详细信息，请参阅<a href=#translating-content>翻译内容</a>。</p><p>如果你发现上游（英文）文档存在技术错误或其他问题，
你应该先修复上游文档，然后通过更新你正在处理的本地化来重复等效的修复。</p><p>请将 PR 限制为单个语言版本，因为多语言的 PR 内容修改可能难以审查。</p><p>按照<a href=/zh-cn/docs/contribute/suggest-improvements/>内容改进建议</a>提出对该本地化的更改。
该过程与提议更改上游（英文）内容非常相似。</p><h2 id=start-a-new-localization>开始新的本地化</h2><p>如果你希望将 Kubernetes 文档本地化为一种新语言，你需要执行以下操作。</p><p>因为贡献者不能批准他们自己的拉取请求，你需要 <strong>至少两个贡献者</strong> 来开始本地化。</p><p>所有本地化团队都必须能够自我维持。
Kubernetes 网站很乐意托管你的作品，但要由你来翻译它并使现有的本地化内容保持最新。</p><p>你需要知道你的语言的两个字母的语言代码。
请查阅 <a href=https://www.loc.gov/standards/iso639-2/php/code_list.php>ISO 639-1 标准</a>
以查找你的本地化的两字母语言代码。例如，韩语的两字母代码是<code>ko</code>。</p><p>当你开始新的本地化时，你必须先本地化所有<a href=#minimum-required-content>最少要求的内容</a>，
Kubernetes 项目才能将你的更改发布到当前网站。</p><p>SIG Docs 可以帮助你在单独的分支上工作，以便你可以逐步实现该目标。</p><h3 id=find-community>找到社区</h3><p>让 Kubernetes SIG Docs 知道你有兴趣创建本地化！
加入 <a href=https://kubernetes.slack.com/messages/sig-docs>SIG Docs Slack 频道</a>
和 <a href=https://kubernetes.slack.com/messages/sig-docs-localizations>SIG Docs Localizations Slack 频道</a>。
其他本地化团队很乐意帮助你入门并回答你的问题。</p><p>也请考虑参加
<a href=https://github.com/kubernetes/community/tree/master/sig-docs>SIG Docs 本地化小组的会议</a>。
SIG Docs 本地化小组的任务是与 SIG Docs 本地化团队合作，
共同定义和记录创建本地化贡献指南的流程。
此外，SIG Docs 本地化小组将寻找机会在本地化团队中创建和共享通用工具，
并为 SIG Docs 领导团队确定新要求。如果你对本次会议有任何疑问，请在
<a href=https://kubernetes.slack.com/messages/sig-docs-localizations>SIG Docs Localizations Slack 频道</a>中提问。</p><p>你还可以在 <code>kubernetes/community</code> 仓库中为你的本地化创建一个 Slack 频道。
有关添加 Slack 频道的示例，
请参阅<a href=https://github.com/kubernetes/community/pull/4980>为波斯语添加频道</a>的 PR。</p><h3 id=join-the-kubernetes-github-organization>加入到 Kubernetes GitHub 组织</h3><p>提交本地化 PR 后，你可以成为 Kubernetes GitHub 组织的成员。
团队中的每个人都需要在 <code>kubernetes/org</code>
仓库中创建自己的<a href=https://github.com/kubernetes/org/issues/new/choose>组织成员申请</a>。</p><h3 id=add-your-localization-team-in-github>在 GitHub 中添加你的本地化团队</h3><p>接下来，将你的 Kubernetes 本地化团队添加到
<a href=https://github.com/kubernetes/org/blob/main/config/kubernetes/sig-docs/teams.yaml><code>sig-docs/teams.yaml</code></a>。
有关添加本地化团队的示例，请参见添加<a href=https://github.com/kubernetes/org/pull/685>西班牙本地化团队</a>的 PR。</p><p><code>@kubernetes/sig-docs-**-owners</code> 成员可以批准更改对应本地化目录 <code>/content/**/</code> 中内容的 PR，并仅限这类 PR。
对于每个本地化，<code>@kubernetes/sig-docs-**-reviews</code> 团队被自动分派新 PR 的审阅任务。
<code>@kubernetes/website-maintainers</code> 成员可以创建新的本地化分支来协调翻译工作。
<code>@kubernetes/website-milestone-maintainers</code> 成员可以使用 <code>/milestone</code>
<a href=https://prow.k8s.io/command-help>Prow 命令</a>为 issues 或 PR 设定里程碑。</p><h3 id=configure-the-workflow>配置工作流程</h3><p>接下来，在 <code>kubernetes/test-infra</code> 仓库中为你的本地化添加一个 GitHub 标签。
标签可让你过滤 issues 和针对特定语言的 PR。</p><p>有关添加标签的示例，请参见添加<a href=https://github.com/kubernetes/test-infra/pull/11316>意大利语标签</a>的 PR。</p><h3 id=configure-the-workflow>修改站点配置</h3><p>Kubernetes 网站使用 Hugo 作为其 Web 框架。网站的 Hugo 配置位于
<a href=https://github.com/kubernetes/website/tree/main/config.toml><code>config.toml</code></a>文件中。
为了支持新的本地化，你需要修改 <code>config.toml</code>。</p><p>在现有的 <code>[languages]</code> 下，将新语言的配置添加到 <code>config.toml</code> 中。
例如，下面是德语的配置示例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[languages.de]
</span></span><span style=display:flex><span>title = <span style=color:#b44>&#34;Kubernetes&#34;</span>
</span></span><span style=display:flex><span>description = <span style=color:#b44>&#34;Produktionsreife Container-Verwaltung&#34;</span>
</span></span><span style=display:flex><span>languageName = <span style=color:#b44>&#34;Deutsch (German)&#34;</span>
</span></span><span style=display:flex><span>languageNameLatinScript = <span style=color:#b44>&#34;Deutsch&#34;</span>
</span></span><span style=display:flex><span>contentDir = <span style=color:#b44>&#34;content/de&#34;</span>
</span></span><span style=display:flex><span>weight = <span style=color:#666>8</span>
</span></span></code></pre></div><p>语言选择栏列出了 <code>languageName</code> 的值。
将 <code>languageName</code> 赋值为“本地脚本中的语言名称（拉丁脚本中的语言名称）”。
例如，<code>languageName = "한국어 (Korean)"</code> 或 <code>languageName = "Deutsch (German)"</code>。</p><p><code>languageNameLatinScript</code> 可用于访问拉丁脚本中的语言名称并在主题中使用。
将 <code>languageNameLatinScript</code> 赋值为“拉丁脚本中的语言名称”。
例如，<code>languageNameLatinScript ="Korean"</code> 或 <code>languageNameLatinScript = "Deutsch"</code>。</p><p>为你的语言块分配一个 <code>weight</code> 参数时，找到权重最高的语言块并将其加 1。</p><p>有关 Hugo 多语言支持的更多信息，请参阅"<a href=https://gohugo.io/content-management/multilingual/>多语言模式</a>"。</p><h3 id=add-a-new-localization-directory>添加一个新的本地化目录</h3><p>将特定语言的子目录添加到仓库中的
<a href=https://github.com/kubernetes/website/tree/main/content><code>content</code></a> 文件夹下。
例如，德语的两个字母的代码是 <code>de</code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir content/de
</span></span></code></pre></div><p>你还需要在 <code>data/i18n</code> 中为 <a href=#site-strings-in-i18n>localized strings</a> 创建一个目录；
以现有的本地化为例。要使用这些新字符串，
你还必须创建从 <code>i18n/&lt;localization>.toml</code>
到 <code>data/i18n/&lt;localization>/&lt;localization>.toml</code>
中实际字符串配置的符号链接（记得提交符号链接关联）。</p><p>例如，对于德语，字符串位于 <code>data/i18n/de/de.toml</code> 中，
而 <code>i18n/de.toml</code> 是指向 <code>data/i18n/de/de.toml</code> 的符号链接。</p><h3 id=localize-the-community-code-of-conduct>本地化社区行为准则</h3><p>在 <a href=https://github.com/cncf/foundation/tree/main/code-of-conduct-languages><code>cncf/foundation</code></a>
仓库提交 PR，添加你所用语言版本的行为准则。</p><h3 id=setting-up-the-owners-files>设置 OWNERS 文件</h3><p>要设置每个对本地化做出贡献用户的角色，请在特定于语言的子目录内创建一个 <code>OWNERS</code> 文件，其中：</p><ul><li><strong>reviewers</strong>: 具有评审人角色的 kubernetes 团队的列表，
在本例中为在<a href=#add-your-localization-team-in-github>在 GitHub 中添加你的本地化团队</a>中创建的
<code>sig-docs-**-reviews</code> 团队。</li><li><strong>approvers</strong>: 具有批准人角色的 kubernetes 团队的列表，
在本例中为在<a href=#add-your-localization-team-in-github>在 GitHub 中添加你的本地化团队</a>中创建的
<code>sig-docs-**-owners</code> 团队。</li><li><strong>labels</strong>: 可以自动应用于 PR 的 GitHub 标签列表，
在本例中为<a href=#configure-the-workflow>配置工作流程</a>中创建的语言标签。</li></ul><p>有关 <code>OWNERS</code> 文件的更多信息，请访问 <a href=https://go.k8s.io/owners>go.k8s.io/owners</a>。</p><p>语言代码为 <code>es</code> 的<a href=https://git.k8s.io/website/content/es/OWNERS>西班牙语 OWNERS 文件</a>看起来像：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#080;font-style:italic># See the OWNERS docs at https://go.k8s.io/owners</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic># This is the localization project for Spanish.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Teams and members are visible at https://github.com/orgs/kubernetes/teams.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>reviewers</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- sig-docs-es-reviews<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>approvers</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- sig-docs-es-owners<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- language/es<span style=color:#bbb>
</span></span></span></code></pre></div><p>添加了特定语言的 OWNERS 文件之后，使用新的 Kubernetes 本地化团队、
<code>sig-docs-**-owners</code> 和 <code>sig-docs-**-reviews</code> 列表更新
<a href=https://git.k8s.io/website/OWNERS_ALIASES>根目录下的 OWNERS_ALIAES</a> 文件。</p><p>对于每个团队，请按字母顺序添加
<a href=#add-your-localization-team-in-github>在 GitHub 中添加你的本地化团队</a>
中所请求的 GitHub 用户列表。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#a00000>--- a/OWNERS_ALIASES
</span></span></span><span style=display:flex><span><span style=color:#a00000></span><span style=color:#00a000>+++ b/OWNERS_ALIASES
</span></span></span><span style=display:flex><span><span style=color:#00a000></span><span style=color:purple;font-weight:700>@@ -48,6 +48,14 @@ aliases:
</span></span></span><span style=display:flex><span><span style=color:purple;font-weight:700></span>     - stewart-yu
</span></span><span style=display:flex><span>     - xiangpengzhao
</span></span><span style=display:flex><span>     - zhangxiaoyu-zidif
</span></span><span style=display:flex><span><span style=color:#00a000>+  sig-docs-es-owners: # Admins for Spanish content
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - alexbrand
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - raelga
</span></span></span><span style=display:flex><span><span style=color:#00a000>+  sig-docs-es-reviews: # PR reviews for Spanish content
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - alexbrand
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - electrocucaracha
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - glo-pena
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - raelga
</span></span></span><span style=display:flex><span><span style=color:#00a000></span>   sig-docs-fr-owners: # Admins for French content
</span></span><span style=display:flex><span>     - perriea
</span></span><span style=display:flex><span>     - remyleone
</span></span></code></pre></div><h3 id=open-a-pull-request>发起拉取请求</h3><p>接下来，<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#open-a-pr>发起拉取请求</a>（PR）
将本地化添加到 <code>kubernetes/website</code> 存储库。
PR 必须包含所有<a href=#minimum-required-content>最低要求内容</a>才能获得批准。</p><p>有关添加新本地化的示例，
请参阅启用<a href=https://github.com/kubernetes/website/pull/12548>法语文档</a>的 PR。</p><h3 id=add-a-localized-readme-file>添加本地化的 README 文件</h3><p>为了指导其他本地化贡献者，请在 <a href=https://github.com/kubernetes/website/>kubernetes/website</a>
的根目录添加一个新的 <a href=https://help.github.com/articles/about-readmes/><code>README-**.md</code></a>，
其中 <code>**</code> 是两个字母的语言代码。例如，德语 README 文件为 <code>README-de.md</code>。</p><p>在本地化的 <code>README-**.md</code> 文件中为本地化贡献者提供指导。包含 <code>README.md</code> 中包含的相同信息，以及：</p><ul><li>本地化项目的联系人</li><li>任何特定于本地化的信息</li></ul><p>创建本地化的 README 文件后，请在英语版文件 <code>README.md</code> 中添加指向该文件的链接，
并给出英文形式的联系信息。你可以提供 GitHub ID、电子邮件地址、
<a href=https://slack.com/>Slack 频道</a>或其他联系方式。你还必须提供指向本地化的社区行为准则的链接。</p><h3 id=add-a-localized-readme-file>启动你的新本地化</h3><p>一旦本地化满足工作流程和最小输出的要求，SIG Docs 将：</p><ul><li>在网站上启用语言选择</li><li>通过<a href=https://www.cncf.io/about/>云原生计算基金会</a>（CNCF）渠道以及
<a href=https://kubernetes.io/zh-cn/blog/>Kubernetes 博客</a>来宣传本地化的可用性。</li></ul><h2 id=translating-content>翻译文档</h2><p>本地化<strong>所有</strong> Kubernetes 文档是一项艰巨的任务。从小做起，循序渐进。</p><h3 id=minimum-required-content>最低要求内容</h3><p>所有本地化至少必须包括：</p><table><thead><tr><th>描述</th><th>网址</th></tr></thead><tbody><tr><td>主页</td><td><a href=/zh-cn/docs/home/>所有标题和副标题网址</a></td></tr><tr><td>安装</td><td><a href=/zh-cn/docs/setup/>所有标题和副标题网址</a></td></tr><tr><td>教程</td><td><a href=/zh-cn/docs/tutorials/kubernetes-basics/>Kubernetes 基础</a>, <a href=/zh-cn/docs/tutorials/hello-minikube/>Hello Minikube</a></td></tr><tr><td>网站字符串</td><td><a href=#site-strings-in-i18n>所有网站字符串</a></td></tr><tr><td>发行版本</td><td><a href=/zh-cn/releases>所有标题和副标题 URL</a></td></tr></tbody></table><p>翻译后的文档必须保存在自己的 <code>content/**/</code> 子目录中，否则将遵循与英文源相同的 URL 路径。
例如，要准备将 <a href=/zh-cn/docs/tutorials/kubernetes-basics/>Kubernetes 基础</a>教程翻译为德语，
请在 <code>content/de/</code> 文件夹下创建一个子文件夹并复制英文源：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p content/de/docs/tutorials
</span></span><span style=display:flex><span>cp content/en/docs/tutorials/kubernetes-basics.md content/de/docs/tutorials/kubernetes-basics.md
</span></span></code></pre></div><p>翻译工具可以加快翻译过程。例如，某些编辑器提供了用于快速翻译文本的插件。</p><div class="alert alert-warning caution callout" role=alert><strong>注意：</strong><p>机器生成的翻译本身是不够的，本地化需要广泛的人工审核才能满足最低质量标准。</div><p>为了确保语法和含义的准确性，本地化团队的成员应在发布之前仔细检查所有由机器生成的翻译。</p><h3 id=source-files>源文件</h3><p>本地化必须基于本地化团队所针对的特定发行版本中的英文文件。
每个本地化团队可以决定要针对哪个发行版本，在下文中称作 <strong>目标版本（target version）</strong>。</p><p>要查找你的目标版本的源文件：</p><ol><li>导航到 Kubernetes website 仓库，网址为 <a href=https://github.com/kubernetes/website>https://github.com/kubernetes/website</a>。</li><li>从下面的表格中选择你的目标版本分支：<table><thead><tr><th>目标版本</th><th>分支</th></tr></thead><tbody><tr><td>最新版本</td><td><a href=https://github.com/kubernetes/website/tree/main><code>main</code></a></td></tr><tr><td>上一个版本</td><td><a href=https://github.com/kubernetes/website/tree/release-1.24><code>release-1.24</code></a></td></tr><tr><td>下一个版本</td><td><a href=https://github.com/kubernetes/website/tree/dev-1.26><code>dev-1.26</code></a></td></tr></tbody></table></li></ol><p><code>main</code> 分支中保存的是当前发行版本 <code>v1.25</code> 的内容。
发行团队会在下一个发行版本 v1.26 出现之前创建
<code>release-1.25</code> 分支。</p><h3 id=site-strings-in-i18n>i18n/ 中的网站字符串</h3><p>本地化必须在新的语言特定文件中包含
<a href=https://github.com/kubernetes/website/blob/main/data/i18n/en/en.toml><code>data/i18n/en/en.toml</code></a>
的内容。以德语为例：<code>data/i18n/de/de.toml</code>。</p><p>将新的本地化文件和目录添加到 <code>data/i18n/</code>。例如德语 (<code>de</code>)：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p data/i18n/de
</span></span><span style=display:flex><span>cp data/i18n/en/en.toml data/i18n/de/de.toml
</span></span></code></pre></div><p>修改文件顶部的注释以适合你的本地化，然后翻译每个字符串的值。
例如，这是搜索表单的德语占位符文本：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[ui_search_placeholder]
</span></span><span style=display:flex><span>other = <span style=color:#b44>&#34;Suchen&#34;</span>
</span></span></code></pre></div><p>本地化网站字符串允许你自定义网站范围的文本和特性：例如每个页面页脚中的版权声明文本。</p><h3 id=language-specific-localization-guide>特定语言的本地化指南</h3><p>作为本地化团队，你可以通过创建特定语言的本地化指南来正式确定团队需遵循的最佳实践。
请参见<a href=/zh-cn/docs/contribute/localization_zh/>中文本地化指南</a>。</p><h3 id=language-specific-zoom-meetings>特定语言的 Zoom 会议</h3><p>如果本地化项目需要单独的会议时间，
请联系 SIG Docs 联合主席或技术主管以创建新的重复 Zoom 会议和日历邀请。
仅当团队维持在足够大的规模并需要单独的会议时才需要这样做。</p><p>根据 CNCF 政策，本地化团队必须将他们的会议上传到 SIG Docs YouTube 播放列表。
SIG Docs 联合主席或技术主管可以帮助完成该过程，直到 SIG Docs 实现自动化。</p><h3 id=branching-strategy>分支策略</h3><p>因为本地化项目是高度协同的工作，
特别是在刚开始本地化并且本地化尚未生效时，我们鼓励团队基于共享的本地化分支工作。</p><p>在本地化分支上协作需要：</p><ol><li><p><a href=https://github.com/orgs/kubernetes/teams/website-maintainers>@kubernetes/website-maintainers</a>
中的团队成员从 <a href=https://github.com/kubernetes/website>https://github.com/kubernetes/website</a> 原有分支新建一个本地化分支。</p><p>当你给 <code>kubernetes/org</code> 仓库<a href=#add-your-localization-team-in-github>添加你的本地化团队</a>时，
你的团队批准人便加入了 <code>@kubernetes/website-maintainers</code> 团队。</p><p>我们推荐以下分支命名方案：</p><p><code>dev-&lt;source version>-&lt;language code>.&lt;team milestone></code></p><p>例如，一个德语本地化团队的批准人基于 Kubernetes v1.12 版本的源分支，
直接新建了 kubernetes/website 仓库的本地化分支 <code>dev-1.12-de.1</code>。</p></li></ol><ol start=2><li><p>个人贡献者基于本地化分支创建新的特性分支。</p><p>例如，一个德语贡献者新建了一个拉取请求，
并将 <code>username:local-branch-name</code> 更改为 <code>kubernetes:dev-1.12-de.1</code>。</p></li><li><p>批准人审查功能分支并将其合并到本地化分支中。</p></li><li><p>批准人会定期发起并批准新的 PR，将本地化分支合并到其源分支。
在批准 PR 之前，请确保先 squash commits。</p></li></ol><p>根据需要重复步骤 1-4，直到完成本地化工作。例如，随后的德语本地化分支将是：
<code>dev-1.12-de.2</code>、<code>dev-1.12-de.3</code> 等等。</p><p>团队必须将本地化内容合入到发布分支中，该发布分支是内容的来源。例如：</p><ul><li>源于 <code>main</code> 分支的本地化分支必须被合并到 <code>main</code>。</li><li>源于 <code>release-{{ skew "prevMinorVersion" }}</code>
的本地化分支必须被合并到 <code>release-{{ skew "prevMinorVersion" }}</code>。</li></ul><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>如果你的本地化分支是基于 <code>main</code> 分支创建的，但最终没有在新的发行分支
<code>release-1.25</code> 被创建之前合并到 <code>main</code> 中，需要将其同时将其合并到
<code>main</code> 和新的发行分支 <code>release-1.25</code> 中。
要将本地化分支合并到新的发行分支 <code>release-1.25</code> 中，
你需要将你本地化分支的上游分支切换到 <code>release-1.25</code>。</div><p>在团队每个里程碑的开始时段，创建一个 issue
来比较先前的本地化分支和当前的本地化分支之间的上游变化很有帮助。
现在有两个脚本用来比较上游的变化。</p><ul><li><a href=https://github.com/kubernetes/website/tree/main/scripts#upstream_changespy><code>upstream_changes.py</code></a>
对于检查对某个文件的变更很有用。</li><li><a href=https://github.com/kubernetes/website/tree/main/scripts#diff_l10n_branchespy><code>diff_l10n_branches.py</code></a>
可以用来为某个特定本地化分支创建过时文件的列表。</li></ul><p>虽然只有批准人才能创建新的本地化分支并合并 PR，
任何人都可以为新的本地化分支提交一个拉取请求（PR）。不需要特殊权限。</p><p>有关基于派生或直接从仓库开展工作的更多信息，请参见 <a href=#fork-and-clone-the-repo>"派生和克隆"</a>。</p><h3 id=upstream-contributions>上游贡献</h3><p>Sig Docs 欢迎对英文原文的上游贡献和修正。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-8b9b22280711800788333c1a4d129735>5 - 参与 SIG Docs</h1><p>SIG Docs 是 Kubernetes 项目
<a href=https://github.com/kubernetes/community/blob/master/sig-list.md>特别兴趣小组</a>
中的一个，负责编写、更新和维护 Kubernetes 的总体文档。
参见<a href=https://github.com/kubernetes/community/tree/master/sig-docs>社区 GitHub 仓库中 SIG Docs</a>
以进一步了解该 SIG。</p><p>SIG Docs 欢迎所有贡献者提供内容和审阅。任何人可以提交拉取请求（PR）。
欢迎所有人对文档内容创建 Issue 和对正在处理中的 PR 进行评论。</p><p>你也可以成为<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#members>成员（member）</a>、
<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#reviewers>评阅人（reviewer）</a> 或者
<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#approvers>批准人（approver）</a>。
这些角色拥有更高的权限，且需要承担批准和提交变更的责任。
有关 Kubernetes 社区中的成员如何工作的更多信息，请参见
<a href=https://github.com/kubernetes/community/blob/master/community-membership.md>社区成员身份</a>。</p><p>本文档的其余部分概述了这些角色在 SIG Docs 中发挥作用的一些独特方式。
SIG Docs 负责维护 Kubernetes 最面向公众的方面之一 —— Kubernetes 网站和文档。</p><h2 id=sig-docs-chairperson>SIG Docs 主席</h2><p>每个 SIG，包括 SIG Docs，都会选出一位或多位成员作为主席。
主席会成为 SIG Docs 和其他 Kubernetes 组织的联络接口人。
他们需要了解整个 Kubernetes 项目的架构，并明白 SIG Docs 如何在其中运作。
如需查询当前的主席名单，请查阅
<a href=https://github.com/kubernetes/community/tree/master/sig-docs#leadership>领导人员</a>。</p><h2 id=sig-docs-teams-and-automation>SIG Docs 团队和自动化</h2><p>SIG 文档中的自动化服务依赖于两种不同的机制:
GitHub 团队和 OWNERS 文件。</p><h3 id=github-teams>GitHub 团队</h3><p>GitHub 上有两类 SIG Docs 团队：</p><ul><li><code>@sig-docs-{language}-owners</code> 包含批准人和牵头人</li><li><code>@sig-docs-{language}-reviews</code> 包含评阅人</li></ul><p>可以在 GitHub 的评论中使用团队的名称 <code>@name</code> 来与团队成员沟通。</p><p>有时候 Prow 所定义的团队和 GitHub 团队有所重叠，并不完全一致。
对于指派 Issue、PR 和批准 PR，自动化工具使用来自 <code>OWNERS</code> 文件的信息。</p><h3 id=owners-files-and-front-matter>OWNERS 文件和扉页</h3><p>Kubernetes 项目使用名为 prow 的自动化工具来自动处理 GitHub issue 和 PR。
<a href=https://github.com/kubernetes/website>Kubernetes website 仓库</a> 使用了两个
<a href=https://github.com/kubernetes/test-infra/tree/master/prow/plugins>prow 插件</a>：</p><ul><li>blunderbuss</li><li>approve</li></ul><p>这两个插件使用位于 <code>kubernetes/website</code> 仓库顶层的
<a href=https://github.com/kubernetes/website/blob/main/OWNERS>OWNERS</a> 文件和
<a href=https://github.com/kubernetes/website/blob/main/OWNERS_ALIASES>OWNERS_ALIASES</a>
文件来控制 prow 在仓库范围的工作方式。</p><p>OWNERS 文件包含 SIG Docs 评阅人和批准人的列表。
OWNERS 文件也可以存在于子目录中，可以在子目录层级重新设置哪些人可以作为评阅人和
批准人，并将这一设定传递到下层子目录。
关于 OWNERS 的更多信息，请参考
<a href=https://github.com/kubernetes/community/blob/master/contributors/guide/owners.md>OWNERS</a>
文档。</p><p>此外，每个独立的 Markdown 文件都可以在其前言部分列出评阅人和批准人，
每一项可以是 GitHub 用户名，也可以是 GitHub 组名。</p><p>结合 OWNERS 文件及 Markdown 文件的前言信息，自动化系统可以给 PR 作者可以就应该
向谁请求技术和文字评阅给出建议。</p><h2 id=how-merging-works>PR 是怎样被合并的</h2><p>当某个拉取请求（PR）被合并到用来发布内容的分支，对应的内容就会被发布到 <a href=http://kubernetes.io>http://kubernetes.io</a>。
为了确保我们所发布的内容的质量足够好，合并 PR 的权限仅限于
SIG Docs 批准人。下面是合并的工作机制：</p><ul><li>当某个 PR 同时具有 <code>lgtm</code> 和 <code>approve</code> 标签，没有 <code>hold</code> 标签且通过所有测试时，
该 PR 会被自动合并。</li><li>Kubernetes 组织的成员和 SIG Docs 批准人可以添加评论以阻止给定 PR 的自动合并，
即通过 <code>/hold</code> 评论或者收回某个 <code>/lgtm</code> 评论实现这点。</li><li>所有 Kubernetes 成员可以通过 <code>/lgtm</code> 评论添加 <code>lgtm</code> 标签。</li><li>只有 SIG Docs 批准人可以通过评论 <code>/approve</code> 合并 PR。
某些批准人还会执行一些其他角色，例如
<a href=/zh-cn/docs/contribute/participate/pr-wranglers/>PR 管理者</a> 或
<a href=#sig-docs-chairperson>SIG Docs 主席</a>等。</li></ul><h2 id=接下来>接下来</h2><p>关于贡献 Kubernetes 文档的更多信息，请参考：</p><ul><li><a href=/zh-cn/docs/contribute/new-content/>贡献新内容</a></li><li><a href=/zh-cn/docs/contribute/review/reviewing-prs>评阅内容</a></li><li><a href=/zh-cn/docs/contribute/style/>文档样式指南</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-76656ea25ba7e6404601838389262482>5.1 - 角色与责任</h1><p>任何人都可以为 Kubernetes 作出贡献。随着你对 SIG Docs 的贡献增多，你可以申请
社区内不同级别的成员资格。
这些角色使得你可以在社区中承担更多的责任。
每个角色都需要更多的时间和投入。具体包括：</p><ul><li>任何人（Anyone）：为 Kubernetes 文档作出贡献的普通贡献者。</li><li>成员（Members）：可以对 Issue 进行分派和判别，对 PR 提出无约束性的评审意见。</li><li>评审人（Reviewers）：可以领导对文档 PR 的评审，可以对变更的质量进行判别。</li><li>批准人（Approvers）：可以领导对文档的评审并合并变更。</li></ul><h2 id=anyone>任何人（Anyone）</h2><p>任何拥有 GitHub 账号的人都可以对 Kubernetes 作出贡献。SIG Docs
欢迎所有新的贡献者。</p><p>任何人都可以：</p><ul><li>在任何 <a href=https://github.com/kubernetes/>Kubernetes</a> 仓库，包括
<a href=https://github.com/kubernetes/website><code>kubernetes/website</code></a> 上报告 Issue。</li><li>对某 PR 给出无约束力的反馈信息</li><li>为本地化提供帮助</li><li>在 <a href=https://slack.k8s.io/>Slack</a> 或
<a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>SIG Docs 邮件列表</a>
上提出改进建议。</li></ul><p>在<a href=https://github.com/kubernetes/community/blob/master/CLA.md>签署了 CLA</a> 之后，任何人还可以：</p><ul><li>发起拉取请求（PR），改进现有内容、添加新内容、撰写博客或者案例分析</li><li>创建示意图、图形资产或者嵌入式的截屏和视频内容</li></ul><p>进一步的详细信息，可参见<a href=/zh-cn/docs/contribute/new-content/>贡献新内容</a>。</p><h2 id=members>成员（Members）</h2><p>成员是指那些对 <code>kubernetes/website</code> 提交很多拉取请求（PR）的人。
成员都要加入 <a href=https://github.com/kubernetes>Kubernetes GitHub 组织</a>。</p><p>成员可以：</p><ul><li><p>执行<a href=#anyone>任何人</a>节区所列举操作</p></li><li><p>使用 <code>/lgtm</code> 评论添加 LGTM (looks good to me（我觉得可以）) 标签到某个 PR</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 使用 <code>/lgtm</code> 会触发自动化机制。如果你希望提供非约束性的批准意见，
直接回复 "LGTM" 也是可以的。</div></li><li><p>利用 <code>/hold</code> 评论来阻止某个 PR 被合并</p></li><li><p>使用 <code>/assign</code> 评论为某个 PR 指定评审人</p></li><li><p>对 PR 提供非约束性的评审意见</p></li><li><p>使用自动化机制来对 Issue 进行判别和分类</p></li><li><p>为新功能特性撰写文档</p></li></ul><h3 id=becoming-a-member>成为一个成员</h3><p>在你成功地提交至少 5 个 PR 并满足
<a href=https://github.com/kubernetes/community/blob/master/community-membership.md#member>相关条件</a>
之后：</p><ol><li><p>找到两个<a href=#reviewers>评审人</a>或<a href=#approvers>批准人</a>为你的成员身份提供
<a href=/zh-cn/docs/contribute/advanced#sponsor-a-new-contributor>担保</a>。</p><p>通过 <a href=https://kubernetes.slack.com>Kubernetes Slack 上的 #sig-docs 频道</a> 或者
<a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>SIG Docs 邮件列表</a>
来寻找为你担保的人。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 不要单独发送邮件给某个 SIG Docs 成员或在 Slack 中与其私聊。
在提交申请之前，一定要先确定担保人。</div></li><li><p>在 <a href=https://github.com/kubernetes/org/><code>kubernetes/org</code></a> 仓库
使用 <strong>Organization Membership Request</strong> Issue 模板登记一个 Issue。</p></li></ol><ol start=3><li><p>告知你的担保人你所创建的 Issue，你可以：</p><ul><li>在 Issue 中 <code>@&lt;GitHub-username></code> 提及他们的 GitHub 用户名</li><li>通过 Slack 或 email 直接发送给他们 Issue 链接</li></ul><p>担保人会通过 <code>+1</code> 投票来批准你的请求。一旦你的担保人批准了该请求，
某个 Kubernetes GitHub 管理员会将你添加为组织成员。恭喜！</p><p>如果你的成员请求未被接受，你会收到一些反馈。
当处理完反馈意见之后，可以再次发起申请。</p></li><li><p>登录你的邮件账户，接受来自 Kubernetes GitHub 组织发出的成员邀请。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> GitHub 会将邀请发送到你的账户中所设置的默认邮件地址。</div></li></ol><h2 id=reviewers>评审人（Reviewers）</h2><p>评审人负责评审悬决的 PR。
与成员所给的反馈不同，身为 PR 作者必须处理评审人的反馈。
评审人是 <a href="https://github.com/orgs/kubernetes/teams?query=sig-docs">@kubernetes/sig-docs-{language}-reviews</a> GitHub 团队的成员。</p><p>评审人可以：</p><ul><li><p>执行<a href=#anyone>任何人</a>和<a href=#members>成员</a>节区所列举的操作</p></li><li><p>评审 PR 并提供具约束性的反馈信息</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 要提供非约束性的反馈，可以在你的评语之前添加 "Optionally: " 这样的说法。</div></li><li><p>编辑代码中用户可见的字符串</p></li><li><p>改进代码注释</p></li></ul><p>你可以是 SIG Docs 的评审人，也可以是某个主题领域的文档的评审人。</p><h3 id=assigning-reviewers-to-pull-requests>为 PR 指派评审人</h3><p>自动化引擎会为每个 PR 自动指派评审人。
你可以通过为 PR 添加评论 <code>/assign [@_github_handle]</code> 来请求某个特定评审人来评审。</p><p>如果所指派的评审人未能及时评审，其他的评审人也可以参与进来。
你可以根据需要指派技术评审人。</p><h3 id=using-lgtm>使用 <code>/lgtm</code></h3><p>LGTM 代表的是 “Looks Good To Me （我觉得可以）”，用来标示某个 PR
在技术上是准确的，可以被合并。
所有 PR 都需要来自某评审人的 <code>/lgtm</code> 评论和来自某批准人的 <code>/approve</code>
评论。</p><p>来自评审人的 <code>/lgtm</code> 评论是具有约束性的，会触发自动化引擎添加 <code>lgtm</code> 标签。</p><h3 id=becoming-a-reviewer>成为评审人</h3><p>当你满足<a href=https://github.com/kubernetes/community/blob/master/community-membership.md#reviewer>相关条件</a>时，
你可以成为一个 SIG Docs 评审人。
来自其他 SIG 的评审人必须为 SIG Docs 单独申请评审人资格。</p><p>申请流程如下：</p><ol><li><p>发起 PR，将你的 GitHub 用户名添加到 <code>kubernetes/website</code> 仓库中
<a href=https://github.com/kubernetes/website/blob/main/OWNERS_ALIASES>OWNERS_ALIASES</a>
文件的对应节区。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 如果你不确定要添加到哪个位置，可以将自己添加到 <code>sig-docs-en-reviews</code>。</div></li><li><p>将 PR 指派给一个或多个 SIG Docs 批准人（<code>sig-docs-{language}-owners</code>
下列举的用户名）。</p></li></ol><p>申请被批准之后，SIG Docs Leads 之一会将你添加到合适的 GitHub 团队。
一旦添加完成，<a href=https://github.com/kubernetes/test-infra/tree/master/prow#bots-home>@k8s-ci-robot</a>
会在处理未来的 PR 时，将 PR 指派给你或者建议你来评审某 PR。</p><h2 id=approvers>批准人（Approvers）</h2><p>批准人负责评审和批准 PR 以将其合并。
批准人是 <a href="https://github.com/orgs/kubernetes/teams/?query=sig-docs">@kubernetes/sig-docs-{language}-owners</a> GitHub 团队的成员。</p><p>批准人可以执行以下操作：</p><ul><li>执行列举在<a href=#anyone>任何人</a>、<a href=#members>成员</a>和<a href=#reviewers>评审人</a>节区的操作</li><li>通过使用 <code>/approve</code> 评论来批准、合并 PR，发布贡献者所贡献的内容。</li><li>就样式指南给出改进建议</li><li>对文档测试给出改进建议</li><li>对 Kubernetes 网站或其他工具给出改进建议</li></ul><p>如果某个 PR 已有 <code>/lgtm</code> 标签，或者批准人再回复一个 <code>/lgtm</code>，则这个 PR 会自动合并。
SIG Docs 批准人应该只在不需要额外的技术评审的情况下才可以标记 <code>/lgtm</code>。</p><h3 id=approving-pull-requests>批准 PR</h3><p>只有批准人和 SIG Docs Leads 可以将 PR 合并到网站仓库。
这意味着以下责任：</p><ul><li><p>批准人可以使用 <code>/approve</code> 命令将 PR 合并到仓库中。</p><div class="alert alert-danger warning callout" role=alert><strong>警告：</strong> 不小心的合并可能会破坏整个站点。在执行合并操作时，务必小心。</div></li><li><p>确保所提议的变更满足<a href=/zh-cn/docs/contribute/style/content-guide/>文档内容指南</a>要求。</p><p>如果有问题或者疑惑，可以根据需要请他人帮助评审。</p></li><li><p>在 <code>/approve</code> PR 之前，须验证 Netlify 测试是否正常通过。</p><img src=/images/docs/contribute/netlify-pass.png width=75% alt="批准之前必须通过 Netlify 测试"></li><li><p>在批准之前，请访问 Netlify 的页面预览来确保变更内容可正常显示。</p></li><li><p>参与 <a href=https://github.com/kubernetes/website/wiki/PR-Wranglers>PR 管理者轮值排班</a>
执行时长为一周的 PR 管理。SIG Docs 期望所有批准人都参与到此轮值工作中。
更多细节可参见 <a href=/zh-cn/docs/contribute/participate/pr-wranglers/>PR 管理者</a>。</p></li></ul><h3 id=becoming-an-approver>成为批准人</h3><p>当你满足<a href=https://github.com/kubernetes/community/blob/master/community-membership.md#approver>一定条件</a>时，可以成为一个 SIG Docs 批准人。
来自其他 SIG 的批准人也必须在 SIG Docs 独立申请批准人资格。</p><p>申请流程如下：</p><ol><li><p>发起一个 PR，将自己添加到 <code>kubernetes/website</code> 仓库中
<a href=https://github.com/kubernetes/website/blob/main/OWNERS_ALIASES>OWNERS_ALIASES</a>
文件的对应节区。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 如果你不确定要添加到哪个位置，可以将自己添加到 <code>sig-docs-en-owners</code> 中。</div></li><li><p>将 PR 指派给一个或多个 SIG Docs 批准人。</p></li></ol><p>请求被批准之后，SIG Docs Leads 之一会将你添加到对应的 GitHub 团队。
一旦添加完成，<a href=https://github.com/kubernetes/test-infra/tree/master/prow#bots-home>K8s-ci-robot</a>
会在处理未来的 PR 时，将 PR 指派给你或者建议你来评审某 PR。</p><h2 id=接下来>接下来</h2><ul><li>阅读 <a href=/zh-cn/docs/contribute/participate/pr-wranglers/>PR 管理者</a>，了解所有批准人轮值的角色。</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-48abd3bcfba9976d000a96a0734b90f6>5.2 - PR 管理者</h1><p>SIG Docs 的<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#approvers>批准人（Approvers）</a>们每周轮流负责
<a href=https://github.com/kubernetes/website/wiki/PR-Wranglers>管理仓库的 PR</a>。</p><p>本节介绍 PR 管理者的职责。关于如何提供较好的评审意见，
可参阅<a href=/zh-cn/docs/contribute/review/>评审变更</a>。</p><h2 id=duties>职责</h2><p>在为期一周的轮值期内，PR 管理者要：</p><ul><li><p>每天对新增的 Issues 判定和打标签。参见
<a href=/zh-cn/docs/contribute/review/for-approvers/#triage-and-categorize-issues>对 Issues 进行判定和分类</a>
以了解 SIG Docs 如何使用元数据的详细信息。</p></li><li><p>检查<a href=https://github.com/kubernetes/website/pulls>悬决的 PR</a> 的质量并确保它们符合
<a href=/zh-cn/docs/contribute/style/style-guide/>样式指南</a>和
<a href=/zh-cn/docs/contribute/style/content-guide/>内容指南</a>要求。</p><ul><li>首先查看最小的 PR（<code>size/XS</code>），然后逐渐扩展到最大的
PR（<code>size/XXL</code>），尽可能多地评审 PR。</li></ul></li></ul><ul><li>确保贡献者完成 <a href=https://github.com/kubernetes/community/blob/master/CLA.md>CLA</a> 签署。<ul><li>使用<a href=https://github.com/zparnold/k8s-docs-pr-botherer>此脚本</a>自动提醒尚未签署
CLA 的贡献者签署 CLA。</li></ul></li><li>针对提供提供反馈，请求其他 SIG 的成员进行技术审核。<ul><li>为 PR 所建议的内容更改提供就地反馈。</li><li>如果你需要验证内容，请在 PR 上发表评论并要求贡献者提供更多细节。</li><li>设置相关的 <code>sig/</code> 标签。</li><li>如果需要，根据文件开头的 <code>reviewers:</code> 块来指派评审人。</li><li>你也可以通过在 PR 上作出 <code>@kubernetes/&lt;sig>-pr-reviews</code> 的评论以标记需要某个
<a href=https://github.com/kubernetes/community/blob/master/sig-list.md>SIG</a> 来评审。</li></ul></li></ul><ul><li>使用 <code>/approve</code> 评论来批准可以合并的 PR，在 PR 就绪时将其合并。<ul><li>PR 在被合并之前，应该有来自其他成员的 <code>/lgtm</code> 评论。</li><li>可以考虑接受那些技术上准确，但文风上不满足
<a href=/zh-cn/docs/contribute/style/style-guide/>风格指南</a>要求的 PR。
批准变更时，可以登记一个新的 Issue 来解决文档风格问题。
你通常可以将这些风格修复问题标记为 <code>good first issue</code>。</li><li>将风格修复事项标记为 <code>good first issue</code> 可以很好地确保向新加入的贡献者分派一些比较简单的任务，
这有助于接纳新的贡献者。</li></ul></li></ul><h3 id=对管理者有用的-github-查询>对管理者有用的 GitHub 查询</h3><p>执行管理操作时，以下查询很有用。完成以下这些查询后，剩余的要审阅的 PR 列表通常很小。
这些查询都不包含本地化的 PR，并仅包含主分支上的 PR（除了最后一个查询）。</p><ul><li><p><a href="https://github.com/kubernetes/website/pulls?q=is%3Aopen+is%3Apr+label%3A%22cncf-cla%3A+no%22+-label%3A%22do-not-merge%2Fwork-in-progress%22+-label%3A%22do-not-merge%2Fhold%22+label%3Alanguage%2Fen">未签署 CLA，不可合并的 PR</a>：
提醒贡献者签署 CLA。如果机器人和审阅者都已经提醒他们，请关闭 PR，并提醒他们在签署 CLA 后可以重新提交。</p><p><strong>在作者没有签署 CLA 之前，不要审阅他们的 PR！</strong></p></li><li><p><a href="https://github.com/kubernetes/website/pulls?q=is%3Aopen+is%3Apr+-label%3A%22cncf-cla%3A+no%22+-label%3Ado-not-merge%2Fwork-in-progress+-label%3Ado-not-merge%2Fhold+label%3Alanguage%2Fen+-label%3Algtm">需要 LGTM</a>：
列举需要来自成员的 LGTM 评论的 PR。
如果需要技术审查，请告知机器人所建议的审阅者。
如果 PR 继续改进，就地提供更改建议或反馈。</p></li><li><p><a href="https://github.com/kubernetes/website/pulls?q=is%3Aopen+is%3Apr+-label%3Ado-not-merge%2Fwork-in-progress+-label%3Ado-not-merge%2Fhold+label%3Alanguage%2Fen+label%3Algtm+">已有 LGTM标签，需要 Docs 团队批准</a>：
列举需要 <code>/approve</code> 评论来合并的 PR。</p></li><li><p><a href="https://github.com/kubernetes/website/pulls?utf8=%E2%9C%93&q=is%3Apr+is%3Aopen+base%3Amain+-label%3A%22do-not-merge%2Fwork-in-progress%22+-label%3A%22do-not-merge%2Fhold%22+label%3A%22cncf-cla%3A+yes%22+label%3A%22size%2FXS%22+label%3A%22language%2Fen%22">快速批阅</a>：
列举针对主分支的、没有明确合并障碍的 PR。
在浏览 PR 时，可以将 "XS" 尺寸标签更改为 "S"、"M"、"L"、"XL"、"XXL"。</p></li><li><p><a href="https://github.com/kubernetes/website/pulls?q=is%3Aopen+is%3Apr+label%3Alanguage%2Fen+-base%3Amain">非主分支的 PR</a>:
如果 PR 针对 <code>dev-</code> 分支，则表示它适用于即将发布的版本。
请添加带有 <code>/assign @&lt;负责人的 github 账号></code>，将其指派给
<a href=https://github.com/kubernetes/sig-release/tree/master/release-team#kubernetes-release-team-roles>发行版本负责人</a>。
如果 PR 是针对旧分支，请帮助 PR 作者确定是否所针对的是最合适的分支。</p></li></ul><h3 id=helpful-prow-commands-for-wranglers>对管理者有用的 Prow 命令</h3><pre tabindex=0><code># 添加 English 标签
/language en

# 如果 PR 包含多个提交（commits），添加 squash 标签
/label tide/merge-method-squash

# 使用 Prow 来为 PR 重设标题（例如一个正在处理 [WIP] 的 PR 或为 PR 提供更好的细节信息）
/retitle [WIP] &lt;TITLE&gt;
</code></pre><h3 id=when-to-close-pull-requests>何时关闭 PR</h3><p>审查和批准是缩短和更新我们的 PR 队列的一种方式；另一种方式是关闭 PR。</p><p>当以下条件满足时，可以关闭 PR：</p><ul><li><p>作者两周内未签署 CLA。
PR 作者可以在签署 CLA 后重新打开 PR，因此这是确保未签署 CLA 的 PR 不会被合并的一种风险较低的方法。</p></li><li><p>作者在两周或更长时间内未回复评论或反馈。</p></li></ul><p>不要害怕关闭 PR。贡献者可以轻松地重新打开并继续工作。
通常，关闭通知会激励作者继续完成其贡献。</p><p>要关闭 PR，请在 PR 上输入 <code>/close</code> 评论。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 一个名为 <a href=https://github.com/k8s-ci-robot><code>k8s-ci-robot</code></a> 的自动服务会在 Issue 停滞 90
天后自动将其标记为过期；然后再等 30 天，如果仍然无人过问，则将其关闭。
PR 管理者应该在 issues 处于无人过问状态 14-30 天后关闭它们。</div><h2 id=pr-管理者影子计划>PR 管理者影子计划</h2><p>2021 下半年，SIG Docs 推出了 PR 管理者影子计划（PR Wrangler Shadow Program）。
该计划旨在帮助新的贡献者们了解 PR 管理流程。</p><h3 id=成为一名影子>成为一名影子</h3><ul><li><p>如果你有兴趣成为一名 PR 管理者的影子，请访问 <a href=https://github.com/kubernetes/website/wiki/PR-Wranglers>PR 管理者维基页面</a>查看今年的
PR 管理轮值表，然后注册报名。</p></li><li><p>Kubernetes 组织成员可以编辑 <a href=https://github.com/kubernetes/website/wiki/PR-Wranglers>PR 管理者维基页面</a>，
注册成为一名现有 PR 管理者一周内的影子。</p></li><li><p>其他人可以通过 <a href=https://kubernetes.slack.com/messages/sig-docs>#sig-docs Slack 频道</a>申请成为指定
PR 管理者某一周的影子。可以随时咨询 (<code>@bradtopol</code>) 或某一位
<a href=https://github.com/kubernetes/community/tree/master/sig-docs#leadership>SIG Docs 联席主席/主管</a>。</p></li><li><p>注册成为一名 PR 管理者的影子时，
请你在 <a href=https://slack.k8s.io>Kubernetes Slack</a> 向这名 PR 管理者做一次自我介绍。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-29765496ca296ad24e34e5c0cd42a63f>6 - 参考文档概述</h1><p>本节的主题是描述如何生成 Kubernetes 参考指南。
要生成参考文档，请参考下面的指南：</p><ul><li><a href=/zh-cn/docs/contribute/generate-ref-docs/quickstart/>生成参考文档快速入门</a></li></ul></div><div class=td-content><h1 id=pg-f4f605fa4c2e23622d56b067ef56c239>6.1 - 参考文档快速入门</h1><p>本页讨论如何使用 <code>update-imported-docs.py</code> 脚本来生成 Kubernetes 参考文档。
此脚本将构建的配置过程自动化，并为某个发行版本生成参考文档。</p><h2 id=准备开始>准备开始</h2><h3 id=requirements>需求</h3><ul><li><p>你需要一台 Linux 或 macOS 机器。</p></li><li><p>你需要安装以下工具：</p><ul><li><a href=https://www.python.org/downloads/>Python</a> v3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> 1.13+ 版本</li><li>用来安装 PyYAML 的 <a href=https://pypi.org/project/pip/>Pip</a></li><li><a href=https://pyyaml.org/>PyYAML</a> v5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> （仅用于 <code>kubectl</code> 命令参考）</li></ul></li></ul><ul><li><p>你的 <code>PATH</code> 环境变量必须包含所需要的构建工具，例如 <code>Go</code> 程序和 <code>python</code>。</p></li><li><p>你需要知道如何为一个 GitHub 仓库创建拉取请求（PR）。
这牵涉到创建仓库的派生（fork）副本。
有关信息可进一步查看<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#fork-the-repo>基于本地副本开展工作</a>。</p></li></ul><h2 id=getting-the-docs-repository>获取文档仓库</h2><p>确保你的 <code>website</code> 派生仓库与 GitHub 上的 <code>kubernetes/website</code> 远程仓库（<code>main</code> 分支）保持同步，
并克隆你的派生仓库。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir github.com
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> github.com
</span></span><span style=display:flex><span>git clone git@github.com:&lt;your_github_username&gt;/website.git
</span></span></code></pre></div><p>确定你的克隆副本的根目录。例如，如果你按照前面的步骤获取了仓库，你的根目录
会是 <code>github.com/website</code>。接下来的步骤中，<code>&lt;web-base></code> 用来指代你的根目录。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>如果你希望更改构建工具和 API 参考资料，
可以阅读<a href=/zh-cn/docs/contribute/generate-ref-docs/contribute-upstream>上游贡献指南</a>。</div><h2 id=overview-of-update-imported-docs>update-imported-docs 的概述</h2><p>脚本 <code>update-imported-docs.py</code> 位于 <code>&lt;web-base>/update-imported-docs/</code> 目录下，
能够生成以下参考文档：</p><ul><li>Kubernetes 组件和工具的参考页面</li><li><code>kubectl</code> 命令参考文档</li><li>Kubernetes API 参考文档</li></ul><p>脚本 <code>update-imported-docs.py</code> 基于 Kubernetes 源代码生成参考文档。
过程中会在你的机器的 <code>/tmp</code> 目录下创建临时目录，克隆所需要的仓库
<code>kubernetes/kubernetes</code> 和 <code>kubernetes-sigs/reference-docs</code> 到此临时目录。
脚本会将 <code>GOPATH</code> 环境变量设置为指向此临时目录。
此外，脚本会设置三个环境变量：</p><ul><li><code>K8S_RELEASE</code></li><li><code>K8S_ROOT</code></li><li><code>K8S_WEBROOT</code></li></ul><p>脚本需要两个参数才能成功运行：</p><ul><li>一个 YAML 配置文件（<code>reference.yml</code>）</li><li>一个发行版本字符串，例如：<code>1.17</code></li></ul><p>配置文件中包含 <code>generate-command</code> 字段，其中定义了一系列来自于
<code>kubernetes-sigs/reference-docs/Makefile</code> 的构建指令。
变量 <code>K8S_RELEASE</code> 用来确定所针对的发行版本。</p><p>脚本 <code>update-imported-docs.py</code> 执行以下步骤：</p><ol><li>克隆配置文件中所指定的相关仓库。就生成参考文档这一目的而言，要克隆的仓库默认为
<code>kubernetes-sigs/reference-docs</code>。</li><li>在所克隆的仓库下运行命令，准备文档生成器，之后生成 HTML 和 Markdown 文件。</li><li>将所生成的 HTML 和 Markdown 文件复制到 <code>&lt;web-base></code> 本地克隆副本中，
放在配置文件中所指定的目录下。</li><li>更新 <code>kubectl.md</code> 文件中对 <code>kubectl</code> 命令文档的链接，使之指向 <code>kubectl</code>
命令参考中对应的节区。</li></ol><p>当所生成的文件已经被放到 <code>&lt;web-base></code> 目录下，你就可以将其提交到你的派生副本中，
并基于所作提交发起<a href=/docs/contribute/start/>拉取请求（PR）</a>到 k/website 仓库。</p><h2 id=configuration-file-format>配置文件格式</h2><p>每个配置文件可以包含多个被导入的仓库。当必要时，你可以通过手工编辑此文件进行定制。
你也可以通过创建新的配置文件来导入其他文档集合。
下面是 YAML 配置文件的一个例子：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>repos</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>community<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>remote</span>:<span style=color:#bbb> </span>https://github.com/kubernetes/community.git<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>branch</span>:<span style=color:#bbb> </span>master<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>contributors/devel/README.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>docs/imported/community/devel.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>contributors/guide/README.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>docs/imported/community/guide.md<span style=color:#bbb>
</span></span></span></code></pre></div><p>通过工具导入的单页面的 Markdown
文档必须遵从<a href=/zh-cn/docs/contribute/style/style-guide/>文档样式指南</a>。</p><h2 id=customizing-reference-yml>定制 reference.yml</h2><p>打开 <code>&lt;web-base>/update-imported-docs/reference.yml</code> 文件进行编辑。
在不了解参考文档构造命令的情况下，不要更改 <code>generate-command</code> 字段的内容。
你一般不需要更新 <code>reference.yml</code> 文件。不过也有时候上游的源代码发生变化，
导致需要对配置文件进行更改（例如：Golang 版本依赖或者第三方库发生变化）。
如果你遇到类似问题，请在 <a href=https://kubernetes.slack.com>Kubernetes Slack 的 #sig-docs 频道</a>
联系 SIG-Docs 团队。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>注意，<code>generate-command</code> 是一个可选项，用来运行指定命令或者短脚本以在仓库内生成文档。</div><p>在 <code>reference.yml</code> 文件中，<code>files</code> 属性包含了一组 <code>src</code> 和 <code>dst</code> 字段。
<code>src</code> 字段给出在所克隆的 <code>kubernetes-sigs/reference-docs</code> 构造目录中生成的
Markdown 文件的位置，而 <code>dst</code> 字段则给出了对应文件要复制到的、所克隆的
<code>kubernetes/website</code> 仓库中的位置。例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>repos</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>reference-docs<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>remote</span>:<span style=color:#bbb> </span>https://github.com/kubernetes-sigs/reference-docs.git<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>gen-compdocs/build/kube-apiserver.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>content/en/docs/reference/command-line-tools-reference/kube-apiserver.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></span></span></code></pre></div><p>注意，如果从同一源目录中有很多文件要复制到目标目录，你可以在为 <code>src</code>
所设置的值中使用通配符。这时，为 <code>dst</code> 所设置的值必须是目录名称。例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>gen-compdocs/build/kubeadm*.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>content/en/docs/reference/setup-tools/kubeadm/generated/<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=running-the-update-imported-docs-tool>运行 update-imported-docs 工具</h2><p>你可以用如下方式运行 <code>update-imported-docs.py</code> 工具：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;/update-imported-docs
</span></span><span style=display:flex><span>./update-imported-docs.py &lt;configuration-file.yml&gt; &lt;release-version&gt;
</span></span></code></pre></div><p>例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>./update-imported-docs.py reference.yml 1.17
</span></span></code></pre></div><h2 id=fixing-links>修复链接</h2><p>配置文件 <code>release.yml</code> 中包含用来修复相对链接的指令。
若要修复导入文件中的相对链接，将 <code>gen-absolute-links</code> 属性设置为 <code>true</code>。你可以在
<a href=https://github.com/kubernetes/website/blob/main/update-imported-docs/release.yml><code>release.yml</code></a>
文件中找到示例。</p><h2 id=adding-and-committing-changes-in-k8s-website>添加并提交 kubernetes/website 中的变更</h2><p>枚举新生成并复制到 <code>&lt;web-base></code> 的文件：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>输出显示新生成和已修改的文件。取决于上游源代码的修改多少，
所生成的输出也会不同。</p><h3 id=生成的-kubernetes-组件文档>生成的 Kubernetes 组件文档</h3><pre tabindex=0><code>content/en/docs/reference/command-line-tools-reference/cloud-controller-manager.md
content/en/docs/reference/command-line-tools-reference/kube-apiserver.md
content/en/docs/reference/command-line-tools-reference/kube-controller-manager.md
content/en/docs/reference/command-line-tools-reference/kube-proxy.md
content/en/docs/reference/command-line-tools-reference/kube-scheduler.md
content/en/docs/reference/setup-tools/kubeadm/generated/kubeadm.md
content/en/docs/reference/kubectl/kubectl.md
</code></pre><h3 id=生成的-kubectl-命令参考文件>生成的 kubectl 命令参考文件</h3><pre tabindex=0><code>static/docs/reference/generated/kubectl/kubectl-commands.html
static/docs/reference/generated/kubectl/navData.js
static/docs/reference/generated/kubectl/scroll.js
static/docs/reference/generated/kubectl/stylesheet.css
static/docs/reference/generated/kubectl/tabvisibility.js
static/docs/reference/generated/kubectl/node_modules/bootstrap/dist/css/bootstrap.min.css
static/docs/reference/generated/kubectl/node_modules/highlight.js/styles/default.css
static/docs/reference/generated/kubectl/node_modules/jquery.scrollto/jquery.scrollTo.min.js
static/docs/reference/generated/kubectl/node_modules/jquery/dist/jquery.min.js
static/docs/reference/generated/kubectl/css/font-awesome.min.css
</code></pre><h3 id=生成的-kubernetes-api-参考目录与文件>生成的 Kubernetes API 参考目录与文件</h3><pre tabindex=0><code>static/docs/reference/generated/kubernetes-api/v1.25/index.html
static/docs/reference/generated/kubernetes-api/v1.25/js/navData.js
static/docs/reference/generated/kubernetes-api/v1.25/js/scroll.js
static/docs/reference/generated/kubernetes-api/v1.25/js/query.scrollTo.min.js
static/docs/reference/generated/kubernetes-api/v1.25/css/font-awesome.min.css
static/docs/reference/generated/kubernetes-api/v1.25/css/bootstrap.min.css
static/docs/reference/generated/kubernetes-api/v1.25/css/stylesheet.css
static/docs/reference/generated/kubernetes-api/v1.25/fonts/FontAwesome.otf
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.eot
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.svg
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.ttf
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.woff
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.woff2
</code></pre><p>运行 <code>git add</code> 和 <code>git commit</code> 提交文件。</p><h2 id=creating-a-pull-request>创建拉取请求</h2><p>接下来创建一个对 <code>kubernetes/website</code> 仓库的拉取请求（PR）。
监视所创建的 PR，并根据需要对评阅意见给出反馈。
继续监视该 PR 直到其被合并为止。</p><p>当你的 PR 被合并几分钟之后，你所做的对参考文档的变更就会出现
<a href=/zh-cn/docs/home/>发布的文档</a>上。</p><h2 id=接下来>接下来</h2><p>要手动设置所需的构造仓库，执行构建目标，以生成各个参考文档，可参考下面的指南：</p><ul><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-components/>为 Kubernetes 组件和工具生成参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubectl/>为 kubectl 命令生成参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-api/>为 Kubernetes API 生成参考文档</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-a5eac5b2b794f16aa703a2fa212d7c39>6.2 - 为上游 Kubernetes 代码库做出贡献</h1><p>此页面描述如何为上游 <code>kubernetes/kubernetes</code> 项目做出贡献，如修复 Kubernetes API
文档或 Kubernetes 组件（例如 <code>kubeadm</code>、<code>kube-apiserver</code>、<code>kube-controller-manager</code> 等）
中发现的错误。</p><p>如果你仅想从上游代码重新生成 Kubernetes API 或 <code>kube-*</code> 组件的参考文档。请参考以下说明：</p><ul><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-api/>生成 Kubernetes API 的参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-components/>生成 Kubernetes 组件和工具的参考文档</a></li></ul><h2 id=准备开始>准备开始</h2><ul><li><p>你需要安装以下工具：</p><ul><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> 的 1.13 版本或更高</li><li><a href=https://docs.docker.com/engine/installation/>Docker</a></li><li><a href=https://github.com/coreos/etcd/>etcd</a></li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li></ul></li></ul><ul><li>你必须设置 <code>GOPATH</code> 环境变量，并且 <code>etcd</code> 的位置必须在 <code>PATH</code> 环境变量中。</li></ul><ul><li>你需要知道如何创建对 GitHub 代码仓库的拉取请求（Pull Request）。
通常，这涉及创建代码仓库的派生副本。
要获取更多的信息请参考<a href=https://help.github.com/articles/creating-a-pull-request/>创建 PR</a> 和
<a href=https://gist.github.com/Chaser324/ce0505fbed06b947d962>GitHub 标准派生和 PR 工作流程</a>。</li></ul><h2 id=基本说明>基本说明</h2><p>Kubernetes API 和 <code>kube-*</code> 组件（例如 <code>kube-apiserver</code>、<code>kube-controller-manager</code>）的参考文档
是根据<a href=https://github.com/kubernetes/kubernetes/>上游 Kubernetes</a> 中的源代码自动生成的。</p><p>当你在生成的文档中看到错误时，你可能需要考虑创建一个 PR 用来在上游项目中对其进行修复。</p><h2 id=克隆-kubernetes-代码仓库>克隆 Kubernetes 代码仓库</h2><p>如果你还没有 kubernetes/kubernetes 代码仓库，请参照下列命令获取：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir <span style=color:#b8860b>$GOPATH</span>/src
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> <span style=color:#b8860b>$GOPATH</span>/src
</span></span><span style=display:flex><span>go get github.com/kubernetes/kubernetes
</span></span></code></pre></div><p>确定你的 <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a> 代码仓库克隆的根目录。
例如，如果按照前面的步骤获取代码仓库，则你的根目录为 <code>$GOPATH/src/github.com/kubernetes/kubernetes</code>。
接下来其余步骤将你的根目录称为 <code>&lt;k8s-base></code>。</p><p>确定你的 <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>
代码仓库克隆的根目录。
例如，如果按照前面的步骤获取代码仓库，则你的根目录为
<code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>。
接下来其余步骤将你的根目录称为 <code>&lt;rdocs-base></code>。</p><h2 id=编辑-kubernetes-源代码>编辑 Kubernetes 源代码</h2><p>Kubernetes API 参考文档是根据 OpenAPI 规范自动生成的，该规范是从 Kubernetes 源代码生成的。
如果要更改 API 参考文档，第一步是更改 Kubernetes 源代码中的一个或多个注释。</p><p><code>kube-*</code> 组件的文档也是从上游源代码生成的。你必须更改与要修复的组件相关的代码，才能修复生成的文档。</p><h3 id=更改上游-kubernetes-源代码>更改上游 Kubernetes 源代码</h3><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 以下步骤仅作为示例，不是通用步骤，具体情况因环境而异。</div><p>以下在 Kubernetes 源代码中编辑注释的示例。</p><p>在你本地的 kubernetes/kubernetes 代码仓库中，检出默认分支，并确保它是最新的：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout master
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes master
</span></span></code></pre></div><p>假设默认分支中的下面源文件中包含拼写错误 "atmost"：</p><p><a href=https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/apps/v1/types.go>kubernetes/kubernetes/staging/src/k8s.io/api/apps/v1/types.go</a></p><p>在你的本地环境中，打开 <code>types.go</code> 文件，然后将 "atmost" 更改为 "at most"。</p><p>以下命令验证你已经更改了文件：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git status
</span></span></code></pre></div><p>输出显示你在 master 分支上，<code>types.go</code> 源文件已被修改：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>On branch master
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>    modified:   staging/src/k8s.io/api/apps/v1/types.go
</span></span></code></pre></div><h3 id=提交已编辑的文件>提交已编辑的文件</h3><p>运行 <code>git add</code> 和 <code>git commit</code> 命令提交到目前为止所做的更改。
在下一步中，你将进行第二次提交，将更改分成两个提交很重要。</p><h3 id=生成-openapi-规范和相关文件>生成 OpenAPI 规范和相关文件</h3><p>进入 <code>&lt;k8s-base></code> 目录并运行以下脚本：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hack/update-generated-swagger-docs.sh
</span></span><span style=display:flex><span>hack/update-openapi-spec.sh
</span></span><span style=display:flex><span>hack/update-generated-protobuf.sh
</span></span></code></pre></div><p>运行 <code>git status</code> 命令查看生成的文件。</p><pre tabindex=0><code class=language-none data-lang=none>On branch master
...
    modified:   api/openapi-spec/swagger.json
    modified:   api/openapi-spec/v3/apis__apps__v1_openapi.json
    modified:   pkg/generated/openapi/zz_generated.openapi.go
    modified:   staging/src/k8s.io/api/apps/v1/generated.proto
    modified:   staging/src/k8s.io/api/apps/v1/types_swagger_doc_generated.go
</code></pre><p>查看 <code>api/openapi-spec/swagger.json</code> 的内容，以确保拼写错误已经被修正。
例如，你可以运行 <code>git diff -a api/openapi-spec/swagger.json</code> 命令。
这很重要，因为 <code>swagger.json</code> 是文档生成过程中第二阶段的输入。</p><p>运行 <code>git add</code> 和 <code>git commit</code> 命令来提交你的更改。现在你有两个提交（commits）：
一种包含编辑的 <code>types.go</code> 文件，另一种包含生成的 OpenAPI 规范和相关文件。
将这两个提交分开独立。也就是说，不要 squash 你的提交。</p><p>将你的更改作为 <a href=https://help.github.com/articles/creating-a-pull-request/>PR</a>
提交到 <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a> 代码仓库的 master 分支。
关注你的 PR，并根据需要回复 reviewer 的评论。继续关注你的 PR，直到 PR 被合并为止。</p><p><a href=https://github.com/kubernetes/kubernetes/pull/57758>PR 57758</a> 是修复 Kubernetes
源代码中的拼写错误的拉取请求的示例。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 确定要更改的正确源文件可能很棘手。在前面的示例中，官方的源文件位于 <code>kubernetes/kubernetes</code>
代码仓库的 <code>staging</code> 目录中。但是根据你的情况，<code>staging</code> 目录可能不是找到官方源文件的地方。
如果需要帮助，请阅读
<a href=https://github.com/kubernetes/kubernetes/tree/master/staging>kubernetes/kubernetes</a>
代码仓库和相关代码仓库
（例如 <a href=https://github.com/kubernetes/apiserver/blob/master/README.md>kubernetes/apiserver</a>）
中的 <code>README</code> 文件。</div><h3 id=将你的提交-cherrypick-到发布分支>将你的提交 Cherrypick 到发布分支</h3><p>在上一节中，你在 master 分支中编辑了一个文件，然后运行了脚本用来生成 OpenAPI 规范和相关文件。
然后用 PR 将你的更改提交到 kubernetes/kubernetes 代码仓库的 master 分支中。
现在，需要将你的更改反向移植到已经发布的分支。
例如，假设 master 分支被用来开发 Kubernetes 1.25 版，
并且你想将更改反向移植到 release-1.24 分支。</p><p>回想一下，你的 PR 有两个提交：一个用于编辑 <code>types.go</code>，一个用于由脚本生成的文件。
下一步是将你的第一次提交 cherrypick 到 release-1.24 分支。
这样做的原因是仅 cherrypick 编辑了 types.go 的提交，
而不是具有脚本运行结果的提交。
有关说明，请参见<a href=https://git.k8s.io/community/contributors/devel/sig-release/cherry-picks.md>提出 Cherry Pick</a>。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 提出 Cherry Pick 要求你有权在 PR 中设置标签和里程碑。如果你没有这些权限，
则需要与可以为你设置标签和里程碑的人员合作。</div><p>当你发起 PR 将你的一个提交 cherry pick 到 release-1.24 分支中时，
下一步是在本地环境的 release-1.24 分支中运行如下脚本。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hack/update-generated-swagger-docs.sh
</span></span><span style=display:flex><span>hack/update-openapi-spec.sh
</span></span><span style=display:flex><span>hack/update-generated-protobuf.sh
</span></span><span style=display:flex><span>hack/update-api-reference-docs.sh
</span></span></code></pre></div><p>现在将提交添加到你的 Cherry-Pick PR 中，该 PR 中包含最新生成的 OpenAPI 规范和相关文件。
关注你的 PR，直到其合并到 release-1.24 分支中为止。</p><p>此时，master 分支和 release-1.24
分支都具有更新的 <code>types.go</code> 文件和一组生成的文件，
这些文件反映了对 <code>types.go</code> 所做的更改。
请注意，生成的 OpenAPI 规范和其他 release-1.24
分支中生成的文件不一定与 master 分支中生成的文件相同。
release-1.24 分支中生成的文件仅包含来自
Kubernetes 1.24 的 API 元素。
master 分支中生成的文件可能包含不在 1.24
中但正在为 1.25 开发的 API 元素。</p><h2 id=生成已发布的参考文档>生成已发布的参考文档</h2><p>上一节显示了如何编辑源文件然后生成多个文件，包括在 <code>kubernetes/kubernetes</code> 代码仓库中的
<code>api/openapi-spec/swagger.json</code>。<code>swagger.json</code> 文件是 OpenAPI 定义文件，可用于生成 API 参考文档。</p><p>现在，你可以按照
<a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-api/>生成 Kubernetes API 的参考文档</a>
指南来生成
<a href=/docs/reference/generated/kubernetes-api/v1.25/>已发布的 Kubernetes API 参考文档</a>。</p><h2 id=接下来>接下来</h2><ul><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-api/>生成 Kubernetes API 的参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-components/>为 Kubernetes 组件和工具生成参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubectl/>生成 kubectl 命令的参考文档</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6e4e78f20e40bac9bcad59941e974af6>6.3 - 为 Kubernetes API 生成参考文档</h1><p>本页面显示了如何更新 Kubernetes API 参考文档。</p><p>Kubernetes API 参考文档是从
<a href=https://github.com/kubernetes/kubernetes/blob/master/api/openapi-spec/swagger.json>Kubernetes OpenAPI 规范</a>
构建的，
且使用<a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a> 生成代码。</p><p>如果你在生成的文档中发现错误，则需要<a href=/zh-cn/docs/contribute/generate-ref-docs/contribute-upstream/>在上游修复</a>。</p><p>如果你只需要从 <a href=https://github.com/OAI/OpenAPI-Specification>OpenAPI</a> 规范中重新生成参考文档，请继续阅读此页。</p><h2 id=准备开始>准备开始</h2><h3 id=requirements>需求</h3><ul><li><p>你需要一台 Linux 或 macOS 机器。</p></li><li><p>你需要安装以下工具：</p><ul><li><a href=https://www.python.org/downloads/>Python</a> v3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> 1.13+ 版本</li><li>用来安装 PyYAML 的 <a href=https://pypi.org/project/pip/>Pip</a></li><li><a href=https://pyyaml.org/>PyYAML</a> v5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> （仅用于 <code>kubectl</code> 命令参考）</li></ul></li></ul><ul><li><p>你的 <code>PATH</code> 环境变量必须包含所需要的构建工具，例如 <code>Go</code> 程序和 <code>python</code>。</p></li><li><p>你需要知道如何为一个 GitHub 仓库创建拉取请求（PR）。
这牵涉到创建仓库的派生（fork）副本。
有关信息可进一步查看<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#fork-the-repo>基于本地副本开展工作</a>。</p></li></ul><h2 id=配置本地仓库>配置本地仓库</h2><p>创建本地工作区并设置你的 <code>GOPATH</code>。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p <span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>GOPATH</span><span style=color:#666>=</span><span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span></code></pre></div><p>获取以下仓库的本地克隆：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go get -u github.com/kubernetes-sigs/reference-docs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>go get -u github.com/go-openapi/loads
</span></span><span style=display:flex><span>go get -u github.com/go-openapi/spec
</span></span></code></pre></div><p>如果你还没有下载过 <code>kubernetes/website</code> 仓库，现在下载：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;your-username&gt;/website <span style=color:#b8860b>$GOPATH</span>/src/github.com/&lt;your-username&gt;/website
</span></span></code></pre></div><p>克隆 kubernetes/kubernetes 仓库作为 k8s.io/kubernetes：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/kubernetes/kubernetes <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes
</span></span></code></pre></div><ul><li><a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a> 仓库克隆后的根目录为
<code>$GOPATH/src/k8s.io/kubernetes</code>。 后续步骤将此目录称为 <code>&lt;k8s-base></code>。</li><li><a href=https://github.com/kubernetes/website>kubernetes/website</a> 仓库克隆后的根目录为
<code>$GOPATH/src/github.com/&lt;your username>/website</code>。后续步骤将此目录称为 <code>&lt;web-base></code>。</li><li><a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>
仓库克隆后的基本目录为 <code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs.</code>。
后续步骤将此目录称为 <code>&lt;rdocs-base></code>。</li></ul><h2 id=生成-api-参考文档>生成 API 参考文档</h2><p>本节说明如何生成<a href=/docs/reference/generated/kubernetes-api/v1.25/>已发布的 Kubernetes API 参考文档</a>。</p><h3 id=setting-build-variables>设置构建变量</h3><ul><li>设置 <code>K8S_ROOT</code> 为 <code>&lt;k8s-base></code>.</li><li>设置 <code>K8S_WEBROOT</code> 为 <code>&lt;web-base></code>.</li><li>设置 <code>K8S_RELEASE</code> 为要构建的文档的版本。
例如，如果你想为 Kubernetes 1.17.0 构建文档，请将 <code>K8S_RELEASE</code> 设置为 1.17.0。</li></ul><p>例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_WEBROOT</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#b8860b>GOPATH</span><span style=color:#b68;font-weight:700>}</span>/src/github.com/&lt;your-username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_ROOT</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#b8860b>GOPATH</span><span style=color:#b68;font-weight:700>}</span>/src/k8s.io/kubernetes
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_RELEASE</span><span style=color:#666>=</span>1.17.0
</span></span></code></pre></div><h3 id=创建版本目录并复制-openapi-规范>创建版本目录并复制 OpenAPI 规范</h3><p>构建目标 <code>updateapispec</code> 负责创建版本化的构建目录。
目录创建了之后，从 <code>&lt;k8s-base></code> 仓库取回 OpenAPI 规范文件。
这些步骤确保配置文件的版本和 Kubernetes OpenAPI 规范的版本与发行版本匹配。
版本化目录的名称形式为 <code>v&lt;major>_&lt;minor></code>。</p><p>在 <code>&lt;rdocs-base></code> 目录中，运行以下命令来构建：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make updateapispec
</span></span></code></pre></div><h3 id=构建-api-参考文档>构建 API 参考文档</h3><p>构建目标 <code>copyapi</code> 会生成 API 参考文档并将所生成文件复制到
<code>&lt;web-base</code> 中的目录下。
在 <code>&lt;rdocs-base></code> 目录中运行以下命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make copyapi
</span></span></code></pre></div><p>验证是否已生成这两个文件：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-apidocs/build/index.html&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;index.html built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no index.html&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-apidocs/build/navData.js&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;navData.js built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no navData.js&#34;</span>
</span></span></code></pre></div><p>进入本地 <code>&lt;web-base></code> 目录，检查哪些文件被更改：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>输出类似于：</p><pre tabindex=0><code>static/docs/reference/generated/kubernetes-api/v1.25/css/bootstrap.min.css
static/docs/reference/generated/kubernetes-api/v1.25/css/font-awesome.min.css
static/docs/reference/generated/kubernetes-api/v1.25/css/stylesheet.css
static/docs/reference/generated/kubernetes-api/v1.25/fonts/FontAwesome.otf
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.eot
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.svg
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.ttf
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.woff
static/docs/reference/generated/kubernetes-api/v1.25/fonts/fontawesome-webfont.woff2
static/docs/reference/generated/kubernetes-api/v1.25/index.html
static/docs/reference/generated/kubernetes-api/v1.25/js/jquery.scrollTo.min.js
static/docs/reference/generated/kubernetes-api/v1.25/js/navData.js
static/docs/reference/generated/kubernetes-api/v1.25/js/scroll.js
</code></pre><h2 id=更新-api-参考索引页面>更新 API 参考索引页面</h2><p>在为新发行版本生成参考文档时，需要更新下面的文件，使之包含新的版本号：
<code>&lt;web-base>/content/en/docs/reference/kubernetes-api/api-index.md</code>。</p><ul><li><p>打开并编辑 <code>&lt;web-base>/content/en/docs/reference/kubernetes-api/api-index.md</code>，
API 参考的版本号。例如：</p><pre tabindex=0><code>title: v1.17
[Kubernetes API v1.17](/docs/reference/generated/kubernetes-api/v1.17/)
</code></pre></li></ul><ul><li>打开编辑 <code>&lt;web-base>/content/en/docs/reference/_index.md</code>，添加指向最新 API 参考
的链接，删除最老的 API 版本。
通常保留最近的五个版本的 API 参考的链接。</li></ul><h2 id=在本地测试-api-参考>在本地测试 API 参考</h2><p>发布 API 参考的本地版本。
检查<a href=http://localhost:1313/docs/reference/generated/kubernetes-api/v1.25/>本地预览</a>。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git submodule update --init --recursive --depth <span style=color:#666>1</span> <span style=color:#080;font-style:italic># if not already done</span>
</span></span><span style=display:flex><span>make container-serve
</span></span></code></pre></div><h2 id=提交更改>提交更改</h2><p>在 <code>&lt;web-base></code> 中运行 <code>git add</code> 和 <code>git commit</code> 来提交更改。</p><p>基于你所生成的更改<a href=/zh-cn/docs/contribute/new-content/open-a-pr/>创建 PR</a>，
提交到 <a href=https://github.com/kubernetes/website>kubernetes/website</a> 仓库。
监视你提交的 PR，并根据需要回复 reviewer 的评论。继续监视你的 PR，直到合并为止。</p><h2 id=接下来>接下来</h2><ul><li><a href=/zh-cn/docs/contribute/generate-ref-docs/quickstart/>生成参考文档快速入门</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-components/>为 Kubernetes 组件和工具生成参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubectl/>为 kubectl 命令集生成参考文档</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-03de26b330a5cfdb26672f6bc75dcc04>6.4 - 为 kubectl 命令集生成参考文档</h1><p>本页面描述了如何生成 <code>kubectl</code> 命令参考。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 本主题描述了如何为 <a href=/docs/reference/generated/kubectl/kubectl-commands>kubectl 命令</a>
生成参考文档，如 <a href=/docs/reference/generated/kubectl/kubectl-commands#apply>kubectl apply</a> 和
<a href=/docs/reference/generated/kubectl/kubectl-commands#taint>kubectl taint</a>。
本主题没有讨论如何生成 <a href=/docs/reference/generated/kubectl/kubectl-commands/>kubectl</a> 组件选项的参考页面。
相关说明请参见<a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-components/>为 Kubernetes 组件和工具生成参考页面</a>。</div><h2 id=准备开始>准备开始</h2><h3 id=requirements>需求</h3><ul><li><p>你需要一台 Linux 或 macOS 机器。</p></li><li><p>你需要安装以下工具：</p><ul><li><a href=https://www.python.org/downloads/>Python</a> v3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> 1.13+ 版本</li><li>用来安装 PyYAML 的 <a href=https://pypi.org/project/pip/>Pip</a></li><li><a href=https://pyyaml.org/>PyYAML</a> v5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> （仅用于 <code>kubectl</code> 命令参考）</li></ul></li></ul><ul><li><p>你的 <code>PATH</code> 环境变量必须包含所需要的构建工具，例如 <code>Go</code> 程序和 <code>python</code>。</p></li><li><p>你需要知道如何为一个 GitHub 仓库创建拉取请求（PR）。
这牵涉到创建仓库的派生（fork）副本。
有关信息可进一步查看<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#fork-the-repo>基于本地副本开展工作</a>。</p></li></ul><h2 id=配置本地仓库>配置本地仓库</h2><p>创建本地工作区并设置你的 <code>GOPATH</code>。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p <span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>GOPATH</span><span style=color:#666>=</span><span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span></code></pre></div><p>获取以下仓库的本地克隆：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go get -u github.com/spf13/pflag
</span></span><span style=display:flex><span>go get -u github.com/spf13/cobra
</span></span><span style=display:flex><span>go get -u gopkg.in/yaml.v2
</span></span><span style=display:flex><span>go get -u kubernetes-incubator/reference-docs
</span></span></code></pre></div><p>如果你还没有获取过 <code>kubernetes/website</code> 仓库，现在获取之：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;your-username&gt;/website <span style=color:#b8860b>$GOPATH</span>/src/github.com/&lt;your-username&gt;/website
</span></span></code></pre></div><p>克隆 kubernetes/kubernetes 仓库作为 k8s.io/kubernetes：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/kubernetes/kubernetes <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes
</span></span></code></pre></div><p>从 <code>$GOPATH/src/k8s.io/kubernetes/vendor/github.com</code> 中移除 spf13 软件包。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>rm -rf <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes/vendor/github.com/spf13
</span></span></code></pre></div><p>kubernetes/kubernetes 仓库提供对 kubectl 和 kustomize 源代码的访问。</p><ul><li>确定 <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a> 仓库的本地主目录。
例如，如果按照前面的步骤来获取该仓库，则主目录是 <code>$GOPATH/src/k8s.io/kubernetes.</code>。
下文将该目录称为 <code>&lt;k8s-base></code>。</li></ul><ul><li>确定 <a href=https://github.com/kubernetes/website>kubernetes/website</a> 仓库的本地主目录。
例如，如果按照前面的步骤来获取该仓库，则主目录是 <code>$GOPATH/src/github.com/&lt;your-username>/website</code>。
下文将该目录称为 <code>&lt;web-base></code>。</li></ul><ul><li>确定 <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>
仓库的本地主目录。例如，如果按照前面的步骤来获取该仓库，则主目录是
<code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>。
下文将该目录称为 <code>&lt;rdocs-base></code>。</li></ul><p>在本地的 k8s.io/kubernetes 仓库中，检出感兴趣的分支并确保它是最新的。例如，
如果你想要生成 Kubernetes 1.24.0 的文档，可以使用以下命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout v1.24.0
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes 1.24.0
</span></span></code></pre></div><p>如果不需要编辑 <code>kubectl</code>
源码，请按照说明<a href=#setting-build-variables>配置构建变量</a>。</p><h2 id=编辑-kubectl-源码>编辑 kubectl 源码</h2><p>kubectl 命令的参考文档是基于 kubectl 源码自动生成的。如果想要修改参考文档，可以从修改
kubectl 源码中的一个或多个注释开始。在本地 kubernetes/kubernetes 仓库中进行修改，然后向
<a href=https://github.com/kubernetes/kubernetes>github.com/kubernetes/kubernetes</a> 的 master
分支提交 PR。</p><p><a href=https://github.com/kubernetes/kubernetes/pull/56673/files>PR 56673</a> 是一个对 kubectl
源码中的笔误进行修复的 PR 示例。</p><p>跟踪你的 PR，并回应评审人的评论。继续跟踪你的 PR，直到它合入到 kubernetes/kubernetes 仓库的目标分支中。</p><h2 id=以-cherry-pick-方式将你的修改合入已发布分支>以 cherry-pick 方式将你的修改合入已发布分支</h2><p>你的修改已合入 master 分支中，该分支用于开发下一个 Kubernetes 版本。
如果你希望修改部分出现在已发布的 Kubernetes 版本文档中，则需要提议将它们以
cherry-pick 方式合入已发布分支。</p><p>例如，假设 master 分支正用于开发 Kubernetes 1.25 版本，
而你希望将修改合入到 release-1.24 版本分支。
相关的操作指南，请参见
<a href=https://git.k8s.io/community/contributors/devel/sig-release/cherry-picks.md>提议一个 cherry-pick</a>。</p><p>跟踪你的 cherry-pick PR，直到它合入到已发布分支中。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 提议一个 cherry-pick 需要你有在 PR 中设置标签和里程碑的权限。
如果你没有，你需要与有权限为你设置标签和里程碑的人合作完成。</div><h2 id=setting-build-variables>设置构建变量</h2><p>进入 <code>&lt;rdocs-base></code> 目录, 打开 <code>Makefile</code> 进行编辑：</p><ul><li>设置 <code>K8S_ROOT</code> 为 <code>&lt;k8s-base></code>。</li><li>设置 <code>K8S_WEBROOT</code> 为 <code>&lt;web-base></code>。</li><li>设置 <code>K8S_RELEASE</code> 为要构建文档的版本。
例如，如果你想为 Kubernetes 1.24 构建文档，
请将 <code>K8S_RELEASE</code> 设置为 1.24。</li></ul><p>例如：</p><pre tabindex=0><code>export K8S_WEBROOT=$(GOPATH)/src/github.com/&lt;your-username&gt;/website
export K8S_ROOT=$(GOPATH)/src/k8s.io/kubernetes
export K8S_RELEASE=1.24
</code></pre><h2 id=创建版本目录>创建版本目录</h2><p>构建目标 <code>createversiondirs</code> 会生成一个版本目录并将 kubectl 参考配置文件复制到该目录中。
版本目录的名字模式为 <code>v&lt;major>_&lt;minor></code>。</p><p>在 <code>&lt;rdocs-base></code> 目录下，执行下面的命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make createversiondirs
</span></span></code></pre></div><h2 id=从-kubernetes-kubernetes-检出一个分支>从 kubernetes/kubernetes 检出一个分支</h2><p>在本地 <code>&lt;k8s-base></code> 仓库中，检出你想要生成文档的、包含 Kubernetes 版本的分支。
例如，如果希望为 Kubernetes 1.24.0 版本生成文档，
请检出 <code>v1.24</code> 标记。
确保本地分支是最新的。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout v1.24.0
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes v1.24.0
</span></span></code></pre></div><h2 id=运行文档生成代码>运行文档生成代码</h2><p>在本地的 <code>&lt;rdocs-base></code> 目录下，运行 <code>copycli</code> 构建目标。此命令以 <code>root</code> 账号运行：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make copycli
</span></span></code></pre></div><p><code>copycli</code> 命令将清理暂存目录，生成 kubectl 命令文件，并将整理后的 kubectl 参考 HTML 页面和
文件复制到 <code>&lt;web-base></code>。</p><h2 id=找到生成的文件>找到生成的文件</h2><p>验证是否已生成以下两个文件：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-kubectldocs/generators/build/index.html&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;index.html built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no index.html&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-kubectldocs/generators/build/navData.js&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;navData.js built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no navData.js&#34;</span>
</span></span></code></pre></div><h2 id=找到复制的文件>找到复制的文件</h2><p>确认所有生成的文件都已复制到你的 <code>&lt;web-base></code>：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>输出应包括修改后的文件：</p><pre tabindex=0><code>static/docs/reference/generated/kubectl/kubectl-commands.html
static/docs/reference/generated/kubectl/navData.js
</code></pre><p>此外，输出可能还包含：</p><pre tabindex=0><code>static/docs/reference/generated/kubectl/scroll.js
static/docs/reference/generated/kubectl/stylesheet.css
static/docs/reference/generated/kubectl/tabvisibility.js
static/docs/reference/generated/kubectl/node_modules/bootstrap/dist/css/bootstrap.min.css
static/docs/reference/generated/kubectl/node_modules/highlight.js/styles/default.css
static/docs/reference/generated/kubectl/node_modules/jquery.scrollto/jquery.scrollTo.min.js
static/docs/reference/generated/kubectl/node_modules/jquery/dist/jquery.min.js
static/docs/reference/generated/kubectl/node_modules/font-awesome/css/font-awesome.min.css
</code></pre><h2 id=在本地测试文档>在本地测试文档</h2><p>在本地 <code>&lt;web-base></code> 中构建 Kubernetes 文档。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git submodule update --init --recursive --depth <span style=color:#666>1</span> <span style=color:#080;font-style:italic># if not already done</span>
</span></span><span style=display:flex><span>make container-serve
</span></span></code></pre></div><p>查看<a href=https://localhost:1313/docs/reference/generated/kubectl/kubectl-commands/>本地预览</a>。</p><h2 id=在-kubernetes-website-中添加和提交更改>在 kubernetes/website 中添加和提交更改</h2><p>运行 <code>git add</code> 和 <code>git commit</code> 提交修改文件。</p><h2 id=创建-pr>创建 PR</h2><p>对 <code>kubernetes/website</code> 仓库创建 PR。跟踪你的 PR，并根据需要回应评审人的评论。
继续跟踪你的 PR，直到它被合入。</p><p>在 PR 合入的几分钟后，你更新的参考主题将出现在<a href=/zh-cn/docs/home/>已发布文档</a>中。</p><h2 id=接下来>接下来</h2><ul><li><a href=/zh-cn/docs/contribute/generate-ref-docs/quickstart/>生成参考文档快速入门</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-components/>为 Kubernetes 组件和工具生成参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-api/>为 Kubernetes API 生成参考文档</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-28fc50a0072b0b2b444aa24e552d2e60>6.5 - 为 Kubernetes 组件和工具生成参考文档</h1><p>本页面描述如何构造 Kubernetes 组件和工具的参考文档。</p><h2 id=准备开始>准备开始</h2><p>阅读参考文档快速入门指南中的<a href=/zh-cn/docs/contribute/generate-ref-docs/quickstart/#before-you-begin>准备工作</a>节。</p><p>按照<a href=/zh-cn/docs/contribute/generate-ref-docs/quickstart/>参考文档快速入门</a>
指引，生成 Kubernetes 组件和工具的参考文档。</p><h2 id=接下来>接下来</h2><ul><li><a href=/zh-cn/docs/contribute/generate-ref-docs/quickstart/>生成参考文档快速入门</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubectl/>为 kubectll 命令生成参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/kubernetes-api/>为 Kubernetes API 生成参考文档</a></li><li><a href=/zh-cn/docs/contribute/generate-ref-docs/contribute-upstream/>为上游 Kubernetes 项目做贡献以改进文档</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-eabe0c0c6b0046c51d7fdf5e8450a5b5>6.6 -</h1><h3 id=requirements>需求</h3><ul><li><p>你需要一台 Linux 或 macOS 机器。</p></li><li><p>你需要安装以下工具：</p><ul><li><a href=https://www.python.org/downloads/>Python</a> v3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> 1.13+ 版本</li><li>用来安装 PyYAML 的 <a href=https://pypi.org/project/pip/>Pip</a></li><li><a href=https://pyyaml.org/>PyYAML</a> v5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> （仅用于 <code>kubectl</code> 命令参考）</li></ul></li></ul><ul><li><p>你的 <code>PATH</code> 环境变量必须包含所需要的构建工具，例如 <code>Go</code> 程序和 <code>python</code>。</p></li><li><p>你需要知道如何为一个 GitHub 仓库创建拉取请求（PR）。
这牵涉到创建仓库的派生（fork）副本。
有关信息可进一步查看<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#fork-the-repo>基于本地副本开展工作</a>。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-a2d946282df02cdeb47d9f54dfef198e>7 - 文档样式概述</h1><p>本节的主题是提供有关写作风格、内容格式和组织以及如何使用
特定于 Kubernetes 文档的 Hugo 定制代码的指导。</p></div><div class=td-content><h1 id=pg-3b9549b1c8f5ef9d6ae0a841cc99c180>7.1 - 文档内容指南</h1><p>本页包含 Kubernetes 文档的一些指南。</p><p>如果你不清楚哪些事情是可以做的，请加入到
<a href=https://slack.k8s.io/>Kubernetes Slack</a> 的 <code>#sig-docs</code> 频道提问！
你可以在 <a href=https://slack.k8s.io>https://slack.k8s.io</a> 注册到 Kubernetes Slack。</p><p>关于为 Kubernetes 文档创建新内容的更多信息，
可参考<a href=/zh-cn/docs/contribute/style/style-guide>样式指南</a>。</p><h2 id=overview>概述</h2><p>Kubernetes 网站（包括其文档）源代码位于
<a href=https://github.com/kubernetes/website>kubernetes/website</a> 仓库中。</p><p>在 <code>kubernetes/website/content/&lt;语言代码>/docs</code> 目录下, 绝大多数 Kubernetes
文档都是特定于 <a href=https://github.com/kubernetes/kubernetes>Kubernetes 项目</a>的。</p><h2 id=what-s-allowed>可以发布的内容</h2><p>只有当以下条件满足时，Kubernetes 文档才允许第三方项目的内容：</p><ul><li>内容所描述的软件在 Kubernetes 项目内</li><li>内容所描述的软件不在 Kubernetes 项目内，却是让 Kubernetes 正常工作所必需的</li><li>内容是被 kubernetes.io 域名收编的，或者是其他位置的标准典型内容</li></ul><h3 id=third-party-content>第三方内容</h3><p>Kubernetes 文档包含 Kubernetes 项目下的多个项目的应用示例。
这里的 Kubernetes 项目指的是 <a href=https://github.com/kubernetes>Kubernetes</a> 和
<a href=https://github.com/kubernetes-sigs>Kubernetes SIGs</a> GitHub 组织下的那些项目。</p><p>链接到 Kubernetes 项目中活跃的内容是一直允许的。</p><p>Kubernetes 需要某些第三方内容才能正常工作。例如容器运行时（containerd、CRI-O、Docker）、
<a href=/zh-cn/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/>联网策略</a>（CNI 插件）、
<a href=/zh-cn/docs/concepts/services-networking/ingress-controllers/>Ingress 控制器</a>
以及<a href=/zh-cn/docs/concepts/cluster-administration/logging/>日志</a>等。</p><p>只有对应的第三方开源软件（OSS）是运行 Kubernetes 所必需的，
才可以在文档中包含指向这些 Kubernetes 项目之外的软件的链接。</p><h3 id=dual-sourced-content>双重来源的内容</h3><p>只要有可能，Kubernetes 文档就应该指向标准典型的信息源而不是直接托管双重来源的内容。</p><p>双重来源的内容需要双倍（甚至更多）的投入才能维护，而且通常很快就会变得停滞不前。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>如果你是一个 Kubernetes 项目的维护者，需要帮忙托管你自己的文档，
请在 Kubernetes 的 <a href=https://kubernetes.slack.com/messages/C1J0BPD2M/>#sig-docs 频道</a>提出请求。</div><h3 id=more-information>更多信息</h3><p>如果你对允许出现的内容有疑问，请加入到 <a href=https://slack.k8s.io/>Kubernetes Slack</a>
的 <code>#sig-docs</code> 频道提问！</p><h2 id=接下来>接下来</h2><ul><li>阅读<a href=/zh-cn/docs/contribute/style/style-guide>样式指南</a>。</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-75de610057816ac48210db20ec633217>7.2 - 文档样式指南</h1><p>本页讨论 Kubernetes 文档的样式指南。
这些仅仅是指南而不是规则。
你可以自行决定，且欢迎使用 PR 来为此文档提供修改意见。</p><p>关于为 Kubernetes 文档贡献新内容的更多信息，
可以参考<a href=/zh-cn/docs/contribute/style/content-guide/>文档内容指南</a>。</p><p>样式指南的变更是 SIG Docs 团队集体决定。
如要提议更改或新增条目，请先将其添加到下一次 SIG Docs
例会的<a href=https://bit.ly/sig-docs-agenda>议程表</a>上，并按时参加会议讨论。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> Kubernetes 文档使用带调整的 <a href=https://github.com/yuin/goldmark/>Goldmark Markdown 解释器</a>
和一些 <a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>Hugo 短代码</a>来支持词汇表项、Tab
页以及特性门控标注。</div><h2 id=language>语言</h2><p>Kubernetes 文档已经被翻译为多个语种
（参见 <a href=https://github.com/kubernetes/website/blob/main/README.md#localization-readmemds>本地化 READMEs</a>）。</p><p><a href=/zh-cn/docs/contribute/localization/>本地化 Kubernetes 文档</a>描述了如何为一种新的语言提供本地化文档。</p><p>英语文档使用美国英语的拼写和语法。</p><h2 id=documentation-formatting-standards>文档格式标准</h2><h3 id=use-upper-camel-case-for-api-objects>对 API 对象使用大写驼峰式命名法</h3><p>当你与指定的 API 对象进行交互时，
使用<a href=https://zh.wikipedia.org/wiki/%E9%A7%9D%E5%B3%B0%E5%BC%8F%E5%A4%A7%E5%B0%8F%E5%AF%AB>大写驼峰式命名法</a>，
也被称为帕斯卡拼写法（PascalCase）。
你可以在 <a href=/zh-cn/docs/reference/kubernetes-api/>API 参考</a>中看到不同的大小写形式，例如 "configMap"。
在编写通用文档时，最好使用大写驼峰形式，将之称作 "ConfigMap"。</p><p>通常在讨论 API 对象时，使用
<a href=https://docs.microsoft.com/en-us/style-guide/text-formatting/using-type/use-sentence-style-capitalization>句子式大写</a>。</p><p>下面的例子关注的是大小写问题。关于如何格式化 API 对象名称的更多信息，
可参考相关的<a href=#code-style-inline-code>代码风格</a>指南。</p><table><caption style=display:none>使用 Pascal 风格大小写来给出 API 对象的约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>该 HorizontalPodAutoscaler 负责...</td><td style=text-align:left>该 Horizontal pod autoscaler 负责...</td></tr><tr><td style=text-align:left>每个 PodList 是一个 Pod 组成的列表。</td><td style=text-align:left>每个 Pod List 是一个由 Pod 组成的列表。</td></tr><tr><td style=text-align:left>该 Volume 对象包含一个 <code>hostPath</code> 字段。</td><td style=text-align:left>此卷对象包含一个 hostPath 字段。</td></tr><tr><td style=text-align:left>每个 ConfigMap 对象都是某个名字空间的一部分。</td><td style=text-align:left>每个 configMap 对象是某个名字空间的一部分。</td></tr><tr><td style=text-align:left>要管理机密数据，可以考虑使用 Secret API。</td><td style=text-align:left>要管理机密数据，可以考虑使用秘密 API。</td></tr></tbody></table><h3 id=在占位符中使用尖括号>在占位符中使用尖括号</h3><p>用尖括号表示占位符，让读者知道占位符表示的是什么。例如：</p><p>显示有关 Pod 的信息：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl describe pod &lt;Pod 名称&gt; -n &lt;名字空间&gt;
</span></span></code></pre></div><p>如果名字空间被忽略，默认为 <code>default</code>，你可以省略 '-n' 参数。</p><h3 id=用粗体字表现用户界面元素>用粗体字表现用户界面元素</h3><table><caption style=display:none>以粗体表示用户界面元素</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>点击 <strong>Fork</strong>。</td><td style=text-align:left>点击 "Fork"。</td></tr><tr><td style=text-align:left>选择 <strong>Other</strong>。</td><td style=text-align:left>选择 "Other"。</td></tr></tbody></table><h3 id=定义或引入新术语时使用斜体>定义或引入新术语时使用斜体</h3><table><caption style=display:none>新术语约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>每个 <em>集群</em> 是一组节点 ...</td><td style=text-align:left>每个“集群”是一组节点 ...</td></tr><tr><td style=text-align:left>这些组件构成了 <em>控制面</em>。</td><td style=text-align:left>这些组件构成了 <strong>控制面</strong>。</td></tr></tbody></table><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 注意：这一条不适用于中文本地化，中文本地化过程中通常将英文斜体改为粗体。</div><h3 id=使用代码样式表现文件名-目录和路径>使用代码样式表现文件名、目录和路径</h3><table><caption style=display:none>文件名、目录和路径约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>打开 <code>envars.yaml</code> 文件</td><td style=text-align:left>打开 envars.yaml 文件</td></tr><tr><td style=text-align:left>进入到 <code>/docs/tutorials</code> 目录</td><td style=text-align:left>进入到 /docs/tutorials 目录</td></tr><tr><td style=text-align:left>打开 <code>/_data/concepts.yaml</code> 文件</td><td style=text-align:left>打开 /_data/concepts.yaml 文件</td></tr></tbody></table><h3 id=在引号内使用国际标准标点>在引号内使用国际标准标点</h3><table><caption style=display:none>标点符号约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>事件记录中都包含对应的“stage”。</td><td style=text-align:left>事件记录中都包含对应的“stage。”</td></tr><tr><td style=text-align:left>此副本称作一个“fork”。</td><td style=text-align:left>此副本称作一个“fork。”</td></tr></tbody></table><h2 id=inline-code-formatting>行间代码格式</h2><h3 id=code-style-inline-code>为行间代码、命令与 API 对象使用代码样式</h3><p>对于 HTML 文档中的行间代码，使用 <code>&lt;code></code> 标记。
在 Markdown 文档中，使用反引号（<code>`</code>）。</p><table><caption style=display:none>行间代码、命令和 API 对象约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left><code>kubectl run</code> 命令会创建一个 <code>Pod</code></td><td style=text-align:left>"kubectl run" 命令会创建一个 Pod。</td></tr><tr><td style=text-align:left>每个节点上的 kubelet 都会获得一个 <code>Lease</code></td><td style=text-align:left>每个节点上的 kubelet 都会获得一个 lease…</td></tr><tr><td style=text-align:left>一个 <code>PersistentVolume</code> 代表持久存储</td><td style=text-align:left>一个 Persistent Volume 代表持久存储…</td></tr><tr><td style=text-align:left>在声明式管理中，使用 <code>kubectl apply</code>。</td><td style=text-align:left>在声明式管理中，使用 "kubectl apply"。</td></tr><tr><td style=text-align:left>用三个反引号来（```）标示代码示例</td><td style=text-align:left>用其他语法来标示代码示例。</td></tr><tr><td style=text-align:left>使用单个反引号来标示行间代码。例如：<code>var example = true</code>。</td><td style=text-align:left>使用两个星号（<code>**</code>）或者一个下划线（<code>_</code>）来标示行间代码。例如：<strong>var example = true</strong>。</td></tr><tr><td style=text-align:left>在多行代码块之前和之后使用三个反引号标示隔离的代码块。</td><td style=text-align:left>使用多行代码块来创建示意图、流程图或者其他表示。</td></tr><tr><td style=text-align:left>使用符合上下文的有意义的变量名。</td><td style=text-align:left>使用诸如 'foo'、'bar' 和 'baz' 这类无意义且无语境的变量名。</td></tr><tr><td style=text-align:left>删除代码中行尾空白。</td><td style=text-align:left>在代码中包含行尾空白，因为屏幕抓取工具通常也会抓取空白字符。</td></tr></tbody></table><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 网站支持为代码示例使用语法加亮，不过指定语法加亮是可选的。
代码段的语法加亮要遵从<a href="https://www.w3.org/WAI/WCAG21/quickref/?versions=2.0&showtechniques=141%2C143#contrast-minimum">对比度指南</a></div><h3 id=为对象字段名和名字空间使用代码风格>为对象字段名和名字空间使用代码风格</h3><table><caption style=display:none>对象字段名约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>在配置文件中设置 <code>replicas</code> 字段的值。</td><td style=text-align:left>在配置文件中设置 "replicas" 字段的值。</td></tr><tr><td style=text-align:left><code>exec</code> 字段的值是一个 ExecAction 对象。</td><td style=text-align:left>"exec" 字段的值是一个 ExecAction 对象。</td></tr><tr><td style=text-align:left>在 <code>kube-system</code> 名字空间中以 DaemonSet 形式运行此进程。</td><td style=text-align:left>在 kube-system 名字空间中以 DaemonSet 形式运行此进程。</td></tr></tbody></table><h3 id=用代码样式书写-kubernetes-命令工具和组件名>用代码样式书写 Kubernetes 命令工具和组件名</h3><table><caption style=display:none>Kubernetes 命令工具和组件名</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left><code>kubelet</code> 维持节点稳定性。</td><td style=text-align:left>kubelet 负责维护节点稳定性。</td></tr><tr><td style=text-align:left><code>kubectl</code> 处理 API 服务器的定位和身份认证。</td><td style=text-align:left>kubectl 处理 API 服务器的定位和身份认证。</td></tr><tr><td style=text-align:left>使用该证书运行进程 <code>kube-apiserver --client-ca-file=FILENAME</code>。</td><td style=text-align:left>使用证书运行进程 kube-apiserver --client-ca-file=FILENAME。</td></tr></tbody></table><h3 id=用工具或组件名称开始一句话>用工具或组件名称开始一句话</h3><table><caption style=display:none>工具或组件名称使用约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>The <code>kubeadm</code> tool bootstraps and provisions machines in a cluster.</td><td style=text-align:left><code>kubeadm</code> tool bootstraps and provisions machines in a cluster.</td></tr><tr><td style=text-align:left>The kube-scheduler is the default scheduler for Kubernetes.</td><td style=text-align:left>kube-scheduler is the default scheduler for Kubernetes.</td></tr></tbody></table><h3 id=尽量使用通用描述而不是组件名称>尽量使用通用描述而不是组件名称</h3><table><caption style=display:none>组件名称与通用描述</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>Kubernetes API 服务器提供 OpenAPI 规范。</td><td style=text-align:left>apiserver 提供 OpenAPI 规范。</td></tr><tr><td style=text-align:left>聚合 API 是下级 API 服务器。</td><td style=text-align:left>聚合 API 是下级 APIServer。</td></tr></tbody></table><h3 id=使用普通样式表达字符串和整数字段值>使用普通样式表达字符串和整数字段值</h3><p>对于字符串或整数，使用正常样式，不要带引号。</p><table><caption style=display:none>字符串和整数字段值约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>将 <code>imagePullPolicy</code> 设置为 Always。</td><td style=text-align:left>将 <code>imagePullPolicy</code> 设置为 "Always"。</td></tr><tr><td style=text-align:left>将 <code>image</code> 设置为 nginx:1.16。</td><td style=text-align:left>将 <code>image</code> 设置为 <code>nginx:1.16</code>。</td></tr><tr><td style=text-align:left>将 <code>replicas</code> 字段值设置为 2。</td><td style=text-align:left>将 <code>replicas</code> 字段值设置为 <code>2</code>。</td></tr></tbody></table><h2 id=referring-to-kubernetes-api-resources>引用 Kubernetes API 资源</h2><p>本节讨论我们如何在文档中引用 API 资源。</p><h3 id=有关-资源-的阐述>有关 “资源” 的阐述</h3><p>Kubernetes 使用 “resource” 一词来指代 API 资源，例如 <code>pod</code>、<code>deployment</code> 等。
我们还使用 “resource” 来谈论 CPU 和内存请求和限制。
所以始终将 API 资源称为 “API resources” 以避免与 CPU 和内存资源混淆。</p><h3 id=何时使用-kubernetes-api-术语>何时使用 Kubernetes API 术语</h3><p>不同 Kubernetes API 术语的说明如下：</p><ul><li>资源类型：API URL 中使用的名称（如 <code>pods</code>、<code>namespaces</code>）</li><li>资源：资源类型的单个实例（如 <code>pod</code>、<code>secret</code>）</li><li>对象：作为 “意向记录” 的资源。对象是集群特定部分的期望状态，
该状态由 Kubernetes 控制平面负责维护。</li></ul><p>在文档中引用 API 资源时始终使用 “资源” 或 “对象”。
例如，使用 “一个 <code>Secret</code> 对象” 而不是 “一个 <code>Secret</code>”。</p><h3 id=api-资源名称>API 资源名称</h3><p>始终使用<a href=https://zh.wikipedia.org/wiki/%E9%A7%9D%E5%B3%B0%E5%BC%8F%E5%A4%A7%E5%B0%8F%E5%AF%AB>大写驼峰式命名法</a>
（PascalCase）和代码格式来表达 API 资源名称。</p><p>对于 HTML 文档中的内联代码，请使用 <code>&lt;code></code> 标记。
在 Markdown 文档中，使用反引号 (<code>`</code>)。</p><p>不要将 API 对象的名称切分成多个单词。
例如请使用 <code>PodTemplateList</code> 而非 <code>Pod Template List</code>。</p><p>有关 PascalCase 和代码格式的更多信息，
请查看<a href=/zh-cn/docs/contribute/style/style-guide/#use-upper-camel-case-for-api-objects>对 API 对象使用大写驼峰式命名法</a>
和<a href=/zh-cn/docs/contribute/style/style-guide/#code-style-inline-code>针对内嵌代码、命令与 API 对象使用代码样式</a>。</p><p>有关 Kubernetes API 术语的更多信息，
请查看 <a href=/zh-cn/docs/reference/using-api/api-concepts/#standard-api-terminology>Kubernetes API 术语</a>的相关指南。</p><h2 id=code-snippet-formatting>代码段格式</h2><h3 id=do-not-include-the-command-promot>不要包含命令行提示符</h3><table><caption style=display:none>命令行提示符约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>kubectl get pods</td><td style=text-align:left>$ kubectl get pods</td></tr></tbody></table><h3 id=separate-commands-from-output>将命令和输出分开</h3><p>例如：</p><p>验证 Pod 已经在你所选的节点上运行：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get pods --output<span style=color:#666>=</span>wide
</span></span></code></pre></div><p>输出类似于：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span><span style=color:#888>NAME     READY     STATUS    RESTARTS   AGE    IP           NODE
</span></span></span><span style=display:flex><span><span style=color:#888>nginx    1/1       Running   0          13s    10.200.0.4   worker0
</span></span></span></code></pre></div><h3 id=versioning-kubernetes-examples>为 Kubernetes 示例给出版本</h3><p>代码示例或者配置示例如果包含版本信息，应该与对应的文字描述一致。</p><p>如果所给的信息是特定于具体版本的，需要在
<a href=/zh-cn/docs/contribute/style/page-content-types/#task>任务模板</a>
或<a href=/zh-cn/docs/contribute/style/page-content-types/#tutorial>教程模板</a>
的 <code>prerequisites</code> 小节定义 Kubernetes 版本。
页面保存之后，<code>prerequisites</code> 小节会显示为 <strong>开始之前</strong>。</p><p>如果要为任务或教程页面指定 Kubernetes 版本，可以在文件的前言部分包含
<code>min-kubernetes-server-version</code> 信息。</p><p>如果示例 YAML 是一个独立文件，找到并审查包含该文件的主题页面。
确认使用该独立 YAML 文件的主题都定义了合适的版本信息。
如果独立的 YAML 文件没有在任何主题中引用，可以考虑删除该文件，
而不是继续更新它。</p><p>例如，如果你在编写一个教程，与 Kubernetes 1.8 版本相关。那么你的 Markdown
文件的文件头应该开始起来像这样：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>title</span>:<span style=color:#bbb> </span>&lt;教程标题&gt;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>min-kubernetes-server-version</span>:<span style=color:#bbb> </span>v1.8<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>在代码和配置示例中，不要包含其他版本的注释信息。
尤其要小心不要在示例中包含不正确的注释信息，例如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb> </span><span style=color:#080;font-style:italic># 早期版本使用...</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Pod<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=kubernetes-io-word-list>Kubernetes.io 术语列表</h2><p>以下特定于 Kubernetes 的术语和词汇在使用时要保持一致性。</p><table><caption style=display:none>Kubernetes.io 词汇表</caption><thead><tr><th style=text-align:left>术语</th><th style=text-align:left>用法</th></tr></thead><tbody><tr><td style=text-align:left>Kubernetes</td><td style=text-align:left>Kubernetes 的首字母要保持大写。</td></tr><tr><td style=text-align:left>Docker</td><td style=text-align:left>Docker 的首字母要保持大写。</td></tr><tr><td style=text-align:left>SIG Docs</td><td style=text-align:left>SIG Docs 是正确拼写形式，不要用 SIG-DOCS 或其他变体。</td></tr><tr><td style=text-align:left>On-premises</td><td style=text-align:left>On-premises 或 On-prem 而不是 On-premise 或其他变体。</td></tr></tbody></table><h2 id=shortcodes>短代码（Shortcodes）</h2><p>Hugo <a href=https://gohugo.io/content-management/shortcodes>短代码（Shortcodes）</a>
有助于创建比较漂亮的展示效果。我们的文档支持三个不同的这类短代码。
<strong>注意</strong> <code>{{&lt; note >}}</code>、<strong>小心</strong> <code>{{&lt; caution >}}</code> 和 <strong>警告</strong> <code>{{&lt; warning >}}</code>。</p><ol><li><p>将要突出显示的文字用短代码的开始和结束形式包围。</p></li><li><p>使用下面的语法来应用某种样式：</p><pre tabindex=0><code class=language-none data-lang=none>{{&lt; note &gt;}}
不需要前缀；短代码会自动添加前缀（注意：、小心：等）
{{&lt; /note &gt;}}
</code></pre><p>输出的样子是：</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 你所选择的标记决定了文字的前缀。</div></li></ol><h3 id=note>注释（Note）</h3><p>使用短代码 <code>{{&lt; note >}}</code> 来突出显示某种提示或者有助于读者的信息。</p><p>例如:</p><pre tabindex=0><code>{{&lt; note &gt;}}
在这类短代码中仍然 _可以_ 使用 Markdown 语法。
{{&lt; /note &gt;}}
</code></pre><p>输出为：</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 在这类短代码中仍然 <em>可以</em> 使用 Markdown 语法。</div><p>你可以在列表中使用 <code>{{&lt; note >}}</code>：</p><pre tabindex=0><code>1. 在列表中使用 note 短代码

1. 带嵌套 note 的第二个条目

   {{&lt; note &gt;}}
   警告、小心和注意短代码可以嵌套在列表中，但是要缩进四个空格。
   参见[常见短代码问题](#common-shortcode-issues)。
   {{&lt; /note &gt;}}

1. 列表中第三个条目

1. 列表中第四个条目
</code></pre><p>其输出为：</p><ol><li><p>在列表中使用 note 短代码</p></li><li><p>带嵌套 note 的第二个条目</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 警告、小心和注意短代码可以嵌套在列表中，但是要缩进四个空格。
参见<a href=#common-shortcode-issues>常见短代码问题</a>。</div></li><li><p>列表中第三个条目</p></li><li><p>列表中第四个条目</p></li></ol><h3 id=caution>小心（Caution）</h3><p>使用 <code>{{&lt; caution >}}</code> 短代码来引起读者对某段信息的重视，以避免遇到问题。</p><p>例如：</p><pre tabindex=0><code>{{&lt; caution &gt;}}
此短代码样式仅对标记之上的一行起作用。
{{&lt; /caution &gt;}}
</code></pre><p>其输出为：</p><div class="alert alert-warning caution callout" role=alert><strong>注意：</strong> 此短代码样式仅对标记之上的一行起作用。</div><h3 id=warning>警告（Warning）</h3><p>使用 <code>{{&lt; warning >}}</code> 来表明危险或者必须要重视的一则信息。</p><p>例如：</p><pre tabindex=0><code>{{&lt; warning &gt;}}
注意事项
{{&lt; /warning &gt;}}
</code></pre><p>其输出为：</p><div class="alert alert-danger warning callout" role=alert><strong>警告：</strong> 注意事项</div><h3 id=katacoda-embedded-live-environment>Katacoda 嵌套现场环境</h3><p>此按钮允许用户使用 <a href=https://www.katacoda.com/embed/panel>Katacoda 终端</a>
在其浏览器中运行 Minikube。该环境降低了用户对 Minikube 的入门难度，
只需要一次鼠标点击即可完成，而不需要完全经历 Minikube 和 kubectl 的安装过程。</p><p>嵌套现场环境配置为运行 <code>minikube start</code>，允许用户在文档所在的窗口完成教程。</p><div class="alert alert-warning caution callout" role=alert><strong>注意：</strong> 会话限制为 15 分钟。</div><p>例如：</p><pre tabindex=0><code>{{&lt; kat-button &gt;}}
</code></pre><p>其输出为：</p><script defer src=https://katacoda.com/embed.js></script>
<button class=button onclick=window.katacoda.init()>Launch Terminal</button><h2 id=common-shortcode-issues>常见的短代码问题</h2><h3 id=ordered-lists>编号列表</h3><p>短代码会打乱编号列表的编号，除非你在信息和标志之前都缩进四个空格。</p><p>例如：</p><pre tabindex=0><code>1. 预热到 350˚F
1. 准备好面糊，倒入烘烤盘
    {{&lt; note &gt;}}给盘子抹上油可以达到最佳效果。{{&lt; /note &gt;}}
1. 烘烤 20 到 25 分钟，或者直到满意为止。
</code></pre><p>其输出结果为：</p><ol><li>预热到 350˚F</li><li>准备好面糊，倒入烘烤盘<div class="alert alert-info note callout" role=alert><strong>说明：</strong> 给盘子抹上油可以达到最佳效果。</div></li><li>烘烤 20 到 25 分钟，或者直到满意为止。</li></ol><h3 id=include-statements>Include 语句</h3><p>如果短代码出现在 include 语境中，会导致网站无法构建。
你必须将他们插入到上级文档中，分别将开始标记和结束标记插入到 include 语句之前和之后。
例如：</p><pre tabindex=0><code>{{&lt; note &gt;}}
{{&lt; include &#34;task-tutorial-prereqs.md&#34; &gt;}}
{{&lt; /note &gt;}}
</code></pre><h2 id=markdown-elements>Markdown 元素</h2><h3 id=line-breaks>换行</h3><p>使用单一换行符来隔离块级内容，例如标题、列表、图片、代码块以及其他元素。
这里的例外是二级标题，必须有两个换行符。
二级标题紧随一级标题（或标题），中间没有段落或文字。</p><p>两行的留白有助于在代码编辑器中查看整个内容的结构组织。</p><h3 id=headings>大标题和小标题</h3><p>访问文档的读者可能会使用屏幕抓取程序或者其他辅助技术。
<a href=https://en.wikipedia.org/wiki/Screen_reader>屏幕抓取器</a>是一种线性输出设备,
它们每次输出页面上的一个条目。
如果页面上内容过多，你可以使用标题来为页面组织结构。
页面的良好结构对所有读者都有帮助，使得他们更容易浏览或者过滤感兴趣的内容。</p><table><caption style=display:none>标题约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>更新页面或博客在前言部分中的标题。</td><td style=text-align:left>使用一级标题。因为 Hugo 会自动将页面前言部分的标题转化为一级标题。</td></tr><tr><td style=text-align:left>使用编号的标题以便内容组织有一个更有意义的结构。</td><td style=text-align:left>使用四级到六级标题，除非非常有必要这样。如果你要编写的内容有非常多细节，可以尝试拆分成多个不同页面。</td></tr><tr><td style=text-align:left>在非博客内容页面中使用井号（<code>#</code>）</td><td style=text-align:left>使用下划线 <code>---</code> 或 <code>===</code> 来标记一级标题。</td></tr><tr><td style=text-align:left>页面正文中的小标题采用正常语句的大小写。例如：<strong>Extend kubectl with plugins</strong></td><td style=text-align:left>页面正文中的小标题采用首字母大写的大标题式样。例如：<strong>Extend Kubectl With Plugins</strong></td></tr><tr><td style=text-align:left>头部的页面标题采用大标题的式样。例如：<code>title: Kubernetes API Server Bypass Risks</code></td><td style=text-align:left>头部的页面标题采用正常语句的大小写。例如不要使用 <code>title: Kubernetes API server bypass risks</code></td></tr></tbody></table><h3 id=paragraphs>段落</h3><table><caption style=display:none>段落约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>尝试不要让段落超出 6 句话。</td><td style=text-align:left>用空格来缩进第一段。例如，段落前面的三个空格⋅⋅⋅会将段落缩进。</td></tr><tr><td style=text-align:left>使用三个连字符（<code>---</code>）来创建水平线。使用水平线来分隔段落内容。例如，在故事中切换场景或者在上下文中切换主题。</td><td style=text-align:left>使用水平线来装饰页面。</td></tr></tbody></table><h3 id=links>链接</h3><table><caption style=display:none>链接约定</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>插入超级链接时给出它们所链接到的目标内容的上下文。例如：你的机器上某些端口处于开放状态。参见<a href=#check-required-ports>检查所需端口</a>了解更详细信息。</td><td style=text-align:left>使用“点击这里”等模糊的词语。例如：你的机器上某些端口处于打开状态。参见<a href=#check-required-ports>这里</a>了解详细信息。</td></tr><tr><td style=text-align:left>编写 Markdown 风格的链接：<code>[链接文本](URL)</code>。例如：<code>[Hugo 短代码](/zh-cn/docs/contribute/style/hugo-shortcodes/#table-captions)</code>，输出是 <a href=/zh-cn/docs/contribute/style/hugo-shortcodes/#table-captions>Hugo 短代码</a>。</td><td style=text-align:left>编写 HTML 风格的超级链接：<code>&lt;a href="/media/examples/link-element-example.css" target="_blank">访问我们的教程！&lt;/a></code>，或者创建会打开新 Tab 页签或新窗口的链接。例如：<code>[网站示例](https://example.com){target="_blank"}</code>。</td></tr></tbody></table><h3 id=lists>列表</h3><p>将一组相互关联的内容组织到一个列表中，以便表达这些条目彼此之间有先后顺序或者某种相互关联关系。
当屏幕抓取器遇到列表时，无论该列表是否有序，它会告知用户存在一组枚举的条目。
用户可以使用箭头键来上下移动，浏览列表中条目。
网站导航链接也可以标记成列表条目，因为说到底他们也是一组相互关联的链接而已。</p><ul><li><p>如果列表中一个或者多个条目是完整的句子，则在每个条目末尾添加句号。
出于一致性考虑，一般要么所有条目要么没有条目是完整句子。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 编号列表如果是不完整的介绍性句子的一部分，可以全部用小写字母，并按照
每个条目都是句子的一部分来看待和处理。</div></li></ul><ul><li><p>在编号列表中，使用数字 1（<code>1.</code>）。</p></li><li><p>对非排序列表，使用加号（<code>+</code>）、星号（<code>*</code>）、或者减号（<code>-</code>）。</p></li><li><p>在每个列表之后留一个空行。</p></li><li><p>对于嵌套的列表，相对缩进四个空格（例如，⋅⋅⋅⋅）。</p></li><li><p>列表条目可能包含多个段落。每个后续段落都要缩进或者四个空格或者一个制表符。</p></li></ul><h3 id=tables>表格</h3><p>数据表格的语义用途是呈现表格化的数据。
用户可以快速浏览表格，但屏幕抓取器需要逐行地处理数据。
表格标题可以用来给数据表提供一个描述性的标题。
辅助技术使用 HTML 表格标题元素来在页面结构中辨识表格内容。</p><ul><li>使用 <a href=/zh-cn/docs/contribute/style/hugo-shortcodes/#table-captions>Hugo 短代码</a>为表格添加标题。</li></ul><h2 id=content-best-practices>内容最佳实践</h2><p>本节包含一些建议的最佳实践，用来开发清晰、明确一致的文档内容。</p><h3 id=使用现在时态>使用现在时态</h3><table><caption style=display:none>使用现在时态</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>此命令启动代理。</td><td style=text-align:left>此命令将启动一个代理。</td></tr></tbody></table><p>例外：如果需要使用过去时或将来时来表达正确含义时，是可以使用的。</p><h3 id=使用主动语态>使用主动语态</h3><table><caption style=display:none>使用主动语态</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>你可以使用浏览器来浏览 API。</td><td style=text-align:left>API 可以被使用浏览器来浏览。</td></tr><tr><td style=text-align:left>YAML 文件给出副本个数。</td><td style=text-align:left>副本个数是在 YAML 文件中给出的。</td></tr></tbody></table><p>例外：如果主动语态会导致句子很难构造时，可以使用被动语态。</p><h3 id=使用简单直接的语言>使用简单直接的语言</h3><p>使用简单直接的语言。避免不必要的短语，例如说“请”。</p><table><caption style=display:none>使用简单直接语言</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>要创建 ReplicaSet，...</td><td style=text-align:left>如果你想要创建 ReplicaSet，...</td></tr><tr><td style=text-align:left>参看配置文件。</td><td style=text-align:left>请自行查看配置文件。</td></tr><tr><td style=text-align:left>查看 Pod。</td><td style=text-align:left>使用下面的命令，我们将会看到 Pod。</td></tr></tbody></table><h3 id=将读者称为-你>将读者称为“你”</h3><table><caption style=display:none>将读者称为“你”</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>你可以通过 ... 创建一个 Deployment。</td><td style=text-align:left>通过...我们将创建一个 Deployment。</td></tr><tr><td style=text-align:left>在前面的输出中，你可以看到...</td><td style=text-align:left>在前面的输出中，我们可以看到...</td></tr></tbody></table><h3 id=避免拉丁短语>避免拉丁短语</h3><p>尽可能使用英语而不是拉丁语缩写。</p><table><caption style=display:none>避免拉丁语短语</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>例如，...</td><td style=text-align:left>e.g., ...</td></tr><tr><td style=text-align:left>也就是说，...</td><td style=text-align:left>i.e., ...</td></tr></tbody></table><p>例外：使用 etc. 表示等等。</p><h2 id=patterns-to-avoid>应避免的模式</h2><h3 id=避免使用-我们>避免使用“我们”</h3><p>在句子中使用“我们”会让人感到困惑，因为读者可能不知道这里的
“我们”指的是谁。</p><table><caption style=display:none>要避免的模式</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>版本 1.4 包含了 ...</td><td style=text-align:left>在 1.4 版本中，我们添加了 ...</td></tr><tr><td style=text-align:left>Kubernetes 为 ... 提供了一项新功能。</td><td style=text-align:left>我们提供了一项新功能...</td></tr><tr><td style=text-align:left>本页面教你如何使用 Pod。</td><td style=text-align:left>在本页中，我们将会学到如何使用 Pod。</td></tr></tbody></table><h3 id=避免使用俚语或行话>避免使用俚语或行话</h3><p>对某些读者而言，英语是其外语。
避免使用一些俚语或行话有助于他们更方便的理解内容。</p><table><caption style=display:none>避免使用俚语或行话</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>Internally, ...</td><td style=text-align:left>Under the hood, ...</td></tr><tr><td style=text-align:left>Create a new cluster.</td><td style=text-align:left>Turn up a new cluster.</td></tr></tbody></table><h3 id=避免关于将来的陈述>避免关于将来的陈述</h3><p>要避免对将来作出承诺或暗示。如果你需要讨论的是 Alpha 功能特性，
可以将相关文字放在一个单独的标题下，标示为 Alpha 版本信息。</p><p>此规则的一个例外是对未来版本中计划移除的已废弃功能选项的文档。
此类文档的例子之一是<a href=/zh-cn/docs/reference/using-api/deprecation-guide/>已弃用 API 迁移指南</a>。</p><h3 id=避免使用很快就会过时的表达>避免使用很快就会过时的表达</h3><p>避免使用一些很快就会过时的陈述，例如“目前”、“新的”。
今天而言是新的功能，过了几个月之后就不再是新的了。</p><table><caption style=display:none>避免使用很快过时的表达</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>在版本 1.4 中，...</td><td style=text-align:left>在当前版本中，...</td></tr><tr><td style=text-align:left>联邦功能特性提供 ...</td><td style=text-align:left>新的联邦功能特性提供 ...</td></tr></tbody></table><h3 id=避免使用隐含用户对某技术有一定理解的词汇>避免使用隐含用户对某技术有一定理解的词汇</h3><p>避免使用“只是”、“仅仅”、“简单”、“很容易地”、“很简单”这类词汇。
这些词并没有提升文档的价值。</p><table><caption style=display:none>避免无意义词汇的注意事项</caption><thead><tr><th style=text-align:left>可以</th><th style=text-align:left>不可以</th></tr></thead><tbody><tr><td style=text-align:left>在 ... 中包含一个命令</td><td style=text-align:left>只需要在... 中包含一个命令</td></tr><tr><td style=text-align:left>运行容器 ...</td><td style=text-align:left>只需运行该容器...</td></tr><tr><td style=text-align:left>你可以移除...</td><td style=text-align:left>你可以很容易地移除...</td></tr><tr><td style=text-align:left>这些步骤...</td><td style=text-align:left>这些简单的步骤...</td></tr></tbody></table><h2 id=接下来>接下来</h2><ul><li>了解<a href=/zh-cn/docs/contribute/style/write-new-topic/>编写新主题</a>。</li><li>了解<a href=/zh-cn/docs/contribute/style/page-content-types/>页面内容类型</a>。</li><li>了解<a href=/zh-cn/docs/contribute/new-content/open-a-pr/>发起 PR</a>。</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-058d2b4507330747d5d92d3ec6e19585>7.3 - 图表指南</h1><p>本指南为你展示如何创建、编辑和分享基于 Mermaid JavaScript 库的图表。
Mermaid.js 允许你使用简单的、类似于 Markdown 的语法来在 Markdown 文件中生成图表。
你也可以使用 Mermaid 来创建 <code>.svg</code> 或 <code>.png</code> 图片文件，将其添加到你的文档中。</p><p>本指南的目标受众是所有希望了解 Mermaid 的用户，以及那些想了解如何创建图表并将其添加到
Kubernetes 文档中的用户。</p><p>图 1 概要介绍的是本节所涉及的话题。</p><figure><div class=mermaid>flowchart LR
subgraph m[Mermaid.js]
direction TB
S[ ]-.-
C[使用 markdown 来<br>构造图表] -->
D[在线<br>编辑器]
end
A[为什么图表<br>很有用] --> m
m --> N[3 种创建<br>图表的方法]
N --> T[示例]
T --> X[样式<br>与标题]
X --> V[提示]
classDef box fill:#fff,stroke:#000,stroke-width:1px,color:#000;
classDef spacewhite fill:#ffffff,stroke:#fff,stroke-width:0px,color:#000
class A,C,D,N,X,m,T,V box
class S spacewhite
%% you can hyperlink Mermaid diagram nodes to a URL using click statements
click A "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgc3ViZ3JhcGggbVtNZXJtYWlkLmpzXVxuICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBTWyBdLS4tXG4gICAgICAgIENbYnVpbGQ8YnI-ZGlhZ3JhbXM8YnI-d2l0aCBtYXJrZG93bl0gLS0-XG4gICAgICAgIERbb24tbGluZTxicj5saXZlIGVkaXRvcl1cbiAgICBlbmRcbiAgICBBW1doeSBhcmUgZGlhZ3JhbXM8YnI-dXNlZnVsP10gLS0-IG1cbiAgICBtIC0tPiBOWzMgeCBtZXRob2RzPGJyPmZvciBjcmVhdGluZzxicj5kaWFncmFtc11cbiAgICBOIC0tPiBUW0V4YW1wbGVzXVxuICAgIFQgLS0-IFhbU3R5bGluZzxicj5hbmQ8YnI-Y2FwdGlvbnNdXG4gICAgWCAtLT4gVltUaXBzXVxuICAgIFxuIFxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIHNwYWNld2hpdGUgZmlsbDojZmZmZmZmLHN0cm9rZTojZmZmLHN0cm9rZS13aWR0aDowcHgsY29sb3I6IzAwMFxuICAgIGNsYXNzIEEsQyxELE4sWCxtLFQsViBib3hcbiAgICBjbGFzcyBTIHNwYWNld2hpdGUiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOnRydWV9" _blank
click C "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgc3ViZ3JhcGggbVtNZXJtYWlkLmpzXVxuICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBTWyBdLS4tXG4gICAgICAgIENbYnVpbGQ8YnI-ZGlhZ3JhbXM8YnI-d2l0aCBtYXJrZG93bl0gLS0-XG4gICAgICAgIERbb24tbGluZTxicj5saXZlIGVkaXRvcl1cbiAgICBlbmRcbiAgICBBW1doeSBhcmUgZGlhZ3JhbXM8YnI-dXNlZnVsP10gLS0-IG1cbiAgICBtIC0tPiBOWzMgeCBtZXRob2RzPGJyPmZvciBjcmVhdGluZzxicj5kaWFncmFtc11cbiAgICBOIC0tPiBUW0V4YW1wbGVzXVxuICAgIFQgLS0-IFhbU3R5bGluZzxicj5hbmQ8YnI-Y2FwdGlvbnNdXG4gICAgWCAtLT4gVltUaXBzXVxuICAgIFxuIFxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIHNwYWNld2hpdGUgZmlsbDojZmZmZmZmLHN0cm9rZTojZmZmLHN0cm9rZS13aWR0aDowcHgsY29sb3I6IzAwMFxuICAgIGNsYXNzIEEsQyxELE4sWCxtLFQsViBib3hcbiAgICBjbGFzcyBTIHNwYWNld2hpdGUiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOnRydWV9" _blank
click D "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgc3ViZ3JhcGggbVtNZXJtYWlkLmpzXVxuICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBTWyBdLS4tXG4gICAgICAgIENbYnVpbGQ8YnI-ZGlhZ3JhbXM8YnI-d2l0aCBtYXJrZG93bl0gLS0-XG4gICAgICAgIERbb24tbGluZTxicj5saXZlIGVkaXRvcl1cbiAgICBlbmRcbiAgICBBW1doeSBhcmUgZGlhZ3JhbXM8YnI-dXNlZnVsP10gLS0-IG1cbiAgICBtIC0tPiBOWzMgeCBtZXRob2RzPGJyPmZvciBjcmVhdGluZzxicj5kaWFncmFtc11cbiAgICBOIC0tPiBUW0V4YW1wbGVzXVxuICAgIFQgLS0-IFhbU3R5bGluZzxicj5hbmQ8YnI-Y2FwdGlvbnNdXG4gICAgWCAtLT4gVltUaXBzXVxuICAgIFxuIFxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIHNwYWNld2hpdGUgZmlsbDojZmZmZmZmLHN0cm9rZTojZmZmLHN0cm9rZS13aWR0aDowcHgsY29sb3I6IzAwMFxuICAgIGNsYXNzIEEsQyxELE4sWCxtLFQsViBib3hcbiAgICBjbGFzcyBTIHNwYWNld2hpdGUiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOnRydWV9" _blank
click N "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgc3ViZ3JhcGggbVtNZXJtYWlkLmpzXVxuICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBTWyBdLS4tXG4gICAgICAgIENbYnVpbGQ8YnI-ZGlhZ3JhbXM8YnI-d2l0aCBtYXJrZG93bl0gLS0-XG4gICAgICAgIERbb24tbGluZTxicj5saXZlIGVkaXRvcl1cbiAgICBlbmRcbiAgICBBW1doeSBhcmUgZGlhZ3JhbXM8YnI-dXNlZnVsP10gLS0-IG1cbiAgICBtIC0tPiBOWzMgeCBtZXRob2RzPGJyPmZvciBjcmVhdGluZzxicj5kaWFncmFtc11cbiAgICBOIC0tPiBUW0V4YW1wbGVzXVxuICAgIFQgLS0-IFhbU3R5bGluZzxicj5hbmQ8YnI-Y2FwdGlvbnNdXG4gICAgWCAtLT4gVltUaXBzXVxuICAgIFxuIFxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIHNwYWNld2hpdGUgZmlsbDojZmZmZmZmLHN0cm9rZTojZmZmLHN0cm9rZS13aWR0aDowcHgsY29sb3I6IzAwMFxuICAgIGNsYXNzIEEsQyxELE4sWCxtLFQsViBib3hcbiAgICBjbGFzcyBTIHNwYWNld2hpdGUiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOnRydWV9" _blank
click T "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgc3ViZ3JhcGggbVtNZXJtYWlkLmpzXVxuICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBTWyBdLS4tXG4gICAgICAgIENbYnVpbGQ8YnI-ZGlhZ3JhbXM8YnI-d2l0aCBtYXJrZG93bl0gLS0-XG4gICAgICAgIERbb24tbGluZTxicj5saXZlIGVkaXRvcl1cbiAgICBlbmRcbiAgICBBW1doeSBhcmUgZGlhZ3JhbXM8YnI-dXNlZnVsP10gLS0-IG1cbiAgICBtIC0tPiBOWzMgeCBtZXRob2RzPGJyPmZvciBjcmVhdGluZzxicj5kaWFncmFtc11cbiAgICBOIC0tPiBUW0V4YW1wbGVzXVxuICAgIFQgLS0-IFhbU3R5bGluZzxicj5hbmQ8YnI-Y2FwdGlvbnNdXG4gICAgWCAtLT4gVltUaXBzXVxuICAgIFxuIFxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIHNwYWNld2hpdGUgZmlsbDojZmZmZmZmLHN0cm9rZTojZmZmLHN0cm9rZS13aWR0aDowcHgsY29sb3I6IzAwMFxuICAgIGNsYXNzIEEsQyxELE4sWCxtLFQsViBib3hcbiAgICBjbGFzcyBTIHNwYWNld2hpdGUiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOnRydWV9" _blank
click X "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgc3ViZ3JhcGggbVtNZXJtYWlkLmpzXVxuICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBTWyBdLS4tXG4gICAgICAgIENbYnVpbGQ8YnI-ZGlhZ3JhbXM8YnI-d2l0aCBtYXJrZG93bl0gLS0-XG4gICAgICAgIERbb24tbGluZTxicj5saXZlIGVkaXRvcl1cbiAgICBlbmRcbiAgICBBW1doeSBhcmUgZGlhZ3JhbXM8YnI-dXNlZnVsP10gLS0-IG1cbiAgICBtIC0tPiBOWzMgeCBtZXRob2RzPGJyPmZvciBjcmVhdGluZzxicj5kaWFncmFtc11cbiAgICBOIC0tPiBUW0V4YW1wbGVzXVxuICAgIFQgLS0-IFhbU3R5bGluZzxicj5hbmQ8YnI-Y2FwdGlvbnNdXG4gICAgWCAtLT4gVltUaXBzXVxuICAgIFxuIFxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIHNwYWNld2hpdGUgZmlsbDojZmZmZmZmLHN0cm9rZTojZmZmLHN0cm9rZS13aWR0aDowcHgsY29sb3I6IzAwMFxuICAgIGNsYXNzIEEsQyxELE4sWCxtLFQsViBib3hcbiAgICBjbGFzcyBTIHNwYWNld2hpdGUiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOnRydWV9" _blank
click V "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgc3ViZ3JhcGggbVtNZXJtYWlkLmpzXVxuICAgIGRpcmVjdGlvbiBUQlxuICAgICAgICBTWyBdLS4tXG4gICAgICAgIENbYnVpbGQ8YnI-ZGlhZ3JhbXM8YnI-d2l0aCBtYXJrZG93bl0gLS0-XG4gICAgICAgIERbb24tbGluZTxicj5saXZlIGVkaXRvcl1cbiAgICBlbmRcbiAgICBBW1doeSBhcmUgZGlhZ3JhbXM8YnI-dXNlZnVsP10gLS0-IG1cbiAgICBtIC0tPiBOWzMgeCBtZXRob2RzPGJyPmZvciBjcmVhdGluZzxicj5kaWFncmFtc11cbiAgICBOIC0tPiBUW0V4YW1wbGVzXVxuICAgIFQgLS0-IFhbU3R5bGluZzxicj5hbmQ8YnI-Y2FwdGlvbnNdXG4gICAgWCAtLT4gVltUaXBzXVxuICAgIFxuIFxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIHNwYWNld2hpdGUgZmlsbDojZmZmZmZmLHN0cm9rZTojZmZmLHN0cm9rZS13aWR0aDowcHgsY29sb3I6IzAwMFxuICAgIGNsYXNzIEEsQyxELE4sWCxtLFQsViBib3hcbiAgICBjbGFzcyBTIHNwYWNld2hpdGUiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOnRydWV9" _blank</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 1. 本节中涉及的话题。</p><p>开始使用 Mermaid 之前，你需要以下准备：</p><ul><li>对 Markdown 有一个基本的了解</li><li>使用 Mermaid 在线编辑器</li><li>使用 <a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>Hugo 短代码（shortcode）</a></li><li>使用 <a href=https://gohugo.io/content-management/shortcodes/#figure>Hugo {{&lt; figure >}} 短代码</a></li><li>执行 <a href=/zh-cn/docs/contribute/new-content/open-a-pr/#preview-locally>Hugo 本地预览</a></li><li>熟悉<a href=/zh-cn/docs/contribute/new-content/>贡献新内容</a>的流程</li></ul><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>你可以点击本节中的每个图表来查看其源代码，以及在 Mermaid 在线编辑器中渲染的图表结果。</div><h2 id=why-you-should-use-diagram-in-documentation>你为什么应该在代码中使用图表</h2><p>图表可以增进文档的清晰度，便于理解。对于用户和贡献者而言都有好处。</p><p>用户获得的好处有：</p><ul><li><strong>较为友好的初次体验</strong>：非常详尽的、只包含文本的欢迎页面对用户而言是蛮恐怖的，
尤其是初次接触 Kubernetes 的用户。</li><li><strong>快速理解概念</strong>：图表可以帮助用户理解复杂主题下的要点。
你的图表可以作为一种可视化的学习指南，将用户带入主题的细节。</li><li><strong>便于记忆</strong>：对某些人而言，图形（图像）要比文字更容易记忆。</li></ul><p>对贡献者而言的好处有：</p><ul><li><strong>帮助确立所贡献文档的结构和内容</strong>。例如，
你可以先提供一个覆盖所有顶层要点的图表，然后再逐步展开细节。</li><li><strong>培养用户社区并提升其能力</strong>。容易理解的文档，附以图表，能够吸引新的用户，
尤其是那些因为预见到复杂性而不愿参与的用户。</li></ul><p>你需要考虑你的目标受众。除了一些有经验的 Kubernetes 用户外，你还会遇到很多刚接触
Kubernetes 的用户。即使一张简单的图表也可以帮助新用户吸收 Kubernetes 概念。
他们会变得更为大胆和自信，进一步地了解 Kubernetes 及其文档。</p><h2 id=mermaid>Mermaid</h2><p><a href=https://mermaid-js.github.io/mermaid/#/>Mermaid</a> 是一个开源的 JavaScript 库，
可以帮助你创建、编辑并很容易地分享图表。这些图表使用简单的、类似 Markdown
的语法开发，并可内嵌到 Markdown 文件中。</p><p>下面是 Mermaid 的一些特性：</p><ul><li>简单的编码语法</li><li>包含基于 Web 的工具，便于你编制和预览你的图表</li><li>支持包括流程图、状态图、时序图在内的多种格式</li><li>可以通过共享图表的 URL 来与同事方便地合作</li><li>有丰富的形状、线条、主题和样式可供选择</li></ul><p>使用 Mermaid 的一些好处如下：</p><ul><li>不需要使用另外的、非 Mermaid 的图表工具</li><li>与现有的 PR 工作流结合的很好。你可以将 Mermaid 代码视为你的 PR 中所包含的
Markdown 文本</li><li>简单的工具生成简单的图表。你不需要精心制作或雕琢过于复杂或详尽的图片。
保持简单就好。</li></ul><p>Mermaid 提供一种简单的、开放且透明的方法，便于 SIG 社区为新的或现有的文档添加、
编辑图表并展开协作。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>即使你的工作环境中不支持，你仍然可以使用 Mermaid 来创建、编辑图表。
这种方法称作 <strong>Mermaid+SVG</strong>，在后文详细解释。</div><h3 id=在线编辑器>在线编辑器</h3><p><a href=https://mermaid-js.github.io/mermaid-live-editor>Mermaid 在线编辑器</a>是一个基于
Web 的工具，允许你创建、编辑和审阅图表。</p><p>在线编辑器的功能主要有：</p><ul><li>显示 Mermaid 代码和渲染的图表。</li><li>为所保存的每个图表生成一个 URL。该 URL 显示在你的浏览器的 URL 字段中。
你可以将 URL 分享给同事，便于他人访问和更改图表。</li><li>提供将图表下载为 <code>.svg</code> 或 <code>.png</code> 文件的选项。</li></ul><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>在线编辑器是创建和编辑 Mermaid 图表的最简单的，也是最快的方式。</div><h2 id=methods-for-creating-diagrams>创建图表的方法</h2><p>图 2 给出三种生成和添加图表的方法。</p><figure><div class=mermaid>graph TB
A[贡献者]
B[向 .md 文件<br><br>中内嵌<br>Mermaid 代码]
C[Mermaid+SVG<br><br>将 Mermaid 所生成的<br>SVG 文件添加到 .md 文件]
D[外部工具<br><br>添加外部工具<br>所生成的 SVG<br>文件到 .md 文件]
A --> B
A --> C
A --> D
classDef box fill:#fff,stroke:#000,stroke-width:1px,color:#000;
class A,B,C,D box
%% 你可以使用 click 语句为 Mermaid 节点设置指向某 URL 的超链接
click A "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBBW0NvbnRyaWJ1dG9yXVxuICAgIEJbSW5saW5lPGJyPjxicj5NZXJtYWlkIGNvZGU8YnI-YWRkZWQgdG8gLm1kIGZpbGVdXG4gICAgQ1tNZXJtYWlkK1NWRzxicj48YnI-QWRkIG1lcm1haWQtZ2VuZXJhdGVkPGJyPnN2ZyBmaWxlIHRvIC5tZCBmaWxlXVxuICAgIERbRXh0ZXJuYWwgdG9vbDxicj48YnI-QWRkIGV4dGVybmFsLXRvb2wtPGJyPmdlbmVyYXRlZCBzdmcgZmlsZTxicj50byAubWQgZmlsZV1cblxuICAgIEEgLS0-IEJcbiAgICBBIC0tPiBDXG4gICAgQSAtLT4gRFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3giLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank
click B "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBBW0NvbnRyaWJ1dG9yXVxuICAgIEJbSW5saW5lPGJyPjxicj5NZXJtYWlkIGNvZGU8YnI-YWRkZWQgdG8gLm1kIGZpbGVdXG4gICAgQ1tNZXJtYWlkK1NWRzxicj48YnI-QWRkIG1lcm1haWQtZ2VuZXJhdGVkPGJyPnN2ZyBmaWxlIHRvIC5tZCBmaWxlXVxuICAgIERbRXh0ZXJuYWwgdG9vbDxicj48YnI-QWRkIGV4dGVybmFsLXRvb2wtPGJyPmdlbmVyYXRlZCBzdmcgZmlsZTxicj50byAubWQgZmlsZV1cblxuICAgIEEgLS0-IEJcbiAgICBBIC0tPiBDXG4gICAgQSAtLT4gRFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3giLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank
click C "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBBW0NvbnRyaWJ1dG9yXVxuICAgIEJbSW5saW5lPGJyPjxicj5NZXJtYWlkIGNvZGU8YnI-YWRkZWQgdG8gLm1kIGZpbGVdXG4gICAgQ1tNZXJtYWlkK1NWRzxicj48YnI-QWRkIG1lcm1haWQtZ2VuZXJhdGVkPGJyPnN2ZyBmaWxlIHRvIC5tZCBmaWxlXVxuICAgIERbRXh0ZXJuYWwgdG9vbDxicj48YnI-QWRkIGV4dGVybmFsLXRvb2wtPGJyPmdlbmVyYXRlZCBzdmcgZmlsZTxicj50byAubWQgZmlsZV1cblxuICAgIEEgLS0-IEJcbiAgICBBIC0tPiBDXG4gICAgQSAtLT4gRFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3giLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank
click D "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBBW0NvbnRyaWJ1dG9yXVxuICAgIEJbSW5saW5lPGJyPjxicj5NZXJtYWlkIGNvZGU8YnI-YWRkZWQgdG8gLm1kIGZpbGVdXG4gICAgQ1tNZXJtYWlkK1NWRzxicj48YnI-QWRkIG1lcm1haWQtZ2VuZXJhdGVkPGJyPnN2ZyBmaWxlIHRvIC5tZCBmaWxlXVxuICAgIERbRXh0ZXJuYWwgdG9vbDxicj48YnI-QWRkIGV4dGVybmFsLXRvb2wtPGJyPmdlbmVyYXRlZCBzdmcgZmlsZTxicj50byAubWQgZmlsZV1cblxuICAgIEEgLS0-IEJcbiAgICBBIC0tPiBDXG4gICAgQSAtLT4gRFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3giLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 2. 创建图表的方法</p><h3 id=内嵌-inline>内嵌（Inline）</h3><p>图 3 给出的是使用内嵌方法来添加图表所遵循的步骤。</p><figure><div class=mermaid>graph LR
A[1. 使用在线编辑器<br>来创建或编辑<br>图表] -->
B[2. 将图表的 URL<br>保存到某处] -->
C[3. 将 Mermaid 代码<br>复制到 markdown 文件中] -->
D[4. 添加图表标题]
classDef box fill:#fff,stroke:#000,stroke-width:1px,color:#000;
class A,B,C,D box
%% 你可以使用 click 语句为 Mermaid 节点设置指向某 URL 的超链接
click A "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggTFJcbiAgICBBWzEuIFVzZSBsaXZlIGVkaXRvcjxicj4gdG8gY3JlYXRlL2VkaXQ8YnI-ZGlhZ3JhbV0gLS0-XG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdIC0tPlxuICAgIENbMy4gQ29weSBNZXJtYWlkIGNvZGU8YnI-dG8gcGFnZSBtYXJrZG93biBmaWxlXSAtLT5cbiAgICBEWzQuIEFkZCBjYXB0aW9uXVxuIFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank
click B "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggTFJcbiAgICBBWzEuIFVzZSBsaXZlIGVkaXRvcjxicj4gdG8gY3JlYXRlL2VkaXQ8YnI-ZGlhZ3JhbV0gLS0-XG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdIC0tPlxuICAgIENbMy4gQ29weSBNZXJtYWlkIGNvZGU8YnI-dG8gcGFnZSBtYXJrZG93biBmaWxlXSAtLT5cbiAgICBEWzQuIEFkZCBjYXB0aW9uXVxuIFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank
click C "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggTFJcbiAgICBBWzEuIFVzZSBsaXZlIGVkaXRvcjxicj4gdG8gY3JlYXRlL2VkaXQ8YnI-ZGlhZ3JhbV0gLS0-XG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdIC0tPlxuICAgIENbMy4gQ29weSBNZXJtYWlkIGNvZGU8YnI-dG8gcGFnZSBtYXJrZG93biBmaWxlXSAtLT5cbiAgICBEWzQuIEFkZCBjYXB0aW9uXVxuIFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank
click D "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggTFJcbiAgICBBWzEuIFVzZSBsaXZlIGVkaXRvcjxicj4gdG8gY3JlYXRlL2VkaXQ8YnI-ZGlhZ3JhbV0gLS0-XG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdIC0tPlxuICAgIENbMy4gQ29weSBNZXJtYWlkIGNvZGU8YnI-dG8gcGFnZSBtYXJrZG93biBmaWxlXSAtLT5cbiAgICBEWzQuIEFkZCBjYXB0aW9uXVxuIFxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMsRCBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ" _blank</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 3. 内嵌方法的步骤</p><p>下面是使用内嵌方法来添加图表时你要执行的步骤：</p><ol><li>使用在线编辑器创建你的图表</li><li>将图表的 URL 保存在某处以便以后访问</li><li>将 Mermaid 代码复制到你的 <code>.md</code> 文件中你希望它出现的位置</li><li>使用 Markdown 文本在图表下方为其添加标题</li></ol><p>Hugo 在构造（网站）过程中会运行 Mermaid 代码，将其转换为图表。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>你可能认为记录图表 URL 是一个麻烦的过程。如果确实如此，你可以在 <code>.md</code> 文件中作一个记录，
标明该 Mermaid 代码是自说明的。贡献者可以将 Mermaid 代码复制到在线编辑器中编辑，
或者将其从在线编辑器中复制出来。</div><p>下面是一段包含在某 <code>.md</code> 文件中的示例代码片段：</p><pre tabindex=0><code>---
title: 我的文档
---
图 17 给出从 A 到 B 的一个简单流程。
这里是其他 markdown 文本
...
{{&lt; mermaid &gt;}} 
    graph TB
    A --&gt; B
{{&lt; /mermaid &gt;}}

图 17. 从 A 到 B

其他文本
</code></pre><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>你必须在 Mermaid 代码块之前和之后分别添加 Hugo Mermaid
短代码标记，而且你应该在图表之后为其添加图表标题。</div><p>有关添加图表标题的细节，参阅<a href=#how-to-use-captions>如何使用标题</a>。</p><p>使用内嵌方法的好处有：</p><ul><li>可以直接使用在线编辑器工具</li><li>很容易在在线编辑器与你的 <code>.md</code> 文件之间来回复制 Mermaid 代码</li><li>不需要额外处理 <code>.svg</code> 图片文件</li><li>内容文字、图表代码和图表标题都位于同一个 <code>.md</code> 文件中。</li></ul><p>你应该使用<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#preview-locally>本地</a>和 Netlify
预览来验证图表是可以正常渲染的。</p><div class="alert alert-warning caution callout" role=alert><strong>注意：</strong><p>Mermaid 在线编辑器的功能特性可能不支持 K8s 网站的 Mermaid 特性。
你可能在 Hugo 构建过程中看到语法错误提示或者空白屏幕。
如果发生这类情况，可以考虑使用 Mermaid+SVG 方法。</div><h3 id=mermaid-svg>Mermaid+SVG</h3><p>图 4 给出的是使用 Mermaid+SVG 方法添加图表所要遵循的步骤：</p><figure><div class=mermaid>flowchart LR
A[1. 使用在线编辑器<br>创建或编辑<br>图表]
B[2. 将图表的 URL<br>保存到别处]
C[3. 生成 .svg 文件<br>并将其下载到<br>images/ 目录]
subgraph w[ ]
direction TB
D[4. 使用 figure 短代码<br>来在 .md 文件中<br>引用 .svg 文件] -->
E[5. 添加图表标题]
end
A --> B
B --> C
C --> w
classDef box fill:#fff,stroke:#000,stroke-width:1px,color:#000;
class A,B,C,D,E,w box
click A "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgbGl2ZSBlZGl0b3I8YnI-IHRvIGNyZWF0ZS9lZGl0PGJyPmRpYWdyYW1dXG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdXG4gICAgQ1szLiBHZW5lcmF0ZSAuc3ZnIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSAuc3ZnPGJyPmZpbGUgaW4gcGFnZTxicj4ubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbkEgLS0-IEJcbkIgLS0-IENcbkMgLS0-IHdcblxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzIEEsQixDLEQsRSx3IGJveFxuICAgICIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank
click B "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgbGl2ZSBlZGl0b3I8YnI-IHRvIGNyZWF0ZS9lZGl0PGJyPmRpYWdyYW1dXG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdXG4gICAgQ1szLiBHZW5lcmF0ZSAuc3ZnIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSAuc3ZnPGJyPmZpbGUgaW4gcGFnZTxicj4ubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbkEgLS0-IEJcbkIgLS0-IENcbkMgLS0-IHdcblxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzIEEsQixDLEQsRSx3IGJveFxuICAgICIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank
click C "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgbGl2ZSBlZGl0b3I8YnI-IHRvIGNyZWF0ZS9lZGl0PGJyPmRpYWdyYW1dXG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdXG4gICAgQ1szLiBHZW5lcmF0ZSAuc3ZnIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSAuc3ZnPGJyPmZpbGUgaW4gcGFnZTxicj4ubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbkEgLS0-IEJcbkIgLS0-IENcbkMgLS0-IHdcblxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzIEEsQixDLEQsRSx3IGJveFxuICAgICIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank
click D "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgbGl2ZSBlZGl0b3I8YnI-IHRvIGNyZWF0ZS9lZGl0PGJyPmRpYWdyYW1dXG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdXG4gICAgQ1szLiBHZW5lcmF0ZSAuc3ZnIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSAuc3ZnPGJyPmZpbGUgaW4gcGFnZTxicj4ubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbkEgLS0-IEJcbkIgLS0-IENcbkMgLS0-IHdcblxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzIEEsQixDLEQsRSx3IGJveFxuICAgICIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank
click E "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgbGl2ZSBlZGl0b3I8YnI-IHRvIGNyZWF0ZS9lZGl0PGJyPmRpYWdyYW1dXG4gICAgQlsyLiBTdG9yZSBkaWFncmFtPGJyPlVSTCBzb21ld2hlcmVdXG4gICAgQ1szLiBHZW5lcmF0ZSAuc3ZnIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSAuc3ZnPGJyPmZpbGUgaW4gcGFnZTxicj4ubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbkEgLS0-IEJcbkIgLS0-IENcbkMgLS0-IHdcblxuICAgIGNsYXNzRGVmIGJveCBmaWxsOiNmZmYsc3Ryb2tlOiMwMDAsc3Ryb2tlLXdpZHRoOjFweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzIEEsQixDLEQsRSx3IGJveFxuICAgICIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 4. Mermaid+SVG 方法的步骤。</p><p>使用 Mermaid+SVG 方法来添加图表时你要遵从的步骤：</p><ol><li>使用在线编辑器创建你的图表</li><li>将图表的 URL 保存到某处以便以后访问</li><li>为你的图表生成 <code>.svg</code> 文件，并将其下载到合适的 <code>images/</code> 目录下</li><li>使用 <code>{{&lt; figure >}}</code> 短代码在 <code>.md</code> 文件中引用该图表</li><li>使用 <code>{{&lt; figure >}}</code> 短代码的 <code>caption</code> 参数为图表设置标题</li></ol><p>例如，使用在线编辑器创建一个名为 <code>boxnet</code> 的图表。
将图表的 URL 保存到别处以便以后访问。生成 <code>boxnet.svg</code> 文件并将其下载到合适的
<code>../images/</code> 目录下。</p><p>在你的 PR 中的 <code>.md</code> 文件内使用 <code>{{&lt; figure >}}</code> 短代码来引用
<code>.svg</code> 图片文件，并为之添加标题。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{<span>{&lt;</span> <span>figure</span> <span>src=</span><span style=color:green;font-weight:700>&#34;/static/images/boxnet.svg&#34;</span> <span>alt=</span><span style=color:#b44>&#34;Boxnet 示意图&#34;</span> <span>class=</span><span style=color:#b44>&#34;diagram-large&#34;</span> <span>caption=</span><span style=color:#b44>&#34;图 14. Boxnet 标题&#34;</span> <span>&gt;</span>}<span>}</span>
</span></span></code></pre></div><p>关于图表标题的细节，可参阅<a href=#how-to-use-captions>如何使用标题</a>。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>使用 <code><figure><img src></figure></code>短代码是向你的文档中添加 <code>.svg</code> 图片文件的优选方法。
你也可以使用标准的 markdown 图片语法，即
<code>![my boxnet diagram](static/images/boxnet.svg)</code>。
如果是后面这种，则需要在图表下面为其添加标题。</div><p>你应该使用文本编辑器以注释块的形式在 <code>.svg</code> 图片文件中添加在线编辑器的 URL。
例如，你应该在 <code>.svg</code> 图片文件的开头部分包含下面的内容：</p><pre tabindex=0><code>&lt;!-- 要查看或者编辑 Mermaid 代码，可访问下面的 URL：--&gt;
&lt;!-- https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb ... &lt;URL 的其余部分&gt; --&gt;
</code></pre><p>使用 Mermaid+SVG 方法的好处有：</p><ul><li>可以直接使用在线编辑器工具</li><li>在线编辑器支持的 Mermaid 特性集合最新</li><li>可以利用 K8s 网站用来处理 <code>.svg</code> 图片文件的现有方法</li><li>工作环境不需要 Mermaid 支持</li></ul><p>要使用<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#preview-locally>本地</a>和
Netlify 预览来检查你的图表可以正常渲染。</p><h3 id=外部工具>外部工具</h3><p>图 5 给出使用外部工具来添加图表时所遵循的步骤。</p><p>首先，要使用你的外部工具来创建图表，并将其保存为一个 <code>.svg</code> 文件或 <code>.png</code> 图片文件。
之后，使用 <strong>Mermaid+SVG</strong> 方法中相同的步骤添加 <code>.svg</code>（<code>.png</code>）文件。</p><figure><div class=mermaid>flowchart LR
A[1. 使用外部工具<br>来创建或编辑<br>图表]
B[2. 如果可能保存<br>图表位置供<br>其他贡献者访问]
C[3. 生成 .svg 文件<br>或 .png 文件<br>并将其下载到<br>合适的 images/ 目录]
subgraph w[ ]
direction TB
D[4. 使用 figure 短代码<br>在你的 .md 文件中<br>引用该 SVG 或 PNG<br>文件] -->
E[5. 为图表添加标题]
end
A --> B
B --> C
C --> w
classDef box fill:#fff,stroke:#000,stroke-width:1px,color:#000;
class A,B,C,D,E,w box
click A "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgZXh0ZXJuYWw8YnI-dG9vbCB0byBjcmVhdGUvZWRpdDxicj5kaWFncmFtXVxuICAgIEJbMi4gSWYgcG9zc2libGUsIHNhdmU8YnI-ZGlhZ3JhbSBjb29yZGluYXRlczxicj5mb3IgY29udHJpYnV0b3I8YnI-YWNjZXNzXVxuICAgIENbMy4gR2VuZXJhdGUgLnN2ZyA8YnI-b3IucG5nIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmFwcHJvcHJpYXRlPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSBzdmcgb3I8YnI-cG5nIGZpbGUgaW48YnI-cGFnZSAubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbiAgICBBIC0tPiBCXG4gICAgQiAtLT4gQ1xuICAgIEMgLS0-IHdcbiAgICBjbGFzc0RlZiBib3ggZmlsbDojZmZmLHN0cm9rZTojMDAwLHN0cm9rZS13aWR0aDoxcHgsY29sb3I6IzAwMDtcbiAgICBjbGFzcyBBLEIsQyxELEUsdyBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ"
click B "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgZXh0ZXJuYWw8YnI-dG9vbCB0byBjcmVhdGUvZWRpdDxicj5kaWFncmFtXVxuICAgIEJbMi4gSWYgcG9zc2libGUsIHNhdmU8YnI-ZGlhZ3JhbSBjb29yZGluYXRlczxicj5mb3IgY29udHJpYnV0b3I8YnI-YWNjZXNzXVxuICAgIENbMy4gR2VuZXJhdGUgLnN2ZyA8YnI-b3IucG5nIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmFwcHJvcHJpYXRlPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSBzdmcgb3I8YnI-cG5nIGZpbGUgaW48YnI-cGFnZSAubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbiAgICBBIC0tPiBCXG4gICAgQiAtLT4gQ1xuICAgIEMgLS0-IHdcbiAgICBjbGFzc0RlZiBib3ggZmlsbDojZmZmLHN0cm9rZTojMDAwLHN0cm9rZS13aWR0aDoxcHgsY29sb3I6IzAwMDtcbiAgICBjbGFzcyBBLEIsQyxELEUsdyBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ"
click C "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgZXh0ZXJuYWw8YnI-dG9vbCB0byBjcmVhdGUvZWRpdDxicj5kaWFncmFtXVxuICAgIEJbMi4gSWYgcG9zc2libGUsIHNhdmU8YnI-ZGlhZ3JhbSBjb29yZGluYXRlczxicj5mb3IgY29udHJpYnV0b3I8YnI-YWNjZXNzXVxuICAgIENbMy4gR2VuZXJhdGUgLnN2ZyA8YnI-b3IucG5nIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmFwcHJvcHJpYXRlPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSBzdmcgb3I8YnI-cG5nIGZpbGUgaW48YnI-cGFnZSAubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbiAgICBBIC0tPiBCXG4gICAgQiAtLT4gQ1xuICAgIEMgLS0-IHdcbiAgICBjbGFzc0RlZiBib3ggZmlsbDojZmZmLHN0cm9rZTojMDAwLHN0cm9rZS13aWR0aDoxcHgsY29sb3I6IzAwMDtcbiAgICBjbGFzcyBBLEIsQyxELEUsdyBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ"
click D "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgZXh0ZXJuYWw8YnI-dG9vbCB0byBjcmVhdGUvZWRpdDxicj5kaWFncmFtXVxuICAgIEJbMi4gSWYgcG9zc2libGUsIHNhdmU8YnI-ZGlhZ3JhbSBjb29yZGluYXRlczxicj5mb3IgY29udHJpYnV0b3I8YnI-YWNjZXNzXVxuICAgIENbMy4gR2VuZXJhdGUgLnN2ZyA8YnI-b3IucG5nIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmFwcHJvcHJpYXRlPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSBzdmcgb3I8YnI-cG5nIGZpbGUgaW48YnI-cGFnZSAubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbiAgICBBIC0tPiBCXG4gICAgQiAtLT4gQ1xuICAgIEMgLS0-IHdcbiAgICBjbGFzc0RlZiBib3ggZmlsbDojZmZmLHN0cm9rZTojMDAwLHN0cm9rZS13aWR0aDoxcHgsY29sb3I6IzAwMDtcbiAgICBjbGFzcyBBLEIsQyxELEUsdyBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ"
click E "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG4gICAgQVsxLiBVc2UgZXh0ZXJuYWw8YnI-dG9vbCB0byBjcmVhdGUvZWRpdDxicj5kaWFncmFtXVxuICAgIEJbMi4gSWYgcG9zc2libGUsIHNhdmU8YnI-ZGlhZ3JhbSBjb29yZGluYXRlczxicj5mb3IgY29udHJpYnV0b3I8YnI-YWNjZXNzXVxuICAgIENbMy4gR2VuZXJhdGUgLnN2ZyA8YnI-b3IucG5nIGZpbGU8YnI-YW5kIGRvd25sb2FkIHRvPGJyPmFwcHJvcHJpYXRlPGJyPmltYWdlcy8gZm9sZGVyXVxuICAgIHN1YmdyYXBoIHdbIF1cbiAgICBkaXJlY3Rpb24gVEJcbiAgICBEWzQuIFVzZSBmaWd1cmUgc2hvcnRjb2RlPGJyPnRvIHJlZmVyZW5jZSBzdmcgb3I8YnI-cG5nIGZpbGUgaW48YnI-cGFnZSAubWQgZmlsZV0gLS0-XG4gICAgRVs1LiBBZGQgY2FwdGlvbl1cbiAgICBlbmRcbiAgICBBIC0tPiBCXG4gICAgQiAtLT4gQ1xuICAgIEMgLS0-IHdcbiAgICBjbGFzc0RlZiBib3ggZmlsbDojZmZmLHN0cm9rZTojMDAwLHN0cm9rZS13aWR0aDoxcHgsY29sb3I6IzAwMDtcbiAgICBjbGFzcyBBLEIsQyxELEUsdyBib3hcbiAgICAiLCJtZXJtYWlkIjoie1xuICBcInRoZW1lXCI6IFwiZGVmYXVsdFwiXG59IiwidXBkYXRlRWRpdG9yIjpmYWxzZSwiYXV0b1N5bmMiOnRydWUsInVwZGF0ZURpYWdyYW0iOmZhbHNlfQ"</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 5. 外部工具方法步骤.</p><p>使用外部工具方法来添加图表时，你要遵从的步骤如下：</p><ol><li>使用你的外部工具来创建图表。</li><li>将图表的位置保存起来供其他贡献者访问。例如，你的工具可能提供一个指向图表的链接，
或者你可以将源码文件（例如一个 <code>.xml</code> 文件）放置到一个公开的仓库，
以便其他贡献者访问。</li><li>生成图表并将其下载为 <code>.svg</code> 或 <code>.png</code> 图片文件，保存到合适的 <code>../images/</code> 目录下。</li><li>使用 <code>{{&lt; figure >}}</code> 短代码从 <code>.md</code> 文件中引用该图表。</li><li>使用 <code>{{&lt; figure >}}</code> 短代码的 <code>caption</code> 参数为图表设置标题。</li></ol><p>下面是一个用于 <code>images/apple.svg</code> 图表的 <code>{{&lt; figure >}}</code> 短代码：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>{{&lt; figure src=&#34;/static/images/apple.svg&#34; alt=&#34;red-apple-figure&#34; class=&#34;diagram-large&#34; caption=&#34;图 9. 一个大红苹果&#34; &gt;}} 
</span></span></code></pre></div><p>如果你的外部绘图工具支持：</p><ul><li>你可以将多个 <code>.svg</code> 或 <code>.png</code> 商标、图标或图片整合到你的图表中。
不过，你需要确保你查看了版权并遵守了 Kubernetes 文档关于使用第三方内容的
<a href=/zh-cn/docs/contribute/style/content-guide/>指南</a>。</li><li>你应该将图表的源位置保存起来，以便其他贡献者访问。
例如，你的工具可能提供指向图表文件的链接，或者你应该将源代码文件
（例如一个 <code>.xml</code> 文件）放到某处以便其他贡献者访问。</li></ul><p>关于 K8s 和 CNCF 商标与图片的详细信息，可参阅 <a href=https://github.com/cncf/artwork>CNCF Artwork</a>。</p><p>使用外部工具的好处有：</p><ul><li>贡献者对外部工具更为熟悉</li><li>图表可能需要 Mermaid 所无法提供的细节</li></ul><p>不要忘记使用<a href=/zh-cn/docs/contribute/new-content/open-a-pr/#preview-locally>本地</a>
和 Netlify 预览来检查你的图表可以正常渲染。</p><h2 id=示例>示例</h2><p>本节给出 Mermaid 的若干样例。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>代码块示例中忽略了 Hugo Mermaid 短代码标记。
这样，你就可以将这些代码段复制到在线编辑器中自行实验。
注意，在线编辑器无法识别 Hugo 短代码。</div><h3 id=示例-1-pod-拓扑分布约束>示例 1 - Pod 拓扑分布约束</h3><p>图 6 展示的是 <a href=/zh-cn/docs/concepts/scheduling-eviction/topology-spread-constraints/#node-labels>Pod 拓扑分布约束</a>
页面所出现的图表。</p><figure><div class=mermaid>graph TB
subgraph "zoneB"
n3(Node3)
n4(Node4)
end
subgraph "zoneA"
n1(Node1)
n2(Node2)
end
classDef plain fill:#ddd,stroke:#fff,stroke-width:4px,color:#000;
classDef k8s fill:#326ce5,stroke:#fff,stroke-width:4px,color:#fff;
classDef cluster fill:#fff,stroke:#bbb,stroke-width:2px,color:#326ce5;
class n1,n2,n3,n4 k8s;
class zoneA,zoneB cluster;
click n3 "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBzdWJncmFwaCBcInpvbmVCXCJcbiAgICAgICAgbjMoTm9kZTMpXG4gICAgICAgIG40KE5vZGU0KVxuICAgIGVuZFxuICAgIHN1YmdyYXBoIFwiem9uZUFcIlxuICAgICAgICBuMShOb2RlMSlcbiAgICAgICAgbjIoTm9kZTIpXG4gICAgZW5kXG5cbiAgICBjbGFzc0RlZiBwbGFpbiBmaWxsOiNkZGQsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICAgIGNsYXNzRGVmIGNsdXN0ZXIgZmlsbDojZmZmLHN0cm9rZTojYmJiLHN0cm9rZS13aWR0aDoycHgsY29sb3I6IzMyNmNlNTtcbiAgICBjbGFzcyBuMSxuMixuMyxuNCBrOHM7XG4gICAgY2xhc3Mgem9uZUEsem9uZUIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank
click n4 "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBzdWJncmFwaCBcInpvbmVCXCJcbiAgICAgICAgbjMoTm9kZTMpXG4gICAgICAgIG40KE5vZGU0KVxuICAgIGVuZFxuICAgIHN1YmdyYXBoIFwiem9uZUFcIlxuICAgICAgICBuMShOb2RlMSlcbiAgICAgICAgbjIoTm9kZTIpXG4gICAgZW5kXG5cbiAgICBjbGFzc0RlZiBwbGFpbiBmaWxsOiNkZGQsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICAgIGNsYXNzRGVmIGNsdXN0ZXIgZmlsbDojZmZmLHN0cm9rZTojYmJiLHN0cm9rZS13aWR0aDoycHgsY29sb3I6IzMyNmNlNTtcbiAgICBjbGFzcyBuMSxuMixuMyxuNCBrOHM7XG4gICAgY2xhc3Mgem9uZUEsem9uZUIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank
click n1 "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBzdWJncmFwaCBcInpvbmVCXCJcbiAgICAgICAgbjMoTm9kZTMpXG4gICAgICAgIG40KE5vZGU0KVxuICAgIGVuZFxuICAgIHN1YmdyYXBoIFwiem9uZUFcIlxuICAgICAgICBuMShOb2RlMSlcbiAgICAgICAgbjIoTm9kZTIpXG4gICAgZW5kXG5cbiAgICBjbGFzc0RlZiBwbGFpbiBmaWxsOiNkZGQsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICAgIGNsYXNzRGVmIGNsdXN0ZXIgZmlsbDojZmZmLHN0cm9rZTojYmJiLHN0cm9rZS13aWR0aDoycHgsY29sb3I6IzMyNmNlNTtcbiAgICBjbGFzcyBuMSxuMixuMyxuNCBrOHM7XG4gICAgY2xhc3Mgem9uZUEsem9uZUIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank
click n2 "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggVEJcbiAgICBzdWJncmFwaCBcInpvbmVCXCJcbiAgICAgICAgbjMoTm9kZTMpXG4gICAgICAgIG40KE5vZGU0KVxuICAgIGVuZFxuICAgIHN1YmdyYXBoIFwiem9uZUFcIlxuICAgICAgICBuMShOb2RlMSlcbiAgICAgICAgbjIoTm9kZTIpXG4gICAgZW5kXG5cbiAgICBjbGFzc0RlZiBwbGFpbiBmaWxsOiNkZGQsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojMDAwO1xuICAgIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICAgIGNsYXNzRGVmIGNsdXN0ZXIgZmlsbDojZmZmLHN0cm9rZTojYmJiLHN0cm9rZS13aWR0aDoycHgsY29sb3I6IzMyNmNlNTtcbiAgICBjbGFzcyBuMSxuMixuMyxuNCBrOHM7XG4gICAgY2xhc3Mgem9uZUEsem9uZUIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0" _blank</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 6. Pod 拓扑分布约束</p><p>代码块：</p><pre tabindex=0><code>graph TB
   subgraph &#34;zoneB&#34;
       n3(Node3)
       n4(Node4)
   end
   subgraph &#34;zoneA&#34;
       n1(Node1)
       n2(Node2)
   end
 
   classDef plain fill:#ddd,stroke:#fff,stroke-width:4px,color:#000;
   classDef k8s fill:#326ce5,stroke:#fff,stroke-width:4px,color:#fff;
   classDef cluster fill:#fff,stroke:#bbb,stroke-width:2px,color:#326ce5;
   class n1,n2,n3,n4 k8s;
   class zoneA,zoneB cluster;
</code></pre><h3 id=示例-2-ingress>示例 2 - Ingress</h3><p>图 7 显示的是 <a href=/zh-cn/docs/concepts/services-networking/ingress/#what-is-ingress>Ingress 是什么</a>
页面所出现的图表。</p><figure><div class=mermaid>graph LR;
client([客户端])-. Ingress 所管理的<br>负载均衡器 .->ingress[Ingress];
ingress-->|路由规则|service[服务];
subgraph cluster
ingress;
service-->pod1[Pod];
service-->pod2[Pod];
end
classDef plain fill:#ddd,stroke:#fff,stroke-width:4px,color:#000;
classDef k8s fill:#326ce5,stroke:#fff,stroke-width:4px,color:#fff;
classDef cluster fill:#fff,stroke:#bbb,stroke-width:2px,color:#326ce5;
class ingress,service,pod1,pod2 k8s;
class client plain;
class cluster cluster;
click client "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggIExSXG4gIGNsaWVudChbY2xpZW50XSktLiBJbmdyZXNzLW1hbmFnZWQgPGJyPiBsb2FkIGJhbGFuY2VyIC4tPmluZ3Jlc3NbSW5ncmVzc107XG4gIGluZ3Jlc3MtLT58cm91dGluZyBydWxlfHNlcnZpY2VbU2VydmljZV07XG4gIHN1YmdyYXBoIGNsdXN0ZXJcbiAgaW5ncmVzcztcbiAgc2VydmljZS0tPnBvZDFbUG9kXTtcbiAgc2VydmljZS0tPnBvZDJbUG9kXTtcbiAgZW5kXG4gIGNsYXNzRGVmIHBsYWluIGZpbGw6I2RkZCxzdHJva2U6I2ZmZixzdHJva2Utd2lkdGg6NHB4LGNvbG9yOiMwMDA7XG4gIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICBjbGFzc0RlZiBjbHVzdGVyIGZpbGw6I2ZmZixzdHJva2U6I2JiYixzdHJva2Utd2lkdGg6MnB4LGNvbG9yOiMzMjZjZTU7XG4gIGNsYXNzIGluZ3Jlc3Msc2VydmljZSxwb2QxLHBvZDIgazhzO1xuICBjbGFzcyBjbGllbnQgcGxhaW47XG4gIGNsYXNzIGNsdXN0ZXIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9" _blank
click ingress "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggIExSXG4gIGNsaWVudChbY2xpZW50XSktLiBJbmdyZXNzLW1hbmFnZWQgPGJyPiBsb2FkIGJhbGFuY2VyIC4tPmluZ3Jlc3NbSW5ncmVzc107XG4gIGluZ3Jlc3MtLT58cm91dGluZyBydWxlfHNlcnZpY2VbU2VydmljZV07XG4gIHN1YmdyYXBoIGNsdXN0ZXJcbiAgaW5ncmVzcztcbiAgc2VydmljZS0tPnBvZDFbUG9kXTtcbiAgc2VydmljZS0tPnBvZDJbUG9kXTtcbiAgZW5kXG4gIGNsYXNzRGVmIHBsYWluIGZpbGw6I2RkZCxzdHJva2U6I2ZmZixzdHJva2Utd2lkdGg6NHB4LGNvbG9yOiMwMDA7XG4gIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICBjbGFzc0RlZiBjbHVzdGVyIGZpbGw6I2ZmZixzdHJva2U6I2JiYixzdHJva2Utd2lkdGg6MnB4LGNvbG9yOiMzMjZjZTU7XG4gIGNsYXNzIGluZ3Jlc3Msc2VydmljZSxwb2QxLHBvZDIgazhzO1xuICBjbGFzcyBjbGllbnQgcGxhaW47XG4gIGNsYXNzIGNsdXN0ZXIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9" _blank
click service "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggIExSXG4gIGNsaWVudChbY2xpZW50XSktLiBJbmdyZXNzLW1hbmFnZWQgPGJyPiBsb2FkIGJhbGFuY2VyIC4tPmluZ3Jlc3NbSW5ncmVzc107XG4gIGluZ3Jlc3MtLT58cm91dGluZyBydWxlfHNlcnZpY2VbU2VydmljZV07XG4gIHN1YmdyYXBoIGNsdXN0ZXJcbiAgaW5ncmVzcztcbiAgc2VydmljZS0tPnBvZDFbUG9kXTtcbiAgc2VydmljZS0tPnBvZDJbUG9kXTtcbiAgZW5kXG4gIGNsYXNzRGVmIHBsYWluIGZpbGw6I2RkZCxzdHJva2U6I2ZmZixzdHJva2Utd2lkdGg6NHB4LGNvbG9yOiMwMDA7XG4gIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICBjbGFzc0RlZiBjbHVzdGVyIGZpbGw6I2ZmZixzdHJva2U6I2JiYixzdHJva2Utd2lkdGg6MnB4LGNvbG9yOiMzMjZjZTU7XG4gIGNsYXNzIGluZ3Jlc3Msc2VydmljZSxwb2QxLHBvZDIgazhzO1xuICBjbGFzcyBjbGllbnQgcGxhaW47XG4gIGNsYXNzIGNsdXN0ZXIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9" _blank
click pod1 "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggIExSXG4gIGNsaWVudChbY2xpZW50XSktLiBJbmdyZXNzLW1hbmFnZWQgPGJyPiBsb2FkIGJhbGFuY2VyIC4tPmluZ3Jlc3NbSW5ncmVzc107XG4gIGluZ3Jlc3MtLT58cm91dGluZyBydWxlfHNlcnZpY2VbU2VydmljZV07XG4gIHN1YmdyYXBoIGNsdXN0ZXJcbiAgaW5ncmVzcztcbiAgc2VydmljZS0tPnBvZDFbUG9kXTtcbiAgc2VydmljZS0tPnBvZDJbUG9kXTtcbiAgZW5kXG4gIGNsYXNzRGVmIHBsYWluIGZpbGw6I2RkZCxzdHJva2U6I2ZmZixzdHJva2Utd2lkdGg6NHB4LGNvbG9yOiMwMDA7XG4gIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICBjbGFzc0RlZiBjbHVzdGVyIGZpbGw6I2ZmZixzdHJva2U6I2JiYixzdHJva2Utd2lkdGg6MnB4LGNvbG9yOiMzMjZjZTU7XG4gIGNsYXNzIGluZ3Jlc3Msc2VydmljZSxwb2QxLHBvZDIgazhzO1xuICBjbGFzcyBjbGllbnQgcGxhaW47XG4gIGNsYXNzIGNsdXN0ZXIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9" _blank
click pod2 "https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggIExSXG4gIGNsaWVudChbY2xpZW50XSktLiBJbmdyZXNzLW1hbmFnZWQgPGJyPiBsb2FkIGJhbGFuY2VyIC4tPmluZ3Jlc3NbSW5ncmVzc107XG4gIGluZ3Jlc3MtLT58cm91dGluZyBydWxlfHNlcnZpY2VbU2VydmljZV07XG4gIHN1YmdyYXBoIGNsdXN0ZXJcbiAgaW5ncmVzcztcbiAgc2VydmljZS0tPnBvZDFbUG9kXTtcbiAgc2VydmljZS0tPnBvZDJbUG9kXTtcbiAgZW5kXG4gIGNsYXNzRGVmIHBsYWluIGZpbGw6I2RkZCxzdHJva2U6I2ZmZixzdHJva2Utd2lkdGg6NHB4LGNvbG9yOiMwMDA7XG4gIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICBjbGFzc0RlZiBjbHVzdGVyIGZpbGw6I2ZmZixzdHJva2U6I2JiYixzdHJva2Utd2lkdGg6MnB4LGNvbG9yOiMzMjZjZTU7XG4gIGNsYXNzIGluZ3Jlc3Msc2VydmljZSxwb2QxLHBvZDIgazhzO1xuICBjbGFzcyBjbGllbnQgcGxhaW47XG4gIGNsYXNzIGNsdXN0ZXIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6ZmFsc2V9" _blank</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 7. Ingress</p><p>代码块：</p><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph LR;
 client([客户端])-. Ingress 所管理的&lt;br&gt;负载均衡器 .-&gt;ingress[Ingress];
 ingress--&gt;|路由规则|service[服务];
 subgraph cluster
 ingress;
 service--&gt;pod1[Pod];
 service--&gt;pod2[Pod];
 end
 classDef plain fill:#ddd,stroke:#fff,stroke-width:4px,color:#000;
 classDef k8s fill:#326ce5,stroke:#fff,stroke-width:4px,color:#fff;
 classDef cluster fill:#fff,stroke:#bbb,stroke-width:2px,color:#326ce5;
 class ingress,service,pod1,pod2 k8s;
 class client plain;
 class cluster cluster;
</code></pre><h3 id=示例-3-k8s-系统流程>示例 3 - K8s 系统流程</h3><p>图 8 给出的是一个 Mermaid 时序图，展示启动容器时 K8s 组件间的控制流。</p><figure class=diagram-large><a href=https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiJSV7aW5pdDp7XCJ0aGVtZVwiOlwibmV1dHJhbFwifX0lJVxuc2VxdWVuY2VEaWFncmFtXG4gICAgYWN0b3IgbWVcbiAgICBwYXJ0aWNpcGFudCBhcGlTcnYgYXMgY29udHJvbCBwbGFuZTxicj48YnI-YXBpLXNlcnZlclxuICAgIHBhcnRpY2lwYW50IGV0Y2QgYXMgY29udHJvbCBwbGFuZTxicj48YnI-ZXRjZCBkYXRhc3RvcmVcbiAgICBwYXJ0aWNpcGFudCBjbnRybE1nciBhcyBjb250cm9sIHBsYW5lPGJyPjxicj5jb250cm9sbGVyPGJyPm1hbmFnZXJcbiAgICBwYXJ0aWNpcGFudCBzY2hlZCBhcyBjb250cm9sIHBsYW5lPGJyPjxicj5zY2hlZHVsZXJcbiAgICBwYXJ0aWNpcGFudCBrdWJlbGV0IGFzIG5vZGU8YnI-PGJyPmt1YmVsZXRcbiAgICBwYXJ0aWNpcGFudCBjb250YWluZXIgYXMgbm9kZTxicj48YnI-Y29udGFpbmVyPGJyPnJ1bnRpbWVcbiAgICBtZS0-PmFwaVNydjogMS4ga3ViZWN0bCBjcmVhdGUgLWYgcG9kLnlhbWxcbiAgICBhcGlTcnYtLT4-ZXRjZDogMi4gc2F2ZSBuZXcgc3RhdGVcbiAgICBjbnRybE1nci0-PmFwaVNydjogMy4gY2hlY2sgZm9yIGNoYW5nZXNcbiAgICBzY2hlZC0-PmFwaVNydjogNC4gd2F0Y2ggZm9yIHVuYXNzaWduZWQgcG9kcyhzKVxuICAgIGFwaVNydi0-PnNjaGVkOiA1LiBub3RpZnkgYWJvdXQgcG9kIHcgbm9kZW5hbWU9XCIgXCJcbiAgICBzY2hlZC0-PmFwaVNydjogNi4gYXNzaWduIHBvZCB0byBub2RlXG4gICAgYXBpU3J2LS0-PmV0Y2Q6IDcuIHNhdmUgbmV3IHN0YXRlXG4gICAga3ViZWxldC0-PmFwaVNydjogOC4gbG9vayBmb3IgbmV3bHkgYXNzaWduZWQgcG9kKHMpXG4gICAgYXBpU3J2LT4-a3ViZWxldDogOS4gYmluZCBwb2QgdG8gbm9kZVxuICAgIGt1YmVsZXQtPj5jb250YWluZXI6IDEwLiBzdGFydCBjb250YWluZXJcbiAgICBrdWJlbGV0LT4-YXBpU3J2OiAxMS4gdXBkYXRlIHBvZCBzdGF0dXNcbiAgICBhcGlTcnYtLT4-ZXRjZDogMTIuIHNhdmUgbmV3IHN0YXRlIiwibWVybWFpZCI6IntcbiAgXCJ0aGVtZVwiOiBcImRlZmF1bHRcIlxufSIsInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjp0cnVlfQ><img src=/zh-cn/docs/images/diagram-guide-example-3.svg alt="K8s system flow diagram"></a><figcaption><p>图 8. K8s 系统流程图</p></figcaption></figure><p>代码段：</p><pre tabindex=0><code>%%{init:{&#34;theme&#34;:&#34;neutral&#34;}}%%
sequenceDiagram
    actor me
    participant apiSrv as 控制面&lt;br&gt;&lt;br&gt;api-server
    participant etcd as 控制面&lt;br&gt;&lt;br&gt;etcd 数据存储
    participant cntrlMgr as 控制面&lt;br&gt;&lt;br&gt;控制器管理器
    participant sched as 控制面&lt;br&gt;&lt;br&gt;调度器
    participant kubelet as 节点&lt;br&gt;&lt;br&gt;kubelet
    participant container as 节点&lt;br&gt;&lt;br&gt;容器运行时
    me-&gt;&gt;apiSrv: 1. kubectl create -f pod.yaml
    apiSrv--&gt;&gt;etcd: 2. 保存新状态
    cntrlMgr-&gt;&gt;apiSrv: 3. 检查变更
    sched-&gt;&gt;apiSrv: 4. 监视未分派的 Pod(s)
    apiSrv-&gt;&gt;sched: 5. 通知 nodename=&#34; &#34; 的 Pod
    sched-&gt;&gt;apiSrv: 6. 指派 Pod 到节点
    apiSrv--&gt;&gt;etcd: 7. 保存新状态
    kubelet-&gt;&gt;apiSrv: 8. 查询新指派的 Pod(s)
    apiSrv-&gt;&gt;kubelet: 9. 将 Pod 绑定到节点
    kubelet-&gt;&gt;container: 10. 启动容器
    kubelet-&gt;&gt;apiSrv: 11. 更新 Pod 状态
    apiSrv--&gt;&gt;etcd: 12. 保存新状态
</code></pre><h2 id=如何设置图表样式>如何设置图表样式</h2><p>你可以使用大家都熟悉的 CSS 术语来为一个或多个图表元素设置渲染样式。
你可以在 Mermaid 代码中使用两种类型的语句来完成这一工作：</p><ul><li><code>classDef</code> 定义一类样式属性；</li><li><code>class</code> 指定 class 所适用的一种或多种元素。</li></ul><p>在<a href=https://mermaid-js.github.io/mermaid-live-editor/edit/#eyJjb2RlIjoiZ3JhcGggIExSXG4gIGNsaWVudChbY2xpZW50XSktLiBJbmdyZXNzLW1hbmFnZWQgPGJyPiBsb2FkIGJhbGFuY2VyIC4tPmluZ3Jlc3NbSW5ncmVzc107XG4gIGluZ3Jlc3MtLT58cm91dGluZyBydWxlfHNlcnZpY2VbU2VydmljZV07XG4gIHN1YmdyYXBoIGNsdXN0ZXJcbiAgaW5ncmVzcztcbiAgc2VydmljZS0tPnBvZDFbUG9kXTtcbiAgc2VydmljZS0tPnBvZDJbUG9kXTtcbiAgZW5kXG4gIGNsYXNzRGVmIHBsYWluIGZpbGw6I2RkZCxzdHJva2U6I2ZmZixzdHJva2Utd2lkdGg6NHB4LGNvbG9yOiMwMDA7XG4gIGNsYXNzRGVmIGs4cyBmaWxsOiMzMjZjZTUsc3Ryb2tlOiNmZmYsc3Ryb2tlLXdpZHRoOjRweCxjb2xvcjojZmZmO1xuICBjbGFzc0RlZiBjbHVzdGVyIGZpbGw6I2ZmZixzdHJva2U6I2JiYixzdHJva2Utd2lkdGg6MnB4LGNvbG9yOiMzMjZjZTU7XG4gIGNsYXNzIGluZ3Jlc3Msc2VydmljZSxwb2QxLHBvZDIgazhzO1xuICBjbGFzcyBjbGllbnQgcGxhaW47XG4gIGNsYXNzIGNsdXN0ZXIgY2x1c3RlcjtcbiIsIm1lcm1haWQiOiJ7XG4gIFwidGhlbWVcIjogXCJkZWZhdWx0XCJcbn0iLCJ1cGRhdGVFZGl0b3IiOmZhbHNlLCJhdXRvU3luYyI6dHJ1ZSwidXBkYXRlRGlhZ3JhbSI6dHJ1ZX0>图 7</a>
中，你可以看到这两种示例。</p><pre tabindex=0><code>classDef k8s fill:#326ce5,stroke:#fff,stroke-width:4px,color:#fff; // 定义 k8s 类的样式
class ingress,service,pod1,pod2 k8s; // k8s 类会应用到 ingress、service、pod1 和 pod2 这些元素之上
</code></pre><p>你可以在你的图表中包含一个或多个 <code>classDef</code> 和 <code>class</code> 语句。
你也可以在你的图表中为 k8s 组件使用官方的 K8s <code>#326ce5</code> 十六进制颜色代码。</p><p>关于样式设置和类的更多信息，可参阅
<a href="https://mermaid-js.github.io/mermaid/#/flowchart?id=styling-and-classes">Mermaid Styling and classes docs</a>。</p><h2 id=how-to-use-captions>如何使用标题</h2><p>标题用来为图表提供简要的描述。标题或短描述都可以作为图表标题。
标题不是用来替换你在文档中要提供的解释性文字。
相反，它们是用来在文字与图表之间建立“语境连接”的。</p><p>将一些文字和带标题的图表组合到一起，可以为你所想要向用户传递的信息提供一种更为精确的表达。</p><p>没有标题的话，用户就必须在图表前后的文字中来回阅读，从而了解其含义。
这会让用户感觉到很沮丧。</p><p>图 9 给出合适的标题所需要具备的三要素：图表、图表标题和图表引用。</p><figure><div class=mermaid>flowchart
A[图表本身<br><br>内嵌 Mermaid 或<br>SVG 图片文件]
B[图表标题<br><br>添加图表编号和<br>标题文字]
C[图表引用<br><br>在文字中用图表<br>编号引用图表]
classDef box fill:#fff,stroke:#000,stroke-width:1px,color:#000;
class A,B,C box
click A "https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiZmxvd2NoYXJ0XG4gICAgQVtEaWFncmFtPGJyPjxicj5JbmxpbmUgTWVybWFpZCBvcjxicj5TVkcgaW1hZ2UgZmlsZXNdXG4gICAgQltEaWFncmFtIENhcHRpb248YnI-PGJyPkFkZCBGaWd1cmUgTnVtYmVyLiBhbmQ8YnI-Q2FwdGlvbiBUZXh0XVxuICAgIENbRGlhZ3JhbSBSZWZlcnJhbDxicj48YnI-UmVmZXJlbmVuY2UgRmlndXJlIE51bWJlcjxicj5pbiB0ZXh0XVxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMgYm94IiwibWVybWFpZCI6IntcbiAgXCJ0aGVtZVwiOiBcImRlZmF1bHRcIlxufSIsInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjpmYWxzZX0" _blank
click B "https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiZmxvd2NoYXJ0XG4gICAgQVtEaWFncmFtPGJyPjxicj5JbmxpbmUgTWVybWFpZCBvcjxicj5TVkcgaW1hZ2UgZmlsZXNdXG4gICAgQltEaWFncmFtIENhcHRpb248YnI-PGJyPkFkZCBGaWd1cmUgTnVtYmVyLiBhbmQ8YnI-Q2FwdGlvbiBUZXh0XVxuICAgIENbRGlhZ3JhbSBSZWZlcnJhbDxicj48YnI-UmVmZXJlbmVuY2UgRmlndXJlIE51bWJlcjxicj5pbiB0ZXh0XVxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMgYm94IiwibWVybWFpZCI6IntcbiAgXCJ0aGVtZVwiOiBcImRlZmF1bHRcIlxufSIsInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjpmYWxzZX0" _blank
click C "https://mermaid-js.github.io/mermaid-live-editor/edit#eyJjb2RlIjoiZmxvd2NoYXJ0XG4gICAgQVtEaWFncmFtPGJyPjxicj5JbmxpbmUgTWVybWFpZCBvcjxicj5TVkcgaW1hZ2UgZmlsZXNdXG4gICAgQltEaWFncmFtIENhcHRpb248YnI-PGJyPkFkZCBGaWd1cmUgTnVtYmVyLiBhbmQ8YnI-Q2FwdGlvbiBUZXh0XVxuICAgIENbRGlhZ3JhbSBSZWZlcnJhbDxicj48YnI-UmVmZXJlbmVuY2UgRmlndXJlIE51bWJlcjxicj5pbiB0ZXh0XVxuXG4gICAgY2xhc3NEZWYgYm94IGZpbGw6I2ZmZixzdHJva2U6IzAwMCxzdHJva2Utd2lkdGg6MXB4LGNvbG9yOiMwMDA7XG4gICAgY2xhc3MgQSxCLEMgYm94IiwibWVybWFpZCI6IntcbiAgXCJ0aGVtZVwiOiBcImRlZmF1bHRcIlxufSIsInVwZGF0ZUVkaXRvciI6ZmFsc2UsImF1dG9TeW5jIjp0cnVlLCJ1cGRhdGVEaWFncmFtIjpmYWxzZX0" _blank</div></figure><noscript><div class="alert alert-secondary callout" role=alert><em class=javascript-required>必须<a href=https://www.enable-javascript.com/>启用</a> JavaScript 才能查看此页内容</em></div></noscript><p>图 9. 标题要素</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>你应该总是为文档中的每个图表添加标题。</div><p><strong>图表本身</strong></p><p>Mermaid+SVG 和外部工具方法都会生成 <code>.svg</code> 图片文件。</p><p>下面的 <code>{{&lt; figure >}}</code> 短代码是针对定义在保存于
<code>/images/docs/components-of-kubernetes.svg</code> 中的 <code>.svg</code> 图片文件的。</p><pre tabindex=0><code class=language-none data-lang=none>{{&lt; figure src=&#34;/images/docs/components-of-kubernetes.svg&#34; alt=&#34;运行于集群中的 Kubernetes Pod&#34; class=&#34;diagram-large&#34; caption=&#34;图 4. Kubernetes 结构组件&#34; &gt;}}
</code></pre><p>你需要将 <code>src</code>、<code>alt</code>、<code>class</code> 和 <code>caption</code> 取值传递给 <code>{{&lt; figure >}}</code> 短代码。
你可以使用 <code>diagram-large</code>、<code>diagram-medium</code> 和 <code>diagram-small</code> 类来调整图表的尺寸。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>使用内嵌方法来创建的图表不使用 <code><figure><img src></figure></code>短代码。
Mermaid 代码定义该图表将如何在页面上渲染。</div><p>关于创建图表的不同方法，可参阅<a href=#methods-for-creating-diagrams>创建图表的方法</a>。</p><p><strong>图表标题</strong></p><p>接下来，添加图表标题。</p><p>如果你使用 <code>.svg</code> 图片文件来定义你的图表，你就需要使用 <code>{{&lt; figure >}}</code>
短代码的 <code>caption</code> 参数。</p><pre tabindex=0><code class=language-none data-lang=none>{{&lt; figure src=&#34;/images/docs/components-of-kubernetes.svg&#34; alt=&#34;运行于集群中的 Kubernetes Pod&#34; class=&#34;diagram-large&#34; caption=&#34;图 4. Kubernetes 架构组件&#34; &gt;}}
</code></pre><p>如果你使用内嵌的 Mermaid 代码来定义图表，则你需要使用 Markdown 文本来添加标题。</p><pre tabindex=0><code class=language-none data-lang=none>图 4. Kubernetes 架构组件
</code></pre><p>添加图表标题时需要考虑的问题：</p><ul><li>使用 <code>{{&lt; figure >}}</code> 短代码来为 Mermaid+SVG 和外部工具方法制作的图表添加标题。</li><li>对于内嵌方法制作的图表，使用简单的 Markdown 文本来为其添加标题。</li><li>在你的图表标题前面添加 <code>图 &lt;编号>.</code>. 你必须使用 <code>图</code> 字样，
并且编号必须对于文档页面中所有图表而言唯一。
在编号之后添加一个英文句号。</li><li>将图表标题添加到 <code>图 &lt;编号>.</code> 之后，并且在同一行。
你必须为图表标题添加英文句点作为其结束标志。尽量保持标题文字简短。</li><li>图表标题要放在图表 <strong>之后</strong>。</li></ul><p><strong>图表引用</strong></p><p>最后，你可以添加图表引用。图表引用位于你的文档正文中，并且应该出现在图表之前。
这样，用户可以将你的文字与对应的图表关联起来。引用时所给的 <code>图 &lt;编号></code>
部分要与图表标题中对应部分一致。</p><p>你要避免使用空间上的相对引用，例如 <code>..下面的图片..</code> 或者 <code>..下面的图形..</code>。</p><p>以下是一个参考引用的示例。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>图 10 展示的是 Kubernetes 体系结构。其控制面 ...
</span></span></code></pre></div><p>图表引用是可选的，在有些场合中，添加这类引用是不合适的。
如果你不是很确定，可以在文字中添加图表引用，以判断是否看起来、读起来比较通顺。
如果仍然不确定，可以使用图表引用。</p><p><strong>完整全图</strong></p><p>图 10 展示的是一个 Kubernetes 架构图表，其中包含了图表本身、图表标题和图表引用。
这里的 <code>{{&lt; figure >}}</code> 短代码负责渲染图表，添加标题并包含可选的 <code>link</code>
参数，以便于你为图表提供超级链接。图表引用也被包含在段落中。</p><p>下面是针对此图表的 <code>{{&lt; figure >}}</code> 短代码。</p><pre tabindex=0><code>{{&lt; figure src=&#34;/images/docs/components-of-kubernetes.svg&#34; alt=&#34;运行在集群中的 Kubernetes Pod&#34; class=&#34;diagram-large&#34; caption=&#34;图 10. Kubernetes 架构&#34; link=&#34;https://kubernetes.io/zh-cn/docs/concepts/overview/components/&#34; &gt;}}
</code></pre><figure class=diagram-large><a href=https://kubernetes.io/zh-cn/docs/concepts/overview/components/><img src=/images/docs/components-of-kubernetes.svg alt="运行在集群中的 Kubernetes Pod"></a><figcaption><p>图 10. Kubernetes 架构</p></figcaption></figure><h2 id=tips>提示</h2><ul><li><p>总是使用在线编辑器来创建和编辑你的图表。</p></li><li><p>总是使用 Hugo 本地和 Netlify 预览来检查图表在文档中的渲染效果。</p></li><li><p>提供图表源代码指针，例如 URL、源代码位置或者标明代码时是说明的。</p></li></ul><ul><li><p>总是提供图表标题。</p></li><li><p>在问题报告或 PR 中包含 <code>.svg</code> 或 <code>.png</code> 图片与/或 Mermaid 代码会很有帮助。</p></li><li><p>对于 Mermaid+SVG 方法和外部工具方法而言，尽量使用 <code>.svg</code> 图片文件，
因为这类文件在被放大之后仍能清晰地显示。</p></li><li><p>对于 <code>.svg</code> 文件的最佳实践是将其加载到一个 SVG 编辑工具中，并使用
“将文字转换为路径”功能完成转换。</p></li></ul><ul><li><p>Mermaid 不支持额外的图表或艺术形式。</p></li><li><p>Hugo Mermaid 短代码在在线编辑器中无法显示。</p></li><li><p>如果你想要在在线编辑器中更改图表，你 <strong>必须</strong> 保存它以便为图表生成新的 URL。</p></li><li><p>点击本节中的图表，你可以查看其源代码及其在在线编辑器中的渲染效果。</p></li></ul><ul><li><p>查看本页的源代码，<code>diagram-guide.md</code> 文件，可以将其作为示例。</p></li><li><p>查阅 <a href=https://mermaid-js.github.io/mermaid/#/>Mermaid docs</a> 以获得更多的解释和示例。</p></li></ul><p>最重要的一点，<strong>保持图表简单</strong>。
这样做会节省你和其他贡献者的时间，同时也会方便新的以及有经验的用户阅读。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4f09c4b708d2dd4ac9eac1080dab6728>7.4 - 撰写新主题</h1><p>本页面展示如何为 Kubernetes 文档库创建新主题。</p><h2 id=准备开始>准备开始</h2><p>如<a href=/zh-cn/docs/contribute/new-content/open-a-pr/>发起 PR</a>中所述，创建 Kubernetes 文档库的派生副本。</p><h2 id=选择页面类型>选择页面类型</h2><p>当你准备编写一个新的主题时，考虑一下最适合你的内容的页面类型：</p><table><caption style=display:none>选择页面类型的说明</caption><thead><tr><th style=text-align:left>类型</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>概念（Concept）</td><td style=text-align:left>概念页面负责解释 Kubernetes 的某方面。例如，概念页面可以描述 Kubernetes Deployment 对象，并解释当部署、扩展和更新时，它作为应用程序所扮演的角色。一般来说，概念页面不包括步骤序列，而是提供任务或教程的链接。概念主题的示例可参见 <a href=/zh-cn/docs/concepts/architecture/nodes/>节点</a>。</td></tr><tr><td style=text-align:left>任务（Task）</td><td style=text-align:left>任务页面展示如何完成特定任务。其目的是给读者提供一系列的步骤，让他们在阅读时可以实际执行。任务页面可长可短，前提是它始终围绕着某个主题展开。在任务页面中，可以将简短的解释与要执行的步骤混合在一起。如果需要提供较长的解释，则应在概念主题中进行。相关联的任务和概念主题应该相互链接。一个简短的任务页面的实例可参见 <a href=/zh-cn/docs/tasks/configure-pod-container/configure-volume-storage/>配置 Pod 使用卷存储</a>。一个较长的任务页面的实例可参见 <a href=/zh-cn/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/>配置活跃性和就绪性探针</a>。</td></tr><tr><td style=text-align:left>教程（Tutorial）</td><td style=text-align:left>教程页面展示如何实现某个目标，该目标将若干 Kubernetes 功能特性联系在一起。教程可能提供一些步骤序列，读者可以在阅读页面时实际执行这些步骤。或者它可以提供相关代码片段的解释。例如，教程可以提供代码示例的讲解。教程可以包括对 Kubernetes 几个关联特性的简要解释，但有关更深入的特性解释应该链接到相关概念主题。</td></tr></tbody></table><h3 id=creating-a-new-page>创建一个新页面</h3><p>为每个新页面选择其<a href=/zh-cn/docs/contribute/style/page-content-types/>内容类型</a>。
文档站提供了模板或 <a href=https://gohugo.io/content-management/archetypes/>Hugo Archetypes</a> 来创建新的内容页面。
要创建新类型的页面，请使用要创建的文件的路径，运行 <code>hugo new</code> 命令。例如：</p><pre tabindex=0><code>hugo new docs/concepts/my-first-concept.md
</code></pre><h2 id=选择标题和文件名>选择标题和文件名</h2><p>选择一个标题，确保其中包含希望搜索引擎发现的关键字。
确定文件名时请使用标题中的单词，由连字符分隔。
例如，标题为<a href=/zh-cn/docs/tasks/extend-kubernetes/http-proxy-access-api/>Using an HTTP Proxy to Access Kubernetes API</a>
的主题的文件名为 <code>http-proxy-access-api.md</code>。
你不需要在文件名中加上 "kubernetes"，因为 "kubernetes" 已经在主题的 URL 中了，
例如：</p><pre><code>   /docs/tasks/extend-kubernetes/http-proxy-access-api/
</code></pre><h2 id=在页面前言中添加主题标题>在页面前言中添加主题标题</h2><p>在你的主题中，在<a href=https://gohugo.io/content-management/front-matter/>前言（front-matter）</a>
中设置一个 <code>title</code> 字段。
前言是位于页面顶部三条虚线之间的 YAML 块。下面是一个例子：</p><pre tabindex=0><code>---
title: 使用 HTTP 代理访问 Kubernetes API
---
</code></pre><h2 id=选择目录>选择目录</h2><p>根据页面类型，将新文件放入其中一个子目录中：</p><ul><li>/content/en/docs/tasks/</li><li>/content/en/docs/tutorials/</li><li>/content/en/docs/concepts/</li></ul><p>你可以将文件放在现有的子目录中，也可以创建一个新的子目录。</p><h2 id=将主题放在目录中>将主题放在目录中</h2><p>目录是使用文档源的目录结构动态构建的。
<code>/content/en/docs/</code> 下的顶层目录用于创建顶层导航条目，
这些目录和它们的子目录在网站目录中都有对应条目。</p><p>每个子目录都有一个 <code>_index.md</code> 文件，它表示的是该子目录内容的主页面。
<code>_index.md</code> 文件不需要模板。它可以包含各子目录中主题的概述内容。</p><p>默认情况下，目录中的其他文件按字母顺序排序。这一般不是最好的顺序。
要控制子目录中主题的相对排序，请将页面头部的键 <code>weight:</code> 设置为整数值。
通常我们使用 10 的倍数，添加后续主题时 <code>weight</code> 值递增。
例如，<code>weight</code> 为 <code>10</code> 的主题将位于 <code>weight</code> 为 <code>20</code> 的主题之前。</p><h2 id=在主题中嵌入代码>在主题中嵌入代码</h2><p>如果你想在主题中嵌入一些代码，可以直接使用 Markdown 代码块语法将代码嵌入到文件中。
建议在以下场合（并非详尽列表）使用嵌入代码：</p><ul><li>代码显示来自命令的输出，例如 <code>kubectl get deploy mydeployment -o json | jq '.status'</code>。</li><li>代码不够通用，用户无法验证。例如，你可以嵌入 YAML 文件来创建一个依赖于特定
<a href=/zh-cn/docs/concepts/storage/volumes#flexvolume>FlexVolume</a> 实现的 Pod。</li><li>该代码是一个不完整的示例，因为其目的是突出展现某个大文件中的部分内容。
例如，在描述
<a href=/zh-cn/docs/reference/access-authn-authz/rbac/#role-binding-examples>RoleBinding</a>
的方法时，你可以在主题文件中直接提供一个短的代码段。</li><li>由于某些其他原因，该代码不适合用户验证。
例如，当使用 <code>kubectl edit</code> 命令描述如何将新属性添加到资源时，
你可以提供一个仅包含要添加的属性的简短示例。</li></ul><h2 id=引用来自其他文件的代码>引用来自其他文件的代码</h2><p>在主题中引用代码的另一种方法是创建一个新的、完整的示例文件（或文件组），
然后在主题中引用这些示例。当示例是通用的和可重用的，并且你希望读者自己验证时，
使用此方法引用示例 YAML 文件。</p><p>添加新的独立示例文件（如 YAML 文件）时，将代码放在 <code>&lt;LANG>/examples/</code> 的某个子目录中，
其中 <code>&lt;LANG></code> 是该主题的语言。在主题文件中使用 <code>codenew</code> 短代码：</p><pre tabindex=0><code class=language-none data-lang=none>{{&lt; codenew file=&#34;&lt;RELPATH&gt;/my-example-yaml&gt;&#34; &gt;}}
</code></pre><p><code>&lt;RELPATH></code> 是要引用的文件的路径，相对于 <code>examples</code> 目录。以下 Hugo
短代码引用了位于 <code>/content/en/examples/pods/storage/gce-volume.yaml</code> 的 YAML
文件。</p><pre tabindex=0><code class=language-none data-lang=none>{{&lt; codenew file=&#34;pods/storage/gce-volume.yaml&#34; &gt;}}
</code></pre><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 要展示上述示例中的原始 Hugo 短代码并避免 Hugo 对其进行解释，
请直接在 <code>&lt;</code> 字符之后和 <code>></code> 字符之前使用 C 样式注释。请查看此页面的代码。</div><h2 id=显示如何从配置文件创建-api-对象>显示如何从配置文件创建 API 对象</h2><p>如果需要演示如何基于配置文件创建 API 对象，请将配置文件放在 <code>&lt;LANG>/examples</code>
下的某个子目录中。</p><p>在主题中展示以下命令：</p><pre tabindex=0><code>kubectl create -f https://k8s.io/examples/pods/storage/gce-volume.yaml
</code></pre><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 将新的 YAML 文件添加到 <code>&lt;LANG>/examples</code> 目录时，请确保该文件也在
<code>&lt;LANG>/examples_test.go</code> 文件中被引用。
当提交拉取请求时，网站的 Travis CI 会自动运行此测试用例，以确保所有示例都通过测试。</div><p>有关使用此技术的主题的示例，请参见
<a href=/zh-cn/docs/tasks/run-application/run-single-instance-stateful-application/>运行单实例有状态的应用</a>。</p><h2 id=向主题添加图片>向主题添加图片</h2><p>将图片文件放入 <code>/images</code> 目录。首选的图片格式是 SVG。</p><h2 id=接下来>接下来</h2><ul><li>了解<a href=/zh-cn/docs/contribute/style/page-content-types/>使用页面内容类型</a>.</li><li>了解<a href=/zh-cn/docs/contribute/new-content/open-a-pr/>创建 PR</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-69e79c7baae79b2f34332a745d62ddca>7.5 - 页面内容类型</h1><p>Kubernetes 文档包含以下几种页面内容类型：</p><ul><li>概念（Concept）</li><li>任务（Task）</li><li>教程（Tutorial）</li><li>参考（Reference）</li></ul><h2 id=content-sections>内容章节</h2><p>每种页面内容类型都有一些使用 Markdown 注释和 HTML 标题定义的章节。
你可以使用 <code>heading</code> 短代码将内容标题添加到你的页面中。
注释和标题有助于维护对应页面内容类型的结构组织。</p><p>定义页面内容章节的 Markdown 注释示例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span><span style=color:#080;font-style:italic>&lt;!-- overview --&gt;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span><span style=color:#080;font-style:italic>&lt;!-- body --&gt;</span>
</span></span></code></pre></div><p>要在内容页面中创建通用的标题，可以使用 <code>heading</code> 短代码加上标题字符串。</p><p>标题字符串示例：</p><ul><li>whatsnext</li><li>prerequisites</li><li>objectives</li><li>cleanup</li><li>synopsis</li><li>seealso</li><li>options</li></ul><p>例如，要创建一个 <code>whatsnext</code> 标题，添加 <code>heading</code> 短代码并指定 "whatsnext" 字符串：</p><pre tabindex=0><code class=language-none data-lang=none>## {{% heading &#34;whatsnext&#34; %}}
</code></pre><p>你可以像下面这样声明一个 <code>prerequisites</code> 标题：</p><pre tabindex=0><code class=language-none data-lang=none>## {{% heading &#34;prerequisites&#34; %}}
</code></pre><p>短代码 <code>heading</code> 需要一个字符串参数。
该字符串参数要与 <code>i18n/&lt;语言>.toml</code> 文件中以其为前缀的某个变量匹配。
例如：</p><p><code>i18n/en.toml</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[whatsnext_heading]
</span></span><span style=display:flex><span>other = <span style=color:#b44>&#34;What&#39;s next&#34;</span>
</span></span></code></pre></div><p><code>i18n/ko.toml</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[whatsnext_heading]
</span></span><span style=display:flex><span>other = <span style=color:#b44>&#34;다음 내용&#34;</span>
</span></span></code></pre></div><h2 id=content-types>内容类型</h2><p>每种内容类型都非正式地定义了期望的页面结构组织。
请按照所建议的页面章节来创建内容页面。</p><h3 id=concept>概念</h3><p>概念页面用来解释 Kubernetes 的某些方面。例如，概念页面可以用来描述 Kubernetes
中的 Deployment 对象，解释其作为应用的角色如何部署、扩缩和更新。
通常，概念页面不需要包含步骤序列，但包含指向任务或教程的链接。</p><p>要编写一个新的概念页面，在 <code>/content/en/docs/concepts</code> 目录下面的子目录中新建一个 Markdown 文件。
该文件具有以下特点。</p><p>概念页面分为三个章节：</p><table><thead><tr><th>页面章节</th></tr></thead><tbody><tr><td>overview（概述）</td></tr><tr><td>body（正文）</td></tr><tr><td>whatsnext（接下来）</td></tr></tbody></table><p>其中的 <code>overview</code> 和 <code>body</code> 章节在概念页面中显示为注释。
你可以使用 <code>heading</code> 短代码向页面添加 <code>wahtsnext</code> 节。</p><p>在为每个章节撰写内容时，遵从一些规定：</p><ul><li>使用二级和三级标题（H2、H3）来组织内容；</li><li>在 <code>overview</code> 节中，使用一段文字概括当前主题的上下文；</li><li>在 <code>body</code> 节中，详细解释对应概念；</li><li>对于 <code>whatsnext</code> 节，提供一个项目符号列表（最多 5 个），帮助读者进一步学习掌握概念。</li></ul><p><a href=/zh-cn/docs/concepts/overview/working-with-objects/annotations/>注解</a>页面是一个已经上线的概念页面的例子。</p><h3 id=task>任务（Task）</h3><p>任务页面讲解如何完成某项工作，通常包含由为数不多的几个步骤组成的序列。
任务页面的讲解文字很少，不过通常会包含指向概念主题的链接，以便读者能够了解相关的背景和知识。</p><p>编写新的任务页面时，在 <code>/content/en/docs/tasks</code> 目录下的子目录中创建一个新的 Markdown 文件。
该文件特点如下。</p><table><thead><tr><th>页面章节</th></tr></thead><tbody><tr><td>overview（概述）</td></tr><tr><td>prerequisites（准备工作）</td></tr><tr><td>steps（步骤）</td></tr><tr><td>discussion（讨论）</td></tr><tr><td>whatsnext（接下来）</td></tr></tbody></table><p>其中的 <code>overview</code>、<code>steps</code> 和 <code>discussion</code> 节在任务页面中显示为注释。
你可以使用 <code>heading</code> 短代码添加 <code>prerequisites</code> 和 <code>whatsnext</code> 小节。</p><p>在每个小节内撰写内容时注意以下规定：</p><ul><li>最低使用二级标题（H2，标题行前带两个 <code>#</code> 字符）。每个小节都会由模板自动给出标题。</li><li>在 <code>overview</code> 节中，用一个段落为整个任务主题设定语境；</li><li>在 <code>prerequisites</code> 节中，尽可能使用项目符号列表。
额外的环境准备条件要加在 <code>include</code> 短代码之后。
默认的环境准备条件是拥有一个在运行的 Kubernetes 集群。</li><li>在 <code>steps</code> 节中，使用编号符号列表。</li><li>在 <code>discussion</code> 节中，使用正常文字内容来对 <code>steps</code> 节中内容展开叙述。</li><li>在 <code>whatsnext</code> 节中，使用项目符号列表（不超过 5 项），列举读者可能接下来有兴趣阅读的主题。</li></ul><p>已上线的任务主题示例之一是<a href=/zh-cn/docs/tasks/extend-kubernetes/http-proxy-access-api/>使用 HTTP 代理访问 Kubernetes API</a>。</p><h3 id=tutorial>教程（Tutorial）</h3><p>教程页面描述如果完成一个比单一任务规模更大的目标。通常教程页面会有多个小节，
每个小节由一系列步骤组成。例如，每个教程可能提供对代码示例的讲解，
便于用户了解 Kubernetes 的某个功能特性。教程可以包含表面层面的概念解释，
对于更深层面的概念主题应该使用链接。</p><p>撰写新的教程页面时，在 <code>/content/en/docs/tutorials</code> 目录下面的子目录中创建新的
Markdown 文件。该文件有以下特点。</p><table><thead><tr><th>页面节区</th></tr></thead><tbody><tr><td>overview（概述）</td></tr><tr><td>prerequisites（环境准备）</td></tr><tr><td>objectives（目标）</td></tr><tr><td>lessoncontent（教程内容）</td></tr><tr><td>cleanup（清理工作）</td></tr><tr><td>whatsnext（接下来）</td></tr></tbody></table><p>教程页面的 <code>overview</code>、<code>objectives</code> 和 <code>lessoncontent</code> 小节显示为注释形式。
你可以使用 <code>heading</code> 短代码根据需要添加 <code>prerequisites</code>、<code>cleanup</code> 和
<code>whatsnext</code> 小节。</p><p>在每个小节中编写内容时，请注意以下规定：</p><ul><li>最低使用二级标题（H2，标题前面有两个 <code>#</code> 字符）。模板会自动为每个小节设置标题。</li><li>在 <code>overview</code> 节中，用一个段落为整个主题设定语境；</li><li>在 <code>prerequisites</code> 节中，尽可能使用项目符号列表。
额外的环境准备条件要加在已包含的条件之后。</li><li>在 <code>objectives</code> 节中，使用项目符号列表。</li><li>在 <code>lessoncontent</code> 节中，结合使用编号符号列表和叙述性文字。</li><li>在 <code>cleanup</code> 节中，使用编号符号列表来描述任务结束后清理集群状态所需要的步骤。</li><li>在 <code>whatsnext</code> 节中，使用项目符号列表（不超过 5 项），列举读者可能接下来有兴趣阅读的主题。</li></ul><p>已发布的教程主题的一个例子是
<a href=/zh-cn/docs/tasks/run-application/run-stateless-application-deployment/>使用 Deployment 运行无状态应用</a>.</p><h3 id=reference>参考（Reference）</h3><p>组件工具的参考页面给出的是某个 Kubernetes 组件工具的描述和参数选项输出。
每个页面都是使用组件工具命令基于脚本生成的。</p><p>每个工具参考页面可能包含以下小节：</p><table><thead><tr><th>页面小节</th></tr></thead><tbody><tr><td>synopsis（用法）</td></tr><tr><td>options（选项）</td></tr><tr><td>options from parent commands（从父命令集成的选项）</td></tr><tr><td>examples（示例）</td></tr><tr><td>seealso（参考）</td></tr></tbody></table><p>已发布的工具参考页面示例包括：</p><ul><li><a href=/zh-cn/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a></li><li><a href=/zh-cn/docs/reference/command-line-tools-reference/kube-apiserver/>kube-apiserver</a></li><li><a href=/zh-cn/docs/reference/kubectl/kubectl/>kubectl</a></li></ul><h2 id=接下来>接下来</h2><ul><li>了解<a href=/zh-cn/docs/contribute/style/style-guide/>样式指南</a></li><li>了解<a href=/zh-cn/docs/contribute/style/content-guide/>内容指南</a></li><li>了解<a href=/zh-cn/docs/contribute/style/content-organization/>内容组织</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-357f2ddd61035f18c2aa63fe86203f9c>7.6 - 内容组织</h1><p>本网站使用了 Hugo。在 Hugo 中，<a href=https://gohugo.io/content-management/organization/>内容组织</a>是一个核心概念。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> <strong>Hugo 提示：</strong> 用 <code>hugo server --navigateToChanged</code> 命令启动 Hugo 以进行内容编辑会话。</div><h2 id=页面列表>页面列表</h2><h3 id=页面顺序>页面顺序</h3><p>文档侧方菜单、文档页面浏览器等以 Hugo 的默认排序顺序列出。Hugo 会按照权重（从 1 开始）、
日期（最新的排最前面）排序，最后按链接标题排序。</p><p>有鉴于此，如果你想将一个页面或一个章节前移，请在页面头部设置一个较高的权重：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>title</span>:<span style=color:#bbb> </span>My Page<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>weight</span>:<span style=color:#bbb> </span><span style=color:#666>10</span><span style=color:#bbb>
</span></span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 对于页面的权重，不建议使用连续的数值，比如 1、2、3...，而应采用其他间隔的数值，比如 10、20、30...
这样将来你可以将其他页面插入到想要的位置。
此外，在相同目录(章节)中的每个权重不应该与其他权重重叠。
这样做可以确保文档内容始终是正确且有条理的，尤其是对于本地化的内容。</div><h3 id=文档主菜单>文档主菜单</h3><p><code>文档</code>主菜单是从 <code>docs/</code> 下面的章节构建的。
这些章节在其章节内容文件 <code>_index.md</code> 的头部设置了 <code>main_menu</code> 标志：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>main_menu</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>注意，链接标题来自页面的 <code>linkTitle</code> 字段，因此如果希望它与页面标题不同，请在内容文件中更改它：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>main_menu</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>title</span>:<span style=color:#bbb> </span>Page Title<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>linkTitle</span>:<span style=color:#bbb> </span>Title used in links<span style=color:#bbb>
</span></span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 你需要分别针对每种语言完成上述操作。如果在菜单中没有看到你的章节，这可能是因为它没有被 Hugo 识别为一个章节。
请在该章节对应的目录下创建 <code>_index.md</code> 内容文件。</div><h3 id=文档侧方菜单>文档侧方菜单</h3><p>文档侧方菜单是基于 <code>docs/</code> 下面的 <strong>当前章节的内容树</strong> 构建的。</p><p>菜单默认显示所有的章节和它们的页面。</p><p>如果你不想列出某个章节或页面，请在页面头部将 <code>toc_hide</code> 标志设置为 <code>true</code>。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>toc_hide</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>当导航到具有内容的章节时，网站将显示出指定的章节或页面（例如 <code>_index.md</code>）。
否则，将显示该章节里的第一个页面。</p><h3 id=documentation-browser>文档浏览器</h3><p>文档主页上的页面浏览器是基于 <code>docs section</code> 下一层的所有章节和页面构建的。</p><p>如果你不想列出某个章节或页面，请在页面头部将 <code>toc_hide</code> 标志设置为 <code>true</code>。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>toc_hide</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=主菜单>主菜单</h3><p>右上菜单中的网站链接（也出现在页脚中）是通过页面查找构建的。
这是为了确保页面实际存在。因此，如果<code>案例分析</code>章节在网站（或者其本地化版本）中不存在，
则不会出现对应的链接。</p><h2 id=页面包>页面包</h2><p>除了独立的内容页面（Markdown 文件），
Hugo 还支持<a href=https://gohugo.io/content-management/page-bundles/>页面包</a>。</p><p>一个例子是<a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>定制的 Hugo 短代码（shortcodes）</a>。
它被认为是 <code>leaf bundle</code>（叶子包）。
目录下的所有内容，包括 <code>index.md</code>，都是包的一部分。此外还包括页面间相对链接、可被处理的图像等：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>zh-cn/docs/home/contribute/includes
</span></span><span style=display:flex><span>├── example1.md
</span></span><span style=display:flex><span>├── example2.md
</span></span><span style=display:flex><span>├── index.md
</span></span><span style=display:flex><span>└── podtemplate.json
</span></span></code></pre></div><p>另一个广泛使用的例子是 <code>includes</code> 包。
这类包在页面头部设置 <code>headless: true</code>，意味着它没有得到自己的 URL。它只用于其他页面。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>zh-cn/includes
</span></span><span style=display:flex><span>├── default-storage-class-prereqs.md
</span></span><span style=display:flex><span>├── index.md
</span></span><span style=display:flex><span>├── partner-script.js
</span></span><span style=display:flex><span>├── partner-style.css
</span></span><span style=display:flex><span>├── task-tutorial-prereqs.md
</span></span><span style=display:flex><span>├── user-guide-content-moved.md
</span></span><span style=display:flex><span>└── user-guide-migration-notice.md
</span></span></code></pre></div><p>有关包中文件的一些重要说明：</p><ul><li>已翻译的包会从上面的语言继承所有缺失的、非内容文件。这一设计可以避免重复。</li><li>包中的所有文件都是 Hugo 所指的 <code>Resources</code>，即使某个语言不支持头部设置（YAML 文件等），
你也可以为每个语言提供诸如参数和标题等元数据。
参见<a href=https://gohugo.io/content-management/page-resources/#page-resources-metadata>页面资源元数据</a>。</li><li>从 <code>Resource</code> 的 <code>.RelPermalink</code> 中获得的值是相对于当前页面的。
参见 <a href=https://gohugo.io/content-management/urls/#permalinks>Permalinks</a>。</li></ul><h2 id=styles>样式</h2><p>本网站的样式表的 <a href=https://sass-lang.com/>SASS</a> 源文件存放在 <code>src/sass</code> 下面，并通过 Hugo 自动构建。</p><h2 id=接下来>接下来</h2><ul><li>了解<a href=/zh-cn/docs/contribute/style/hugo-shortcodes/>定制 Hugo 短代码</a></li><li>了解<a href=/zh-cn/docs/contribute/style/style-guide>样式指南</a></li><li>了解<a href=/zh-cn/docs/contribute/style/content-guide>内容指南</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6d76d18115f82583d526bdaf5d05edbc>7.7 - 定制 Hugo 短代码</h1><p>本页面将介绍 Hugo 自定义短代码，可以用于 Kubernetes Markdown 文档书写。</p><p>关于短代码的更多信息可参见 <a href=https://gohugo.io/content-management/shortcodes>Hugo 文档</a>。</p><h2 id=feature-state>功能状态</h2><p>在本站的 Markdown 页面（<code>.md</code> 文件）中，你可以加入短代码来展示所描述的功能特性的版本和状态。</p><h3 id=feature-state-demo>功能状态示例</h3><p>下面是一个功能状态代码段的演示，表明这个功能已经在最新版 Kubernetes 中稳定了。</p><pre tabindex=0><code>{{&lt; feature-state state=&#34;stable&#34; &gt;}}
</code></pre><p>会转换为：</p><div style=margin-top:10px;margin-bottom:10px><b>特性状态：</b> <code>Kubernetes v1.25 [stable]</code></div><p><code>state</code> 的可选值如下：</p><ul><li>alpha</li><li>beta</li><li>deprecated</li><li>stable</li></ul><h3 id=feature-state-code>功能状态代码</h3><p>所显示的 Kubernetes 默认为该页或站点版本。
修改 <code>for_k8s_version</code> 短代码参数可以调整要显示的版本。例如：</p><pre tabindex=0><code>{{&lt; feature-state for_k8s_version=&#34;v1.10&#34; state=&#34;beta&#34; &gt;}}
</code></pre><p>会转换为：</p><div style=margin-top:10px;margin-bottom:10px><b>特性状态：</b> <code>Kubernetes v1.10 [beta]</code></div><h2 id=glossary>词汇</h2><p>有两种词汇表提示：<code>glossary_tooltip</code> 和 <code>glossary_definition</code>。</p><p>你可以通过加入术语词汇的短代码，来自动更新和替换相应链接中的内容
（<a href=/zh-cn/docs/reference/glossary/>我们的词汇库</a>）
在浏览在线文档时，术语会显示为超链接的样式，当鼠标移到术语上时，其解释就会显示在提示框中。</p><p>除了包含工具提示外，你还可以重用页面内容中词汇表中的定义。</p><p>词汇术语的原始数据保存在<a href=https://github.com/kubernetes/website/tree/main/content/en/docs/reference/glossary>词汇目录</a>，
每个内容文件对应相应的术语解释。</p><h3 id=glossary-demo>词汇演示</h3><p>例如下面的代码在 Markdown 中将会转换为
<a class=glossary-tooltip title=一组工作机器，称为节点，会运行容器化应用程序。每个集群至少有一个工作节点。 data-toggle=tooltip data-placement=top href='/zh-cn/docs/reference/glossary/?all=true#term-cluster' target=_blank aria-label=cluster>cluster</a>，然后在提示框中显示。</p><pre tabindex=0><code>{{&lt; glossary_tooltip text=&#34;cluster&#34; term_id=&#34;cluster&#34; &gt;}}
</code></pre><p>这是一个简短的词汇表定义：</p><pre tabindex=0><code>{{&lt; glossary_definition prepend=&#34;A cluster is&#34; term_id=&#34;cluster&#34; length=&#34;short&#34; &gt;}}
</code></pre><p>呈现为：<p>A cluster is 一组工作机器，称为 <a class=glossary-tooltip title='Kubernetes 中的工作机器称作节点。' data-toggle=tooltip data-placement=top href=/zh-cn/docs/concepts/architecture/nodes/ target=_blank aria-label=节点>节点</a>，
会运行容器化应用程序。每个集群至少有一个工作节点。</p></p><p>你也可以包括完整的定义：</p><pre tabindex=0><code>{{&lt; glossary_definition term_id=&#34;cluster&#34; length=&#34;all&#34; &gt;}}
</code></pre><p>呈现为：<p>一组工作机器，称为 <a class=glossary-tooltip title='Kubernetes 中的工作机器称作节点。' data-toggle=tooltip data-placement=top href=/zh-cn/docs/concepts/architecture/nodes/ target=_blank aria-label=节点>节点</a>，
会运行容器化应用程序。每个集群至少有一个工作节点。</p><p>工作节点会托管 <a class=glossary-tooltip title='Pod 表示你的集群上一组正在运行的容器。' data-toggle=tooltip data-placement=top href=/zh-cn/docs/concepts/workloads/pods/ target=_blank aria-label=Pod>Pod</a>
，而 Pod 就是作为应用负载的组件。
<a class=glossary-tooltip title='控制平面是指容器编排层，它暴露 API 和接口来定义、部署容器和管理容器的生命周期。' data-toggle=tooltip data-placement=top href='/zh-cn/docs/reference/glossary/?all=true#term-control-plane' target=_blank aria-label=控制平面>控制平面</a>管理集群中的工作节点和 Pod。
在生产环境中，控制平面通常跨多台计算机运行，
一个集群通常运行多个节点，提供容错性和高可用性。</p></p><h2 id=links-to-api-reference>链接至 API 参考</h2><p>你可以使用 <code>api-reference</code> 短代码链接到 Kubernetes API 参考页面，例如：
Pod
<a href=/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/>Pod</a> 参考文件：</p><pre tabindex=0><code>{{&lt; api-reference page=&#34;workload-resources/pod-v1&#34; &gt;}}
</code></pre><p>本语句中 <code>page</code> 参数的内容是 API 参考页面的 URL 后缀。</p><p>你可以通过指定 <code>anchor</code> 参数链接到页面中的特定位置，例如到
<a href=/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodSpec>PodSpec</a> 参考，或页面的
<a href=/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#environment-variables>environment-variables</a>
部分：</p><pre tabindex=0><code>{{&lt; api-reference page=&#34;workload-resources/pod-v1&#34; anchor=&#34;PodSpec&#34; &gt;}}
{{&lt; api-reference page=&#34;workload-resources/pod-v1&#34; anchor=&#34;environment-variables&#34; &gt;}}
</code></pre><p>你可以通过指定 <code>text</code> 参数来更改链接的文本，例如通过链接到页面的
<a href=/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#environment-variables>环境变量</a>
部分：</p><pre tabindex=0><code>{{&lt; api-reference page=&#34;workload-resources/pod-v1&#34; anchor=&#34;environment-variables&#34; text=&#34;环境变量&#34; &gt;}}
</code></pre><h2 id=table-captions>表格标题</h2><p>通过添加表格标题，你可以让表格能够被屏幕阅读器读取。
要向表格添加<a href=https://www.w3schools.com/tags/tag_caption.asp>标题（Caption）</a>，
可用 <code>table</code> 短代码包围表格定义，并使用 <code>caption</code> 参数给出表格标题。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 表格标题对屏幕阅读器是可见的，但在标准 HTML 中查看时是不可见的。</div><p>下面是一个例子：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>table<span style=color:#bbb> </span>caption<span style=color:#666>=</span><span style=color:#b44>&#34;配置参数&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>参数      | 描述        | 默认值
</span></span><span style=display:flex><span>:---------|:------------|:-------
</span></span><span style=display:flex><span>`timeout` | 请求的超时时长 | `30s`
</span></span><span style=display:flex><span>`logLevel` | 日志输出的级别 | `INFO`
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>table<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>所渲染的表格如下：</p><table><caption style=display:none>配置参数</caption><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>描述</th><th style=text-align:left>默认值</th></tr></thead><tbody><tr><td style=text-align:left><code>timeout</code></td><td style=text-align:left>请求的超时时长</td><td style=text-align:left><code>30s</code></td></tr><tr><td style=text-align:left><code>logLevel</code></td><td style=text-align:left>日志输出的级别</td><td style=text-align:left><code>INFO</code></td></tr></tbody></table><p>如果你查看表格的 HTML 输出结果，你会看到 <code>&lt;table></code> 元素
后面紧接着下面的元素：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:green;font-weight:700>caption</span> <span style=color:#b44>style</span><span style=color:#666>=</span><span style=color:#b44>&#34;display: none;&#34;</span>&gt;配置参数&lt;/<span style=color:green;font-weight:700>caption</span>&gt;
</span></span></code></pre></div><h2 id=tabs>标签页</h2><p>在本站的 Markdown 页面（<code>.md</code> 文件）中，你可以加入一个标签页集来显示
某解决方案的不同形式。</p><p>标签页的短代码包含以下参数：</p><ul><li><code>name</code>： 标签页上显示的名字。</li><li><code>codelang</code>: 如果要在 <code>tab</code> 短代码中加入内部内容，需要告知 Hugo 使用的是什么代码语言，方便代码高亮。</li><li><code>include</code>: 标签页中所要包含的文件。如果标签页是在 Hugo 的
<a href=https://gohugo.io/content-management/page-bundles/#leaf-bundles>叶子包</a>中定义，
Hugo 会在包内查找文件（可以是 Hugo 所支持的任何 MIME 类型文件）。
否则，Hugo 会在当前路径的相对路径下查找所要包含的内容页面。
注意，在 <code>include</code> 页面中不能包含短代码内容，必须要使用自结束（self-closing）语法。
例如 <code>{{&lt; tab name="Content File #1" include="example1" />}}</code>。
如果没有在 <code>codelang</code> 进行声明的话，Hugo 会根据文件名推测所用的语言。
默认情况下，非内容文件将会被代码高亮。</li></ul><ul><li>如果内部内容是 Markdown，你必须要使用 <code>%</code> 分隔符来包装标签页。
例如，<code>{{% tab name="Tab 1" %}}This is **markdown**{{% /tab %}}</code>。</li><li>可以在标签页集中混合使用上面的各种变形。</li></ul><p>下面是标签页短代码的示例。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 内容页面下的 <strong>tabs</strong> 定义中的标签页 <strong>name</strong> 必须是唯一的。</div><h3 id=标签页演示-代码高亮>标签页演示：代码高亮</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-text-template data-lang=go-text-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tabs<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;tab_with_code&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Tab 1&#34;</span><span style=color:#bbb> </span>codelang<span style=color:#666>=</span><span style=color:#b44>&#34;bash&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>echo &#34;This is tab 1.&#34;
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Tab 2&#34;</span><span style=color:#bbb> </span>codelang<span style=color:#666>=</span><span style=color:#b44>&#34;go&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>println &#34;This is tab 2.&#34;
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tabs<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>会转换为：</p><ul class="nav nav-tabs" id=tab-with-code role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-code-0 role=tab aria-controls=tab-with-code-0 aria-selected=true>Tab 1</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-code-1 role=tab aria-controls=tab-with-code-1>Tab 2</a></li></ul><div class=tab-content id=tab-with-code><div id=tab-with-code-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-code-0><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;This is tab 1.&#34;</span>
</span></span></code></pre></div></div><div id=tab-with-code-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-code-1><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>
</span></span><span style=display:flex><span>println <span style=color:#b44>&#34;This is tab 2.&#34;</span>
</span></span></code></pre></div></div></div><h3 id=标签页演示-内联-markdown-和-html>标签页演示：内联 Markdown 和 HTML</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tabs<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;tab_with_md&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>%</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Markdown&#34;</span><span style=color:#bbb> </span><span>%</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>这是 **一些 markdown。**
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>note<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>它甚至可以包含短代码。
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>note<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>%</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>%</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;HTML&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>&lt;<span style=color:green;font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:green;font-weight:700>h3</span>&gt;纯 HTML&lt;/<span style=color:green;font-weight:700>h3</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:green;font-weight:700>p</span>&gt;这是一些 &lt;<span style=color:green;font-weight:700>i</span>&gt;纯&lt;/<span style=color:green;font-weight:700>i</span>&gt; HTML。&lt;/<span style=color:green;font-weight:700>p</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:green;font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tabs<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>会转换为：</p><ul class="nav nav-tabs" id=tab-with-md role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-md-0 role=tab aria-controls=tab-with-md-0 aria-selected=true>Markdown</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-md-1 role=tab aria-controls=tab-with-md-1>HTML</a></li></ul><div class=tab-content id=tab-with-md><div id=tab-with-md-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-md-0><p><p>这是 <strong>一些 markdown。</strong></p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 它甚至可以包含短代码。</div></div><div id=tab-with-md-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-md-1><p><div><h3>纯 HTML</h3><p>这是一些 <i>纯</i> HTML。</p></div></div></div><h3 id=标签页演示-文件嵌套>标签页演示：文件嵌套</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-text-template data-lang=go-text-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tabs<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;tab_with_file_include&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Content File #1&#34;</span><span style=color:#bbb> </span>include<span style=color:#666>=</span><span style=color:#b44>&#34;example1&#34;</span><span style=color:#bbb> </span><span>/&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Content File #2&#34;</span><span style=color:#bbb> </span>include<span style=color:#666>=</span><span style=color:#b44>&#34;example2&#34;</span><span style=color:#bbb> </span><span>/&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;JSON File&#34;</span><span style=color:#bbb> </span>include<span style=color:#666>=</span><span style=color:#b44>&#34;podtemplate&#34;</span><span style=color:#bbb> </span><span>/&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tabs<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>会转换为：</p><ul class="nav nav-tabs" id=tab-with-file-include role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-file-include-0 role=tab aria-controls=tab-with-file-include-0 aria-selected=true>Content File #1</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-file-include-1 role=tab aria-controls=tab-with-file-include-1>Content File #2</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-file-include-2 role=tab aria-controls=tab-with-file-include-2>JSON File</a></li></ul><div class=tab-content id=tab-with-file-include><div id=tab-with-file-include-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-file-include-0><p><p>这是一个内容文件<strong>示例</strong>，位于一个<strong>includes</strong>叶子包中。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 被包含的内容文件也可以包含短代码。</div></div><div id=tab-with-file-include-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-file-include-1><p><p>这是另一个内容文件<strong>示例</strong>，位于一个<strong>includes</strong>叶子包中。</p></div><div id=tab-with-file-include-2 class=tab-pane role=tabpanel aria-labelledby=tab-with-file-include-2><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;v1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;PodTemplate&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;metadata&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;nginx&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;template&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;metadata&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;labels&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;nginx&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;generateName&#34;</span>: <span style=color:#b44>&#34;nginx-&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
</span></span><span style=display:flex><span>         <span style=color:green;font-weight:700>&#34;containers&#34;</span>: [{
</span></span><span style=display:flex><span>           <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;nginx&#34;</span>,
</span></span><span style=display:flex><span>           <span style=color:green;font-weight:700>&#34;image&#34;</span>: <span style=color:#b44>&#34;dockerfile/nginx&#34;</span>,
</span></span><span style=display:flex><span>           <span style=color:green;font-weight:700>&#34;ports&#34;</span>: [{<span style=color:green;font-weight:700>&#34;containerPort&#34;</span>: <span style=color:#666>80</span>}]
</span></span><span style=display:flex><span>         }]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></div><h2 id=third-party-content-marker>第三方内容标记</h2><p>运行 Kubernetes 需要第三方软件。例如：你通常需要将
<a href=/zh-cn/docs/tasks/administer-cluster/dns-custom-nameservers/#introduction>DNS 服务器</a>
添加到集群中，以便名称解析工作。</p><p>当我们链接到第三方软件或以其他方式提及它时，我们会遵循<a href=/zh-cn/docs/contribute/style/content-guide/>内容指南</a>
并标记这些第三方项目。</p><p>使用这些短代码会向使用它们的任何文档页面添加免责声明。</p><h3 id=third-party-content-list>列表</h3><p>对于有关几个第三方项目的列表，请添加：</p><pre tabindex=0><code>{{% thirdparty-content %}}
</code></pre><p>在包含所有项目的段落标题正下方。</p><h3 id=third-party-content-item>项目</h3><p>如果你有一个列表，其中大多数项目引用项目内软件（例如：Kubernetes 本身，以及单独的
<a href=https://github.com/kubernetes-sigs/descheduler>Descheduler</a>
组件），那么可以使用不同的形式。</p><p>在项目之前，或在特定项目的段落下方添加此短代码：</p><pre tabindex=0><code>{{% thirdparty-content single=&#34;true&#34; %}}
</code></pre><h2 id=version-strings>版本号信息</h2><p>要在文档中生成版本号信息，可以从以下几种短代码中选择。每个短代码可以基于站点配置文件
<code>config.toml</code> 中的版本参数生成一个版本号取值。最常用的参数为 <code>latest</code> 和 <code>version</code>。</p><h3 id=param-version><code>{{&lt; param "version" >}}</code></h3><p><code>{{&lt; param "version" >}}</code> 短代码可以基于站点参数 <code>version</code> 生成 Kubernetes
文档的当前版本号取值。短代码 <code>param</code> 允许传入一个站点参数名称，在这里是 <code>version</code>。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 在先前已经发布的文档中，<code>latest</code> 和 <code>version</code> 参数值并不完全等价。新版本文档发布后，参数
<code>latest</code> 会增加，而 <code>version</code> 则保持不变。例如，在上一版本的文档中使用 <code>version</code> 会得到
<code>v1.19</code>，而使用 <code>latest</code> 则会得到 <code>v1.20</code>。</div><p>转换为：</p>v1.25<h3 id=latest-version><code>{{&lt; latest-version >}}</code></h3><p><code>{{&lt; latest-version >}}</code> 返回站点参数 <code>latest</code> 的取值。每当新版本文档发布时，该参数均会被更新。
因此，参数 <code>latest</code> 与 <code>version</code> 并不总是相同。</p><p>转换为：</p>v1.25<h3 id=latest-semver><code>{{&lt; latest-semver >}}</code></h3><p><code>{{&lt; latest-semver >}}</code> 短代码可以生成站点参数 <code>latest</code> 不含前缀 <code>v</code> 的版本号取值。</p><p>转换为：</p>1.25<h3 id=version-check><code>{{&lt; version-check >}}</code></h3><p><code>{{&lt; version-check >}}</code> 会检查是否设置了页面参数 <code>min-kubernetes-server-version</code>
并将其与 <code>version</code> 进行比较。</p><p>转换为：</p>要获知版本信息，请输入 <code>kubectl version</code>.<h3 id=latest-release-notes><code>{{&lt; latest-release-notes >}}</code></h3><p><code>{{&lt; latest-release-notes >}}</code> 短代码基于站点参数 <code>latest</code> 生成不含前缀 <code>v</code>
的版本号取值，并输出该版本更新日志的超链接地址。</p><p>转换为：</p>https://git.k8s.io/kubernetes/CHANGELOG/CHANGELOG-1.25.md<h2 id=接下来>接下来</h2><ul><li>了解 <a href=https://gohugo.io/>Hugo</a>。</li><li>了解<a href=/zh-cn/docs/contribute/style/write-new-topic/>撰写新的话题</a>。</li><li>了解<a href=/zh-cn/docs/contribute/style/page-content-types/>使用页面内容类型</a>。</li><li>了解<a href=/zh-cn/docs/contribute/new-content/open-a-pr/>发起 PR</a>。</li><li>了解<a href=/zh-cn/docs/contribute/advanced/>进阶贡献</a>。</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-8111429863728051b460e1f3a75b6fea>8 - 进阶贡献</h1><p>如果你已经了解如何<a href=/zh-cn/docs/contribute/new-content/>贡献新内容</a>和
<a href=/zh-cn/docs/contribute/review/reviewing-prs/>评阅他人工作</a>，并准备了解更多贡献的途径，
请阅读此文。你需要使用 Git 命令行工具和其他工具做这些工作。</p><h2 id=propose-improvements>提出改进建议</h2><p>SIG Docs 的<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#members>成员</a> 可以提出改进建议。</p><p>在对 Kubernetes 文档贡献了一段时间后，你可能会对<a href=/zh-cn/docs/contribute/style/style-guide/>样式指南</a>、
<a href=/zh-cn/docs/contribute/style/content-guide/>内容指南</a>、用于构建文档的工具链、网站样式、
评审和合并 PR 的流程或者文档的其他方面产生改进的想法。
为了尽可能透明化，这些提议都需要在 SIG Docs 会议或
<a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>kubernetes-sig-docs 邮件列表</a>上讨论。
此外，在提出全面的改进之前，这些讨论能帮助我们了解有关“当前工作如何运作”和“以往的决定是为何做出”的背景。
想了解文档的当前运作方式，最快的途径是咨询 <a href=https://kubernetes.slack.com>kubernetes.slack.com</a>
中的 <code>#sig-docs</code> 聊天群组。</p><p>在进行了讨论并且 SIG 就期望的结果达成一致之后，你就能以最合理的方式处理改进建议了。
例如，样式指南或网站功能的更新可能涉及 PR 的新增，而与文档测试相关的更改可能涉及 sig-testing。</p><h2 id=coordinate-docs-for-a-kubernetes-release>为 Kubernetes 版本发布协调文档工作</h2><p>SIG Docs 的<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#approvers>批准者（approvers）</a>
可以为 Kubernetes 版本发布协调文档工作。</p><p>每一个 Kubernetes 版本都是由参与 sig-release 的 SIG（特别兴趣小组）的一个团队协调的。
指定版本的发布团队中还包括总体发布牵头人，以及来自 sig-testing 的代表等。
要了解更多关于 Kubernetes 版本发布的流程，请参考
<a href=https://github.com/kubernetes/sig-release>https://github.com/kubernetes/sig-release</a>。</p><p>SIG Docs 团队的代表需要为一个指定的版本协调以下工作：</p><ul><li>通过特性跟踪表来监视新功能特性或现有功能特性的修改。
如果版本的某个功能特性的文档没有为发布做好准备，那么该功能特性不允许进入发布版本。</li><li>定期参加 sig-release 会议并汇报文档的发布状态。</li><li>评审和修改由负责实现某功能特性的 SIG 起草的功能特性文档。</li><li>合入版本发布相关的 PR，并为对应发布版本维护 Git 特性分支。</li><li>指导那些想学习并有意愿担当该角色的 SIG Docs 贡献者。这就是我们常说的“实习”。</li><li>发布版本的组件发布时，相关的文档更新也需要发布。</li></ul><p>协调一个版本发布通常需要 3-4 个月的时间投入，该任务由 SIG Docs 批准人轮流承担。</p><h2 id=serve-as-a-new-contributor-ambassador>担任新的贡献者大使</h2><p>SIG Docs <a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#approvers>批准人（Approvers）</a>
可以担任新的贡献者大使。</p><p>新的贡献者大使欢迎 SIG-Docs 的新贡献者，对新贡献者的 PR 提出建议，
以及在前几份 PR 提交中指导新贡献者。</p><p>新的贡献者大使的职责包括：</p><ul><li>监听 <a href=https://kubernetes.slack.com>Kubernetes #sig-docs 频道</a> 上新贡献者的 Issue。</li><li>与 PR 管理者合作为新参与者寻找<a href=https://kubernetes.dev/docs/guide/help-wanted/#good-first-issue>合适的第一个 issues</a>。</li><li>通过前几个 PR 指导新贡献者为文档存储库作贡献。</li><li>帮助新的贡献者创建成为 Kubernetes 成员所需的更复杂的 PR。</li><li><a href=#sponsor-a-new-contributor>为贡献者提供保荐</a>，使其成为 Kubernetes 成员。</li><li>每月召开一次会议，帮助和指导新的贡献者。</li></ul><p>当前新贡献者大使将在每次 SIG 文档会议上以及 <a href=https://kubernetes.slack.com>Kubernetes #sig-docs 频道</a>中宣布。</p><h2 id=sponsor-a-new-contributor>为新的贡献者提供保荐</h2><p>SIG Docs 的<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#reviewers>评审人（Reviewers）</a>
可以为新的贡献者提供保荐。</p><p>新的贡献者针对一个或多个 Kubernetes 项目仓库成功提交了 5 个实质性 PR 之后，
就有资格申请 Kubernetes 组织的<a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#members>成员身份</a>。
贡献者的成员资格需要同时得到两位评审人的保荐。</p><p>新的文档贡献者可以通过咨询 <a href=https://kubernetes.slack.com>Kubernetes Slack 实例</a>
上的 #sig-docs 频道或者 <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>SIG Docs 邮件列表</a>
来请求评审者保荐。如果你对申请人的工作充满信心，你自愿保荐他们。
当他们提交成员资格申请时，回复 “+1” 并详细说明为什么你认为申请人适合加入 Kubernetes 组织。</p><h2 id=sponsor-a-new-contributor>担任 SIG 联合主席</h2><p>SIG Docs <a href=/zh-cn/docs/contribute/participate/roles-and-responsibilities/#members>成员（Members）</a>
可以担任 SIG Docs 的联合主席。</p><h3 id=prerequisites>前提条件</h3><p>Kubernetes 成员必须满足以下要求才能成为联合主席：</p><ul><li>理解 SIG Docs 工作流程和工具：git、Hugo、本地化、博客子项目</li><li>理解其他 Kubernetes SIG 和仓库会如何影响 SIG Docs 工作流程，包括：
<a href=https://github.com/kubernetes/org/blob/main/config/kubernetes/sig-docs/teams.yaml>k/org 中的团队</a>、
<a href=https://github.com/kubernetes/community/tree/main/sig-docs>k/community 中的流程</a>、
<a href=https://github.com/kubernetes/test-infra/>k/test-infra</a> 中的插件、
<a href=https://github.com/kubernetes/community/tree/main/sig-architecture>SIG Architecture</a> 中的角色。
此外，了解 <a href=/zh-cn/docs/contribute/advanced/#coordinate-docs-for-a-kubernetes-release>Kubernetes 文档发布流程</a>的工作原理。</li><li>由 SIG Docs 社区直接或通过惰性共识批准。</li><li>在至少 6 个月的时段内，确保每周至少投入 5 个小时（通常更多）</li></ul><h3 id=responsibilities>职责范围</h3><p>联合主席主要提供以下服务：
联合主席负责处理流程和政策、时间安排和召开会议、安排 PR 管理员、以及一些其他人不想做的事情，目的是增长贡献者团队。</p><p>职责范围包括：</p><ul><li>保持 SIG Docs 专注于通过出色的文档最大限度地提高开发人员的满意度</li><li>以身作则，践行<a href=https://github.com/cncf/foundation/blob/main/code-of-conduct.md>社区行为准则</a>，
并要求 SIG 成员对自身行为负责</li><li>通过更新贡献指南，为 SIG 学习并设置最佳实践</li><li>安排和举行 SIG 会议：每周状态更新，每季度回顾/计划会议以及其他需要的会议</li><li>在 KubeCon 活动和其他会议上安排和负责文档工作</li><li>与 <a class=glossary-tooltip title='云原生计算基金会（Cloud Native Computing Foundation）' data-toggle=tooltip data-placement=top href=https://cncf.io/ target=_blank aria-label=CNCF>CNCF</a> 及其尊贵合作伙伴
（包括 Google、Oracle、Azure、IBM 和华为）一起以 SIG Docs 的身份招募和宣传</li><li>负责 SIG 正常运行</li></ul><h3 id=running-effective-meetings>召开高效的会议</h3><p>为了安排和召开高效的会议，这些指南说明了如何做、怎样做以及原因。</p><p><strong>坚持<a href=https://github.com/cncf/foundation/blob/main/code-of-conduct.md>社区行为准则</a></strong>：</p><ul><li>相互尊重地、包容地进行讨论。</li></ul><p><strong>设定明确的议程</strong>：</p><ul><li>设定清晰的主题议程</li><li>提前发布议程</li></ul><p>对于每周一次的会议，请将前一周的笔记复制并粘贴到笔记的“过去的会议”部分中</p><p><strong>通过协作，完成准确的记录</strong>：</p><ul><li>记录会议讨论</li><li>考虑委派笔记记录员的角色</li></ul><p><strong>清晰准确地分配执行项目</strong>：</p><ul><li>记录操作项，分配给它的人员以及预期的完成日期</li></ul><p><strong>根据需要来进行协调</strong>：</p><ul><li>如果讨论偏离议程，请让参与者重新关注当前主题</li><li>为不同的讨论风格留出空间，同时保持讨论重点并尊重人们的时间</li></ul><p><strong>尊重大家的时间</strong>:</p><p>按时开始和结束会议</p><p><strong>有效利用 Zoom</strong>：</p><ul><li>熟悉 <a href=https://github.com/kubernetes/community/blob/main/communication/zoom-guidelines.md>Kubernetes Zoom 指南</a></li><li>输入主持人密钥登录时声明主持人角色</li></ul><img src=/images/docs/contribute/claim-host.png width=75% alt="声明 Zoom 角色"><h3 id=recording-meetings-on-zoom>录制 Zoom 会议</h3><p>准备开始录制时，请单击“录制到云”。</p><p>准备停止录制时，请单击“停止”。</p><p>视频会自动上传到 YouTube。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ed3187078744c086d64f3d804a926218>9 - 查看站点分析</h1><p>此页面包含有关 kubernetes.io 分析仪表板的信息。</p><p><a href=https://datastudio.google.com/reporting/fede2672-b2fd-402a-91d2-7473bdb10f04>查看仪表板</a>。</p><p>此仪表板使用 Google Data Studio 构建，显示使用 Google Analytics 在 kubernetes.io 上收集的信息。</p><h3 id=使用仪表板>使用仪表板</h3><p>默认情况下，仪表板显示过去 30 天收集的所有分析。
使用日期选择器查看来自不同日期范围的数据。
其他过滤选项允许你根据用户位置、用于访问站点的设备、所用文档的翻译等查看数据。</p><p>如果你发现此仪表板存在问题，或者想要请求任何改进，
请<a href=https://github.com/kubernetes/website/issues/new/choose>开启一个问题</a>。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-942048ae9791e526e3586861b637b9e6>10 - 中文本地化样式指南</h1><p>本节详述文档中文本地化过程中须注意的事项。
这里列举的内容包含了<strong>中文本地化小组</strong>早期给出的指导性建议和后续实践过程中积累的经验。
在阅读、贡献、评阅中文本地化文档的过程中，如果对本文的指南有任何改进建议，
都请直接提出 PR。我们欢迎任何形式的补充和更正！</p><h2 id=一般规定>一般规定</h2><p>本节列举一些译文中常见问题和约定。</p><h3 id=英文原文的保留>英文原文的保留</h3><p>为便于译文审查和变更追踪，所有中文本地化 Markdown 文件中都应使用 HTML 注释
<code>&lt;!--</code> 和 <code>--></code> 将英文原文逐段注释起来，后跟对应中文译文。例如：</p><pre tabindex=0><code>&lt;!--
This is English text ... 
--&gt;
中文译文对应 ...
</code></pre><p>不建议采用下面的方式注释英文段落，除非英文段落非常非常短：</p><pre tabindex=0><code>&lt;!-- This is English text ...  --&gt;
中文译文对应 ...
</code></pre><p>无论英文原文或者中文译文中，都不要保留过多的、不必要的空白行。</p><h4 id=段落划分>段落划分</h4><p>请避免大段大段地注释和翻译。一般而言，每段翻译可对应两三个自然段。
段落过长会导致译文很难评阅。但也不必每个段落都单独翻译。例如：</p><pre tabindex=0><code>&lt;!--
## Overview

### Concept

First paragraph, not very long.
--&gt;
## 概述 {#overview}

### 概念 {#concept}

第一段落，不太长。
</code></pre><p>以下风格是不必要的：</p><pre tabindex=0><code>&lt;!--
## Overview
--&gt;
## 概述 {#overview}

&lt;!--
### Concept
--&gt;
### 概念 {#concept}

&lt;!--
First paragraph, not very long.
--&gt;
第一段落，不太长。
</code></pre><h4 id=编号列表的处理>编号列表的处理</h4><p>编号列表需要编号的连续性，处理不好的话可能导致输出结果错误。
由于有些列表可能很长，一次性等将整个列表注释掉再翻译也不现实。
推荐采用下面的方式。</p><p>假定英文为：</p><pre tabindex=0><code>1. Prepare something
1. Followed by a long step with code snippets and notes ...
   this is a really long item
1. Another long item ...
   .. continues here
1. Almost done ...
</code></pre><p>本地化处理：</p><pre tabindex=0><code>&lt;!--
1. Prepare something
--&gt;
1. 准备工作，...
   这里每行缩进 3 个空格

&lt;!--
1. Followed by a long step with code snippets and notes ...
   this is a really long item
--&gt;
2. 这里是第二个编号，但需要显式给出数字，不能沿用英文编号。
   缩进内容同上，3 个空格。
   即使有三个反引号的代码段或者短代码，都按 3 个空格缩进。

&lt;!--
1. Another long item ...
   .. continues here
1. Almost done ...
--&gt;
3. 继续列表。

   如果条目有多个段落，也要
   保持缩进对齐以确保排版正确。

4. 列表终于结束
</code></pre><h4 id=frontmatter-的处理>Frontmatter 的处理</h4><p>页面中的 Frontmatter 指的是文件头的两个 <code>---</code> 中间的部分。
对这一部分，解析器有特殊处理，因此不能将英文部分放在前面，中文跟在后面。
需要将二者顺序颠倒。如下所示：</p><pre tabindex=0><code>---
title: 译文标题
type: concept
weight: 30
---

&lt;!--
title: English title
type: concept
reviewers:
  - john
  - doe
weight: 30
--&gt;
</code></pre><p>这里要注意的是：</p><ul><li><code>title</code>、<code>description</code> 的内容要翻译，其他字段一般不必（甚至不可）翻译。</li><li><code>reviewers</code> 部分要删除，不然中文译文会转给英文作者来审阅。</li></ul><h4 id=短代码-shortcode-处理>短代码（shortcode）处理</h4><p>通过 HTML 注释的短代码仍会被运行，因此需要额外小心。建议处理方式：</p><pre tabindex=0><code>{{&lt; note &gt;}}
&lt;!--
English text
--&gt;
中文译文
{{&lt; /note &gt;}}
</code></pre><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 现行风格与之前风格有些不同，这是因为较新的 Hugo 版本已经能够正确处理短代码中的注释段落。
保持注释掉的英文与译文都在短代码内更便于维护。</div><h3 id=译与不译>译与不译</h3><h4 id=资源名称或字段不译>资源名称或字段不译</h4><p>根据英文原文写作风格约定【也在持续修订改进】，对 Kubernetes 中的 API
资源均按其规范中所给的大小写形式书写，例如：英文中会使用 Deployment 而不是
deployment 来表示名为 "Deployment" 的 API 资源类型和对象实例。</p><p>对这类词语，一般不应翻译。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 英文原文在这方面并不严谨，译者或中文译文的评阅者要非常留心。
比如 Secret 资源，很多时候被误写为 secret。
这时在本地化版本中一定不能译为“秘密”，以免与原文的语义不符。</div><h4 id=代码中的注释>代码中的注释</h4><p>一般而言，代码中的注释需要翻译，包括存放在 <code>content/zh-cn/examples/</code>
目录下的清单文件中的注释。</p><h4 id=出站链接>出站链接</h4><p>如果超级链接的目标是 Kubernetes 网站之外的纯英文网页，链接中的内容<strong>可以</strong>不翻译。
例如：</p><pre tabindex=0><code>&lt;!--
Please check [installation caveats](https://acme.com/docs/v1/caveats) ...
--&gt;
请参阅 [installation caveats](https://acme.com/docs/v1/caveats) ...
</code></pre><div class="alert alert-info note callout" role=alert><strong>说明：</strong> 注意，这里的 <code>installation</code> 与 <code>参阅</code> 之间留白，因为解析后属于中英文混排的情况。</div><h3 id=标点符号>标点符号</h3><ol><li><p>译文中标点符号要使用全角字符，除非以下两种情况：</p><ul><li>标点符号是英文命令的一部分；</li><li>标点符号是 Markdown 语法的一部分。</li></ul></li><li><p>英文排比句式中采用的逗号，在译文中要使用顿号代替，以便符合中文书写习惯。</p></li></ol><h2 id=更新译文>更新译文</h2><p>由于整个文档站点会随着 Kubernetes 项目的开发进展而演化，英文版本的网站内容会不断更新。
鉴于中文站点的基本翻译工作在 1.19 版本已完成，
从 1.20 版本开始本地化的工作会集中在追踪英文内容变化上。</p><p>为确保准确跟踪中文化版本与英文版本之间的差异，中文内容的 PR 所包含的每个页面都必须是“最新的”。
这里的“最新”指的是对应的英文页面中的更改已全部同步到中文页面。
如果某中文 PR 中包含对 <code>content/zh-cn/docs/foo/bar.md</code> 的更改，且文件 <code>bar.md</code>
的上次更改日期是 <code>2020-10-01 01:02:03 UTC</code>，对应 GIT 标签 <code>abcd1234</code>，
则 <code>bar.md</code> 应包含自 <code>abcd1234</code> 以来 <code>content/en/docs/foo/bar.md</code> 的所有变更，
否则视此 PR 为不完整 PR，会破坏我们对上游变更的跟踪。</p><p>这一要求适用于所有更改，包括拼写错误、格式更正、链接修订等等。要查看文件
<code>bar.md</code> 上次提交以来发生的所有变更，可使用：</p><pre tabindex=0><code>./scripts/lsync.sh content/zh-cn/docs/foo/bar.md
</code></pre><h2 id=关于链接>关于链接</h2><h3 id=链接锚点>链接锚点</h3><p>英文 Markdown 中的各级标题会自动生成锚点，以便从其他页面中链接。
在译为中文后，相应的链接必然会失效。为防止这类问题，
建议在翻译各级标题时，使用英文方式显式给出链接锚点。例如：</p><pre tabindex=0><code>&lt;!--
### Create a Pod
--&gt;
### 创建 Pod   {#create-a-pod}
</code></pre><p>此类问题对于概念部分的页面最为突出，需要格外注意。</p><h3 id=中文链接目标>中文链接目标</h3><p>由于大部分页面已经完成中文本地化，这意味着很多链接可以使用中文版本作为目标。
例如：</p><pre tabindex=0><code>&lt;!--
For more information, please check [volumes](/docs/concepts/storage/)
...
--&gt;
更多的信息可参考[卷](/zh-cn/docs/concepts/storage/)页面。
</code></pre><p>如果对应目标页面尚未本地化，建议登记一个 Issue。</p><div class="alert alert-info note callout" role=alert><strong>说明：</strong><p>Website 的仓库中 <code>scripts/linkchecker.py</code> 是一个工具，可用来检查页面中的链接。
例如，下面的命令检查中文本地化目录 <code>/content/zh-cn/docs/concepts/containers/</code>
中所有 Markdown 文件中的链接合法性：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>./scripts/linkchecker.py -l zh-cn -f /docs/concepts/containers/**/*.md
</span></span></code></pre></div></div><h2 id=排版格式>排版格式</h2><p>以下为译文 Markdown 排版格式要求：</p><ul><li><p>中英文之间留一个空格</p><ul><li>这里的“英文”包括以英文呈现的超级链接</li><li>这里的中文、英文都<strong>不包括</strong>标点符号</li></ul></li><li><p>译文 Markdown 中不要使用长行，应适当断行。</p><ul><li>可根据需要在 80-120 列断行</li><li>最好结合句子的边界断行，即一句话在一行，不必留几个字转到下一行</li><li>不要在两个中文字符中间断行，因为这样会造成中文字符中间显示一个多余空格，
如果句子太长，可以从中文与非中文符号之间断行</li><li>超级链接文字一般较长，可独立成行</li></ul></li><li><p>英文原文中可能通过 <code>_text_</code> 或者 <code>*text*</code> 的形式用斜体突出部分字句。
考虑到中文斜体字非常不美观，在译文中应改为 <code>**译文**</code> 形式，
即用双引号语法生成加粗字句，实现突出显示效果。</p></li></ul><div class="alert alert-danger warning callout" role=alert><strong>警告：</strong> 我们注意到有些贡献者可能使用了某种自动化工具，在 Markdown 英文原文中自动添加空格。
虽然这些工具可一定程度提高效率，仍然需要提请作者注意，某些工具所作的转换可能是不对的，
例如将 <code>foo=bar</code> 转换为 <code>foo = bar</code>、将 <code>），另一些文字</code> 转换为 <code>） ，另一些文字</code> 等等，
甚至将超级链接中的半角井号（<code>#</code>）转换为全角，导致链接失效。</div><h2 id=特殊词汇>特殊词汇</h2><p>英文中 "you" 翻译成 "你"，不必翻译为 "您" 以表现尊敬或谦卑。</p><h3 id=术语拼写>术语拼写</h3><p>按中文译文习惯，尽量不要在中文译文中使用首字母小写的拼写。例如：</p><pre tabindex=0><code>列举所有 pods，查看其创建时间 ...       [No]
列举所有 Pod，查看其创建时间 ...        [Yes]
</code></pre><p><strong>第一次</strong>使用首字母缩写时，应标注其全称和中文译文。例如：</p><pre tabindex=0><code>你可以创建一个 Pod 干扰预算（Pod Disruption Budget，PDB）来解决这一问题。
所谓 PDB 实际上是 ...
</code></pre><p>对于某些特定于 Kubernetes 语境的术语，也应在<strong>第一次</strong>出现在页面中时给出其英文原文，
以便读者对照阅读。例如：</p><pre tabindex=0><code>镜像策略（Image Policy）用来控制集群可拉取的镜像仓库（Image Registry）源。
</code></pre><h3 id=术语对照>术语对照</h3><p>本节列举常见术语的统一译法。除极个别情况，对于专业术语应使用本节所列举的译法：</p><ul><li>API Server，API 服务器</li><li>GA (general availability)，正式发布</li><li>addons，插件</li><li>admission controller，准入控制器</li><li>affinity，亲和性</li><li>annotation，注解</li><li>anti-affinity，反亲和性</li><li>attach，挂接</li><li>authenticate，身份验证</li><li>authorize，授权或鉴权<ul><li>将权限授予某主体时，译为“授权”</li><li>根据某些参数/条件来确定具有哪些权限时，译为“鉴权”</li></ul></li><li>authorizer，鉴权器</li><li>autoscale，自动扩缩容</li><li>bearer token，持有者令牌</li><li>capabilities<ul><li>当泛指某主体执行某操作的能力时，可直译为“能力”</li><li>当特指 Linux 操作系统上的<a href=http://man7.org/linux/man-pages/man7/capabilities.7.html>权限控制</a>机制时，译为“权能字”</li></ul></li><li>certificate authority，证书机构</li><li>certificate，证书</li><li>claim，申领</li><li>cloud provider<ul><li>当用来指代下层云服务的提供厂商时，译为“云服务供应商”</li><li>当特指 Kubernetes 中对不同云平台的支持时，可酌情译为“云驱动”</li></ul></li><li>cluster，集群</li><li>condition<ul><li>大多数上下文中，可译为“条件”</li><li>在讨论 Kubernetes 资源的 condition 时，应译为“状况”</li></ul></li><li>control loop，控制回路</li><li>control plane，控制平面，或控制面</li><li>controller，控制器</li><li>controller manager，控制器管理器</li><li>credential，登录凭据，凭据</li><li>custom，定制，或自定义</li><li>daemon，守护进程</li><li>dashboard，仪表板</li><li>dependent，附属或附属者</li><li>deprecated，已弃用的</li><li>deprecation，弃用</li><li>desired，预期的</li><li>desired state，预期状态</li><li>detach，解除挂接</li><li>distribution，发行版本</li><li>disruption，干扰（请勿译为“中断”）</li><li>drain，腾空</li><li>endpoint，端点</li><li>egress，出站</li><li>evict，驱逐</li><li>eviction，驱逐</li><li>feature gate，特性门控</li><li>federation，联邦</li><li>flags，命令行参数，参数</li><li>grace period，宽限期限</li><li>graceful termination，体面终止</li><li>hairpin，发夹</li><li>hash，哈希</li><li>headless service，无头服务</li><li>healthcheck，健康检查</li><li>hook，回调</li><li>host，主机，宿主机</li><li>hosting，托管</li><li>idempotent，幂等的</li><li>image，镜像</li><li>image registry，镜像仓库</li><li>ingress，入站</li><li>init container，Init 容器</li><li>key<ul><li>在加密解密、安全认证上下文中，译为密钥</li><li>在配置文件、数据结构上下文中，译为主键，或键</li></ul></li><li>label，标签</li><li>label selector，标签选择算符</li><li>lifecycle，生命周期</li><li>limit，限制，限值</li><li>liveness probe，存活态探针</li><li>load balance，负载均衡</li><li>load balancer，负载均衡器</li><li>log flush，清刷日志数据</li><li>loopback，本地回路</li><li>manifest，清单，清单文件</li><li>master node，主控节点</li><li>metric<ul><li>用来指代被测量的数据源时，译为指标</li><li>用来指代测量观测结果时，译为度量值</li></ul></li><li>mount，挂载</li><li>namespace，名字空间，命名空间</li><li>orphans，孤立或孤立的</li><li>override，覆写</li><li>owner，所有者，属主</li><li>pending，悬决的</li><li>persistent volume，持久卷</li><li>persistent volume claim，持久卷申领</li><li>pipeline，流水线</li><li>prerequisites，依赖，前提条件（根据上下文判断）</li><li>priority class，优先级类</li><li>probe，探针</li><li>provision，供应</li><li>pull，拉取</li><li>push，推送</li><li>quota，配额</li><li>readiness probe，就绪态探针</li><li>replica，副本</li><li>repo，仓库</li><li>repository，仓库</li><li>revision，修订版本</li><li>role，角色</li><li>role binding，角色绑定</li><li>rolling update，滚动更新</li><li>rollout，上线</li><li>rotate，轮换</li><li>round robin，轮转</li><li>runtime，运行时</li><li>scale in/out，横向缩容/扩容</li><li>scale up/down，纵向扩容/缩容</li><li>scale<ul><li>做动词用时，译为“扩缩”，或者“改变...的规模”</li><li>做名词用时，译为“规模”</li></ul></li><li>scheduler，调度器</li><li>service，服务</li><li>service account，服务账号</li><li>service account token，服务账号令牌</li><li>service discovery，服务发现</li><li>service mesh，服务网格</li><li>session，会话</li><li>sidecar，边车</li><li>skew，偏移</li><li>spec，规约</li><li>specification，规约</li><li>startup probe，启动探针</li><li>stateless，无状态的</li><li>static pod，静态 Pod</li><li>stderr，标准错误输出</li><li>stdin，标准输入</li><li>stdout，标准输出</li><li>storage class，存储类</li><li>taint，污点</li><li>threshold，阈值</li><li>toleration，容忍度</li><li>topology，拓扑</li><li>topology spread constraint，拓扑分布约束</li><li>traffic，流量<ul><li>在某些上下文中，可以根据情况译为“服务请求”，“服务响应”</li></ul></li><li>unmount，卸载</li><li>use case，用例，使用场景</li><li>volume，卷</li><li>worker node，工作节点</li><li>workload，工作负载</li></ul></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/zh-cn/docs/home/>主页</a>
<a class=text-white href=/zh-cn/blog/>博客</a>
<a class=text-white href=/zh-cn/training/>培训</a>
<a class=text-white href=/zh-cn/partners/>合作伙伴</a>
<a class=text-white href=/zh-cn/community/>社区</a>
<a class=text-white href=/zh-cn/case-studies/>案例分析</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 The Kubernetes 作者 | 文档发布基于 <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a> 授权许可</small><br><small class=text-white>Copyright &copy; 2023 Linux 基金会&reg;。保留所有权利。Linux 基金会已注册并使用商标。如需了解 Linux 基金会的商标列表，请访问<a href=https://www.linuxfoundation.org/trademark-usage class=light-text>商标使用页面</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>