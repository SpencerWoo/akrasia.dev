<!doctype html><html lang=zh-cn class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/reference/kubernetes-api/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/reference/kubernetes-api/><link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/reference/kubernetes-api/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/reference/kubernetes-api/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Kubernetes API | Kubernetes</title><meta property="og:title" content="Kubernetes API"><meta property="og:description" content="生产级别的容器编排系统"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Kubernetes API"><meta itemprop=description content="生产级别的容器编排系统"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes API"><meta name=twitter:description content="生产级别的容器编排系统"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="Kubernetes API 是通过 RESTful 接口提供 Kubernetes 功能服务并负责集群状态存储的应用程序。
Kubernetes 资源和&#34;意向记录&#34;都是作为 API 对象储存的，并可以通过调用 RESTful 风格的 API 进行修改。 API 允许以声明方式管理配置。 用户可以直接和 Kubernetes API 交互，也可以通过 kubectl 这样的工具进行交互。 核心的 Kubernetes API 是很灵活的，可以扩展以支持定制资源。"><meta property="og:description" content="Kubernetes API 是通过 RESTful 接口提供 Kubernetes 功能服务并负责集群状态存储的应用程序。
Kubernetes 资源和&#34;意向记录&#34;都是作为 API 对象储存的，并可以通过调用 RESTful 风格的 API 进行修改。 API 允许以声明方式管理配置。 用户可以直接和 Kubernetes API 交互，也可以通过 kubectl 这样的工具进行交互。 核心的 Kubernetes API 是很灵活的，可以扩展以支持定制资源。"><meta name=twitter:description content="Kubernetes API 是通过 RESTful 接口提供 Kubernetes 功能服务并负责集群状态存储的应用程序。
Kubernetes 资源和&#34;意向记录&#34;都是作为 API 对象储存的，并可以通过调用 RESTful 风格的 API 进行修改。 API 允许以声明方式管理配置。 用户可以直接和 Kubernetes API 交互，也可以通过 kubectl 这样的工具进行交互。 核心的 Kubernetes API 是很灵活的，可以扩展以支持定制资源。"><meta property="og:url" content="https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/"><meta property="og:title" content="Kubernetes API"><meta name=twitter:title content="Kubernetes API"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/zh-cn/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/zh-cn/docs/>文档</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/blog/>Kubernetes 博客</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/training/>培训</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/partners/>合作伙伴</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/community/>社区</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/case-studies/>案例分析</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>版本列表</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh-cn/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/zh-cn/docs/reference/kubernetes-api/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/zh-cn/docs/reference/kubernetes-api/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/zh-cn/docs/reference/kubernetes-api/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/zh-cn/docs/reference/kubernetes-api/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文 (Chinese)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/reference/kubernetes-api/>English</a>
<a class=dropdown-item href=/fr/docs/reference/kubernetes-api/>Français (French)</a>
<a class=dropdown-item href=/de/docs/reference/kubernetes-api/>Deutsch (German)</a>
<a class=dropdown-item href=/es/docs/reference/kubernetes-api/>Español (Spanish)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>这是本节的多页打印视图。
<a href=# onclick="return print(),!1">点击此处打印</a>.</p><p><a href=/zh-cn/docs/reference/kubernetes-api/>返回本页常规视图</a>.</p></div><h1 class=title>Kubernetes API</h1><ul><li>1: <a href=#pg-5037aed176781855678f89b4c21626ac>工作负载资源</a></li><ul><li>1.1: <a href=#pg-9cfc6ce767da10486ac184e3cf34abd4>Pod</a></li><li>1.2: <a href=#pg-af1995b54121f96a81a8c51fecc4f6f7>PodTemplate</a></li><li>1.3: <a href=#pg-888377326f4cd6e3d527f8dbb5ba81a0>ReplicationController</a></li><li>1.4: <a href=#pg-803e8dd9be7ea099609d5c9af16d670f>ReplicaSet</a></li><li>1.5: <a href=#pg-2c16e10bbf4113c1d2bb657311819771>Deployment</a></li><li>1.6: <a href=#pg-eb1ab4c03629d6617cc006c8c38b7424>StatefulSet</a></li><li>1.7: <a href=#pg-203ad280adf3207ae06a933d6a78e464>ControllerRevision</a></li><li>1.8: <a href=#pg-4efed40f98f8b85058d5aa64c1b40b99>DaemonSet</a></li><li>1.9: <a href=#pg-83b80f201ab5dccbbde519b7edc641ea>Job</a></li><li>1.10: <a href=#pg-661762555507aff4c6bde1090179871f>CronJob</a></li><li>1.11: <a href=#pg-dc6f15a65358762dd1015f9f080829a0>HorizontalPodAutoscaler</a></li><li>1.12: <a href=#pg-6f6ef06d1cb2905e654485f2aeb99500>HorizontalPodAutoscaler</a></li><li>1.13: <a href=#pg-e449828c2ccbcf4be4605daf395a9109>HorizontalPodAutoscaler v2beta2</a></li><li>1.14: <a href=#pg-707d238ce24c4c3026aa7ef29968e3f7>PriorityClass</a></li></ul><li>2: <a href=#pg-54e55c546ba2153921dc8b78bafd699e>Service 资源</a></li><ul><li>2.1: <a href=#pg-106baf3be98dce0a42ad9ea7df796679>Service</a></li><li>2.2: <a href=#pg-3f9a97d28a4b596c8d33d230e2b3dd6e>Endpoints</a></li><li>2.3: <a href=#pg-c9e5f15a68e325ce17ea168bcabd33e5>EndpointSlice</a></li><li>2.4: <a href=#pg-734ceb8f9e59bff318dc526882eb5dcd>Ingress</a></li><li>2.5: <a href=#pg-3420962b87b77851810c3aa8baad9578>IngressClass</a></li></ul><li>3: <a href=#pg-ef67581d88f69ea15be11159c033f33b>配置和存储资源</a></li><ul><li>3.1: <a href=#pg-109fa09dec8516f460dc1668c66df57c>ConfigMap</a></li><li>3.2: <a href=#pg-7d0599aac497db82ee78fddbc549c01d>Secret</a></li><li>3.3: <a href=#pg-21d04f929a407332d3e23a09718e07f6>Volume</a></li><li>3.4: <a href=#pg-b0df9d7d300647dc0b5ebef6492f379c>PersistentVolumeClaim</a></li><li>3.5: <a href=#pg-876f3f471c6ce2412361e722f45723ce>PersistentVolume</a></li><li>3.6: <a href=#pg-6594b40b9d2889c78aa24c990663c227>StorageClass</a></li><li>3.7: <a href=#pg-4bfa6511c37446f7b8f7ff7643983981>VolumeAttachment</a></li><li>3.8: <a href=#pg-e9fc1d0635b78d89359345fdb7789971>CSIDriver</a></li><li>3.9: <a href=#pg-e54ab698c244de7268acca37e4e6e97e>CSINode</a></li><li>3.10: <a href=#pg-ef7970bd9ecd532052dd386f88184c25>CSIStorageCapacity</a></li></ul><li>4: <a href=#pg-6a5e06a0dc59d104938425c049f2f29b>身份认证资源</a></li><ul><li>4.1: <a href=#pg-6449724e786cbecd0cecfaa5a486e64a>ServiceAccount</a></li><li>4.2: <a href=#pg-71bfa3e84f86650d855ced711edc8b41>TokenRequest</a></li><li>4.3: <a href=#pg-4140627880f82c11a5e16b3c4043cfdb>TokenReview</a></li><li>4.4: <a href=#pg-f9925c52e71befd56d9a92b04add148d>CertificateSigningRequest</a></li></ul><li>5: <a href=#pg-5362c9a7583eca653d4a705ba4e460ff>鉴权资源</a></li><ul><li>5.1: <a href=#pg-253b0f85df0c0013b6476358e72b05f6>LocalSubjectAccessReview</a></li><li>5.2: <a href=#pg-3798a3911313b78a780825aa1a00827d>SelfSubjectAccessReview</a></li><li>5.3: <a href=#pg-ea1fed61553ac63709679a375b1ec442>SelfSubjectRulesReview</a></li><li>5.4: <a href=#pg-5a4c4b387f450c2b81962bec144749fc>SubjectAccessReview</a></li><li>5.5: <a href=#pg-4701a95c93d869e797bb11d9fc883748>ClusterRole</a></li><li>5.6: <a href=#pg-c05906bc1a365bcc4d4d92b4b3f4f192>ClusterRoleBinding</a></li><li>5.7: <a href=#pg-f0f12b8c869ff195f7b0b0388a88e76c>Role</a></li><li>5.8: <a href=#pg-337599e35c879ffc4ba442b2e98758e1>RoleBinding</a></li></ul><li>6: <a href=#pg-d8857a338d5c6dc04752576100c946d9>策略资源</a></li><ul><li>6.1: <a href=#pg-0831e36c3a644ba6bb53595de785976d>LimitRange</a></li><li>6.2: <a href=#pg-10c2069205c27f566d7476dc73169165>ResourceQuota</a></li><li>6.3: <a href=#pg-1e1d84ecddba19848ff49b8f10e5b3bc>NetworkPolicy</a></li><li>6.4: <a href=#pg-2e75f782721e263954f44aea4709a9d5>PodDisruptionBudget</a></li></ul><li>7: <a href=#pg-020d8f776dea9802131630c210dc4c0a>扩展资源</a></li><ul><li>7.1: <a href=#pg-0a375cb95d28aa4cec341c561ccf6e83>CustomResourceDefinition</a></li><li>7.2: <a href=#pg-ad24d230da8fe5a5c54bc6bff4169d24>MutatingWebhookConfiguration</a></li><li>7.3: <a href=#pg-ad9945bc57d13986240173bdc1448f1b>ValidatingWebhookConfiguration</a></li></ul><li>8: <a href=#pg-692a25c0f0c88fc9b8c1e82cd0b0ee9e>集群资源</a></li><ul><li>8.1: <a href=#pg-3ca7e8e10d76640701a022f9bac5e958>Node</a></li><li>8.2: <a href=#pg-a96e40f7c68d5bb9604dcaa7f5b69d0b>Namespace</a></li><li>8.3: <a href=#pg-e034843297b0ae20140d70f0d6df2378>Event</a></li><li>8.4: <a href=#pg-311b31c9ea6c6923cab8e14e36e62fbe>APIService</a></li><li>8.5: <a href=#pg-7ac923a0ef2a5ce2605b428b72f9e5eb>Lease</a></li><li>8.6: <a href=#pg-d1a53525d01a18b0dc630fcbc2411a03>RuntimeClass</a></li><li>8.7: <a href=#pg-cc77aabf4911a7fe383b866580449685>FlowSchema v1beta2</a></li><li>8.8: <a href=#pg-932c37c6ce5aabcbced985d8caa835fe>PriorityLevelConfiguration v1beta2</a></li><li>8.9: <a href=#pg-76c59f2971e8baa82f76c4bea291baa5>Binding</a></li><li>8.10: <a href=#pg-4fd67a09c76a0614445c034348adc0a7>ComponentStatus</a></li><li>8.11: <a href=#pg-4f0da62de12505b9423be81272c12759>ClusterCIDR v1alpha1</a></li></ul><li>9: <a href=#pg-0a260d85a5da2504fce8c56b77c45024>公共定义</a></li><ul><li>9.1: <a href=#pg-9eba5edb3c1d93f9a74827e3a71014dd>DeleteOptions</a></li><li>9.2: <a href=#pg-26234b02eb0546f7a178da9c373cb197>LabelSelector</a></li><li>9.3: <a href=#pg-dbe3b11fb1cfde0aac65f945d84b11d6>ListMeta</a></li><li>9.4: <a href=#pg-026383e0b43a68744a8b27a82bb4926d>LocalObjectReference</a></li><li>9.5: <a href=#pg-deb2d19043a047688f72480af2f1b1e0>NodeSelectorRequirement</a></li><li>9.6: <a href=#pg-47b6e1916665dd55bbeb2b33847653ed>ObjectFieldSelector</a></li><li>9.7: <a href=#pg-77f040b7d1c00efcedc11902ed78fc08>ObjectMeta</a></li><li>9.8: <a href=#pg-cf854f859540243f660c2798d641498c>ObjectReference</a></li><li>9.9: <a href=#pg-1997570a6710a3eaf78270f2e2535167>Patch</a></li><li>9.10: <a href=#pg-51b0e3fdb6e89030bd9e49dbb990918c>Quantity</a></li><li>9.11: <a href=#pg-406fd6938a5a3283ee7a816347603389>ResourceFieldSelector</a></li><li>9.12: <a href=#pg-b86f72d0a9c9625228b55ff79c154b63>Status</a></li><li>9.13: <a href=#pg-ad5a39cd0d4233c0afb2a1daf17b95b3>TypedLocalObjectReference</a></li></ul><li>10: <a href=#pg-6fbe4a9bf41cfee30909689bd978c45f>常用参数</a></li></ul><div class=content><p>Kubernetes API 是通过 RESTful 接口提供 Kubernetes 功能服务并负责集群状态存储的应用程序。</p><p>Kubernetes 资源和"意向记录"都是作为 API 对象储存的，并可以通过调用 RESTful 风格的 API 进行修改。
API 允许以声明方式管理配置。
用户可以直接和 Kubernetes API 交互，也可以通过 <code>kubectl</code> 这样的工具进行交互。
核心的 Kubernetes API 是很灵活的，可以扩展以支持定制资源。</p></div></div><div class=td-content style=page-break-before:always><h1 id=pg-5037aed176781855678f89b4c21626ac>1 - 工作负载资源</h1></div><div class=td-content><h1 id=pg-9cfc6ce767da10486ac184e3cf34abd4>1.1 - Pod</h1><div class=lead>Pod 是可以在主机上运行的容器的集合。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=Pod>Pod</h2><p>Pod 是可以在主机上运行的容器的集合。此资源由客户端创建并调度到主机上。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Pod</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodSpec>PodSpec</a>)</p><p>对 Pod 预期行为的规约。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodStatus>PodStatus</a>)</p><p>最近观察到的 Pod 状态。这些数据可能不是最新的。由系统填充。只读。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=PodSpec>PodSpec</h2><p>PodSpec 是对 Pod 的描述。</p><hr><h3 id=containers>容器</h3><ul><li><p><strong>containers</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Container>Container</a>)，必需</p><p><strong>补丁策略：基于 <code>name</code> 键合并</strong></p><p>属于 Pod 的容器列表。当前无法添加或删除容器。Pod 中必须至少有一个容器。无法更新。</p></li></ul><ul><li><p><strong>initContainers</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Container>Container</a>)</p><p><strong>补丁策略：基于 <code>name</code> 键合并</strong></p><p>属于 Pod 的 Init 容器列表。Init 容器在容器启动之前按顺序执行。
如果任何一个 Init 容器发生故障，则认为该 Pod 失败，并根据其 restartPolicy 处理。
Init 容器或普通容器的名称在所有容器中必须是唯一的。
Init 容器不可以有生命周期操作、就绪态探针、存活态探针或启动探针。
在调度过程中会考虑 Init 容器的资源需求，方法是查找每种资源类型的最高请求/限制，
然后使用该值的最大值或正常容器的资源请求的总和。
对资源限制以类似的方式应用于 Init 容器。当前无法添加或删除 Init 容器。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/init-containers/>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/init-containers/</a></p></li></ul><ul><li><p><strong>ephemeralContainers</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#EphemeralContainer>EphemeralContainer</a>)</p><p><strong>补丁策略：基于 <code>name</code> 键合并</strong></p><p>在此 Pod 中运行的临时容器列表。临时容器可以在现有的 Pod 中运行，以执行用户发起的操作，例如调试。
此列表在创建 Pod 时不能指定，也不能通过更新 Pod 规约来修改。
要将临时容器添加到现有 Pod，请使用 Pod 的 <code>ephemeralcontainers</code> 子资源。</p></li></ul><ul><li><p><strong>imagePullSecrets</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p><strong>补丁策略：基于 <code>name</code> 键合并</strong></p><p>imagePullSecrets 是对同一名字空间中 Secret 的引用的列表，用于拉取此 Pod 规约中使用的任何镜像，此字段可选。
如果指定，这些 Secret 将被传递给各个镜像拉取组件（Puller）实现供其使用。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod>https://kubernetes.io/zh-cn/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod</a></p></li></ul><ul><li><p><strong>enableServiceLinks</strong> (boolean)</p><p>enableServiceLinks 指示是否应将有关服务的信息注入到 Pod 的环境变量中，服务连接的语法与
Docker links 的语法相匹配。可选。默认为 true。</p></li></ul><ul><li><p><strong>os</strong> (PodOS)</p><p>指定 Pod 中容器的操作系统。如果设置了此属性，则某些 Pod 和容器字段会受到限制。</p><p>如果 os 字段设置为 <code>linux</code>，则必须不能设置以下字段：</p><ul><li><code>securityContext.windowsOptions</code></li></ul><p>如果 os 字段设置为 <code>windows</code>，则必须不能设置以下字段：</p><ul><li><code>spec.hostPID</code></li><li><code>spec.hostIPC</code></li><li><code>spec.hostUsers</code></li><li><code>spec.securityContext.seLinuxOptions</code></li><li><code>spec.securityContext.seccompProfile</code></li><li><code>spec.securityContext.fsGroup</code></li><li><code>spec.securityContext.fsGroupChangePolicy</code></li><li><code>spec.securityContext.sysctls</code></li><li><code>spec.shareProcessNamespace</code></li><li><code>spec.securityContext.runAsUser</code></li><li><code>spec.securityContext.runAsGroup</code></li><li><code>spec.securityContext.supplementalGroups</code></li><li><code>spec.containers[*].securityContext.seLinuxOptions</code></li><li><code>spec.containers[*].securityContext.seccompProfile</code></li><li><code>spec.containers[*].securityContext.capabilities</code></li><li><code>spec.containers[*].securityContext.readOnlyRootFilesystem</code></li><li><code>spec.containers[*].securityContext.privileged</code></li><li><code>spec.containers[*].securityContext.allowPrivilegeEscalation</code></li><li><code>spec.containers[*].securityContext.procMount</code></li><li><code>spec.containers[*].securityContext.runAsUser</code></li><li><code>spec.containers[*].securityContext.runAsGroup</code></li></ul><p><a name=PodOS></a></p><p><strong>PodOS 定义一个 Pod 的操作系统参数。</strong></p><ul><li><p><strong>os.name</strong> (string)，必需</p><p>name 是操作系统的名称。当前支持的值是 <code>linux</code> 和 <code>windows</code>。
将来可能会定义附加值，并且可以是以下之一：
<a href=https://github.com/opencontainers/runtime-spec/blob/master/config.md#platform-specific-configuration>https://github.com/opencontainers/runtime-spec/blob/master/config.md#platform-specific-configuration</a>
客户端应该期望处理附加值并将此字段无法识别时视其为 <code>os: null</code>。</p></li></ul></li></ul><h3 id=卷>卷</h3><ul><li><p><strong>volumes</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume/#Volume>Volume</a>)</p><p><strong>补丁策略：retainKeys，基于键 <code>name</code> 合并</strong></p><p>可以由属于 Pod 的容器挂载的卷列表。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes</a></p></li></ul><h3 id=调度>调度</h3><ul><li><p><strong>nodeSelector</strong> (map[string]string)</p><p>nodeSelector 是一个选择算符，这些算符必须取值为 true 才能认为 Pod 适合在节点上运行。
选择算符必须与节点的标签匹配，以便在该节点上调度 Pod。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/assign-pod-node/>https://kubernetes.io/zh-cn/docs/concepts/configuration/assign-pod-node/</a></p></li></ul><ul><li><p><strong>nodeName</strong> (string)</p><p>nodeName 是将此 Pod 调度到特定节点的请求。
如果字段值不为空，调度器只是直接将这个 Pod 调度到所指定节点上，假设节点符合资源要求。</p></li></ul><ul><li><p><strong>affinity</strong> (Affinity)</p><p>如果指定了，则作为 Pod 的调度约束。</p><p><a name=Affinity></a>
<strong>Affinity 是一组亲和性调度规则。</strong></p><ul><li><p><strong>affinity.nodeAffinity</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#NodeAffinity>NodeAffinity</a>)</p><p>描述 Pod 的节点亲和性调度规则。</p></li><li><p><strong>affinity.podAffinity</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAffinity>PodAffinity</a>)</p><p>描述 Pod 亲和性调度规则（例如，将此 Pod 与其他一些 Pod 放在同一节点、区域等）。</p></li><li><p><strong>affinity.podAntiAffinity</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAntiAffinity>PodAntiAffinity</a>)</p><p>描述 Pod 反亲和性调度规则（例如，避免将此 Pod 与其他一些 Pod 放在相同的节点、区域等）。</p></li></ul></li></ul><ul><li><p><strong>tolerations</strong> ([]Toleration)</p><p>如果设置了此字段，则作为 Pod 的容忍度。</p><p><a name=Toleration></a>
<strong>这个 Toleration 所附加到的 Pod 能够容忍任何使用匹配运算符 <code>&lt;operator></code> 匹配三元组 <code>&lt;key,value,effect></code> 所得到的污点。</strong></p><ul><li><p><strong>tolerations.key</strong> (string)</p><p>key 是容忍度所适用的污点的键名。此字段为空意味着匹配所有的污点键。
如果 key 为空，则 operator 必须为 <code>Exists</code>；这种组合意味着匹配所有值和所有键。</p></li></ul><ul><li><p><strong>tolerations.operator</strong> (string)</p><p>operator 表示 key 与 value 之间的关系。有效的 operator 取值是 <code>Exists</code> 和 <code>Equal</code>。默认为 <code>Equal</code>。
<code>Exists</code> 相当于 value 为某种通配符，因此 Pod 可以容忍特定类别的所有污点。</p></li></ul><ul><li><p><strong>tolerations.value</strong> (string)</p><p>value 是容忍度所匹配的污点值。如果 operator 为 <code>Exists</code>，则此 value 值应该为空，
否则 value 值应该是一个正常的字符串。</p></li></ul><ul><li><p><strong>tolerations.effect</strong> (string)</p><p>effect 指示要匹配的污点效果。空值意味著匹配所有污点效果。如果要设置此字段，允许的值为
<code>NoSchedule</code>、<code>PreferNoSchedule</code> 和 <code>NoExecute</code> 之一。</p></li></ul><ul><li><p><strong>tolerations.tolerationSeconds</strong> (int64)</p><p>tolerationSeconds 表示容忍度（effect 必须是 <code>NoExecute</code>，否则此字段被忽略）容忍污点的时间长度。
默认情况下，此字段未被设置，这意味着会一直能够容忍对应污点（不会发生驱逐操作）。
零值和负值会被系统当做 0 值处理（立即触发驱逐）。</p></li></ul></li></ul><ul><li><p><strong>schedulerName</strong> (string)</p><p>如果设置了此字段，则 Pod 将由指定的调度器调度。如果未指定，则使用默认调度器来调度 Pod。</p></li></ul><ul><li><p><strong>runtimeClassName</strong> (string)</p><p>runtimeClassName 引用 <code>node.k8s.io</code> 组中的一个 RuntimeClass 对象，该 RuntimeClass 将被用来运行这个 Pod。
如果没有 RuntimeClass 资源与所设置的类匹配，则 Pod 将不会运行。
如果此字段未设置或为空，将使用 "旧版" RuntimeClass。
"旧版" RuntimeClass 可以视作一个隐式的运行时类，其定义为空，会使用默认运行时处理程序。
更多信息：
<a href=https://git.k8s.io/enhancements/keps/sig-node/585-runtime-class>https://git.k8s.io/enhancements/keps/sig-node/585-runtime-class</a></p></li></ul><ul><li><p><strong>priorityClassName</strong> (string)</p><p>如果设置了此字段，则用来标明 Pod 的优先级。
<code>"system-node-critical"</code> 和 <code>"system-cluster-critical"</code> 是两个特殊关键字，
分别用来表示两个最高优先级，前者优先级更高一些。
任何其他名称都必须通过创建具有该名称的 PriorityClass 对象来定义。
如果未指定此字段，则 Pod 优先级将为默认值。如果没有默认值，则为零。</p></li></ul><ul><li><p><strong>priority</strong> (int32)</p><p>优先级值。各种系统组件使用该字段来确定 Pod 的优先级。当启用 Priority 准入控制器时，
该控制器会阻止用户设置此字段。准入控制器基于 priorityClassName 设置来填充此字段。
字段值越高，优先级越高。</p></li></ul><ul><li><p><strong>preemptionPolicy</strong> (string)</p><p>preemptionPolicy 是用来抢占优先级较低的 Pod 的策略。取值为 <code>"Never"</code>、<code>"PreemptLowerPriority"</code> 之一。
如果未设置，则默认为 <code>"PreemptLowerPriority"</code>。</p></li></ul><ul><li><p><strong>topologySpreadConstraints</strong> ([]TopologySpreadConstraint)</p><p><strong>补丁策略：基于 <code>topologyKey</code> 键合并</strong></p><p><strong>映射：<code>topologyKey, whenUnsatisfiable</code> 键组合的唯一值 將在合并期间保留</strong></p><p>TopologySpreadConstraints 描述一组 Pod 应该如何跨拓扑域来分布。调度器将以遵从此约束的方式来调度 Pod。
所有 topologySpreadConstraints 条目会通过逻辑与操作进行组合。</p><p><a name=TopologySpreadConstraint></a>
<strong>TopologySpreadConstraint 指定如何在规定的拓扑下分布匹配的 Pod。</strong></p><ul><li><p><strong>topologySpreadConstraints.maxSkew</strong> (int32)，必需</p><p>maxSkew 描述 Pod 可能分布不均衡的程度。当 <code>whenUnsatisfiable=DoNotSchedule</code> 时，
此字段值是目标拓扑中匹配的 Pod 数量与全局最小值之间的最大允许差值。
全局最小值是候选域中匹配 Pod 的最小数量，如果候选域的数量小于 <code>minDomains</code>，则为零。
例如，在一个包含三个可用区的集群中，maxSkew 设置为 1，具有相同 <code>labelSelector</code> 的 Pod 分布为 2/2/1：
在这种情况下，全局最小值为 1。</p><pre tabindex=0><code>| zone1 | zone2 | zone3 |
| PP    | PP    |  P    |
</code></pre><ul><li>如果 maxSkew 为 1，传入的 Pod 只能调度到 "zone3"，变成 2/2/2；
将其调度到 "zone1"（"zone2"）将使"zone1"（"zone2"）上的实际偏差（Actual Skew）为 3-1，进而违反
maxSkew 限制（1）。</li><li>如果 maxSkew 为 2，则可以将传入的 Pod 调度到任何区域。</li></ul><p>当 <code>whenUnsatisfiable=ScheduleAnyway</code> 时，此字段被用来给满足此约束的拓扑域更高的优先级。</p><p>此字段是一个必填字段。默认值为 1，不允许为 0。</p></li></ul><ul><li><p><strong>topologySpreadConstraints.topologyKey</strong> (string)，必需</p><p>topologyKey 是节点标签的键名。如果节点的标签中包含此键名且键值亦相同，则被认为在相同的拓扑域中。
我们将每个 <code>&lt;键, 值></code> 视为一个 "桶（Bucket）"，并尝试将数量均衡的 Pod 放入每个桶中。
我们定义域（Domain）为拓扑域的特定实例。
此外，我们定义一个候选域（Eligible Domain）为其节点与 nodeAffinityPolicy 和 nodeTaintsPolicy 的要求匹配的域。
例如，如果 topologyKey 是 <code>"kubernetes.io/hostname"</code>，则每个 Node 都是该拓扑的域。
而如果 topologyKey 是 <code>"topology.kubernetes.io/zone"</code>，则每个区域都是该拓扑的一个域。
这是一个必填字段。</p></li></ul><ul><li><p><strong>topologySpreadConstraints.whenUnsatisfiable</strong> (string)，必需</p><p>whenUnsatisfiable 表示如果 Pod 不满足分布约束，如何处理它。</p><ul><li><code>DoNotSchedule</code>（默认）：告诉调度器不要调度它。</li><li><code>ScheduleAnyway</code>：告诉调度器将 Pod 调度到任何位置，但给予能够降低偏差的拓扑更高的优先级。</li></ul><p>当且仅当该 Pod 的每个可能的节点分配都会违反某些拓扑对应的 "maxSkew" 时，
才认为传入 Pod 的约束是 "不可满足的"。</p><p>例如，在一个包含三个区域的集群中，maxSkew 设置为 1，具有相同 labelSelector 的 Pod 分布为 3/1/1：</p><pre tabindex=0><code>| zone1 | zone2 | zone3 |
| P P P | P     | P     |
</code></pre><p>如果 whenUnsatisfiable 设置为 <code>DoNotSchedule</code>，则传入的 Pod 只能调度到 "zone2"（"zone3"），
Pod 分布变成 3/2/1（3/1/2），因为 "zone2"（"zone3"）上的实际偏差（Actual Skew） 为 2-1，
满足 maxSkew 约束（1）。
换句话说，集群仍然可以不平衡，但调度器不会使其<strong>更加地</strong>不平衡。</p><p>这是一个必填字段。</p></li></ul><ul><li><p><strong>topologySpreadConstraints.labelSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>labelSelector 用于识别匹配的 Pod。对匹配此标签选择算符的 Pod 进行计数，
以确定其相应拓扑域中的 Pod 数量。</p></li></ul><ul><li><strong>topologySpreadConstraints.matchLabelKeys</strong> ([]string)</li></ul><p><strong>原子性：将在合并期间被替换</strong></p><p>matchLabelKeys 是一组 Pod 标签键，用于通过计算 Pod 分布方式来选择 Pod。
新 Pod 标签中不存在的键将被忽略。这些键用于从新来的 Pod 标签中查找值，这些键值标签与 labelSelector 进行逻辑与运算，
通过计算 Pod 的分布方式来选择现有 Pod 的组。新来的 Pod 标签中不存在的键将被忽略。
null 或空的列表意味着仅与 labelSelector 匹配。</p><ul><li><p><strong>topologySpreadConstraints.minDomains</strong> (int32)</p><p>minDomains 表示符合条件的域的最小数量。当符合拓扑键的候选域个数小于 minDomains 时，
Pod 拓扑分布特性会将 "全局最小值" 视为 0，然后进行偏差的计算。
当匹配拓扑键的候选域的数量等于或大于 minDomains 时，此字段的值对调度没有影响。
因此，当候选域的数量少于 minDomains 时，调度程序不会将超过 maxSkew 个 Pods 调度到这些域。
如果字段值为 nil，所表达的约束为 minDomains 等于 1。
字段的有效值为大于 0 的整数。当字段值不为 nil 时，whenUnsatisfiable 必须为 <code>DoNotSchedule</code>。</p><p>例如，在一个包含三个区域的集群中，maxSkew 设置为 2，minDomains 设置为 5，具有相同 labelSelector
的 Pod 分布为 2/2/2：</p><pre tabindex=0><code>| zone1 | zone2 | zone3 |
| PP    | PP    | PP    |
</code></pre><p>域的数量小于 5（minDomains 取值），因此"全局最小值"被视为 0。
在这种情况下，无法调度具有相同 labelSelector 的新 Pod，因为如果基于新 Pod 计算的偏差值将为
3（3-0）。将这个 Pod 调度到三个区域中的任何一个，都会违反 maxSkew 约束。</p><p>此字段是一个 Beta 字段，需要启用 MinDomainsInPodTopologySpread 特性门控（默认被启用）。</p></li></ul><ul><li><p><strong>topologySpreadConstraints.nodeAffinityPolicy</strong> (string)</p><p>nodeAffinityPolicy 表示我们在计算 Pod 拓扑分布偏差时将如何处理 Pod 的 nodeAffinity/nodeSelector。
选项为：</p><ul><li>Honor：只有与 nodeAffinity/nodeSelector 匹配的节点才会包括到计算中。</li><li>Ignore：nodeAffinity/nodeSelector 被忽略。所有节点均包括到计算中。</li></ul><p>如果此值为 nil，此行为等同于 Honor 策略。
这是通过 NodeInclusionPolicyInPodTopologySpread 特性标志启用的 Alpha 级别特性。</p></li></ul><ul><li><strong>topologySpreadConstraints.nodeTaintsPolicy</strong> (string)</li></ul><p>nodeTaintsPolicy 表示我们在计算 Pod 拓扑分布偏差时将如何处理节点污点。选项为：</p><ul><li>Honor：包括不带污点的节点以及新来 Pod 具有容忍度且带有污点的节点。</li><li>Ignore：节点污点被忽略。包括所有节点。</li></ul><p>如果此值为 nil，此行为等同于 Ignore 策略。
这是通过 NodeInclusionPolicyInPodTopologySpread 特性标志启用的 Alpha 级别特性。</p></li></ul><ul><li><p><strong>overhead</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>overhead 表示与用指定 RuntimeClass 运行 Pod 相关的资源开销。
该字段将由 RuntimeClass 准入控制器在准入时自动填充。
如果启用了 RuntimeClass 准入控制器，则不得在 Pod 创建请求中设置 overhead 字段。
RuntimeClass 准入控制器将拒绝已设置 overhead 字段的 Pod 创建请求。
如果在 Pod 规约中配置并选择了 RuntimeClass，overhead 字段将被设置为对应 RuntimeClass 中定义的值，
否则将保持不设置并视为零。更多信息：
<a href=https://git.k8s.io/enhancements/keps/sig-node/688-pod-overhead/README.md>https://git.k8s.io/enhancements/keps/sig-node/688-pod-overhead/README.md</a></p></li></ul><h3 id=生命周期>生命周期</h3><ul><li><p><strong>restartPolicy</strong> (string)</p><p>Pod 内所有容器的重启策略。<code>Always</code>、<code>OnFailure</code>、<code>Never</code> 之一。默认为 <code>Always</code>。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy</a></p></li></ul><ul><li><p><strong>terminationGracePeriodSeconds</strong> (int64)</p><p>可选字段，表示 Pod 需要体面终止的所需的时长（以秒为单位）。字段值可以在删除请求中减少。
字段值必须是非负整数。零值表示收到 kill 信号则立即停止（没有机会关闭）。
如果此值为 nil，则将使用默认宽限期。
宽限期是从 Pod 中运行的进程收到终止信号后，到进程被 kill 信号强制停止之前，Pod 可以继续存在的时间（以秒为单位）。
应该将此值设置为比你的进程的预期清理时间更长。默认为 30 秒。</p></li></ul><ul><li><p><strong>activeDeadlineSeconds</strong> (int64)</p><p>在系统将主动尝试将此 Pod 标记为已失败并杀死相关容器之前，Pod 可能在节点上活跃的时长；
市场计算基于 startTime 计算间（以秒为单位）。字段值必须是正整数。</p></li></ul><ul><li><p><strong>readinessGate</strong> ([]PodReadinessGate)</p><p>如果设置了此字段，则将评估所有就绪门控（Readiness Gate）以确定 Pod 就绪状况。
当所有容器都已就绪，并且就绪门控中指定的所有状况的 status 都为 "true" 时，Pod 被视为就绪。
更多信息： <a href=https://git.k8s.io/enhancements/keps/sig-network/580-pod-readiness-gates>https://git.k8s.io/enhancements/keps/sig-network/580-pod-readiness-gates</a></p><p><a name=PodReadinessGate></a>
<strong>PodReadinessGate 包含对 Pod 状况的引用</strong></p><ul><li><p><strong>readinessGates.conditionType</strong> (string)，必需</p><p>conditionType 是指 Pod 的状况列表中类型匹配的状况。</p></li></ul></li></ul><h3 id=主机名和名称解析>主机名和名称解析</h3><ul><li><p><strong>hostname</strong> (string)</p><p>指定 Pod 的主机名。如果此字段未指定，则 Pod 的主机名将设置为系统定义的值。</p></li></ul><ul><li><p><strong>setHostnameAsFQDN</strong> (boolean)</p><p>如果为 true，则 Pod 的主机名将配置为 Pod 的 FQDN，而不是叶名称（默认值）。
在 Linux 容器中，这意味着将内核的 hostname 字段（struct utsname 的 nodename 字段）设置为 FQDN。
在 Windows 容器中，这意味着将注册表项 <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters</code>
的 hostname 键设置为 FQDN。如果 Pod 没有 FQDN，则此字段不起作用。
默认为 false。</p></li></ul><ul><li><p><strong>subdomain</strong> (string)</p><p>如果设置了此字段，则完全限定的 Pod 主机名将是 <code>&lt;hostname>.&lt;subdomain>.&lt;Pod 名字空间>.svc.&lt;集群域名></code>。
如果未设置此字段，则该 Pod 将没有域名。</p></li></ul><ul><li><p><strong>hostAliases</strong> ([]HostAlias)</p><p><strong>补丁策略：基于 <code>ip</code> 键合并</strong></p><p>hostAliases 是一个可选的列表属性，包含要被注入到 Pod 的 hosts 文件中的主机和 IP 地址。
这仅对非 hostNetwork Pod 有效。</p><p><a name=HostAlias></a>
<strong>HostAlias 结构保存 IP 和主机名之间的映射，这些映射将作为 Pod 的 hosts 文件中的条目注入。</strong></p><ul><li><p><strong>hostAliases.hostnames</strong> ([]string)</p><p>指定 IP 地址对应的主机名。</p></li><li><p><strong>hostAliases.ip</strong> (string)</p><p>主机文件条目的 IP 地址。</p></li></ul></li></ul><ul><li><p><strong>dnsConfig</strong> (PodDNSConfig)</p><p>指定 Pod 的 DNS 参数。此处指定的参数将被合并到基于 dnsPolicy 生成的 DNS 配置中。</p><p><a name=PodDNSConfig></a></p><p><strong>PodDNSConfig 定义 Pod 的 DNS 参数，这些参数独立于基于 dnsPolicy 生成的参数。</strong></p><ul><li><p><strong>dnsConfig.nameservers</strong> ([]string)</p><p>DNS 名字服务器的 IP 地址列表。此列表将被追加到基于 dnsPolicy 生成的基本名字服务器列表。
重复的名字服务器将被删除。</p></li></ul><ul><li><p><strong>dnsConfig.options</strong> ([]PodDNSConfigOption)</p><p>DNS 解析器选项列表。此处的选项将与基于 dnsPolicy 所生成的基本选项合并。重复的条目将被删除。
options 中所给出的解析选项将覆盖基本 dnsPolicy 中出现的对应选项。</p><p><a name=PodDNSConfigOption></a></p><p><strong>PodDNSConfigOption 定义 Pod 的 DNS 解析器选项。</strong></p><ul><li><p><strong>dnsConfig.options.name</strong> (string)</p><p>必需字段。</p></li><li><p><strong>dnsConfig.options.value</strong> (string)</p><p>选项取值。</p></li></ul></li></ul><ul><li><p><strong>dnsConfig.searches</strong> ([]string)</p><p>用于主机名查找的 DNS 搜索域列表。这一列表将被追加到基于 dnsPolicy 生成的基本搜索路径列表。
重复的搜索路径将被删除。</p></li></ul></li></ul><ul><li><p><strong>dnsPolicy</strong> (string)</p><p>为 Pod 设置 DNS 策略。默认为 <code>"ClusterFirst"</code>。
有效值为 <code>"ClusterFirstWithHostNet"</code>、<code>"ClusterFirst"</code>、<code>"Default"</code> 或 <code>"None"</code>。
dnsConfig 字段中给出的 DNS 参数将与使用 dnsPolicy 字段所选择的策略合并。
要针对 hostNetwork 的 Pod 设置 DNS 选项，你必须将 DNS 策略显式设置为 <code>"ClusterFirstWithHostNet"</code>。</p></li></ul><h3 id=主机名字空间>主机名字空间</h3><ul><li><p><strong>hostNetwork</strong> (boolean)</p><p>为此 Pod 请求主机层面联网支持。使用主机的网络名字空间。
如果设置了此选项，则必须指定将使用的端口。默认为 false。</p></li><li><p><strong>hostPID</strong> (boolean)</p><p>使用主机的 PID 名字空间。可选：默认为 false。</p></li></ul><ul><li><p><strong>hostIPC</strong> (boolean)</p><p>使用主机的 IPC 名字空间。可选：默认为 false。</p></li><li><p><strong>shareProcessNamespace</strong> (boolean)</p><p>在 Pod 中的所有容器之间共享单个进程名字空间。设置了此字段之后，容器将能够查看来自同一 Pod 中其他容器的进程并发出信号，
并且每个容器中的第一个进程不会被分配 PID 1。<code>hostPID</code> 和 <code>shareProcessNamespace</code> 不能同时设置。
可选：默认为 false。</p></li></ul><h3 id=服务账号>服务账号</h3><ul><li><p><strong>serviceAccountName</strong> (string)</p><p>serviceAccountName 是用于运行此 Pod 的服务账号的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/configure-service-account/>https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/configure-service-account/</a></p></li><li><p><strong>automountServiceAccountToken</strong> (boolean)</p><p>automountServiceAccountToken 指示是否应自动挂载服务帐户令牌。</p></li></ul><h3 id=安全上下文>安全上下文</h3><ul><li><p><strong>securityContext</strong> (PodSecurityContext)</p><p>SecurityContext 包含 Pod 级别的安全属性和常见的容器设置。
可选：默认为空。每个字段的默认值见类型描述。</p><p><a name=PodSecurityContext></a>
PodSecurityContext 包含 Pod 级别的安全属性和常用容器设置。
一些字段也存在于 <code>container.securityContext</code> 中。<code>container.securityContext</code>
中的字段值优先于 PodSecurityContext 的字段值。</p><ul><li><p><strong>securityContext.runAsUser</strong> (int64)</p><p>运行容器进程入口点（Entrypoint）的 UID。如果未指定，则默认为镜像元数据中指定的用户。
也可以在 SecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在对应容器中所设置的 SecurityContext 值优先。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p></li></ul><ul><li><p><strong>securityContext.runAsNonRoot</strong> (boolean)</p><p>指示容器必须以非 root 用户身份运行。如果为 true，kubelet 将在运行时验证镜像，
以确保它不会以 UID 0（root）身份运行。如果镜像中确实使用 root 账号启动，则容器无法被启动。
如果此字段未设置或为 false，则不会执行此类验证。也可以在 SecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。</p></li></ul><ul><li><p><strong>securityContext.runAsGroup</strong> (int64)</p><p>运行容器进程入口点（Entrypoint）的 GID。如果未设置，则使用运行时的默认值。
也可以在 SecurityContext 中设置。如果同时在 SecurityContext 和 PodSecurityContext 中设置，
则在对应容器中设置的 SecurityContext 值优先。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.supplementalGroups</strong> ([]int64)</p><p>在容器的主 GID 之外，应用于每个容器中运行的第一个进程的组列表。
如果未设置此字段，则不会向任何容器添加额外的组。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p></li></ul><ul><li><p><strong>securityContext.fsGroup</strong> (int64)</p><p>应用到 Pod 中所有容器的特殊补充组。某些卷类型允许 kubelet 将该卷的所有权更改为由 Pod 拥有：</p><ol><li>文件系统的属主 GID 将是 fsGroup 字段值</li><li><code>setgid</code> 位已设置（在卷中创建的新文件将归 fsGroup 所有）</li><li>权限位将与 <code>rw-rw----</code> 进行按位或操作</li></ol><p>如果未设置此字段，kubelet 不会修改任何卷的所有权和权限。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p></li></ul><ul><li><p><strong>securityContext.fsGroupChangePolicy</strong> (string)</p><p>fsGroupChangePolicy 定义了在卷被在 Pod 中暴露之前更改其属主和权限的行为。
此字段仅适用于支持基于 fsGroup 的属主权（和权限）的卷类型。它不会影响临时卷类型，
例如：<code>secret</code>、<code>configmap</code> 和 <code>emptydir</code>。
有效值为 <code>"OnRootMismatch"</code> 和 <code>"Always"</code>。如果未设置，则使用 <code>"Always"</code>。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p></li></ul><ul><li><p><strong>securityContext.seccompProfile</strong> (SeccompProfile)</p><p>此 Pod 中的容器使用的 seccomp 选项。注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p><p><strong>SeccompProfile 定义 Pod 或容器的 seccomp 配置文件设置。只能设置一个配置文件源。</strong></p><ul><li><p><strong>securityContext.seccompProfile.type</strong> (string)，必需</p><p>type 标明将应用哪种 seccomp 配置文件。有效的选项有：</p><ul><li><code>Localhost</code> - 应使用在节点上的文件中定义的配置文件。</li><li><code>RuntimeDefault</code> - 应使用容器运行时默认配置文件。</li><li><code>Unconfined</code> - 不应应用任何配置文件。</li></ul></li></ul><ul><li><p><strong>securityContext.seccompProfile.localhostProfile</strong> (string)</p><p>localhostProfile 指示应使用在节点上的文件中定义的配置文件。该配置文件必须在节点上预先配置才能工作。
必须是相对于 kubelet 配置的 seccomp 配置文件位置的下降路径。
仅当 type 为 <code>"Localhost"</code> 时才必须设置。</p></li></ul></li></ul><ul><li><p><strong>securityContext.seLinuxOptions</strong> (SELinuxOptions)</p><p>应用于所有容器的 SELinux 上下文。如果未设置，容器运行时将为每个容器分配一个随机 SELinux 上下文。
也可以在 SecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在对应容器中设置的 SecurityContext 值优先。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p><p><a name=SELinuxOptions></a>
<strong>SELinuxOptions 是要应用于容器的标签</strong></p><ul><li><p><strong>securityContext.seLinuxOptions.level</strong> (string)</p><p>level 是应用于容器的 SELinux 级别标签。</p></li><li><p><strong>securityContext.seLinuxOptions.role</strong> (string)</p><p>role 是应用于容器的 SELinux 角色标签。</p></li><li><p><strong>securityContext.seLinuxOptions.type</strong> (string)</p><p>type 是适用于容器的 SELinux 类型标签。</p></li><li><p><strong>securityContext.seLinuxOptions.user</strong> (string)</p><p>user 是应用于容器的 SELinux 用户标签。</p></li></ul></li></ul><ul><li><p><strong>securityContext.sysctls</strong> ([]Sysctl)</p><p>sysctls 包含用于 Pod 的名字空间 sysctl 列表。具有不受（容器运行时）支持的 sysctl 的 Pod 可能无法启动。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p><p><a name=Sysctl></a>
<strong>Sysctl 定义要设置的内核参数</strong></p><ul><li><p><strong>securityContext.sysctls.name</strong> (string)，必需</p><p>要设置的属性的名称。</p></li><li><p><strong>securityContext.sysctls.value</strong> (string)，必需</p><p>要设置的属性值。</p></li></ul></li></ul><ul><li><p><strong>securityContext.windowsOptions</strong> (WindowsSecurityContextOptions)</p><p>要应用到所有容器上的、特定于 Windows 的设置。
如果未设置此字段，将使用容器的 SecurityContext 中的选项。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。
注意，<code>spec.os.name</code> 为 "linux" 时不能设置该字段。</p><p><a name=WindowsSecurityContextOptions></a>
<strong>WindowsSecurityContextOptions 包含特定于 Windows 的选项和凭据。</strong></p><ul><li><p><strong>securityContext.windowsOptions.gmsaCredentialSpec</strong> (string)</p><p>gmsaCredentialSpec 是 <a href=https://github.com/kubernetes-sigs/windows-gmsa>GMSA 准入 Webhook</a>
内嵌由 gmsaCredentialSpecName 字段所指定的 GMSA 凭证规约内容的地方。</p></li><li><p><strong>securityContext.windowsOptions.gmsaCredentialSpecName</strong> (string)</p><p>gmsaCredentialSpecName 是要使用的 GMSA 凭证规约的名称。</p></li></ul><ul><li><p><strong>securityContext.windowsOptions.hostProcess</strong> (boolean)</p><p>hostProcess 确定容器是否应作为"主机进程"容器运行。
此字段是 Alpha 级别的，只有启用 WindowsHostProcessContainers 特性门控的组件才会理解此字段。
在不启用该功能门控的前提下设置了此字段，将导致验证 Pod 时发生错误。
一个 Pod 的所有容器必须具有相同的有效 hostProcess 值（不允许混合设置了 hostProcess
的容器和未设置 hostProcess 容器）。
此外，如果 hostProcess 为 true，则 hostNetwork 也必须设置为 true。</p></li></ul><ul><li><p><strong>securityContext.windowsOptions.runAsUserName</strong> (string)</p><p>Windows 中用来运行容器进程入口点的用户名。如果未设置，则默认为镜像元数据中指定的用户。
也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。</p></li></ul></li></ul></li></ul><h3 id=alpha-级别>Alpha 级别</h3><ul><li><p><strong>hostUsers</strong> (boolean)</p><p>使用主机的用户名字空间。可选：默认为 true。如果设置为 true 或不存在，则 Pod 将运行在主机的用户名字空间中，
当 Pod 需要仅对主机用户名字空间可用的一个特性时这会很有用，例如使用 CAP_SYS_MODULE 加载内核模块。
当设置为 false 时，会为该 Pod 创建一个新的用户名字空间。
设置为 false 对于缓解容器逃逸漏洞非常有用，可防止允许实际在主机上没有 root 特权的用户以 root 运行他们的容器。
此字段是 Alpha 级别的字段，只有启用 UserNamespacesSupport 特性的服务器才能使用此字段。</p></li></ul><h3 id=已弃用>已弃用</h3><ul><li><p><strong>serviceAccount</strong> (string)</p><p>deprecatedServiceAccount 是 serviceAccountName 的弃用别名。此字段已被弃用：应改用 serviceAccountName。</p></li></ul><h2 id=Container>容器</h2><p>要在 Pod 中运行的单个应用容器。</p><hr><ul><li><p><strong>name</strong> (string)，必需</p><p>指定为 DNS_LABEL 的容器的名称。Pod 中的每个容器都必须有一个唯一的名称 (DNS_LABEL)。无法更新。</p></li></ul><h3 id=image>镜像</h3><ul><li><p><strong>image</strong> (string)</p><p>容器镜像名称。更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images>https://kubernetes.io/zh-cn/docs/concepts/containers/images</a>。
此字段是可选的，以允许更高层的配置管理进行默认设置或覆盖工作负载控制器（如 Deployment 和 StatefulSets）
中的容器镜像。</p></li><li><p><strong>imagePullPolicy</strong> (string)</p><p>镜像拉取策略。<code>"Always"</code>、<code>"Never"</code>、<code>"IfNotPresent"</code> 之一。如果指定了 <code>:latest</code> 标签，则默认为 <code>"Always"</code>，
否则默认为 <code>"IfNotPresent"</code>。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images#updating-images>https://kubernetes.io/zh-cn/docs/concepts/containers/images#updating-images</a></p></li></ul><h3 id=entrypoint>Entrypoint</h3><ul><li><p><strong>command</strong> ([]string)</p><p>入口点数组。不在 Shell 中执行。如果未提供，则使用容器镜像的 <code>ENTRYPOINT</code>。
变量引用 <code>$(VAR_NAME)</code> 使用容器的环境进行扩展。如果无法解析变量，则输入字符串中的引用将保持不变。
<code>$$</code> 被简化为 <code>$</code>，这允许转义 <code>$(VAR_NAME)</code> 语法：即 <code>"$$(VAR_NAME)"</code> 将产生字符串字面值 <code>"$(VAR_NAME)"</code>。
无论变量是否存在，转义引用都不会被扩展。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p></li></ul><ul><li><p><strong>args</strong> ([]string)</p><p>entrypoint 的参数。如果未提供，则使用容器镜像的 <code>CMD</code> 设置。变量引用 <code>$(VAR_NAME)</code> 使用容器的环境进行扩展。
如果无法解析变量，则输入字符串中的引用将保持不变。<code>$$</code> 被简化为 <code>$</code>，这允许转义 <code>$(VAR_NAME)</code> 语法：
即 <code>"$$(VAR_NAME)"</code> 将产生字符串字面值 <code>"$(VAR_NAME)"</code>。无论变量是否存在，转义引用都不会被扩展。无法更新。
更多信息：
<a href=https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p></li></ul><ul><li><p><strong>workingDir</strong> (string)</p><p>容器的工作目录。如果未指定，将使用容器运行时的默认值，默认值可能在容器镜像中配置。无法更新。</p></li></ul><h3 id=端口>端口</h3><ul><li><p><strong>ports</strong>（[]ContainerPort）</p><p><strong>补丁策略：基于 <code>containerPort</code> 键合并</strong></p><p><strong>映射：键 <code>containerPort, protocol</code> 组合的唯一值将在合并期间保留</strong></p><p>要从容器暴露的端口列表。此处不指定端口不会阻止该端口被暴露。
任何侦听容器内默认 <code>"0.0.0.0"</code> 地址的端口都可以从网络访问。使用策略合并补丁来修改此数组可能会破坏数据。
更多细节请参阅 <a href=https://github.com/kubernetes/kubernetes/issues/108255>https://github.com/kubernetes/kubernetes/issues/108255</a>。
无法更新。</p><p><a name=ContainerPort></a>
<strong>ContainerPort 表示单个容器中的网络端口。</strong></p><ul><li><p><strong>ports.containerPort</strong> (int32)，必需</p><p>要在 Pod 的 IP 地址上公开的端口号。这必须是有效的端口号，0 &lt; x &lt; 65536。</p></li><li><p><strong>ports.hostIP</strong> (string)</p><p>绑定外部端口的主机 IP。</p></li></ul><ul><li><p><strong>ports.hostPort</strong> (int32)</p><p>要在主机上公开的端口号。如果指定，此字段必须是一个有效的端口号，0 &lt; x &lt; 65536。
如果设置了 hostNetwork，此字段值必须与 containerPort 匹配。大多数容器不需要设置此字段。</p></li><li><p><strong>ports.name</strong> (string)</p><p>如果设置此字段，这必须是 IANA_SVC_NAME 并且在 Pod 中唯一。
Pod 中的每个命名端口都必须具有唯一的名称。服务可以引用的端口的名称。</p></li></ul><ul><li><p><strong>ports.protocol</strong> (string)</p><p>端口协议。必须是 <code>UDP</code>、<code>TCP</code> 或 <code>SCTP</code>。默认为 <code>TCP</code>。</p></li></ul></li></ul><h3 id=环境变量>环境变量</h3><ul><li><p><strong>env</strong>（[]EnvVar）</p><p><strong>补丁策略：基于 <code>name</code> 键合并</strong></p><p>要在容器中设置的环境变量列表。无法更新。</p><p><a name=EnvVar></a>
<strong>EnvVar 表示容器中存在的环境变量。</strong></p><ul><li><p><strong>env.name</strong> (string)，必需</p><p>环境变量的名称。必须是 C_IDENTIFIER。</p></li></ul><ul><li><p><strong>env.value</strong> (string)</p><p>变量引用 <code>$(VAR_NAME)</code> 使用容器中先前定义的环境变量和任何服务环境变量进行扩展。
如果无法解析变量，则输入字符串中的引用将保持不变。
<code>$$</code> 会被简化为 <code>$</code>，这允许转义 <code>$(VAR_NAME)</code> 语法：即 <code>"$$(VAR_NAME)"</code> 将产生字符串字面值 <code>"$(VAR_NAME)"</code>。
无论变量是否存在，转义引用都不会被扩展。默认为 ""。</p></li></ul><ul><li><p><strong>env.valueFrom</strong> (EnvVarSource)</p><p>环境变量值的来源。如果 value 值不为空，则不能使用。</p><p><strong>EnvVarSource 表示 envVar 值的来源。</strong></p><ul><li><p><strong>env.valueFrom.configMapKeyRef</strong> (ConfigMapKeySelector)</p><p>选择某个 ConfigMap 的一个主键。</p><ul><li><p><strong>env.valueFrom.configMapKeyRef.key</strong> (string)，必需</p><p>要选择的主键。</p></li><li><p><strong>env.valueFrom.configMapKeyRef.name</strong> (string)</p><p>被引用者的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>env.valueFrom.configMapKeyRef.optional</strong> (boolean)</p><p>指定 ConfigMap 或其主键是否必须已经定义。</p></li></ul></li></ul><ul><li><p><strong>env.valueFrom.fieldRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-field-selector/#ObjectFieldSelector>ObjectFieldSelector</a>)</p><p>选择 Pod 的一个字段：支持 <code>metadata.name</code>、<code>metadata.namespace</code>、<code>metadata.labels['&lt;KEY>']</code>、
<code>metadata.annotations['&lt;KEY>']</code>、<code>spec.nodeName</code>、<code>spec.serviceAccountName</code>、<code>status.hostIP</code>
<code>status.podIP</code>、<code>status.podIPs</code>。</p></li></ul><ul><li><p><strong>env.valueFrom.resourceFieldRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/resource-field-selector/#ResourceFieldSelector>ResourceFieldSelector</a>)</p><p>选择容器的资源：目前仅支持资源限制和请求（<code>limits.cpu</code>、<code>limits.memory</code>、<code>limits.ephemeral-storage</code>、
<code>requests.cpu</code>、<code>requests.memory</code> 和 <code>requests.ephemeral-storage</code>）。</p></li></ul><ul><li><p><strong>env.valueFrom.secretKeyRef</strong> (SecretKeySelector)</p><p>在 Pod 的名字空间中选择 Secret 的主键。</p><p><a name=SecretKeySelector></a></p><p><strong>SecretKeySelector 选择一个 Secret 的主键。</strong></p><ul><li><p><strong>env.valueFrom.secretKeyRef.key</strong> (string)，必需</p><p>要选择的 Secret 的主键。必须是有效的主键。</p></li><li><p><strong>env.valueFrom.secretKeyRef.name</strong> (string)</p><p>被引用 Secret 的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>env.valueFrom.secretKeyRef.optional</strong> (boolean)</p><p>指定 Secret 或其主键是否必须已经定义。</p></li></ul></li></ul></li></ul></li></ul><ul><li><p><strong>envFrom</strong> ([]EnvFromSource)</p><p>用来在容器中填充环境变量的数据源列表。在源中定义的键必须是 C_IDENTIFIER。
容器启动时，所有无效主键都将作为事件报告。
当一个键存在于多个源中时，与最后一个来源关联的值将优先。
由 env 定义的条目中，与此处键名重复者，以 env 中定义为准。无法更新。</p><p><a name=EnvFromSource></a>
<strong>EnvFromSource 表示一组 ConfigMaps 的来源</strong></p><ul><li><p><strong>envFrom.configMapRef</strong> (ConfigMapEnvSource)</p><p>要从中选择主键的 ConfigMap。</p><p><a name=ConfigMapEnvSource></a>
ConfigMapEnvSource 选择一个 ConfigMap 来填充环境变量。目标 ConfigMap 的
data 字段的内容将键值对表示为环境变量。</p><ul><li><p><strong>envFrom.configMapRef.name</strong> (string)</p><p>被引用的 ConfigMap 的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>envFrom.configMapRef.optional</strong> (boolean)</p><p>指定 ConfigMap 是否必须已经定义。</p></li></ul></li></ul><ul><li><p><strong>envFrom.prefix</strong> (string)</p><p>附加到 ConfigMap 中每个键名之前的可选标识符。必须是 C_IDENTIFIER。</p></li><li><p><strong>envFrom.secretRef</strong> (SecretEnvSource)</p><p>要从中选择主键的 Secret。</p><p>SecretEnvSource 选择一个 Secret 来填充环境变量。
目标 Secret 的 data 字段的内容将键值对表示为环境变量。</p><ul><li><p><strong>envFrom.secretRef.name</strong> (string)</p><p>被引用 Secret 的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>envFrom.secretRef.optional</strong> (boolean)</p><p>指定 Secret 是否必须已经定义。</p></li></ul></li></ul></li></ul><h3 id=卷-1>卷</h3><ul><li><p><strong>volumeMounts</strong> ([]VolumeMount)</p><p><strong>补丁策略：基于 <code>mountPath</code> 键合并</strong></p><p>要挂载到容器文件系统中的 Pod 卷。无法更新。</p><p>VolumeMount 描述在容器中安装卷。</p><ul><li><p><strong>volumeMounts.mountPath</strong> (string)，必需</p><p>容器内卷的挂载路径。不得包含 ':'。</p></li><li><p><strong>volumeMounts.name</strong> (string)，必需</p><p>此字段必须与卷的名称匹配。</p></li><li><p><strong>volumeMounts.mountPropagation</strong> (string)</p><p>mountPropagation 确定挂载如何从主机传播到容器，及如何反向传播。
如果未设置，则使用 <code>MountPropagationNone</code>。该字段在 1.10 中是 Beta 版。</p></li></ul><ul><li><p><strong>volumeMounts.readOnly</strong> (boolean)</p><p>如果为 true，则以只读方式挂载，否则（false 或未设置）以读写方式挂载。默认为 false。</p></li><li><p><strong>volumeMounts.subPath</strong> (boolean)</p><p>卷中的路径，容器中的卷应该这一路径安装。默认为 ""（卷的根）。</p></li><li><p><strong>volumeMounts.subPathExpr</strong> (string)</p><p>应安装容器卷的卷内的扩展路径。行为类似于 subPath，但环境变量引用 <code>$(VAR_NAME)</code>
使用容器的环境进行扩展。默认为 ""（卷的根）。<code>subPathExpr</code> 和 <code>subPath</code> 是互斥的。</p></li></ul></li></ul><ul><li><p><strong>volumeDevices</strong> ([]VolumeDevice)</p><p><strong>补丁策略：基于 <code>devicePath</code> 键合并</strong></p><p>volumeDevices 是容器要使用的块设备列表。</p><p><a name=VolumeDevice></a>
volumeDevice 描述了容器内原始块设备的映射。</p><ul><li><p><strong>volumeDevices.devicePath</strong> (string)，必需</p><p>devicePath 是设备将被映射到的容器内的路径。</p></li><li><p><strong>volumeDevices.name</strong> (string)，必需</p><p>name 必须与 Pod 中的 persistentVolumeClaim 的名称匹配</p></li></ul></li></ul><h3 id=资源>资源</h3><ul><li><p><strong>resources</strong>（ResourceRequirements）</p><p>此容器所需的计算资源。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p><p>ResourceRequirements 描述计算资源需求。</p><ul><li><p><strong>resources.limits</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>limits 描述所允许的最大计算资源用量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p></li><li><p><strong>resources.requests</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>requests 描述所需的最小计算资源量。如果容器省略了 requests，但明确设定了 limits，
则 requests 默认值为 limits 值，否则为实现定义的值。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p></li></ul></li></ul><h3 id=生命周期-1>生命周期</h3><ul><li><p><strong>lifecycle</strong> (Lifecycle)</p><p>管理系统应对容器生命周期事件采取的行动。无法更新。</p><p>Lifecycle 描述管理系统为响应容器生命周期事件应采取的行动。
对于 postStart 和 preStop 生命周期处理程序，容器的管理会阻塞，直到操作完成，
除非容器进程失败，在这种情况下处理程序被中止。</p><ul><li><p><strong>lifecycle.postStart</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#LifecycleHandler>LifecycleHandler</a>)</p><p>创建容器后立即调用 postStart。如果处理程序失败，则容器将根据其重新启动策略终止并重新启动。
容器的其他管理阻塞直到钩子完成。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p></li></ul><ul><li><p><strong>lifecycle.preStop</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#LifecycleHandler>LifecycleHandler</a>)</p><p>preStop 在容器因 API 请求或管理事件（如存活态探针/启动探针失败、抢占、资源争用等）而终止之前立即调用。
如果容器崩溃或退出，则不会调用处理程序。Pod 的终止宽限期倒计时在 preStop 钩子执行之前开始。
无论处理程序的结果如何，容器最终都会在 Pod 的终止宽限期内终止（除非被终结器延迟）。
容器的其他管理会阻塞，直到钩子完成或达到终止宽限期。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p></li></ul></li></ul><ul><li><p><strong>terminationMessagePath</strong> (string)</p><p>可选字段。挂载到容器文件系统的一个路径，容器终止消息写入到该路径下的文件中。
写入的消息旨在成为简短的最终状态，例如断言失败消息。如果大于 4096 字节，将被节点截断。
所有容器的总消息长度将限制为 12 KB。默认为 <code>/dev/termination-log</code>。无法更新。</p></li></ul><ul><li><p><strong>terminationMessagePolicy</strong> (string)</p><p>指示应如何填充终止消息。字段值 <code>File</code> 将使用 terminateMessagePath 的内容来填充成功和失败的容器状态消息。
如果终止消息文件为空并且容器因错误退出，<code>FallbackToLogsOnError</code> 将使用容器日志输出的最后一块。
日志输出限制为 2048 字节或 80 行，以较小者为准。默认为 <code>File</code>。无法更新。</p></li></ul><ul><li><p><strong>livenessProbe</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p><p>定期探针容器活跃度。如果探针失败，容器将重新启动。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p></li></ul><ul><li><p><strong>readinessProbe</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p><p>定期探测容器服务就绪情况。如果探针失败，容器将被从服务端点中删除。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p></li></ul><ul><li><p><strong>startupProbe</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p><p>startupProbe 表示 Pod 已成功初始化。如果设置了此字段，则此探针成功完成之前不会执行其他探针。
如果这个探针失败，Pod 会重新启动，就像存活态探针失败一样。
这可用于在 Pod 生命周期开始时提供不同的探针参数，此时加载数据或预热缓存可能需要比稳态操作期间更长的时间。
这无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p></li></ul><h3 id=安全上下文-1>安全上下文</h3><ul><li><p><strong>securityContext</strong> (SecurityContext)</p><p>SecurityContext 定义了容器应该运行的安全选项。如果设置，SecurityContext 的字段将覆盖
PodSecurityContext 的等效字段。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/security-context/>https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/security-context/</a></p><p>SecurityContext 保存将应用于容器的安全配置。某些字段在 SecurityContext 和 PodSecurityContext 中都存在。
当两者都设置时，SecurityContext 中的值优先。</p><ul><li><p><strong>securityContext.runAsUser</strong> (int64)</p><p>运行容器进程入口点的 UID。如果未指定，则默认为镜像元数据中指定的用户。
也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.runAsNonRoot</strong> (boolean)</p><p>指示容器必须以非 root 用户身份运行。
如果为 true，kubelet 将在运行时验证镜像，以确保它不会以 UID 0（root）身份运行，如果是，则无法启动容器。
如果未设置或为 false，则不会执行此类验证。也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。</p></li></ul><ul><li><p><strong>securityContext.runAsGroup</strong> (int64)</p><p>运行容器进程入口点的 GID。如果未设置，则使用运行时默认值。也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.readOnlyRootFilesystem</strong> (boolean)</p><p>此容器是否具有只读根文件系统。默认为 false。注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.procMount</strong> (string)</p><p>procMount 表示用于容器的 proc 挂载类型。默认值为 <code>DefaultProcMount</code>，
它针对只读路径和掩码路径使用容器运行时的默认值。此字段需要启用 ProcMountType 特性门控。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p></li></ul><ul><li><p><strong>securityContext.privileged</strong> (boolean)</p><p>以特权模式运行容器。特权容器中的进程本质上等同于主机上的 root。默认为 false。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p></li></ul><ul><li><p><strong>securityContext.allowPrivilegeEscalation</strong> (boolean)</p><p>allowPrivilegeEscalation 控制进程是否可以获得比其父进程更多的权限。此布尔值直接控制是否在容器进程上设置
<code>no_new_privs</code> 标志。allowPrivilegeEscalation 在容器处于以下状态时始终为 true：</p><ol><li>以特权身份运行</li><li>具有 <code>CAP_SYS_ADMIN</code></li></ol><p>请注意，当 <code>spec.os.name</code> 为 "windows" 时，无法设置此字段。</p></li></ul><ul><li><p><strong>securityContext.capabilities</strong> (Capabilities)</p><p>运行容器时添加或放弃的权能（Capabilities）。默认为容器运行时所授予的权能集合。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p><p><strong>在运行中的容器中添加和放弃 POSIX 权能。</strong></p><ul><li><p><strong>securityContext.capabilities.add</strong> ([]string)</p><p>新增权能。</p></li><li><p><strong>securityContext.capabilities.drop</strong> ([]string)</p><p>放弃权能。</p></li></ul></li></ul><ul><li><p><strong>securityContext.seccompProfile</strong> (SeccompProfile)</p><p>此容器使用的 seccomp 选项。如果在 Pod 和容器级别都提供了 seccomp 选项，则容器级别的选项会覆盖 Pod 级别的选项设置。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p><p><strong>SeccompProfile 定义 Pod 或容器的 seccomp 配置文件设置。只能设置一个配置文件源。</strong></p><ul><li><p><strong>securityContext.seccompProfile.type</strong> (string)，必需</p><p>type 指示应用哪种 seccomp 配置文件。有效的选项有：</p><ul><li><code>Localhost</code> - 应使用在节点上的文件中定义的配置文件。</li><li><code>RuntimeDefault</code> - 应使用容器运行时的默认配置文件。</li><li><code>Unconfined</code> - 不应用任何配置文件。</li></ul></li></ul><ul><li><p><strong>securityContext.seccompProfile.localhostProfile</strong> (string)</p><p>localhostProfile 指示应使用的在节点上的文件，文件中定义了配置文件。
该配置文件必须在节点上先行配置才能使用。
必须是相对于 kubelet 所配置的 seccomp 配置文件位置下的下级路径。
仅当 type 为 "Localhost" 时才必须设置。</p></li></ul></li></ul><ul><li><p><strong>securityContext.seLinuxOptions</strong> (SELinuxOptions)</p><p>要应用到容器上的 SELinux 上下文。如果未设置此字段，容器运行时将为每个容器分配一个随机的 SELinux 上下文。
也可以在 PodSecurityContext 中设置。如果同时在 SecurityContext 和 PodSecurityContext 中设置，
则在 SecurityContext 中指定的值优先。注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p><p><a name=SELinuxOptions></a>
<strong>SELinuxOptions 是要应用到容器上的标签。</strong></p><ul><li><p><strong>securityContext.seLinuxOptions.level</strong> （string）</p><p>level 是应用于容器的 SELinux 级别标签。</p></li><li><p><strong>securityContext.seLinuxOptions.role</strong> （string）</p><p>role 是应用于容器的 SELinux 角色标签。</p></li><li><p><strong>securityContext.seLinuxOptions.type</strong> （string）</p><p>type 是适用于容器的 SELinux 类型标签。</p></li><li><p><strong>securityContext.seLinuxOptions.user</strong> （string）</p><p>user 是应用于容器的 SELinux 用户标签。</p></li></ul></li></ul><ul><li><p><strong>securityContext.windowsOptions</strong> （WindowsSecurityContextOptions）</p><p>要应用于所有容器上的特定于 Windows 的设置。如果未指定，将使用 PodSecurityContext 中的选项。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。
注意，<code>spec.os.name</code> 为 "linux" 时不能设置此字段。</p><p><a name=WindowsSecurityContextOptions></a>
<strong>WindowsSecurityContextOptions 包含特定于 Windows 的选项和凭据。</strong></p><ul><li><p><strong>securityContext.windowsOptions.gmsaCredentialSpec</strong> （string）</p><p>gmsaCredentialSpec 是 <a href=https://github.com/kubernetes-sigs/windows-gmsa>GMSA 准入 Webhook</a>
内嵌由 gmsaCredentialSpecName 字段所指定的 GMSA 凭证规约的内容的地方。</p></li></ul><ul><li><p><strong>securityContext.windowsOptions.hostProcess</strong> （boolean）</p><p>hostProcess 确定容器是否应作为 "主机进程" 容器运行。
此字段是 Alpha 级别的，只有启用 WindowsHostProcessContainers 特性门控的组件才会处理。
设置此字段而不启用特性门控是，在验证 Pod 时将发生错误。
一个 Pod 的所有容器必须具有相同的有效 hostProcess 值（不允许混合设置了 hostProcess 容器和未设置 hostProcess 的容器）。
此外，如果 hostProcess 为 true，则 hostNetwork 也必须设置为 true。</p></li></ul><ul><li><p><strong>securityContext.windowsOptions.runAsUserName</strong> （string）</p><p>Windows 中运行容器进程入口点的用户名。如果未指定，则默认为镜像元数据中指定的用户。
也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext 中指定的值优先。</p></li></ul></li></ul></li></ul><h3 id=调试>调试</h3><ul><li><p><strong>stdin</strong> （boolean）</p><p>此容器是否应在容器运行时为 stdin 分配缓冲区。如果未设置，从容器中的 stdin 读取将始终导致 EOF。
默认为 false。</p></li></ul><ul><li><p><strong>stdinOnce</strong> （boolean）</p><p>容器运行时是否应在某个 attach 打开 stdin 通道后关闭它。当 stdin 为 true 时，stdin 流将在多个 attach 会话中保持打开状态。
如果 stdinOnce 设置为 true，则 stdin 在容器启动时打开，在第一个客户端连接到 stdin 之前为空，
然后保持打开并接受数据，直到客户端断开连接，此时 stdin 关闭并保持关闭直到容器重新启动。
如果此标志为 false，则从 stdin 读取的容器进程将永远不会收到 EOF。默认为 false。</p></li></ul><h2 id=EphemeralContainer>EphemeralContainer</h2><p>EphemeralContainer 是一个临时容器，你可以将其添加到现有 Pod 以用于用户发起的活动，例如调试。
临时容器没有资源或调度保证，它们在退出或 Pod 被移除或重新启动时不会重新启动。
如果临时容器导致 Pod 超出其资源分配，kubelet 可能会驱逐 Pod。</p><p>要添加临时容器，请使用现有 Pod 的 <code>ephemeralcontainers</code> 子资源。临时容器不能被删除或重新启动。</p><hr><ul><li><p><strong>name</strong> (string)，必需</p><p>以 DNS_LABEL 形式设置的临时容器的名称。此名称在所有容器、Init 容器和临时容器中必须是唯一的。</p></li></ul><ul><li><p><strong>targetContainerName</strong> (string)</p><p>如果设置，则为 Pod 规约中此临时容器所针对的容器的名称。临时容器将在该容器的名字空间（IPC、PID 等）中运行。
如果未设置，则临时容器使用 Pod 规约中配置的名字空间。</p><p>容器运行时必须实现对此功能的支持。如果运行时不支持名字空间定位，则设置此字段的结果是未定义的。</p></li></ul><h3 id=镜像>镜像</h3><ul><li><p><strong>image</strong> (string)</p><p>容器镜像名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images>https://kubernetes.io/zh-cn/docs/concepts/containers/images</a></p></li></ul><ul><li><p><strong>imagePullPolicy</strong> (string)</p><p>镜像拉取策略。取值为 <code>Always</code>、<code>Never</code>、<code>IfNotPresent</code> 之一。
如果指定了 <code>:latest</code> 标签，则默认为 <code>Always</code>，否则默认为 <code>IfNotPresent</code>。
无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images#updating-images>https://kubernetes.io/zh-cn/docs/concepts/containers/images#updating-images</a></p></li></ul><h3 id=入口点>入口点</h3><ul><li><p><strong>command</strong> ([]string)</p><p>入口点数组。不在 Shell 中执行。如果未提供，则使用镜像的 <code>ENTRYPOINT</code>。
变量引用 <code>$(VAR_NAME)</code> 使用容器的环境进行扩展。如果无法解析变量，则输入字符串中的引用将保持不变。
<code>$$</code> 被简化为 <code>$</code>，这允许转义 <code>$(VAR_NAME)</code> 语法：即 <code>"$$(VAR_NAME)"</code> 将产生字符串字面值 <code>"$(VAR_NAME)"</code>。
无论变量是否存在，转义引用都不会被扩展。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p></li></ul><ul><li><p><strong>args</strong> （[]string）</p><p>entrypoint 的参数。如果未提供，则使用镜像的 <code>CMD</code>。
变量引用 <code>$(VAR_NAME)</code> 使用容器的环境进行扩展。如果无法解析变量，则输入字符串中的引用将保持不变。
<code>$$</code> 被简化为 <code>$</code>，这允许转义 <code>$(VAR_NAME)</code> 语法：即 <code>"$$(VAR_NAME)"</code> 将产生字符串字面值 <code>"$(VAR_NAME)"</code>。
无论变量是否存在，转义引用都不会被扩展。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/zh-cn/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p></li></ul><ul><li><p><strong>workingDir</strong> (string)</p><p>容器的工作目录。如果未指定，将使用容器运行时的默认值，默认值可能在容器镜像中配置。无法更新。</p></li></ul><h3 id=环境变量-1>环境变量</h3><ul><li><p><strong>env</strong>（[]EnvVar）</p><p><strong>补丁策略：基于 <code>name</code> 键合并</strong></p><p>要在容器中设置的环境变量列表。无法更新。</p><p><a name=EnvVar></a>
<strong>EnvVar 表示容器中存在的环境变量。</strong></p><ul><li><p><strong>env.name</strong> (string)，必需</p><p>环境变量的名称。必须是 C_IDENTIFIER。</p></li><li><p><strong>env.value</strong> (string)</p><p>变量引用 <code>$(VAR_NAME)</code> 使用容器中先前定义的环境变量和任何服务环境变量进行扩展。
如果无法解析变量，则输入字符串中的引用将保持不变。
<code>$$</code> 被简化为 <code>$</code>，这允许转义 <code>$(VAR_NAME)</code> 语法：即 <code>"$$(VAR_NAME)"</code> 将产生字符串字面值 <code>"$(VAR_NAME)"</code>。
无论变量是否存在，转义引用都不会被扩展。默认为 ""。</p></li></ul><ul><li><p><strong>env.valueFrom</strong> （EnvVarSource）</p><p>环境变量值的来源。如果取值不为空，则不能使用。</p><p><strong>EnvVarSource 表示 envVar 值的源。</strong></p><ul><li><p><strong>env.valueFrom.configMapKeyRef</strong> （ConfigMapKeySelector）</p><p>选择 ConfigMap 的主键。</p><p><a name=ConfigMapKeySelector></a>
<strong>选择 ConfigMap 的主键。</strong></p><ul><li><p><strong>env.valueFrom.configMapKeyRef.key</strong> (string)，必需</p><p>选择的主键。</p></li><li><p><strong>env.valueFrom.configMapKeyRef.name</strong>（string）</p><p>所引用 ConfigMap 的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>env.valueFrom.configMapKeyRef.optional</strong> （boolean）</p><p>指定是否 ConfigMap 或其键必须已经被定义。</p></li></ul></li></ul><ul><li><p><strong>env.valueFrom.fieldRef</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-field-selector/#ObjectFieldSelector>ObjectFieldSelector</a>）</p><p>选择 Pod 的一个字段：支持 <code>metadata.name</code>、<code>metadata.namespace</code>、<code>metadata.labels['&lt;KEY>']</code>、
<code>metadata.annotations['&lt;KEY>']</code>、<code>spec.nodeName</code>、<code>spec.serviceAccountName</code>、<code>status.hostIP</code>、
<code>status.podIP</code>、<code>status.podIPs</code>。</p></li></ul><ul><li><p><strong>env.valueFrom.resourceFieldRef</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/resource-field-selector/#ResourceFieldSelector>ResourceFieldSelector</a>）</p><p>选择容器的资源：当前仅支持资源限制和请求（<code>limits.cpu</code>、<code>limits.memory</code>、<code>limits.ephemeral-storage</code>、
<code>requests.cpu</code>、<code>requests.memory</code> 和 <code>requests.ephemeral-storage</code>）。</p></li></ul><ul><li><p><strong>env.valueFrom.secretKeyRef</strong> （SecretKeySelector）</p><p>在 Pod 的名字空间中选择某 Secret 的主键。</p><p><a name=SecretKeySelector></a>
<strong>SecretKeySelector 选择某 Secret 的主键。</strong></p><ul><li><p><strong>env.valueFrom.secretKeyRef.key</strong> (string)，必需</p><p>要从 Secret 中选择的主键。必须是有效的主键。</p></li><li><p><strong>env.valueFrom.secretKeyRef.name</strong>（string）</p><p>被引用 Secret 名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>env.valueFrom.secretKeyRef.optional</strong> （boolean）</p><p>指定 Secret 或其主键是否必须已经定义。</p></li></ul></li></ul></li></ul></li></ul><ul><li><p><strong>envFrom</strong> （[]EnvFromSource）</p><p>在容器中填充环境变量的来源列表。在来源中定义的键名必须是 C_IDENTIFIER。
容器启动时，所有无效键都将作为事件报告。当一个键存在于多个来源中时，与最后一个来源关联的值将优先。
如果有重复主键，env 中定义的值将优先。无法更新。</p><p><a name=EnvFromSource></a>
<strong>EnvFromSource 表示一组 ConfigMap 来源</strong></p><ul><li><p><strong>envFrom.configMapRef</strong> （ConfigMapEnvSource）</p><p>要从中选择的 ConfigMap。</p><p><a name=ConfigMapEnvSource></a>
<strong>ConfigMapEnvSource 选择一个 ConfigMap 来填充环境变量。目标 ConfigMap 的 data 字段的内容将键值对表示为环境变量。</strong></p><ul><li><p><strong>envFrom.configMapRef.name</strong>（string）</p><p>被引用的 ConfigMap 名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>envFrom.configMapRef.optional</strong> （boolean）</p><p>指定所引用的 ConfigMap 是否必须已经定义。</p></li></ul></li></ul><ul><li><p><strong>envFrom.prefix</strong> （string）</p><p>要在 ConfigMap 中的每个键前面附加的可选标识符。必须是C_IDENTIFIER。</p></li></ul><ul><li><p><strong>envFrom.secretRef</strong> （SecretEnvSource）</p><p>可供选择的 Secret。</p><p><a name=SecretEnvSource></a>
<strong>SecretEnvSource 选择一个 Secret 来填充环境变量。目标 Secret 的 data 字段的内容将键值对表示为环境变量。</strong></p><ul><li><p><strong>envFrom.secretRef.name</strong>（string）</p><p>被引用 ConfigMap 的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>envFrom.secretRef.optional</strong> （boolean）</p><p>指定是否 Secret 必须已经被定义。</p></li></ul></li></ul></li></ul><h3 id=卷-2>卷</h3><ul><li><p><strong>volumeMounts</strong> ([]VolumeMount)</p><p><strong>补丁策略：基于 <code>mountPath</code> 键合并</strong></p><p>要挂载到容器文件系统中的 Pod 卷。临时容器不允许子路径挂载。无法更新。</p><p><strong>VolumeMount 描述在容器中卷的挂载。</strong></p><ul><li><p><strong>volumeMounts.mountPath</strong> (string)，必需</p><p>容器内应安装卷的路径。不得包含 ':'。</p></li><li><p><strong>volumeMounts.name</strong> (string)，必需</p><p>此字段必须与卷的名称匹配。</p></li></ul><ul><li><p><strong>volumeMounts.mountPropagation</strong> （string）</p><p>mountPropagation 确定装载如何从主机传播到容器，及反向传播选项。
如果未设置，则使用 <code>None</code>。此字段在 1.10 中为 Beta 字段。</p></li><li><p><strong>volumeMounts.readOnly</strong> （boolean）</p><p>如果为 true，则挂载卷为只读，否则为读写（false 或未指定）。默认值为 false。</p></li></ul><ul><li><p><strong>volumeMounts.subPath</strong> （string）</p><p>卷中的路径名，应该从该路径挂在容器的卷。默认为 "" （卷的根）。</p></li><li><p><strong>volumeMounts.subPathExpr</strong> （string）</p><p>应安装容器卷的卷内的扩展路径。行为类似于 <code>subPath</code>，但环境变量引用 <code>$(VAR_NAME)</code>
使用容器的环境进行扩展。默认为 ""（卷的根）。<code>subPathExpr</code> 和 <code>SubPath</code> 是互斥的。</p></li></ul></li></ul><ul><li><p><strong>volumeDevices</strong> ([]VolumeDevice)</p><p><strong>补丁策略：基于 <code>devicePath</code> 键合并</strong></p><p>volumeDevices 是容器要使用的块设备列表。</p><p><a name=VolumeDevice></a>
<strong>volumeDevice 描述容器内原始块设备的映射。</strong></p><ul><li><p><strong>volumeDevices.devicePath</strong> (string)，必需</p><p>devicePath 是设备将被映射到的容器内的路径。</p></li><li><p><strong>volumeDevices.name</strong> (string)，必需</p><p>name 必须与 Pod 中的 persistentVolumeClaim 的名称匹配。</p></li></ul></li></ul><h3 id=生命周期-2>生命周期</h3><ul><li><p><strong>terminationMessagePath</strong> (string)</p><p>可选字段。挂载到容器文件系统的路径，用于写入容器终止消息的文件。
写入的消息旨在成为简短的最终状态，例如断言失败消息。如果超出 4096 字节，将被节点截断。
所有容器的总消息长度将限制为 12 KB。默认为 <code>/dev/termination-log</code>。无法更新。</p></li></ul><ul><li><p><strong>terminationMessagePolicy</strong> (string)</p><p>指示应如何填充终止消息。字段值为 <code>File</code> 表示将使用 <code>terminateMessagePath</code>
的内容来填充成功和失败的容器状态消息。
如果终止消息文件为空并且容器因错误退出，字段值 <code>FallbackToLogsOnError</code>
表示将使用容器日志输出的最后一块。日志输出限制为 2048 字节或 80 行，以较小者为准。
默认为 <code>File</code>。无法更新。</p></li></ul><h3 id=调试-1>调试</h3><ul><li><p><strong>stdin</strong> （boolean）</p><p>是否应在容器运行时内为此容器 stdin 分配缓冲区。
如果未设置，从容器中的 stdin 读数据将始终导致 EOF。默认为 false。</p></li></ul><ul><li><p><strong>stdinOnce</strong> （boolean）</p><p>容器运行时是否应在某个 attach 操作打开 stdin 通道后关闭它。
当 stdin 为 true 时，stdin 流将在多个 attach 会话中保持打开状态。
如果 stdinOnce 设置为 true，则 stdin 在容器启动时打开，在第一个客户端连接到 stdin 之前为空，
然后保持打开并接受数据，直到客户端断开连接，此时 stdin 关闭并保持关闭直到容器重新启动。
如果此标志为 false，则从 stdin 读取的容器进程将永远不会收到 EOF。默认为 false。</p></li></ul><ul><li><p><strong>tty</strong> (boolean)</p><p>这个容器是否应该为自己分配一个 TTY，也需要 stdin 为 true。默认为 false。</p></li></ul><h3 id=安全上下文-2>安全上下文</h3><ul><li><p><strong>securityContext</strong> (SecurityContext)</p><p>可选字段。securityContext 定义了运行临时容器的安全选项。
如果设置了此字段，SecurityContext 的字段将覆盖 PodSecurityContext 的等效字段。</p><p>SecurityContext 保存将应用于容器的安全配置。
一些字段在 SecurityContext 和 PodSecurityContext 中都存在。
当两者都设置时，SecurityContext 中的值优先。</p><ul><li><p><strong>securityContext.runAsUser</strong> （int64）</p><p>运行容器进程入口点的 UID。如果未指定，则默认为镜像元数据中指定的用户。
也可以在 PodSecurityContext 中设置。如果同时在 SecurityContext 和 PodSecurityContext
中设置，则在 SecurityContext 中指定的值优先。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.runAsNonRoot</strong> （boolean）</p><p>指示容器必须以非 root 用户身份运行。如果为 true，Kubelet 将在运行时验证镜像，
以确保它不会以 UID 0（root）身份运行，如果是，则无法启动容器。
如果未设置或为 false，则不会执行此类验证。也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext
中指定的值优先。</p></li></ul><ul><li><p><strong>securityContext.runAsGroup</strong> （int64）</p><p>运行容器进程入口点的 GID。如果未设置，则使用运行时默认值。也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext
中指定的值优先。注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.readOnlyRootFilesystem</strong> （boolean）</p><p>此容器是否具有只读根文件系统。
默认为 false。注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.procMount</strong> （string）</p><p>procMount 表示用于容器的 proc 挂载类型。默认值为 DefaultProcMount，
它将容器运行时默认值用于只读路径和掩码路径。这需要启用 ProcMountType 特性门控。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.privileged</strong> （boolean）</p><p>以特权模式运行容器。特权容器中的进程本质上等同于主机上的 root。默认为 false。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p></li></ul><ul><li><p><strong>securityContext.allowPrivilegeEscalation</strong> （boolean）</p><p>allowPrivilegeEscalation 控制进程是否可以获得比其父进程更多的权限。
此布尔值直接控制是否在容器进程上设置 <code>no_new_privs</code> 标志。allowPrivilegeEscalation
在容器处于以下状态时始终为 true：</p><ol><li>以特权身份运行</li><li>具有 <code>CAP_SYS_ADMIN</code> 权能</li></ol><p>请注意，当 <code>spec.os.name</code> 为 "windows" 时，无法设置此字段。</p></li></ul><ul><li><p><strong>securityContext.capabilities</strong> (Capabilities)</p><p>运行容器时添加/放弃的权能。默认为容器运行时授予的默认权能集。
注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p><p><strong>在运行中的容器中添加和放弃 POSIX 权能。</strong></p><ul><li><p><strong>securityContext.capabilities.add</strong> （[]string）</p><p>新增的权能。</p></li><li><p><strong>securityContext.capabilities.drop</strong> （[]string）</p><p>放弃的权能。</p></li></ul></li></ul><ul><li><p><strong>securityContext.seccompProfile</strong> （SeccompProfile）</p><p>此容器使用的 seccomp 选项。如果在 Pod 和容器级别都提供了 seccomp 选项，
则容器选项会覆盖 Pod 选项。注意，<code>spec.os.name</code> 为 "windows" 时不能设置该字段。</p><p><strong>SeccompProfile 定义 Pod 或容器的 seccomp 配置文件设置。只能设置一个配置文件源。</strong></p><ul><li><p><strong>securityContext.seccompProfile.type</strong> (string)，必需</p><p>type 指示将应用哪种 seccomp 配置文件。有效的选项是：</p><ul><li><code>Localhost</code> - 应使用在节点上的文件中定义的配置文件。</li><li><code>RuntimeDefault</code> - 应使用容器运行时默认配置文件。</li><li><code>Unconfined</code> - 不应应用任何配置文件。</li></ul></li></ul><ul><li><p><strong>securityContext.seccompProfile.localhostProfile</strong> （string）</p><p>localhostProfile 指示应使用在节点上的文件中定义的配置文件。
该配置文件必须在节点上预先配置才能工作。
必须是相对于 kubelet 配置的 seccomp 配置文件位置下的子路径。
仅当 type 为 "Localhost" 时才必须设置。</p></li></ul></li></ul><ul><li><p><strong>securityContext.seLinuxOptions</strong> （SELinuxOptions）</p><p>要应用于容器的 SELinux 上下文。如果未指定，容器运行时将为每个容器分配一个随机
SELinux 上下文。也可以在 PodSecurityContext 中设置。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext
中指定的值优先。注意，<code>spec.os.name</code> 为 "windows" 时不能设置此字段。</p><p><a name=SELinuxOptions></a>
<strong>SELinuxOptions 是要应用于容器的标签</strong></p><ul><li><p><strong>securityContext.seLinuxOptions.level</strong> （string）</p><p>level 是应用于容器的 SELinux 级别标签。</p></li><li><p><strong>securityContext.seLinuxOptions.role</strong> （string）</p><p>role 是应用于容器的 SELinux 角色标签。</p></li><li><p><strong>securityContext.seLinuxOptions.type</strong> （string）</p><p>type 是适用于容器的 SELinux 类型标签。</p></li><li><p><strong>securityContext.seLinuxOptions.user</strong> （string）</p><p>user 是应用于容器的 SELinux 用户标签。</p></li></ul></li></ul><ul><li><p><strong>securityContext.windowsOptions</strong> （WindowsSecurityContextOptions）</p><p>要应用到所有容器上的特定于 Windows 的设置。如果未指定，将使用 PodSecurityContext 中的选项。
如果同时在 SecurityContext 和 PodSecurityContext 中设置，则在 SecurityContext
中指定的值优先。注意，<code>spec.os.name</code> 为 "linux" 时不能设置此字段。</p><p><a name=WindowsSecurityContextOptions></a>
<strong>WindowsSecurityContextOptions 包含特定于 Windows 的选项和凭据。</strong></p><ul><li><p><strong>securityContext.windowsOptions.gmsaCredentialSpec</strong> （string）</p><p>gmsaCredentialSpec 是 <a href=https://github.com/kubernetes-sigs/windows-gmsa>GMSA 准入 Webhook</a>
内嵌由 gmsaCredentialSpecName 字段所指定的 GMSA 凭证规约内容的地方。</p></li><li><p><strong>securityContext.windowsOptions.gmsaCredentialSpecName</strong> （string）</p><p>gmsaCredentialSpecName 是要使用的 GMSA 凭证规约的名称。</p></li></ul><ul><li><p><strong>securityContext.windowsOptions.hostProcess</strong> （boolean）</p><p>hostProcess 确定容器是否应作为 "主机进程" 容器运行。此字段是 Alpha 级别的，只有启用了
WindowsHostProcessContainers 特性门控的组件才会处理此字段。
设置此字段而未启用特性门控的话，在验证 Pod 时将引发错误。
一个 Pod 的所有容器必须具有相同的有效 hostProcess 值
（不允许混合设置了 hostProcess 的容器和未设置 hostProcess 的容器）。
此外，如果 hostProcess 为 true，则 hostNetwork 也必须设置为 true。</p></li></ul><ul><li><p><strong>securityContext.windowsOptions.runAsUserName</strong> （string）</p><p>Windows 中运行容器进程入口点的用户名。如果未指定，则默认为镜像元数据中指定的用户。
也可以在 PodSecurityContext 中设置。如果同时在 SecurityContext 和 PodSecurityContext
中设置，则在 SecurityContext 中指定的值优先。</p></li></ul></li></ul></li></ul><h3 id=不允许>不允许</h3><ul><li><p><strong>ports</strong>（[]ContainerPort）</p><p><strong>补丁策略：基于 <code>containerPort</code> 键合并</strong></p><p><strong>映射：键 <code>containerPort, protocol</code> 组合的唯一值将在合并期间保留</strong></p><p>临时容器不允许使用端口。</p><p><a name=ContainerPort></a>
<strong>ContainerPort 表示单个容器中的网络端口。</strong></p><ul><li><p><strong>ports.containerPort</strong> （int32），必需</p><p>要在容器的 IP 地址上公开的端口号。这必须是有效的端口号 0 &lt; x &lt; 65536。</p></li><li><p><strong>ports.hostIP</strong> （string）</p><p>要将外部端口绑定到的主机 IP。</p></li></ul><ul><li><p><strong>ports.hostPort</strong> （int32）</p><p>要在主机上公开的端口号。如果设置了，则作为必须是一个有效的端口号，0 &lt; x &lt; 65536。
如果指定了 hostNetwork，此值必须与 containerPort 匹配。大多数容器不需要这个配置。</p></li></ul><ul><li><p><strong>ports.name</strong>（string）</p><p>如果指定了，则作为端口的名称。必须是 IANA_SVC_NAME 并且在 Pod 中是唯一的。
Pod 中的每个命名端口都必须具有唯一的名称。服务可以引用的端口的名称。</p></li><li><p><strong>ports.protocol</strong> （string）</p><p>端口协议。必须是 <code>UDP</code>、<code>TCP</code> 或 <code>SCTP</code> 之一。默认为 <code>TCP</code>。</p></li></ul></li></ul><ul><li><p><strong>resources</strong> (ResourceRequirements)</p><p>临时容器不允许使用资源。临时容器使用已分配给 Pod 的空闲资源。</p><p><strong>ResourceRequirements 描述计算资源的需求。</strong></p><ul><li><p><strong>resources.limits</strong> （map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>）</p><p>limits 描述所允许的最大计算资源量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p></li></ul><ul><li><p><strong>resources.requests</strong> （map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>）</p><p>requests 描述所需的最小计算资源量。如果对容器省略了 requests，则默认其资源请求值为 limits
（如果已显式指定）的值，否则为实现定义的值。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p></li></ul></li></ul><ul><li><p><strong>lifecycle</strong> (Lifecycle)</p><p>临时容器不允许使用生命周期。</p><p>生命周期描述了管理系统为响应容器生命周期事件应采取的行动。
对于 postStart 和 preStop 生命周期处理程序，容器的管理会阻塞，直到操作完成，
除非容器进程失败，在这种情况下处理程序被中止。</p><ul><li><p><strong>lifecycle.postStart</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#LifecycleHandler>LifecycleHandler</a>）</p><p>创建容器后立即调用 postStart。如果处理程序失败，则容器将根据其重新启动策略终止并重新启动。
容器的其他管理阻塞直到钩子完成。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p></li></ul><ul><li><p><strong>lifecycle.preStop</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#LifecycleHandler>LifecycleHandler</a>）</p><p>preStop 在容器因 API 请求或管理事件（例如：存活态探针/启动探针失败、抢占、资源争用等）
而终止之前立即调用。如果容器崩溃或退出，则不会调用处理程序。
Pod 的终止宽限期倒计时在 preStop 钩子执行之前开始。
无论处理程序的结果如何，容器最终都会在 Pod 的终止宽限期内终止（除非被终结器延迟）。
容器的其他管理会阻塞，直到钩子完成或达到终止宽限期。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/zh-cn/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p></li></ul></li></ul><ul><li><p><strong>livenessProbe</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>）</p><p>临时容器不允许使用探针。</p></li><li><p><strong>readyProbe</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>）</p><p>临时容器不允许使用探针。</p></li><li><p><strong>startupProbe</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>）</p><p>临时容器不允许使用探针。</p></li></ul><h2 id=LifecycleHandler>LifecycleHandler</h2><p>LifecycleHandler 定义了应在生命周期挂钩中执行的特定操作。
必须指定一个且只能指定一个字段，tcpSocket 除外。</p><hr><ul><li><p><strong>exec</strong> （execAction）</p><p>Exec 指定要执行的操作。</p><p><a name=ExecAction></a>
<strong>ExecAction 描述了 "在容器中运行" 操作。</strong></p><ul><li><p><strong>exec.command</strong> （[]string）</p><p>command 是要在容器内执行的命令行，命令的工作目录是容器文件系统中的根目录（'/'）。
该命令只是被通过 <code>exec</code> 执行，而不会单独启动一个 Shell 来运行，因此传统的
Shell 指令（'|' 等）将不起作用。要使用某 Shell，你需要显式调用该 Shell。
退出状态 0 被视为活动/健康，非零表示不健康。</p></li></ul></li></ul><ul><li><p><strong>httpGet</strong> （HTTPGetAction）</p><p>HTTPGet 指定要执行的 HTTP 请求。</p><p><a name=HTTPGetAction></a>
<strong>HTTPGetAction 描述基于 HTTP Get 请求的操作。</strong></p><ul><li><p><strong>httpGet.port</strong> （IntOrString），必需</p><p>要在容器上访问的端口的名称或编号。数字必须在 1 到 65535 的范围内。名称必须是 IANA_SVC_NAME。</p><p><a name=IntOrString></a>
<strong>IntOrString 是一种可以包含 int32 或字符串值的类型。在 JSON 或 YAML 封组和取消编组时，
它会生成或使用内部类型。例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</strong></p></li></ul><ul><li><p><strong>httpGet.host</strong> （string）</p><p>要连接的主机名，默认为 Pod IP。你可能想在 <code>httpHeaders</code> 中设置 "Host"。</p></li><li><p><strong>httpGet.httpHeaders</strong> （[]HTTPHeader）</p><p>要在请求中设置的自定义标头。HTTP 允许重复的标头。</p><p><a name=HTTPHeader></a>
<strong>HTTPHeader 描述了在 HTTP 探针中使用的自定义标头</strong></p><ul><li><p><strong>httpGet.httpHeaders.name</strong> (string)，必需</p><p>HTTP 头部字段名称。</p></li><li><p><strong>httpGet.httpHeaders.value</strong> (string)，必需</p><p>HTTP 头部字段取值。</p></li></ul></li></ul><ul><li><p><strong>httpGet.path</strong> （string）</p><p>HTTP 服务器上的访问路径。</p></li><li><p><strong>httpGet.scheme</strong> （string）</p><p>用于连接到主机的方案。默认为 <code>HTTP</code>。</p></li></ul></li></ul><ul><li><p><strong>tcpSocket</strong> （TCPSocketAction）</p><p>已弃用。不再支持 <code>tcpSocket</code> 作为 LifecycleHandler，但为向后兼容保留之。
当指定 <code>tcp</code> 处理程序时，此字段不会被验证，而生命周期回调将在运行时失败。</p><p><a name=TCPSocketAction></a>
<strong>TCPSocketAction 描述基于打开套接字的动作。</strong></p><ul><li><p><strong>tcpSocket.port</strong> (IntOrString)，必需</p><p>容器上要访问的端口的编号或名称。端口号必须在 1 到 65535 的范围内。
名称必须是 IANA_SVC_NAME。</p><p><a name=IntOrString></a>
<strong>IntOrString 是一种可以保存 int32 或字符串值的类型。在 JSON 或 YAML 编组和解组中使用时，
会生成或使用内部类型。例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</strong></p></li></ul><ul><li><p><strong>tcpSocket.host</strong> （string）</p><p>可选字段。要连接的主机名，默认为 Pod IP。</p></li></ul></li></ul><h2 id=NodeAffinity>NodeAffinity</h2><p>节点亲和性是一组节点亲和性调度规则。</p><hr><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution</strong> （[]PreferredSchedulingTerm）</p><p>调度程序会更倾向于将 Pod 调度到满足该字段指定的亲和性表达式的节点，
但它可能会选择违反一个或多个表达式的节点。最优选的节点是权重总和最大的节点，
即对于满足所有调度要求（资源请求、requiredDuringScheduling 亲和表达式等）的每个节点，
通过迭代该字段的元素来计算总和如果节点匹配相应的 matchExpressions，则将 "权重" 添加到总和中；
具有最高总和的节点是最优选的。</p><p>空的首选调度条件匹配所有具有隐式权重 0 的对象（即它是一个 no-op 操作）。
null 值的首选调度条件不匹配任何对象（即也是一个 no-op 操作）。</p><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.preference</strong> (NodeSelectorTerm)，必需</p><p>与相应权重相关联的节点选择条件。</p><p>null 值或空值的节点选择条件不会匹配任何对象。这些条件的请求按逻辑与操作组合。
TopologySelectorTerm 类型实现了 NodeSelectorTerm 的一个子集。</p><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.preference.matchExpressions</strong> （[]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/>NodeSelectorRequirement</a>）</p><p>按节点标签列出的节点选择条件列表。</p></li><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.preference.matchFields</strong> （[]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/>NodeSelectorRequirement</a>）</p><p>按节点字段列出的节点选择要求列表。</p></li></ul></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.weight</strong> (int32)，必需</p><p>与匹配相应的 nodeSelectorTerm 相关的权重，范围为 1-100。</p></li></ul></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution</strong> （NodeSelector）</p><p>如果在调度时不满足该字段指定的亲和性要求，则不会将 Pod 调度到该节点上。
如果在 Pod 执行期间的某个时间点不再满足此字段指定的亲和性要求（例如：由于更新），
系统可能会或可能不会尝试最终将 Pod 从其节点中逐出。</p><p><a name=NodeSelector></a>
<strong>一个节点选择器代表一个或多个标签查询结果在一组节点上的联合；换言之，
它表示由节点选择器项表示的选择器的逻辑或组合。</strong></p><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms</strong> ([]NodeSelectorTerm)，必需</p><p>必需的字段。节点选择条件列表。这些条件按逻辑或操作组合。</p><p>null 值或空值的节点选择器条件不匹配任何对象。这里的条件是按逻辑与操作组合的。
TopologySelectorTerm 类型实现了 NodeSelectorTerm 的一个子集。</p><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.matchExpressions</strong> （[]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/>NodeSelectorRequirement</a>）</p><p>按节点标签列出的节点选择器需求列表。</p></li><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.matchFields</strong> （[]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/>NodeSelectorRequirement</a>）</p><p>按节点字段列出的节点选择器要求列表。</p></li></ul></li></ul></li></ul><h2 id=PodAffinity>PodAffinity</h2><p>Pod 亲和性是一组 Pod 间亲和性调度规则。</p><hr><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution</strong> ([]WeightedPodAffinityTerm)</p><p>调度器会更倾向于将 Pod 调度到满足该字段指定的亲和性表达式的节点，
但它可能会选择违反一个或多个表达式的节点。最优选择是权重总和最大的节点，
即对于满足所有调度要求（资源请求、<code>requiredDuringScheduling</code> 亲和表达式等）的每个节点，
通过迭代该字段的元素来计算总和，如果节点具有与相应 <code>podAffinityTerm</code>
匹配的 Pod，则将“权重”添加到总和中；
具有最高总和的节点是最优选的。</p><p><a name=WeightedPodAffinityTerm></a>
<strong>所有匹配的 WeightedPodAffinityTerm 字段的权重都是按节点累计的，以找到最优选的节点。</strong></p><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm</strong> (PodAffinityTerm)，必需</p><p>必需的字段。一个 Pod 亲和性条件，对应一个与相应的权重值。</p><p><a name=PodAffinityTerm></a>
定义一组 Pod（即那些与给定名字空间相关的标签选择算符匹配的 Pod 集合），
当前 Pod 应该与所选 Pod 集合位于同一位置（亲和性）或位于不同位置（反亲和性），
其中“在同一位置”意味着运行在一个节点上，其键 <code>topologyKey</code> 的标签值与运行所选 Pod
集合中的某 Pod 的任何节点上的标签值匹配。</p><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</strong> (string)，必需</p><p>此 Pod 应与指定名字空间中与标签选择算符匹配的 Pod 集合位于同一位置（亲和性）
或位于不同位置（反亲和性），这里的“在同一位置”意味着运行在一个节点上，其键名为
<code>topologyKey</code> 的标签值与运行所选 Pod 集合中的某 Pod 的任何节点上的标签值匹配。
不允许使用空的 <code>topologyKey</code>。</p></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.labelSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对一组资源的标签查询，在这里资源为 Pod。</p></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaceSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对条件所适用的名字空间集合的标签查询。
此条件会被应用到此字段所选择的名字空间和 namespaces 字段中列出的名字空间的组合之上。
选择算符为 null 和 namespaces 列表为 null 值或空表示“此 Pod 的名字空间”。
空的选择算符 ({}) 可用来匹配所有名字空间。</p></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaces</strong> （[]string）</p><p>namespaces 指定此条件所适用的名字空间，是一个静态列表。
此条件会被应用到 namespaces 字段中列出的名字空间和由 namespaceSelector 选中的名字空间上。
namespaces 列表为 null 或空，以及 namespaceSelector 值为 null 均表示“此 Pod 的名字空间”。</p></li></ul></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.weight</strong> (int32)，必需</p><p>weight 是匹配相应 <code>podAffinityTerm</code> 条件的权重，范围为 1-100。</p></li></ul></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution</strong> （[]PodAffinityTerm）</p><p>如果在调度时不满足该字段指定的亲和性要求，则该 Pod 不会被调度到该节点上。
如果在 Pod 执行期间的某个时间点不再满足此字段指定的亲和性要求（例如：由于 Pod 标签更新），
系统可能会也可能不会尝试最终将 Pod 从其节点中逐出。
当此列表中有多个元素时，每个 <code>podAffinityTerm</code> 对应的节点列表是取其交集的，即必须满足所有条件。</p><p><a name=PodAffinityTerm></a>
定义一组 Pod（即那些与给定名字空间相关的标签选择算符匹配的 Pod 集合），当前 Pod 应该与该
Pod 集合位于同一位置（亲和性）或不位于同一位置（反亲和性）。
这里的“位于同一位置”含义是运行在一个节点上。基于 <code>topologyKey</code> 字段所给的标签键名，
检查所选 Pod 集合中各个 Pod 所在的节点上的标签值，标签值相同则认作“位于同一位置”。</p><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.topologyKey</strong> (string)，必需</p><p>此 Pod 应与指定名字空间中与标签选择算符匹配的 Pod 集合位于同一位置（亲和性）
或不位于同一位置（反亲和性），
这里的“位于同一位置”含义是运行在一个节点上。基于 <code>topologyKey</code> 字段所给的标签键名，
检查所选 Pod 集合中各个 Pod 所在的节点上的标签值，标签值相同则认作“位于同一位置”。
不允许使用空的 <code>topologyKey</code>。</p></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.labelSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对一组资源的标签查询，在这里资源为 Pod。</p></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaceSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对条件所适用的名字空间集合的标签查询。
当前条件将应用于此字段选择的名字空间和 namespaces 字段中列出的名字空间。
选择算符为 null 和 namespaces 列表为 null 或空值表示“此 Pod 的名字空间”。
空选择算符 ({}) 能够匹配所有名字空间。</p></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaces</strong> （[]string）</p><p>namespaces 指定当前条件所适用的名字空间名称的静态列表。
当前条件适用于此字段中列出的名字空间和由 namespaceSelector 选中的名字空间。
namespaces 列表为 null 或空，以及 namespaceSelector 为 null 表示“此 Pod 的名字空间”。</p></li></ul></li></ul><h2 id=PodAntiAffinity>PodAntiAffinity</h2><p>Pod 反亲和性是一组 Pod 间反亲和性调度规则。</p><hr><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution</strong> ([]WeightedPodAffinityTerm)</p><p>调度器更倾向于将 Pod 调度到满足该字段指定的反亲和性表达式的节点，
但它可能会选择违反一个或多个表达式的节点。
最优选的节点是权重总和最大的节点，即对于满足所有调度要求（资源请求、<code>requiredDuringScheduling</code>
反亲和性表达式等）的每个节点，通过遍历元素来计算总和如果节点具有与相应 <code>podAffinityTerm</code>
匹配的 Pod，则此字段并在总和中添加"权重"；具有最高加和的节点是最优选的。</p><p><a name=WeightedPodAffinityTerm></a>
<strong>所有匹配的 WeightedPodAffinityTerm 字段的权重都是按节点添加的，以找到最优选的节点。</strong></p><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm</strong> (PodAffinityTerm)，必需</p><p>必需的字段。一个 Pod 亲和性条件，与相应的权重相关联。</p><p><a name=PodAffinityTerm></a>
定义一组 Pod（即那些与给定名字空间相关的标签选择算符匹配的 Pod 集合），
当前 Pod 应该与所选 Pod 集合位于同一位置（亲和性）或不位于同一位置（反亲和性），
其中 "在同一位置" 意味着运行在一个节点上，其键 <code>topologyKey</code> 的标签值与运行所选 Pod
集合中的某 Pod 的任何节点上的标签值匹配。</p><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</strong> (string)，必需</p><p>此 Pod 应与指定名字空间中与标签选择算符匹配的 Pod 集合位于同一位置（亲和性）
或不位于同一位置（反亲和性），这里的 "在同一位置" 意味着运行在一个节点上，其键名为
<code>topologyKey</code> 的标签值与运行所选 Pod 集合中的某 Pod 的任何节点上的标签值匹配。
不允许使用空的 <code>topologyKey</code>。</p></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.labelSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对一组资源的标签查询，在这里资源为 Pod。</p></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaceSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对条件所适用的名字空间集合的标签查询。
此条件会被应用到此字段所选择的名字空间和 namespaces 字段中列出的名字空间的组合之上。
选择算符为 null 和 namespaces 列表为 null 值或空表示 "此 Pod 的名字空间"。
空的选择算符 ({}) 可用来匹配所有名字空间。</p></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaces</strong> （[]string）</p><p>namespaces 指定此条件所适用的名字空间，是一个静态列表。
此条件会被应用到 namespaces 字段中列出的名字空间和由 namespaceSelector 选中的名字空间上。
namespaces 列表为 null 或空，以及 namespaceSelector 值为 null 均表示 "此 Pod 的名字空间"。</p></li></ul></li></ul><ul><li><p><strong>preferredDuringSchedulingIgnoredDuringExecution.weight</strong> (int32)，必需</p><p>weight 是匹配相应 <code>podAffinityTerm</code> 条件的权重，范围为 1-100。</p></li></ul></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution</strong> （[]PodAffinityTerm）</p><p>如果在调度时不满足该字段指定的反亲和性要求，则该 Pod 不会被调度到该节点上。
如果在 Pod 执行期间的某个时间点不再满足此字段指定的反亲和性要求（例如：由于 Pod 标签更新），
系统可能会或可能不会尝试最终将 Pod 从其节点中逐出。
当有多个元素时，每个 <code>podAffinityTerm</code> 对应的节点列表是取其交集的，即必须满足所有条件。</p><p><a name=PodAffinityTerm></a>
定义一组 Pod（即那些与给定名字空间相关的标签选择算符匹配的 Pod 集合），当前 Pod 应该与该
Pod 集合位于同一位置（亲和性）或不位于同一位置（反亲和性）。
这里的 "位于同一位置" 含义是运行在一个节点上。基于 <code>topologyKey</code> 字段所给的标签键名，
检查所选 Pod 集合中各个 Pod 所在的节点上的标签值，标签值相同则认作 "位于同一位置"。</p><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.topologyKey</strong> (string)，必需</p><p>此 Pod 应与指定名字空间中与标签选择算符匹配的 Pod 集合位于同一位置（亲和性）
或不位于同一位置（反亲和性），
这里的 "位于同一位置" 含义是运行在一个节点上。基于 <code>topologyKey</code> 字段所给的标签键名，
检查所选 Pod 集合中各个 Pod 所在的节点上的标签值，标签值相同则认作 "位于同一位置"。
不允许使用空的 <code>topologyKey</code>。</p></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.labelSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对一组资源的标签查询，在这里资源为 Pod。</p></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaceSelector</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>）</p><p>对条件所适用的名字空间集合的标签查询。
当前条件将应用于此字段选择的名字空间和 namespaces 字段中列出的名字空间。
选择算符为 null 和 namespaces 列表为 null 或空值表示 “此 Pod 的名字空间”。
空选择算符 ({}) 能够匹配所有名字空间。</p></li></ul><ul><li><p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaces</strong> （[]string）</p><p>namespaces 指定当前条件所适用的名字空间名称的静态列表。
当前条件适用于此字段中列出的名字空间和由 namespaceSelector 选中的名字空间。
namespaces 列表为 null 或空，以及 namespaceSelector 为 null 表示 “此 Pod 的名字空间”。</p></li></ul></li></ul><h2 id=Probe>探针</h2><p>探针描述了要对容器执行的健康检查，以确定它是否处于活动状态或准备好接收流量。</p><hr><ul><li><p><strong>exec</strong> （execAction）</p><p>exec 指定要执行的操作。</p><p><a name=ExecAction></a>
<strong>ExecAction 描述了 "在容器中运行" 操作。</strong></p><ul><li><p><strong>exec.command</strong> （[]string）</p><p>command 是要在容器内执行的命令行，命令的工作目录是容器文件系统中的根目录（'/'）。
该命令只是通过 <code>exec</code> 执行，而不会启动 Shell，因此传统的 Shell 指令（'|' 等）将不起作用。
要使用某 Shell，你需要显式调用该 Shell。
退出状态 0 被视为存活/健康，非零表示不健康。</p></li></ul></li></ul><ul><li><p><strong>httpGet</strong> （HTTPGetAction）</p><p>httpGet 指定要执行的 HTTP 请求。</p><p><a name=HTTPGetAction></a>
<strong>HTTPGetAction 描述基于 HTTP Get 请求的操作。</strong></p><ul><li><p><strong>httpGet.port</strong> (IntOrString)，必需</p><p>容器上要访问的端口的名称或端口号。端口号必须在 1 到 65535 内。名称必须是 IANA_SVC_NAME。</p><p><a name=IntOrString></a>
<code>IntOrString</code> 是一种可以保存 int32 或字符串值的类型。在 JSON 或 YAML 编组和解组时，
它会生成或使用内部类型。例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</p></li></ul><ul><li><p><strong>httpGet.host</strong> （string）</p><p>要连接的主机名，默认为 Pod IP。你可能想在 <code>httpHeaders</code> 中设置 "Host"。</p></li></ul><ul><li><p><strong>httpGet.httpHeaders</strong> （[]HTTPHeader）</p><p>要在请求中设置的自定义 HTTP 标头。HTTP 允许重复的标头。</p><p><a name=HTTPHeader></a>
<strong>HTTPHeader 描述了在 HTTP 探针中使用的自定义标头。</strong></p><ul><li><p><strong>httpGet.httpHeaders.name</strong> (string)，必需</p><p>HTTP 头部域名称。</p></li><li><p><strong>httpGet.httpHeaders.value</strong> (string)，必需</p><p>HTTP 头部域值。</p></li></ul></li></ul><ul><li><p><strong>httpGet.path</strong> （string）</p><p>HTTP 服务器上的访问路径。</p></li><li><p><strong>httpGet.scheme</strong> （string）</p><p>用于连接到主机的方案。默认为 HTTP。</p></li></ul></li></ul><ul><li><p><strong>tcpSocket</strong> （TCPSocketAction）</p><p>tcpSocket 指定涉及 TCP 端口的操作。</p><p><a name=TCPSocketAction></a>
<strong><code>TCPSocketAction</code> 描述基于打开套接字的动作。</strong></p><ul><li><p><strong>tcpSocket.port</strong> (IntOrString)，必需</p><p>容器上要访问的端口的端口号或名称。端口号必须在 1 到 65535 内。名称必须是 IANA_SVC_NAME。</p><p><a name=IntOrString></a>
IntOrString 是一种可以保存 int32 或字符串的类型。在 JSON 或 YAML 编组和解组时，
它会生成或使用内部类型。例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</p></li></ul><ul><li><p><strong>tcpSocket.host</strong> （string）</p><p>可选字段。要连接的主机名，默认为 Pod IP。</p></li></ul></li></ul><ul><li><p><strong>初始延迟秒</strong> （int32）</p><p>容器启动后启动存活态探针之前的秒数。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p></li></ul><ul><li><p><strong>terminationGracePeriodSeconds</strong> （int64）</p><p>Pod 需要在探针失败时体面终止所需的时间长度（以秒为单位），为可选字段。
宽限期是 Pod 中运行的进程收到终止信号后，到进程被终止信号强制停止之前的时间长度（以秒为单位）。
你应该将此值设置为比你的进程的预期清理时间更长。
如果此值为 nil，则将使用 Pod 的 <code>terminateGracePeriodSeconds</code>。
否则，此值将覆盖 Pod 规约中设置的值。字段值值必须是非负整数。
零值表示收到终止信号立即停止（没有机会关闭）。
这是一个 Beta 字段，需要启用 ProbeTerminationGracePeriod 特性门控。最小值为 1。
如果未设置，则使用 <code>spec.terminationGracePeriodSeconds</code>。</p></li></ul><ul><li><p><strong>periodSeconds</strong> (int32)</p><p>探针的执行周期（以秒为单位）。默认为 10 秒。最小值为 1。</p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (int32)</p><p>探针超时的秒数。默认为 1 秒。最小值为 1。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p></li></ul><ul><li><p><strong>failureThreshold</strong> (int32)</p><p>探针成功后的最小连续失败次数，超出此阈值则认为探针失败。默认为 3。最小值为 1。</p></li></ul><ul><li><p><strong>successThreshold</strong> (int32)</p><p>探针失败后最小连续成功次数，超过此阈值才会被视为探针成功。默认为 1。
存活性探针和启动探针必须为 1。最小值为 1。</p></li></ul><ul><li><p><strong>grpc</strong> （GRPCAction）</p><p>GRPC 指定涉及 GRPC 端口的操作。这是一个 Beta 字段，需要启用 GRPCContainerProbe 特性门控。</p><p><a name=GRPCAction></a></p><ul><li><p><strong>grpc.port</strong> （int32），必需</p><p>gRPC 服务的端口号。数字必须在 1 到 65535 的范围内。</p></li><li><p><strong>grpc.service</strong> （string）</p><p>service 是要放置在 gRPC 运行状况检查请求中的服务的名称
（请参见 <a href=https://github.com/grpc/grpc/blob/master/doc/health-checking.md>https://github.com/grpc/grpc/blob/master/doc/health-checking.md</a>）。</p><p>如果未指定，则默认行为由 gRPC 定义。</p></li></ul></li></ul><h2 id=PodStatus>PodStatus</h2><p>PodStatus 表示有关 Pod 状态的信息。状态内容可能会滞后于系统的实际状态，
尤其是在托管 Pod 的节点无法联系控制平面的情况下。</p><hr><ul><li><p><strong>nominatedNodeName</strong> (string)</p><p>仅当此 Pod 抢占节点上的其他 Pod 时才设置 <code>nominatedNodeName</code>，
但抢占操作的受害者会有体面终止期限，因此此 Pod 无法立即被调度。
此字段不保证 Pod 会在该节点上调度。
如果其他节点更早进入可用状态，调度器可能会决定将 Pod 放置在其他地方。
调度器也可能决定将此节点上的资源分配给优先级更高的、在抢占操作之后创建的 Pod。
因此，当 Pod 被调度时，该字段可能与 Pod 规约中的 nodeName 不同。</p></li></ul><ul><li><p><strong>hostIP</strong> (string)</p><p>Pod 被调度到的主机的 IP 地址。如果尚未被调度，则为字段为空。</p></li></ul><ul><li><p><strong>startTime</strong> (Time)</p><p>kubelet 确认 Pod 对象的日期和时间，格式遵从 RFC 3339。
此时间点处于 kubelet 为 Pod 拉取容器镜像之前。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>phase</strong> (string)</p><p>Pod 的 phase 是对 Pod 在其生命周期中所处位置的简单、高级摘要。
conditions 数组、reason 和 message 字段以及各个容器的 status 数组包含有关 Pod
状态的进一步详细信息。phase 的取值有五种可能性：</p><ul><li><code>Pending</code>：Pod 已被 Kubernetes 系统接受，但尚未创建容器镜像。
这包括 Pod 被调度之前的时间以及通过网络下载镜像所花费的时间。</li><li><code>Running</code>：Pod 已经被绑定到某个节点，并且所有的容器都已经创建完毕。至少有一个容器仍在运行，或者正在启动或重新启动过程中。</li><li><code>Succeeded</code>：Pod 中的所有容器都已成功终止，不会重新启动。</li><li><code>Failed</code>：Pod 中的所有容器都已终止，并且至少有一个容器因故障而终止。
容器要么以非零状态退出，要么被系统终止。</li><li><code>Unknown</code>：由于某种原因无法获取 Pod 的状态，通常是由于与 Pod 的主机通信时出错。</li></ul><p>更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-phase>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-phase</a></p></li></ul><ul><li><p><strong>message</strong> (string)</p><p>一条人类可读的消息，标示有关 Pod 为何处于这种情况的详细信息。</p></li><li><p><strong>reason</strong> (string)</p><p>一条简短的驼峰式命名的消息，指示有关 Pod 为何处于此状态的详细信息。例如 'Evicted'。</p></li><li><p><strong>podIP</strong> （string）</p><p>分配给 Pod 的 IP 地址。至少在集群内可路由。如果尚未分配则为空。</p></li></ul><ul><li><p><strong>podIPs</strong> （[]PodIP）</p><p><strong>补丁策略：基于 <code>ip</code> 键合并</strong></p><p>podIPs 保存分配给 Pod 的 IP 地址。如果指定了该字段，则第 0 个条目必须与 podIP 字段值匹配。
Pod 最多可以为 IPv4 和 IPv6 各分配 1 个值。如果尚未分配 IP，则此列表为空。</p><p><a name=PodIP></a>
podIPs 字段中每个条目的 IP 地址信息。每个条目都包含：</p><p><code>ip</code> 字段：给出分配给 Pod 的 IP 地址。该 IP 地址至少在集群内可路由。</p><ul><li><p><strong>podIP.ip</strong> （string）</p><p>ip 是分配给 Pod 的 IP 地址（IPv4 或 IPv6）。</p></li></ul></li></ul><ul><li><p><strong>conditions</strong> ([]PodCondition)</p><p><strong>补丁策略：基于 <code>ip</code> 键合并</strong></p><p>Pod 的当前服务状态。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions</a></p><p><a name=PodCondition></a>
<strong>PodCondition 包含此 Pod 当前状况的详细信息。</strong></p><ul><li><strong>conditions.status</strong> (string)，必需</li></ul><p>status 是 condition 的状态。可以是 <code>True</code>、<code>False</code>、<code>Unknown</code> 之一。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions</a></p><ul><li><p><strong>conditions.type</strong> (string)，必需</p><p>type 是 condition 的类型。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions</a></p></li></ul><ul><li><p><strong>conditions.lastProbeTime</strong> (Time)</p><p>上次探测 Pod 状况的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>上次 Pod 状况从一种状态变为另一种状态的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p>标示有关上次状况变化的详细信息的、人类可读的消息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>condition 最近一次变化的唯一、一个单词、驼峰式命名原因。</p></li></ul></li></ul><ul><li><p><strong>qosClass</strong> （string）</p><p>根据资源要求分配给 Pod 的服务质量 (QOS) 分类。有关可用的 QOS 类，请参阅 PodQOSClass 类型。
更多信息： <a href=https://git.k8s.io/community/contributors/design-proposals/node/resource-qos.md>https://git.k8s.io/community/contributors/design-proposals/node/resource-qos.md</a></p></li></ul><ul><li><p><strong>initContainerStatuses</strong> （[]ContainerStatus）</p><p>该列表在清单中的每个 Init 容器中都有一个条目。最近成功的 Init 容器会将 ready 设置为 true，
最近启动的容器将设置 startTime。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status</a></p><p><strong>ContainerStatus 包含此容器当前状态的详细信息。</strong></p><ul><li><p><strong>initContainerStatuses.name</strong> (string)，必需</p><p>此字段值必须是 DNS_LABEL。Pod 中的每个容器都必须具有唯一的名称。无法更新。</p></li><li><p><strong>initContainerStatuses.image</strong> (string)，必需</p><p>容器中正在运行的镜像。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images>https://kubernetes.io/zh-cn/docs/concepts/containers/images</a>。</p></li></ul><ul><li><p><strong>initContainerStatuses.imageID</strong> (string)，必需</p><p>容器镜像的镜像 ID。</p></li><li><p><strong>initContainerStatuses.containerID</strong> （string）</p><p>格式为 <code>&lt;type>://&lt;container_id></code> 的容器 ID。</p></li></ul><ul><li><p><strong>initContainerStatuses.state</strong> （ContainerState）</p><p>有关容器当前状况的详细信息。</p><p>ContainerState 中保存容器的可能状态。只能设置其成员之一。如果其中所有字段都未设置，
则默认为 ContainerStateWaiting。</p><ul><li><p><strong>initContainerStatuses.state.running</strong> （ContainerStateRunning）</p><p>有关正在运行的容器的详细信息。</p><p><strong>ContainerStateRunning 是容器的运行状态。</strong></p><ul><li><p><strong>initContainerStatuses.state.running.startedAt</strong> （Time）</p><p>容器上次（重新）启动的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul></li></ul><ul><li><p><strong>initContainerStatuses.state.terminated</strong> （ContainerStateTerminated）</p><p>有关已终止容器的详细信息。</p><p><strong>ContainerStateTerminated 是容器的终止状态。</strong></p><ul><li><p><strong>initContainerStatuses.state.terminated.containerID</strong> （string）</p><p>容器的 ID，格式为 <code>"&lt;类型>://&lt;container_id>"</code>。</p></li><li><p><strong>initContainerStatuses.state.terminated.exitCode</strong> （int32），必需</p><p>容器上次终止时的退出状态</p></li></ul><ul><li><p><strong>initContainerStatuses.state.terminated.startedAt</strong> （Time）</p><p>容器上次执行时的开始时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>initContainerStatuses.state.terminated.finishedAt</strong> （Time）</p><p>容器上次终止的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>initContainerStatuses.state.terminated.message</strong> （string）</p><p>有关容器上次终止的消息。</p></li><li><p><strong>initContainerStatuses.state.terminated.reason</strong> （string）</p><p>容器最后一次终止的（简要）原因。</p></li><li><p><strong>initContainerStatuses.state.terminated.signal</strong> （int32）</p><p>容器最后一次终止的信号。</p></li></ul></li></ul><ul><li><p><strong>initContainerStatuses.state.waiting</strong> （ContainerStateWaiting）</p><p>有关等待状态容器的详细信息。</p><p><strong>容器状态等待是容器的等待状态。</strong></p><ul><li><p><strong>initContainerStatuses.state.waiting.message</strong> （string）</p><p>有关容器尚未运行的原因的消息。</p></li><li><p><strong>initContainerStatuses.state.waiting.reason</strong> （string）</p><p>容器尚未运行的（简要）原因。</p></li></ul></li></ul></li></ul><ul><li><p><strong>initContainerStatuses.lastState</strong> （ContainerState）</p><p>有关容器上次终止状况的详细信息。</p><p>ContainerState 保存容器的可能状态。只能设置其成员之一。如果未设置任何成员，
则默认为 ContainerStateWaiting。</p><ul><li><p><strong>initContainerStatuses.lastState.running</strong> （ContainerStateRunning）</p><p>有关正在运行的容器的详细信息</p><p><strong>ContainerStateRunning 是容器的运行状态。</strong></p><ul><li><p><strong>initContainerStatuses.lastState.running.startedAt</strong> （Time）</p><p>容器上次（重新）启动的时间</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul></li></ul><ul><li><p><strong>initContainerStatuses.lastState.terminated</strong> （ContainerStateTerminated）</p><p>有关已终止容器的详细信息。</p><p><strong>ContainerStateTerminated 是容器的终止状态。</strong></p><ul><li><p><strong>initContainerStatuses.lastState.terminated.containerID</strong> （string）</p><p>容器的 ID，格式为 <code>"&lt;类型>://&lt;container_id>"</code>。</p></li><li><p><strong>initContainerStatuses.lastState.terminated.exitCode</strong> （int32），必需</p><p>容器上次终止的退出状态码。</p></li></ul><ul><li><p><strong>initContainerStatuses.lastState.terminated.startedAt</strong> （Time）</p><p>容器上次执行的开始时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>initContainerStatuses.lastState.terminated.finishedAt</strong> （Time）</p><p>容器上次终止的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>initContainerStatuses.lastState.terminated.message</strong> （string）</p><p>有关容器上次终止的消息。</p></li><li><p><strong>initContainerStatuses.lastState.terminated.reason</strong> （string）</p><p>容器最后一次终止的（简要）原因。</p></li><li><p><strong>initContainerStatuses.lastState.terminated.signal</strong> （int32）</p><p>容器最后一次终止的信号。</p></li></ul></li></ul><ul><li><p><strong>initContainerStatuses.lastState.waiting</strong> （ContainerStateWaiting）</p><p>有关等待状态的容器的详细信息。</p><p><strong>ContainerStateWaiting 是容器的等待状态。</strong></p><ul><li><p><strong>initContainerStatuses.lastState.waiting.message</strong> （string）</p><p>关于容器尚未运行的原因的消息。</p></li><li><p><strong>initContainerStatuses.lastState.waiting.reason</strong> （string）</p><p>容器尚未运行的（简要）原因。</p></li></ul></li></ul></li></ul><ul><li><p><strong>initContainerStatuses.ready</strong> （boolean），必需</p><p>指定容器是否已通过其就绪态探测。</p></li><li><p><strong>initContainerStatuses.restartCount</strong> （int32），必需</p><p>容器重新启动的次数。</p></li></ul><ul><li><p><strong>initContainerStatuses.started</strong> （boolean）</p><p>指定容器是否已通过其启动探测。初始化为 false，在 startupProbe 成功之后变为 true。
在容器重新启动时，或者如果 kubelet 暂时失去状态时重置为 false。
在未定义启动探测器时始终为 true。</p></li></ul></li></ul><ul><li><p><strong>containerStatuses</strong> （[]ContainerStatus）</p><p>该列表中针对清单中的每个容器都有一个条目。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status>https://kubernetes.io/zh-cn/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status</a></p><p><strong>ContainerStatus 包含此容器当前状态的详细信息。</strong></p><ul><li><p><strong>containerStatuses.name</strong>（string），必需</p><p>此字段必须是一个 DNS_LABEL。Pod 中的每个容器都必须具有唯一的名称。无法更新。</p></li><li><p><strong>containerStatuses.image</strong> （string），必需</p><p>容器正在运行的镜像。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images>https://kubernetes.io/zh-cn/docs/concepts/containers/images</a>。</p></li></ul><ul><li><p><strong>containerStatuses.imageID</strong> （string），必需</p><p>容器镜像的镜像 ID。</p></li><li><p><strong>containerStatuses.containerID</strong> （string）</p><p>容器的 ID，格式为 <code>"&lt;类型>://&lt;container_id>"</code>。</p></li></ul><ul><li><p><strong>containerStatuses.state</strong> （ContainerState）</p><p>有关容器当前状况的详细信息。</p><p>ContainerStatuses 保存容器的可能状态。只能设置其中一个成员。如果所有成员都未设置，
则默认为 ContainerStateWaiting。</p><ul><li><p><strong>containerStatuses.state.running</strong> （ContainerStateRunning）</p><p>有关正在运行的容器的详细信息。</p><p><strong>ContainerStateRunning 是容器的运行状态。</strong></p><ul><li><p><strong>containerStatuses.state.running.startedAt</strong> （Time）</p><p>容器上次（重新）启动的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul></li></ul><ul><li><p><strong>containerStatuses.state.terminated</strong> （ContainerStateTerminated）</p><p>有关已终止容器的详细信息。</p><p><strong>ContainerStateTerminated 是容器的终止状态。</strong></p><ul><li><p><strong>containerStatuses.state.terminated.containerID</strong> （string）</p><p>容器的 ID，格式为 <code>"&lt;类型>://&lt;container_id>"</code>。</p></li><li><p><strong>containerStatuses.state.terminated.exitCode</strong> （int32），必需</p><p>容器上次终止的退出状态码。</p></li></ul><ul><li><p><strong>containerStatuses.state.terminated.startedAt</strong> （Time）</p><p>容器上次执行的开始时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>containerStatuses.state.terminated.message</strong> （string）</p><p>有关容器上次终止的消息。</p></li><li><p><strong>containerStatuses.state.terminated.reason</strong> （string）</p><p>容器最后一次终止的（简要）原因</p></li><li><p><strong>containerStatuses.state.terminated.signal</strong> （int32）</p><p>容器最后一次终止的信号。</p></li></ul></li></ul><ul><li><p><strong>containerStatuses.state.waiting</strong> （ContainerStateWaiting）</p><p>有关等待容器的详细信息。</p><p><strong>ContainerStateWaiting 是容器的等待状态。</strong></p><ul><li><p><strong>containerStatuses.state.waiting.message</strong> （string）</p><p>关于容器尚未运行的原因的消息。</p></li><li><p><strong>containerStatuses.state.waiting.reason</strong> （string）</p><p>容器尚未运行的（简要）原因。</p></li></ul></li></ul></li></ul><ul><li><p><strong>containerStatuses.lastState</strong> （ContainerState）</p><p>有关容器上次终止状况的详细信息。</p><p>容器状态保存容器的可能状态。只能设置一个成员。如果所有成员都未设置，
则默认为 ContainerStateWaiting。</p><ul><li><p><strong>containerStatuses.lastState.running</strong> （ContainerStateRunning）</p><p>有关正在运行的容器的详细信息。</p><p><strong>ContainerStateRunning 是容器的运行状态。</strong></p><ul><li><p><strong>containerStatuses.lastState.running.startedAt</strong> （Time）</p><p>容器上次（重新）启动的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul></li></ul><ul><li><p><strong>containerStatuses.lastState.terminated</strong> （ContainerStateTerminated）</p><p>有关已终止容器的详细信息。</p><p><strong>ContainerStateTerminated 是容器的终止状态。</strong></p><ul><li><p><strong>containerStatuses.lastState.terminated.containerID</strong> （string）</p><p>格式为 <code>&lt;type>://&lt;container_id></code> 的容器 ID。</p></li><li><p><strong>containerStatuses.lastState.terminated.exitCode</strong> (int32)，必需</p><p>容器最后终止的退出状态码。</p></li></ul><ul><li><p><strong>containerStatuses.lastState.terminated.startedAt</strong> （Time）</p><p>容器上次执行时的开始时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>containerStatuses.lastState.terminated.finishedAt</strong> （Time）</p><p>容器上次终止的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>containerStatuses.lastState.terminated.message</strong> （string）</p><p>关于容器上次终止的消息。</p></li><li><p><strong>containerStatuses.lastState.terminated.reason</strong> （string）</p><p>容器上次终止的（简要）原因</p></li><li><p><strong>containerStatuses.lastState.terminated.signal</strong> （int32）</p><p>容器上次终止的信号。</p></li></ul></li></ul><ul><li><p><strong>containerStatuses.lastState.waiting</strong> （ContainerStateWaiting）</p><p>有关等待容器的详细信息。</p><p><strong>ContainerStateWaiting 是容器的等待状态。</strong></p><ul><li><p><strong>containerStatuses.lastState.waiting.message</strong> （string）</p><p>关于容器尚未运行的原因的消息。</p></li><li><p><strong>containerStatuses.lastState.waiting.reason</strong> （string）</p><p>容器尚未运行的（简要）原因。</p></li></ul></li></ul></li></ul><ul><li><p><strong>containerStatuses.ready</strong> (boolean)，必需</p><p>指定容器是否已通过其就绪态探针。</p></li><li><p><strong>containerStatuses.restartCount</strong> (int32)，必需</p><p>容器重启的次数。</p></li></ul><ul><li><p><strong>containerStatuses.started</strong> （boolean）</p><p>指定容器是否已通过其启动探针探测。初始化为 false，startupProbe 被认为成功后变为 true。
当容器重新启动或 kubelet 暂时丢失状态时重置为 false。
未定义启动探针时始终为 true。</p></li></ul></li></ul><ul><li><p><strong>ephemeralContainerStatuses</strong> （[]ContainerStatus）</p><p>已在此 Pod 中运行的任何临时容器的状态。</p><p><a name=ContainerStatus></a>
<strong>ContainerStatus 包含此容器当前状态的详细信息。</strong></p><ul><li><p><strong>ephemeralContainerStatuses.name</strong> (string)，必需</p><p>字段值必须是 DNS_LABEL。Pod 中的每个容器都必须具有唯一的名称。无法更新。</p></li><li><p><strong>ephemeralContainerStatuses.image</strong> (string)，必需</p><p>容器正在运行的镜像。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images>https://kubernetes.io/zh-cn/docs/concepts/containers/images</a>。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.imageID</strong> (string)，必需</p><p>容器镜像的镜像 ID。</p></li><li><p><strong>ephemeralContainerStatuses.containerID</strong> （string）</p><p>格式为 <code>&lt;type>://&lt;container_id></code> 的容器 ID。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.state.running</strong> （ContainerStateRunning）</p><p>有关正在运行的容器的详细信息</p><p><strong>ContainerStateRunning 是容器的运行状态。</strong></p><ul><li><p><strong>ephemeralContainerStatuses.state.running.startedAt</strong> （Time）</p><p>容器上次（重新）启动的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul></li></ul><ul><li><p><strong>ephemeralContainerStatuses.state.terminated</strong> （ContainerStateTerminated）</p><p>有关已终止容器的详细信息。</p><p><strong>ContainerStateTerminated 是容器的终止状态。</strong></p><ul><li><p><strong>ephemeralContainerStatuses.state.terminated.containerID</strong> （string）</p><p>格式为 <code>&lt;type>://&lt;container_id></code> 的容器 ID。</p></li><li><p><strong>ephemeralContainerStatuses.state.terminated.exitCode</strong> (int32)，必需</p><p>容器上次终止的退出状态码。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.state.terminated.startedAt</strong> （Time）</p><p>容器上次执行的开始时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.state.terminated.finishat</strong> （Time）</p><p>容器上次终止的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.state.terminated.message</strong> （string）</p><p>关于容器上次终止的消息。</p></li><li><p><strong>ephemeralContainerStatuses.state.terminated.reason</strong> （string）</p><p>容器上次终止的（简要）原因</p></li><li><p><strong>ephemeralContainerStatuses.state.terminated.signal</strong> （int32）</p><p>容器上次终止的信号</p></li></ul></li></ul><ul><li><p><strong>ephemeralContainerStatuses.state.waiting</strong> （ContainerStateWaiting）</p><p>有关等待容器的详细信息。</p><p><strong>ContainerStateWaiting 是容器的等待状态。</strong></p><ul><li><p><strong>ephemeralContainerStatuses.state.waiting.message</strong> （string）</p><p>关于容器尚未运行的原因的消息。</p></li><li><p><strong>ephemeralContainerStatuses.state.waiting.reason</strong> （string）</p><p>容器尚未运行的（简要）原因。</p></li></ul></li></ul></li></ul><ul><li><p><strong>ephemeralContainerStatuses.lastState</strong> （ContainerState）</p><p>有关容器的上次终止状况的详细信息。</p><p>ContainerState 保存容器的可能状态。只能设置其中一个成员。如果所有成员都未设置，
则默认为 <code>ContainerStateWaiting</code>。</p><ul><li><p><strong>ephemeralContainerStatuses.lastState.running</strong> （ContainerStateRunning）</p><p>有关正在运行的容器的详细信息。</p><p><strong>ContainerStateRunning 是容器的运行状态。</strong></p><ul><li><p><strong>ephemeralContainerStatuses.lastState.running.startedAt</strong> （Time）</p><p>容器上次（重新）启动的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul></li></ul><ul><li><p><strong>ephemeralContainerStatuses.lastState.terminated</strong> （ContainerStateTerminated）</p><p>有关已终止容器的详细信息。</p><p><strong><code>ContainerStateTerminated</code> 是容器的终止状态。</strong></p><ul><li><p><strong>ephemeralContainerStatuses.lastState.terminated.containerID</strong> （string）</p><p>格式为 <code>&lt;type>://&lt;container_id></code> 的容器 ID。</p></li><li><p><strong>ephemeralContainerStatuses.lastState.terminated.exitCode</strong> (int32)，必需</p><p>容器上次终止时的退出状态码。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.lastState.terminated.startedAt</strong> （Time）</p><p>容器上次执行的开始时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.lastState.terminated.finishedAt</strong> （Time）</p><p>容器上次终止的时间。</p><p>Time 是 <code>time.Time</code> 的包装器，支持正确编组为 YAML 和 JSON。
time 包所提供的许多工厂方法都有包装器。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.lastState.terminated.message</strong> （string）</p><p>关于容器上次终止的消息。</p></li><li><p><strong>ephemeralContainerStatuses.lastState.terminated.reason</strong> （string）</p><p>容器上次终止的（简要）原因。</p></li><li><p><strong>ephemeralContainerStatuses.lastState.terminated.signal</strong> （int32）</p><p>容器上次终止的信号。</p></li></ul></li></ul><ul><li><p><strong>ephemeralContainerStatuses.lastState.waiting</strong> （ContainerStateWaiting）</p><p>有关等待状态容器的详细信息。</p><p><strong>ContainerStateWaiting 是容器的等待状态。</strong></p><ul><li><p><strong>ephemeralContainerStatuses.lastState.waiting.message</strong> （string）</p><p>关于容器尚未运行的原因的消息。</p></li><li><p><strong>ephemeralContainerStatuses.lastState.waiting.reason</strong> （string）</p><p>容器尚未运行的（简要）原因。</p></li></ul></li></ul></li></ul><ul><li><p><strong>ephemeralContainerStatuses.ready</strong> （boolean），必需</p><p>指定容器是否已通过其就绪态探测。</p></li><li><p><strong>ephemeralContainerStatuses.restartCount</strong> （int32），必需</p><p>容器重新启动的次数。</p></li></ul><ul><li><p><strong>ephemeralContainerStatuses.started</strong> （boolean）</p><p>指定容器是否已通过其启动探测。初始化为 false，在 startProbe 成功之后变为 true。
在容器重新启动时或者 kubelet 暂时失去状态时重置为 false。
在未定义 startupProbe 时始终为 true。</p></li></ul><h2 id=PodList>PodList</h2><p>PodList 是 Pod 的列表。</p><hr><ul><li><p><strong>items</strong> （[]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>），必需</p><p>Pod 列表。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md</a></p></li></ul><ul><li><p><strong>apiVersion</strong> （string）</p><p>apiVersion 定义对象表示的版本化模式。服务器应将已识别的模式转换为最新的内部值，
并可能拒绝无法识别的值。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p></li></ul><ul><li><p><strong>kind</strong>（string）</p><p>kind 是一个字符串值，表示此对象表示的 REST 资源。服务器可以从客户端提交请求的端点推断出资源类别。
无法更新。采用驼峰式命名。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><ul><li><p><strong>metadata</strong> （<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>）</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-pod><code>get</code> 读取指定的 Pod</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/pods/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-pod-的-ephemeralcontainers><code>get</code> 读取指定 Pod 的 ephemeralcontainers</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/pods/{name}/ephemeralcontainers</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-pod-的日志><code>get</code> 读取指定 Pod 的日志</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/pods/{name}/log</p><h4 id=参数-2>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>container</strong> (<strong>查询参数</strong>): string</p><p>为其流式传输日志的容器。如果 Pod 中有一个容器，则默认为仅容器。</p></li></ul><ul><li><p><strong>follow</strong> (<strong>查询参数</strong>)：boolean</p><p>跟踪 Pod 的日志流。默认为 false。</p></li><li><p><strong>insecureSkipTLSVerifyBackend</strong> (<strong>查询参数</strong>)：boolean</p><p><code>insecureSkipTLSVerifyBackend</code> 表示 API 服务器不应确认它所连接的后端的服务证书的有效性。
这将使 API 服务器和后端之间的 HTTPS 连接不安全。
这意味着 API 服务器无法验证它接收到的日志数据是否来自真正的 kubelet。
如果 kubelet 配置为验证 API 服务器的 TLS 凭据，这并不意味着与真实 kubelet
的连接容易受到中间人攻击（例如，攻击者无法拦截来自真实 kubelet 的实际日志数据）。</p></li></ul><ul><li><p><strong>limitBytes</strong> (<strong>查询参数</strong>): integer</p><p>如果设置，则表示在终止日志输出之前从服务器读取的字节数。
设置此参数可能导致无法显示完整的最后一行日志记录，并且可能返回略多于或略小于指定限制。</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>previous</strong> (<strong>查询参数</strong>)：boolean</p><p>返回之前终止了的容器的日志。默认为 false。</p></li><li><p><strong>sinceSeconds</strong> (<strong>查询参数</strong>): integer</p><p>显示日志的当前时间之前的相对时间（以秒为单位）。如果此值早于 Pod 启动时间，
则仅返回自 Pod 启动以来的日志。如果此值是将来的值，则不会返回任何日志。
只能指定 <code>sinceSeconds</code> 或 <code>sinceTime</code> 之一。</p></li></ul><ul><li><p><strong>tailLines</strong> (<strong>查询参数</strong>): integer</p><p>如果设置，则从日志末尾开始显示的行数。如果未指定，则从容器创建或 <code>sinceSeconds</code> 或
<code>sinceTime</code> 时刻显示日志。</p></li><li><p><strong>timestamps</strong> (<strong>查询参数</strong>)：boolean</p><p>如果为 true，则在每行日志输出的开头添加 RFC3339 或 RFC3339Nano 时间戳。默认为 false。</p></li></ul><h4 id=响应-2>响应</h4><p>200 (string): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-pod-的状态><code>get</code> 读取指定 Pod 的状态</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/pods/{name}/status</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-pod-种类的对象><code>list</code> 列出或观察 Pod 种类的对象</h3><h4 id=http-请求-4>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/pods</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodList>PodList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-pod-种类的对象-1><code>list</code> 列出或观察 Pod 种类的对象</h3><h4 id=http-请求-5>HTTP 请求</h4><p>GET /api/v1/pods</p><h4 id=参数-5>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodList>PodList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-pod><code>create</code> 创建一个 Pod</h3><h4 id=http-请求-6>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/pods</p><h4 id=参数-6>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-pod><code>update</code> 替换指定的 Pod</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/pods/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-pod-的-ephemeralcontainers><code>update</code> 替换指定 Pod 的 ephemeralcontainers</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/pods/{name}/ephemeralcontainers</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-pod-的状态><code>update</code> 替换指定 Pod 的状态</h3><h4 id=http-请求-9>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/pods/{name}/status</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-pod><code>patch</code> 部分更新指定 Pod</h3><h4 id=http-请求-10>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/pods/{name}</p><h4 id=参数-10>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-pod-的-ephemeralcontainers><code>patch</code> 部分更新指定 Pod 的 ephemeralcontainers</h3><h4 id=http-请求-11>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/pods/{name}/ephemeralcontainers</p><h4 id=参数-11>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-11>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-pod-的状态><code>patch</code> 部分更新指定 Pod 的状态</h3><h4 id=http-请求-12>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/pods/{name}/status</p><h4 id=参数-12>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-12>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-pod><code>delete</code> 删除一个 Pod</h3><h4 id=http-请求-13>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/pods/{name}</p><h4 id=参数-13>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Pod 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-13>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Accepted</p><p>401: Unauthorize</p><h3 id=deletecollection-删除-pod-的集合><code>deletecollection</code> 删除 Pod 的集合</h3><h4 id=http-请求-14>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/pods</p><h4 id=参数-14>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-14>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-af1995b54121f96a81a8c51fecc4f6f7>1.2 - PodTemplate</h1><div class=lead>PodTemplate 描述一种模板，用来为预定义的 Pod 生成副本。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=PodTemplate>PodTemplate</h2><p>PodTemplate 描述一种模板，用来为预定义的 Pod 生成副本。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: PodTemplate</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>template</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>)</p><p>template 定义将基于此 Pod 模板所创建的 Pod。
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=PodTemplateSpec>PodTemplateSpec</h2><p>PodTemplateSpec 描述基于某模板所创建的 Pod 所应具有的数据。</p><hr><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodSpec>PodSpec</a>)</p><p>Pod 预期行为的规约。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=PodTemplateList>PodTemplateList</h2><p>PodTemplateList 是 PodTemplate 对象的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: PodTemplateList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>)，必需</p><p>PodTemplate 对象列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-podtemplate><code>get</code> 读取指定的 PodTemplate</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/podtemplates/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>PodTemplate 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-podtemplate-类型的对象><code>list</code> 列出或监视 PodTemplate 类型的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/podtemplates</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateList>PodTemplateList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-podtemplate-类型的对象-1><code>list</code> 列出或监视 PodTemplate 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/podtemplates</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateList>PodTemplateList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-podtemplate><code>create</code> 创建一个 PodTemplate</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/podtemplates</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-podtemplate><code>update</code> 替换指定的 PodTemplate</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/podtemplates/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>PodTemplate 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-podtemplate><code>patch</code> 部分更新指定的 PodTemplate</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/podtemplates/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>PodTemplate 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-podtemplate><code>delete</code> 删除一个 PodTemplate</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/podtemplates/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>PodTemplate 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-podtemplate-的集合><code>deletecollection</code> 删除 PodTemplate 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/podtemplates</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-888377326f4cd6e3d527f8dbb5ba81a0>1.3 - ReplicationController</h1><div class=lead>ReplicationController 表示一个副本控制器的配置。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=ReplicationController>ReplicationController</h2><p>ReplicationController 表示一个副本控制器的配置。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ReplicationController</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>如果 ReplicationController 的标签为空，则这些标签默认为与副本控制器管理的 Pod 相同。
标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerSpec>ReplicationControllerSpec</a>)</p><p>spec 定义副本控制器预期行为的规约。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerStatus>ReplicationControllerStatus</a>)</p><p>status 是最近观测到的副本控制器的状态。此数据可能在某个时间窗之后过期。
该值由系统填充，只读。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=ReplicationControllerSpec>ReplicationControllerSpec</h2><p>ReplicationControllerSpec 表示一个副本控制器的规约。</p><hr><ul><li><p><strong>selector</strong> (map[string]string)</p><p>selector 是针对 Pod 的标签查询，符合条件的 Pod 个数应与 replicas 匹配。
如果 selector 为空，则默认为出现在 Pod 模板中的标签。
如果置空以表示默认使用 Pod 模板中的标签，则标签的主键和取值必须匹配，以便由这个副本控制器进行控制。
更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p></li><li><p><strong>template</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>)</p><p>template 是描述 Pod 的一个对象，将在检测到副本不足时创建此对象。
此字段优先于 templateRef。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#pod-template>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#pod-template</a></p></li></ul><ul><li><p><strong>replicas</strong> (int32)</p><p>replicas 是预期副本的数量。这是一个指针，用于辨别显式零和未指定的值。默认为 1。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller</a></p></li><li><p><strong>minReadySeconds</strong> (int32)</p><p>新建的 Pod 在没有任何容器崩溃的情况下就绪并被系统视为可用的最短秒数。
默认为 0（Pod 就绪后即被视为可用）。</p></li></ul><h2 id=ReplicationControllerStatus>ReplicationControllerStatus</h2><p>ReplicationControllerStatus 表示一个副本控制器的当前状态。</p><hr><ul><li><p><strong>replicas</strong> (int32)，必需</p><p>replicas 是最近观测到的副本数量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller</a></p></li><li><p><strong>availableReplicas</strong> (int32)</p><p>这个副本控制器可用副本（至少 minReadySeconds 才能就绪）的数量。</p></li></ul><ul><li><p><strong>readyReplicas</strong> (int32)</p><p>此副本控制器所用的就绪副本的数量。</p></li><li><p><strong>fullyLabeledReplicas</strong> (int32)</p><p>标签与副本控制器的 Pod 模板标签匹配的 Pod 数量。</p></li></ul><ul><li><p><strong>conditions</strong> ([]ReplicationControllerCondition)</p><p><strong>补丁策略：按照键 <code>type</code> 合并</strong></p><p>表示副本控制器当前状态的最新可用观测值。</p><p><a name=ReplicationControllerCondition></a>
<strong>ReplicationControllerCondition 描述某个点的副本控制器的状态。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>状况的状态，取值为 True、False 或 Unknown 之一。</p></li><li><p><strong>conditions.type</strong> (string)，必需</p><p>副本控制器状况的类型。</p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>状况上次从一个状态转换为另一个状态的时间。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。
为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><strong>conditions.message</strong> (string)</li></ul><p>这是一条人类可读的消息，指示有关上次转换的详细信息。</p><ul><li><p><strong>conditions.reason</strong> (string)</p><p>状况上次转换的原因。</p></li></ul></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>observedGeneration 反映了最近观测到的副本控制器的生成情况。</p></li></ul><h2 id=ReplicationControllerList>ReplicationControllerList</h2><p>ReplicationControllerList 是副本控制器的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ReplicationControllerList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>)，必需</p><p>副本控制器的列表。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-replicationcontroller><code>get</code> 读取指定的 ReplicationController</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicationController 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-replicationcontroller-的状态><code>get</code> 读取指定的 ReplicationController 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/replicationcontrollers/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicationController 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-replicationcontroller-类别的对象><code>list</code> 列出或监视 ReplicationController 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/replicationcontrollers</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerList>ReplicationControllerList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-replicationcontroller-类别的对象-1><code>list</code> 列出或监视 ReplicationController 类别的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /api/v1/replicationcontrollers</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerList>ReplicationControllerList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-replicationcontroller><code>create</code> 创建 ReplicationController</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/replicationcontrollers</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-replicationcontroller><code>update</code> 替换指定的 ReplicationController</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicationController 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-replicationcontroller-的状态><code>update</code> 替换指定的 ReplicationController 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/replicationcontrollers/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicationController 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-replicationcontroller><code>patch</code> 部分更新指定的 ReplicationController</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicationController 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-replicationcontroller-的状态><code>patch</code> 部分更新指定的 ReplicationController 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/replicationcontrollers/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicationController 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-replicationcontroller><code>delete</code> 删除 ReplicationController</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicationController 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-replicationcontroller-的集合><code>deletecollection</code> 删除 ReplicationController 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/replicationcontrollers</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-803e8dd9be7ea099609d5c9af16d670f>1.4 - ReplicaSet</h1><div class=lead>ReplicaSet 确保在任何给定的时刻都在运行指定数量的 Pod 副本。</div><p><code>apiVersion: apps/v1</code></p><p><code>import "k8s.io/api/apps/v1"</code></p><h2 id=ReplicaSet>ReplicaSet</h2><p>ReplicaSet 确保在任何给定的时刻都在运行指定数量的 Pod 副本。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: ReplicaSet</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>如果 ReplicaSet 的标签为空，则这些标签默认为与 ReplicaSet 管理的 Pod 相同。
标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetSpec>ReplicaSetSpec</a>)</p><p>spec 定义 ReplicaSet 预期行为的规约。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetStatus>ReplicaSetStatus</a>)</p><p>status 是最近观测到的 ReplicaSet 状态。此数据可能在某个时间窗之后过期。
该值由系统填充，只读。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=ReplicaSetSpec>ReplicaSetSpec</h2><p>ReplicaSetSpec 是 ReplicaSet 的规约。</p><hr><ul><li><p><strong>selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)，必需</p><p>selector 是针对 Pod 的标签查询，应与副本计数匹配。标签的主键和取值必须匹配，
以便由这个 ReplicaSet 进行控制。它必须与 Pod 模板的标签匹配。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p></li><li><p><strong>template</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>)</p><p>template 是描述 Pod 的一个对象，将在检测到副本不足时创建此对象。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#pod-template>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller#pod-template</a></p></li></ul><ul><li><p><strong>replicas</strong> (int32)</p><p>replicas 是预期副本的数量。这是一个指针，用于辨别显式零和未指定的值。默认为 1。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller</a></p></li><li><p><strong>minReadySeconds</strong> (int32)</p><p>新建的 Pod 在没有任何容器崩溃的情况下就绪并被系统视为可用的最短秒数。
默认为 0（Pod 就绪后即被视为可用）。</p></li></ul><h2 id=ReplicaSetStatus>ReplicaSetStatus</h2><p>ReplicaSetStatus 表示 ReplicaSet 的当前状态。</p><hr><ul><li><p><strong>replicas</strong> (int32)，必需</p><p>replicas 是最近观测到的副本数量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller</a></p></li><li><p><strong>availableReplicas</strong> (int32)</p><p>此副本集可用副本（至少 minReadySeconds 才能就绪）的数量。</p></li></ul><ul><li><p><strong>readyReplicas</strong> (int32)</p><p>readyReplicas 是此 ReplicaSet 在就绪状况下处理的目标 Pod 数量。</p></li><li><p><strong>fullyLabeledReplicas</strong> (int32)</p><p>标签与 ReplicaSet 的 Pod 模板标签匹配的 Pod 数量。</p></li></ul><ul><li><p><strong>conditions</strong> ([]ReplicaSetCondition)</p><p><strong>补丁策略：按照键 <code>type</code> 合并</strong></p><p>表示副本集当前状态的最新可用观测值。</p><p><a name=ReplicaSetCondition></a>
<strong>ReplicaSetCondition 描述某个点的副本集状态。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>状况的状态，取值为 True、False 或 Unknown 之一。</p></li><li><p><strong>conditions.type</strong> (string)，必需</p><p>副本集状况的类型。</p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>状况上次从一个状态转换为另一个状态的时间。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。
为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p>这是一条人类可读的消息，指示有关上次转换的详细信息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>状况上次转换的原因。</p></li></ul></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>observedGeneration 反映了最近观测到的 ReplicaSet 生成情况。</p></li></ul><h2 id=ReplicaSetList>ReplicaSetList</h2><p>ReplicaSetList 是多个 ReplicaSet 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: ReplicaSetList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>)，必需</p><p>ReplicaSet 的列表。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/replicationcontroller</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-replicaset><code>get</code> 读取指定的 ReplicaSet</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicaSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-replicaset-的状态><code>get</code> 读取指定的 ReplicaSet 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/replicasets/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicaSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-replicaset-类别的对象><code>list</code> 列出或监视 ReplicaSet 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/replicasets</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetList>ReplicaSetList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-replicaset-类别的对象-1><code>list</code> 列出或监视 ReplicaSet 类别的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/apps/v1/replicasets</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetList>ReplicaSetList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-replicaset><code>create</code> 创建 ReplicaSet</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/apps/v1/namespaces/{namespace}/replicasets</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-replicaset><code>update</code> 替换指定的 ReplicaSet</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicaSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-replicaset-的状态><code>update</code> 替换指定的 ReplicaSet 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/replicasets/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicaSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-replicaset><code>patch</code> 部分更新指定的 ReplicaSet</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicaSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-replicaset-的状态><code>patch</code> 部分更新指定的 ReplicaSet 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/replicasets/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicaSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-replicaset><code>delete</code> 删除 ReplicaSet</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ReplicaSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-replicaset-的集合><code>deletecollection</code> 删除 ReplicaSet 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/replicasets</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-2c16e10bbf4113c1d2bb657311819771>1.5 - Deployment</h1><div class=lead>Deployment 使得 Pod 和 ReplicaSet 能够进行声明式更新。</div><p><code>apiVersion: apps/v1</code></p><p><code>import "k8s.io/api/apps/v1"</code></p><h2 id=Deployment>Deployment</h2><p>Deployment 使得 Pod 和 ReplicaSet 能够进行声明式更新。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: Deployment</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentSpec>DeploymentSpec</a>)</p><p>Deployment 预期行为的规约。</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentStatus>DeploymentStatus</a>)</p><p>最近观测到的 Deployment 状态。</p></li></ul><h2 id=DeploymentSpec>DeploymentSpec</h2><p>DeploymentSpec 定义 Deployment 预期行为的规约。</p><hr><ul><li><p><strong>selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)，必需</p><p>供 Pod 所用的标签选择算符。通过此字段选择现有 ReplicaSet 的 Pod 集合，
被选中的 ReplicaSet 将受到这个 Deployment 的影响。此字段必须与 Pod 模板的标签匹配。</p></li><li><p><strong>template</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>)，必需</p><p>template 描述将要创建的 Pod。</p></li></ul><ul><li><p><strong>replicas</strong> (int32)</p><p>预期 Pod 的数量。这是一个指针，用于辨别显式零和未指定的值。默认为 1。</p></li><li><p><strong>minReadySeconds</strong> (int32)</p><p>新建的 Pod 在没有任何容器崩溃的情况下就绪并被系统视为可用的最短秒数。
默认为 0（Pod 就绪后即被视为可用）。</p></li></ul><ul><li><p><strong>strategy</strong> (DeploymentStrategy)</p><p><strong>补丁策略：retainKeys</strong></p><p>将现有 Pod 替换为新 Pod 时所用的部署策略。</p><p><a name=DeploymentStrategy></a>
<strong>DeploymentStrategy 描述如何将现有 Pod 替换为新 Pod。</strong></p><ul><li><p><strong>strategy.type</strong> (string)</p><p>部署的类型。取值可以是 “Recreate” 或 “RollingUpdate”。默认为 RollingUpdate。</p></li><li><p><strong>strategy.rollingUpdate</strong> (RollingUpdateDeployment)</p><p>滚动更新这些配置参数。仅当 type = RollingUpdate 时才出现。</p><p><a name=RollingUpdateDeployment></a>
<strong>控制滚动更新预期行为的规约。</strong></p><ul><li><p><strong>strategy.rollingUpdate.maxSurge</strong> (IntOrString)</p><p>超出预期的 Pod 数量之后可以调度的最大 Pod 数量。该值可以是一个绝对数（例如：
5）或一个预期 Pod 的百分比（例如：10%）。如果 MaxUnavailable 为 0，则此字段不能为 0。
通过向上取整计算得出一个百分比绝对数。默认为 25%。例如：当此值设为 30% 时，
如果滚动更新启动，则可以立即对 ReplicaSet 扩容，从而使得新旧 Pod 总数不超过预期 Pod 数量的 130%。
一旦旧 Pod 被杀死，则可以再次对新的 ReplicaSet 扩容，
确保更新期间任何时间运行的 Pod 总数最多为预期 Pod 数量的 130%。</p><p><a name=IntOrString></a>
<strong>IntOrString 是可以保存 int32 或字符串的一个类型。
当用于 JSON 或 YAML 编组和取消编组时，它会产生或消费内部类型。
例如，这允许你拥有一个可以接受名称或数值的 JSON 字段。</strong></p></li></ul><ul><li><p><strong>strategy.rollingUpdate.maxUnavailable</strong> (IntOrString)</p><p>更新期间可能不可用的最大 Pod 数量。该值可以是一个绝对数（例如：
5）或一个预期 Pod 的百分比（例如：10%）。通过向下取整计算得出一个百分比绝对数。
如果 MaxSurge 为 0，则此字段不能为 0。默认为 25%。
例如：当此字段设为 30%，则在滚动更新启动时 ReplicaSet 可以立即缩容为预期 Pod 数量的 70%。
一旦新的 Pod 就绪，ReplicaSet 可以再次缩容，接下来对新的 ReplicaSet 扩容，
确保更新期间任何时间可用的 Pod 总数至少是预期 Pod 数量的 70%。</p><p><a name=IntOrString></a>
<strong>IntOrString 是可以保存 int32 或字符串的一个类型。
当用于 JSON 或 YAML 编组和取消编组时，它会产生或消费内部类型。
例如，这允许你拥有一个可以接受名称或数值的 JSON 字段。</strong></p></li></ul></li></ul></li></ul><ul><li><p><strong>revisionHistoryLimit</strong> (int32)</p><p>保留允许回滚的旧 ReplicaSet 的数量。这是一个指针，用于辨别显式零和未指定的值。默认为 10。</p></li><li><p><strong>progressDeadlineSeconds</strong> (int32)</p><p>Deployment 在被视为失败之前取得进展的最大秒数。Deployment 控制器将继续处理失败的部署，
原因为 ProgressDeadlineExceeded 的状况将被显示在 Deployment 状态中。
请注意，在 Deployment 暂停期间将不会估算进度。默认为 600s。</p></li><li><p><strong>paused</strong> (boolean)</p><p>指示部署被暂停。</p></li></ul><h2 id=DeploymentStatus>DeploymentStatus</h2><p>DeploymentStatus 是最近观测到的 Deployment 状态。</p><hr><ul><li><p><strong>replicas</strong> (int32)</p><p>此部署所针对的（其标签与选择算符匹配）未终止 Pod 的总数。</p></li><li><p><strong>availableReplicas</strong> (int32)</p><p>此部署针对的可用（至少 minReadySeconds 才能就绪）的 Pod 总数。</p></li><li><p><strong>readyReplicas</strong> (int32)</p><p>readyReplicas 是此 Deployment 在就绪状况下处理的目标 Pod 数量。</p></li></ul><ul><li><p><strong>unavailableReplicas</strong> (int32)</p><p>此部署针对的不可用 Pod 总数。这是 Deployment 具有 100% 可用容量时仍然必需的 Pod 总数。
它们可能是正在运行但还不可用的 Pod，也可能是尚未创建的 Pod。</p></li></ul><ul><li><p><strong>updatedReplicas</strong> (int32)</p><p>此 Deployment 所针对的未终止 Pod 的总数，这些 Pod 采用了预期的模板规约。</p></li><li><p><strong>collisionCount</strong> (int32)</p><p>供 Deployment 所用的哈希冲突计数。
Deployment 控制器在需要为最新的 ReplicaSet 创建名称时将此字段用作冲突预防机制。</p></li></ul><ul><li><p><strong>conditions</strong> ([]DeploymentCondition)</p><p><strong>补丁策略：按照键 <code>type</code> 合并</strong></p><p>表示 Deployment 当前状态的最新可用观测值。</p><p><a name=DeploymentCondition></a>
<strong>DeploymentCondition 描述某个点的部署状态。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>状况的状态，取值为 True、False 或 Unknown 之一。</p></li><li><p><strong>conditions.type</strong> (string)，必需</p><p>Deployment 状况的类型。</p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>状况上次从一个状态转换为另一个状态的时间。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。
为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.lastUpdateTime</strong> (Time)</p><p>上次更新此状况的时间。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。
为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p>这是一条人类可读的消息，指示有关上次转换的详细信息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>状况上次转换的原因。</p></li></ul></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>Deployment 控制器观测到的代数（Generation）。</p></li></ul><h2 id=DeploymentList>DeploymentList</h2><p>DeploymentList 是 Deployment 的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: DeploymentList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。</p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>)，必需</p><p>items 是 Deployment 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-deployment><code>get</code> 读取指定的 Deployment</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Deployment 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-deployment-的状态><code>get</code> 读取指定的 Deployment 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/deployments/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Deployment 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-deployment-类别的对象><code>list</code> 列出或监视 Deployment 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/deployments</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentList>DeploymentList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-deployment-类别的对象-1><code>list</code> 列出或监视 Deployment 类别的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/apps/v1/deployments</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentList>DeploymentList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-deployment><code>create</code> 创建 Deployment</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/apps/v1/namespaces/{namespace}/deployments</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-deployment><code>update</code> 替换指定的 Deployment</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Deployment 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-deployment-的状态><code>update</code> 替换指定的 Deployment 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/deployments/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Deployment 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-deployment><code>patch</code> 部分更新指定的 Deployment</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Deployment 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-deployment-的状态><code>patch</code> 部分更新指定的 Deployment 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/deployments/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Deployment 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-deployment><code>delete</code> 删除 Deployment</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Deployment 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-deployment-的集合><code>deletecollection</code> 删除 Deployment 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/deployments</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-eb1ab4c03629d6617cc006c8c38b7424>1.6 - StatefulSet</h1><div class=lead>StatefulSet 表示一组具有一致身份的 Pod</div><p><code>apiVersion: apps/v1</code></p><p><code>import "k8s.io/api/apps/v1"</code></p><h2 id=StatefulSet>StatefulSet</h2><p>StatefulSet 表示一组具有一致身份的 Pod。身份定义为：</p><ul><li>网络：一个稳定的 DNS 和主机名。</li><li>存储：根据要求提供尽可能多的 VolumeClaim。</li></ul><p>StatefulSet 保证给定的网络身份将始终映射到相同的存储身份。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: StatefulSet</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>。</p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetSpec>StatefulSetSpec</a>)</p><p>spec 定义集合中 Pod 的预期身份。</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetStatus>StatefulSetStatus</a>)</p><p>status 是 StatefulSet 中 Pod 的当前状态，此数据可能会在某个时间窗口内过时。</p></li></ul><h2 id=StatefulSetSpec>StatefulSetSpec</h2><p>StatefulSetSpec 是 StatefulSet 的规约。</p><hr><ul><li><p><strong>serviceName</strong> (string), 必需</p><p>serviceName 是管理此 StatefulSet 服务的名称。
该服务必须在 StatefulSet 之前即已存在，并负责该集合的网络标识。
Pod 会获得符合以下模式的 DNS/主机名： pod-specific-string.serviceName.default.svc.cluster.local。
其中 “pod-specific-string” 由 StatefulSet 控制器管理。</p></li></ul><ul><li><p><strong>selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>), 必需</p><p>selector 是对 Pod 的标签查询，查询结果应该匹配副本个数。
此选择算符必须与 Pod 模板中的 label 匹配。
更多信息： <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p></li></ul><ul><li><p><strong>template</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>), 必需</p><p>template 是用来描述 Pod 的对象，检测到副本不足时将创建所描述的 Pod。
经由 StatefulSet 创建的每个 Pod 都将满足这个模板，但与 StatefulSet 的其余 Pod 相比，每个 Pod 具有唯一的标识。</p></li></ul><ul><li><p><strong>replicas</strong> (int32)</p><p>replicas 是给定模板的所需的副本数。之所以称作副本，是因为它们是相同模板的实例，
不过各个副本也具有一致的身份。如果未指定，则默认为 1。</p></li></ul><ul><li><p><strong>updateStrategy</strong> (StatefulSetUpdateStrategy)</p><p>updateStrategy 是一个 StatefulSetUpdateStrategy，表示当对 template 进行修订时，用何种策略更新 StatefulSet 中的 Pod 集合。</p><p><a name=StatefulSetUpdateStrategy></a></p><p><strong>StatefulSetUpdateStrategy 表示 StatefulSet 控制器将用于执行更新的策略。其中包括为指定策略执行更新所需的额外参数。</strong></p><ul><li><strong>updateStrategy.type</strong> (string)</li></ul><p>type 表示 StatefulSetUpdateStrategy 的类型，默认为 RollingUpdate。</p><ul><li><p><strong>updateStrategy.rollingUpdate</strong> (RollingUpdateStatefulSetStrategy)</p><p>当 type 为 RollingUpdate 时，使用 rollingUpdate 来传递参数。</p><p><a name=RollingUpdateStatefulSetStrategy></a></p><p><strong>RollingUpdateStatefulSetStrategy 用于为 rollingUpdate 类型的更新传递参数。</strong></p><ul><li><p><strong>updateStrategy.rollingUpdate.maxUnavailable</strong> (IntOrString)</p><p>更新期间不可用的 Pod 个数上限。取值可以是绝对数量（例如：5）或所需 Pod 的百分比（例如：10%）。
绝对数是通过四舍五入的百分比计算得出的。不能为 0，默认为 1。
此字段为 Alpha 级别，仅被启用 MaxUnavailableStatefulSet 特性的服务器支持。
此字段适用于 0 到 replicas-1 范围内的所有 Pod。这意味着如果在 0 到 replicas-1 范围内有任何不可用的 Pod，
这些 Pod 将被计入 maxUnavailable 中。</p><p><a name=IntOrString></a></p><p><strong>IntOrString 是一种可以包含 int32 或字符串数值的类型。在 JSON 或 YAML 编组和解组时，</strong>
<strong>会生成或使用内部类型。例如，此类型允许你定义一个可以接受名称或数字的 JSON 字段。</strong></p></li><li><p><strong>updateStrategy.rollingUpdate.partition</strong> (int32)</p><p>partition 表示 StatefulSet 应该被分区进行更新时的序数。
在滚动更新期间，序数在 replicas-1 和 partition 之间的所有 Pod 都会被更新。
序数在 partition-1 和 0 之间的所有 Pod 保持不变。
这一属性有助于进行金丝雀部署。默认值为 0。</p></li></ul></li></ul></li><li><p><strong>podManagementPolicy</strong> (string)</p><p>podManagementPolicy 控制在初始规模扩展期间、替换节点上的 Pod 或缩减集合规模时如何创建 Pod。
默认策略是 “OrderedReady”，各个 Pod 按升序创建的（pod-0，然后是pod-1 等），
控制器将等到每个 Pod 都准备就绪后再继续。缩小集合规模时，Pod 会以相反的顺序移除。
另一种策略是 “Parallel”，意味着并行创建 Pod 以达到预期的规模而无需等待，并且在缩小规模时将立即删除所有 Pod。</p></li><li><p><strong>revisionHistoryLimit</strong> (int32)</p><p>revisionHistoryLimit 是在 StatefulSet 的修订历史中维护的修订个数上限。
修订历史中包含并非由当前所应用的 StatefulSetSpec 版本未表示的所有修订版本。默认值为 10。</p></li><li><p><strong>volumeClaimTemplates</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>)</p><p>volumeClaimTemplates 是允许 Pod 引用的申领列表。
StatefulSet controller 负责以维持 Pod 身份不变的方式将网络身份映射到申领之上。
此列表中的每个申领至少必须在模板的某个容器中存在匹配的（按 name 匹配）volumeMount。
此列表中的申领优先于模板中具有相同名称的所有卷。</p></li><li><p><strong>minReadySeconds</strong> (int32)</p><p>新创建的 Pod 应准备就绪（其任何容器都未崩溃）的最小秒数，以使其被视为可用。
默认为 0（Pod 准备就绪后将被视为可用）。</p></li><li><p><strong>persistentVolumeClaimRetentionPolicy</strong> (StatefulSetPersistentVolumeClaimRetentionPolicy)</p><p>persistentVolumeClaimRetentionPolicy 描述从 VolumeClaimTemplates 创建的持久卷申领的生命周期。
默认情况下，所有持久卷申领都根据需要创建并被保留到手动删除。
此策略允许更改申领的生命周期，例如在 StatefulSet 被删除或其中 Pod 集合被缩容时删除持久卷申领。
此属性需要启用 StatefulSetAutoDeletePVC 特性门控。特性处于 Alpha 阶段。可选。</p><p><a name=StatefulSetPersistentVolumeClaimRetentionPolicy></a></p><p><strong>StatefulSetPersistentVolumeClaimRetentionPolicy 描述了用于从 StatefulSet VolumeClaimTemplate 创建的 PVC 的策略</strong></p><ul><li><p><strong>persistentVolumeClaimRetentionPolicy.whenDeleted</strong> (string)</p><p>whenDeleted 指定当 StatefulSet 被删除时，基于 StatefulSet VolumeClaimTemplates 所创建的 PVC 会发生什么。
默认策略 <code>Retain</code> 使 PVC 不受 StatefulSet 被删除的影响。<code>Delete</code> 策略会导致这些 PVC 也被删除。</p></li><li><p><strong>persistentVolumeClaimRetentionPolicy.whenScaled</strong> (string)</p><p>whenScaled 指定当 StatefulSet 缩容时，基于 StatefulSet volumeClaimTemplates 创建的 PVC 会发生什么。
默认策略 <code>Retain</code> 使 PVC 不受缩容影响。 <code>Delete</code> 策略会导致超出副本个数的所有的多余 Pod 所关联的 PVC 被删除。</p></li></ul></li></ul><h2 id=StatefulSetStatus>StatefulSetStatus</h2><p>StatefulSetStatus 表示 StatefulSet 的当前状态。</p><hr><ul><li><p><strong>replicas</strong> (int32), 必需</p><p>replicas 是 StatefulSet 控制器创建的 Pod 个数。</p></li><li><p><strong>readyReplicas</strong> (int32)</p><p>readyReplicas 是为此 StatefulSet 创建的、状况为 Ready 的 Pod 个数。</p></li><li><p><strong>currentReplicas</strong> (int32)</p><p>currentReplicas 是 StatefulSet 控制器根据 currentReplicas 所指的 StatefulSet 版本创建的 Pod 个数。</p></li><li><p><strong>updatedReplicas</strong> (int32)</p><p>updatedReplicas 是 StatefulSet 控制器根据 updateRevision 所指的 StatefulSet 版本创建的 Pod 个数。</p></li><li><p><strong>availableReplicas</strong> (int32)</p><p>此 StatefulSet 所对应的可用 Pod 总数（就绪时长至少为 minReadySeconds）。</p></li><li><p><strong>collisionCount</strong> (int32)</p><p>collisionCount 是 StatefulSet 的哈希冲突计数。
StatefulSet controller 在需要为最新的 controllerRevision 创建名称时使用此字段作为避免冲突的机制。</p></li><li><p><strong>conditions</strong> ([]StatefulSetCondition)</p><p><strong>补丁策略：根据 <code>type</code> 键执行合并操作</strong></p><p>表示 StatefulSet 当前状态的最新可用观察结果。</p><p><a name=StatefulSetCondition></a></p><p><strong>StatefulSetCondition 描述了 StatefulSet 在某个点的状态。</strong></p><ul><li><p><strong>conditions.status</strong> (string), 必需</p><p>状况的状态为 True、False、Unknown 之一。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string), 必需</p><p>StatefulSet 状况的类型。</p></li><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>最近一次状况从一种状态转换到另一种状态的时间。</p><p><a name=Time></a></p><p><strong>Time 是 time.Time 的包装器，它支持对 YAML 和 JSON 的正确编组。</strong>
<strong>time 包的许多工厂方法提供了包装器。</strong></p></li><li><p><strong>conditions.message</strong> (string)</p><p>一条人类可读的消息，指示有关转换的详细信息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>状况最后一次转换的原因。</p></li></ul></li><li><p><strong>currentRevision</strong> (string)</p><p>currentRevision，如果不为空，表示用于在序列 [0,currentReplicas) 之间生成 Pod 的 StatefulSet 的版本。</p></li><li><p><strong>updateRevision</strong> (string)</p><p>updateRevision，如果不为空，表示用于在序列 [replicas-updatedReplicas,replicas) 之间生成 Pod 的 StatefulSet 的版本。</p></li><li><p><strong>observedGeneration</strong> (int64)</p><p>observedGeneration 是 StatefulSet 的最新一代。它对应于 StatefulSet 的代数，由 API 服务器在变更时更新。</p></li></ul><h2 id=StatefulSetList>StatefulSetList</h2><p>StatefulSetList 是 StatefulSet 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: StatefulSetList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>), 必需</p><p>items 是 StatefulSet 的列表。</p></li></ul><h2 id=operations>操作</h2><hr><h3 id=get-读取指定的-statefulset><code>get</code> 读取指定的 StatefulSet</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>StatefulSet 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-statefulset-的状态><code>get</code> 读取指定 StatefulSet 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>StatefulSet 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-statefulset-类型的对象><code>list</code> 列出或监视 StatefulSet 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/statefulsets</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetList>StatefulSetList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-statefulset-类型的对象-1><code>list</code> 列出或监视 StatefulSet 类型的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/apps/v1/statefulsets</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetList>StatefulSetList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-statefulset><code>create</code> 创建一个 StatefulSet</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/apps/v1/namespaces/{namespace}/statefulsets</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><strong>pretty</strong> (<strong>查询参数</strong>): string</li></ul><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-statefulset><code>update</code> 替换指定的 StatefulSet</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>StatefulSet 的名称 。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-statefulset-的状态><code>update</code> 替换指定 StatefulSet 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>StatefulSet 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, required</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-statefulset><code>patch</code> 部分更新指定的 StatefulSet</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>StatefulSet 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-statefulset-的状态><code>patch</code> 部分更新指定 StatefulSet 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>StatefulSet 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-statefulset><code>delete</code> 删除一个 StatefulSet</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>StatefulSet 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-statefulset-的集合><code>deletecollection</code> 删除 StatefulSet 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/statefulsets</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-203ad280adf3207ae06a933d6a78e464>1.7 - ControllerRevision</h1><div class=lead>ControllerRevision 实现了状态数据的不可变快照。</div><p><code>apiVersion: apps/v1</code></p><p><code>import "k8s.io/api/apps/v1"</code></p><h2 id=ControllerRevision>ControllerRevision</h2><p>ControllerRevision 实现了状态数据的不可变快照。
客户端负责序列化和反序列化对象，包含对象内部状态。
成功创建 ControllerRevision 后，将无法对其进行更新。
API 服务器将无法成功验证所有尝试改变 data 字段的请求。
但是，可以删除 ControllerRevisions。
请注意，由于 DaemonSet 和 StatefulSet 控制器都使用它来进行更新和回滚，所以这个对象是 Beta 版。
但是，它可能会在未来版本中更改名称和表示形式，客户不应依赖其稳定性。
它主要供控制器内部使用。</p><hr><ul><li><strong>apiVersion</strong>: apps/v1</li></ul><ul><li><strong>kind</strong>: ControllerRevision</li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>revision</strong> (int64)，必需</p><p>revision 表示 data 表示的状态的修订。</p></li></ul><ul><li><p><strong>data</strong> (RawExtension)</p><p>data 是状态的序列化表示。</p><p><a name=RawExtension></a>
<strong>RawExtension 用于以外部版本来保存扩展数据。</strong></p><p>要使用它，请生成一个字段，在外部、版本化结构中以 RawExtension 作为其类型，在内部结构中以 Object 作为其类型。
你还需要注册你的各个插件类型。</p><p>// 内部包：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a2f;font-weight:700>type</span> MyAPIObject <span style=color:#a2f;font-weight:700>struct</span> {  
</span></span><span style=display:flex><span>  runtime.TypeMeta <span style=color:#b44>`json:&#34;,inline&#34;`</span>   
</span></span><span style=display:flex><span>  MyPlugin runtime.Object <span style=color:#b44>`json:&#34;myPlugin&#34;`</span>  
</span></span><span style=display:flex><span>} 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f;font-weight:700>type</span> PluginA <span style=color:#a2f;font-weight:700>struct</span> {  
</span></span><span style=display:flex><span>  AOption <span style=color:#0b0;font-weight:700>string</span> <span style=color:#b44>`json:&#34;aOption&#34;`</span>  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>// 外部包：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a2f;font-weight:700>type</span> MyAPIObject <span style=color:#a2f;font-weight:700>struct</span> {  
</span></span><span style=display:flex><span>  runtime.TypeMeta <span style=color:#b44>`json:&#34;,inline&#34;`</span>  
</span></span><span style=display:flex><span>  MyPlugin runtime.RawExtension <span style=color:#b44>`json:&#34;myPlugin&#34;`</span>    
</span></span><span style=display:flex><span>} 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f;font-weight:700>type</span> PluginA <span style=color:#a2f;font-weight:700>struct</span> {  
</span></span><span style=display:flex><span>  AOption <span style=color:#0b0;font-weight:700>string</span> <span style=color:#b44>`json:&#34;aOption&#34;`</span>  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>// 在网络上，JSON 看起来像这样：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{  
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;kind&#34;</span>:<span style=color:#b44>&#34;MyAPIObject&#34;</span>,  
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,  
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;myPlugin&#34;</span>: {  
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;kind&#34;</span>:<span style=color:#b44>&#34;PluginA&#34;</span>,  
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;aOption&#34;</span>:<span style=color:#b44>&#34;foo&#34;</span>,  
</span></span><span style=display:flex><span>  },  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>那么会发生什么？
解码首先使用 json 或 yaml 将序列化数据解组到你的外部 MyAPIObject 中。
这会导致原始 JSON 被存储下来，但不会被解包。
下一步是复制（使用 pkg/conversion）到内部结构中。
runtime 包的 DefaultScheme 安装了转换函数，它将解析存储在 RawExtension 中的 JSON，
将其转换为正确的对象类型，并将其存储在 Object 中。
（TODO：如果对象是未知类型，将创建并存储一个 <code>runtime.Unknown</code>对象。）</p></li></ul><h2 id=ControllerRevisionList>ControllerRevisionList</h2><p>ControllerRevisionList 是一个包含 ControllerRevision 对象列表的资源。</p><hr><ul><li><strong>apiVersion</strong>: apps/v1</li></ul><ul><li><strong>kind</strong>: ControllerRevisionList</li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>)，必需</p><p>items 是 ControllerRevisions 的列表</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取特定的-controllerrevision><code>get</code> 读取特定的 ControllerRevision</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>ControllerRevision 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-controllerrevision-类别的对象><code>list</code> 列出或监视 ControllerRevision 类别的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/controllerrevisions</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）： boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）： integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）： boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevisionList>ControllerRevisionList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-controllerrevision-类别的对象-1><code>list</code> 列出或监视 ControllerRevision 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/apps/v1/controllerrevisions</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）： boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）： integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）： integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）： boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevisionList>ControllerRevisionList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-controllerrevision><code>create</code> 创建一个 ControllerRevision</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/apps/v1/namespaces/{namespace}/controllerrevisions</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换特定的-controllerrevision><code>update</code> 替换特定的 ControllerRevision</h3><h4 id=http-参数>HTTP 参数</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>ControllerRevision 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新特定的-controllerrevision><code>patch</code> 部分更新特定的 ControllerRevision</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>ControllerRevision 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> （<strong>查询参数</strong>）： boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-controllerrevision><code>delete</code> 删除一个 ControllerRevision</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>ControllerRevision 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）： integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-controllerrevision-集合><code>deletecollection</code> 删除 ControllerRevision 集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/controllerrevisions</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）： integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）： integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）： integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4efed40f98f8b85058d5aa64c1b40b99>1.8 - DaemonSet</h1><div class=lead>DaemonSet 表示守护进程集的配置。</div><p><code>apiVersion: apps/v1</code></p><p><code>import "k8s.io/api/apps/v1"</code></p><h2 id=DaemonSet>DaemonSet</h2><p>DaemonSet 表示守护进程集的配置。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: DaemonSet</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetSpec>DaemonSetSpec</a>)</p><p>此守护进程集的预期行为。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetStatus>DaemonSetStatus</a>)</p><p>此守护进程集的当前状态。此数据可能已经过时一段时间。由系统填充。
只读。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=DaemonSetSpec>DaemonSetSpec</h2><p>DaemonSetSpec 是守护进程集的规约。</p><hr><ul><li><p><strong>selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>), 必需</p><p>对由守护进程集管理的 Pod 的标签查询。Pod 必须匹配此查询才能被此 DaemonSet 控制。
查询条件必须与 Pod 模板的标签匹配。
更多信息： <a href=https://kubernetes.io/zh-cn/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/zh-cn/concepts/overview/working-with-objects/labels/#label-selectors</a></p></li></ul><ul><li><p><strong>template</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>), 必需</p><p>描述将要创建的 Pod 的对象。DaemonSet 将在与模板的节点选择器匹配的每个节点上
（如果未指定节点选择器，则在每个节点上）准确创建此 Pod 的副本。
更多信息： <a href=https://kubernetes.io/zh-cn/concepts/workloads/controllers/replicationcontroller#pod-template>https://kubernetes.io/zh-cn/concepts/workloads/controllers/replicationcontroller#pod-template</a></p></li></ul><ul><li><p><strong>minReadySeconds</strong> (int32)</p><p>新建的 DaemonSet Pod 应该在没有任何容器崩溃的情况下处于就绪状态的最小秒数，这样它才会被认为是可用的。
默认为 0（Pod 准备就绪后将被视为可用）。</p></li></ul><ul><li><p><strong>updateStrategy</strong> (DaemonSetUpdateStrategy)</p><p>用新 Pod 替换现有 DaemonSet Pod 的更新策略。</p><p><a name=DaemonSetUpdateStrategy></a>
<strong>DaemonSetUpdateStrategy 是一个结构体，用于控制 DaemonSet 的更新策略。</strong></p><ul><li><p><strong>updateStrategy.type</strong> (string)</p><p>守护进程集更新的类型。可以是 "RollingUpdate" 或 "OnDelete"。默认为 RollingUpdate。</p></li></ul><ul><li><p><strong>updateStrategy.rollingUpdate</strong> (RollingUpdateDaemonSet)</p><p>滚动更新配置参数。仅在 type 值为 "RollingUpdate" 时出现。</p><p><strong>用于控制守护进程集滚动更新的预期行为的规约。</strong></p><ul><li><p><strong>updateStrategy.rollingUpdate.maxSurge</strong> (IntOrString)</p><p>对于拥有可用 DaemonSet Pod 的节点而言，在更新期间可以拥有更新后的 DaemonSet Pod 的最大节点数。
属性值可以是绝对数量（例如：5）或所需 Pod 的百分比（例如：10%）。
如果 maxUnavailable 为 0，则该值不能为 0。绝对数是通过四舍五入从百分比计算得出的，最小值为 1。
默认值为 0。示例：当设置为 30% 时，最多为节点总数的 30% 节点上应该运行守护进程 Pod
（即 status.desiredNumberScheduled）
可以在旧 Pod 标记为已删除之前创建一个新 Pod。更新首先在 30% 的节点上启动新的 Pod。
一旦更新的 Pod 可用（就绪时长至少 minReadySeconds 秒），该节点上的旧 DaemonSet pod 就会被标记为已删除。
如果旧 Pod 因任何原因变得不可用（Ready 转换为 false、被驱逐或节点被腾空），
则会立即在该节点上创建更新的 Pod，而不考虑激增限制。
允许激增意味着如果就绪检查失败，任何给定节点上的守护进程集消耗的资源可能会翻倍，
因此资源密集型守护进程集应该考虑到它们可能会在中断期间导致驱逐。</p><p><strong>IntOrString 是一种可以容纳 int32 或字符串的类型。在 JSON 或 YAML 编组和解组中使用时，它会生成或使用内部类型。
例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</strong></p></li></ul><ul><li><p><strong>updateStrategy.rollingUpdate.maxUnavailable</strong> (IntOrString)</p><p>更新期间不可用的 DaemonSet Pod 的最大数量。值可以是绝对数（例如：5）或更新开始时 DaemonSet Pod 总数的百分比（例如：10%）。
绝对数是通过四舍五入的百分比计算得出的。如果 maxSurge 为 0，则此值不能为 0 默认值为 1。
例如：当设置为 30% 时，最多节点总数 30% 的、应该运行守护进程的节点总数（即 status.desiredNumberScheduled）
可以在任何给定时间停止更新。更新首先停止最多 30% 的 DaemonSet Pod，
然后在它们的位置启动新的 DaemonSet Pod。
一旦新的 Pod 可用，它就会继续处理其他 DaemonSet Pod，从而确保在更新期间至少 70% 的原始 DaemonSet Pod 数量始终可用。</p><p><strong>IntOrString 是一种可以保存 int32 或字符串的类型。在 JSON 或 YAML 编组和解组中使用时，它会生成或使用内部类型。例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</strong></p></li></ul></li></ul></li></ul><ul><li><p><strong>revisionHistoryLimit</strong> (int32)</p><p>用来允许回滚而保留的旧历史记录的数量。此字段是个指针，用来区分明确的零值和未指定的指针。默认值是 10。</p></li></ul><h2 id=DaemonSetStatus>DaemonSetStatus</h2><p>DaemonSetStatus 表示守护进程集的当前状态。</p><hr><ul><li><p><strong>numberReady</strong> (int32)，必需</p><p>numberReady 是应该运行守护进程 Pod 并且有一个或多个 DaemonSet Pod 以就绪条件运行的节点数。</p></li></ul><ul><li><p><strong>numberAvailable</strong> (int32)</p><p>应该运行守护进程 Pod 并有一个或多个守护进程 Pod 正在运行和可用（就绪时长超过 spec.minReadySeconds）的节点数量。</p></li></ul><ul><li><p><strong>numberUnavailable</strong> (int32)</p><p>应该运行守护进程 Pod 并且没有任何守护进程 Pod 正在运行且可用（至少已就绪 spec.minReadySeconds 秒）的节点数。</p></li></ul><ul><li><p><strong>numberMisscheduled</strong> (int32)，必需</p><p>正在运行守护进程 Pod，但不应该运行守护进程 Pod 的节点数量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/daemonset/>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/daemonset/</a></p></li></ul><ul><li><p><strong>desiredNumberScheduled</strong> (int32)，必需</p><p>应该运行守护进程 Pod 的节点总数（包括正确运行守护进程 Pod 的节点）。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/daemonset/>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/daemonset/</a></p></li></ul><ul><li><p><strong>currentNumberScheduled</strong> (int32)，必需</p><p>运行至少 1 个守护进程 Pod 并且应该运行守护进程 Pod 的节点数。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/daemonset/>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/daemonset/</a></p></li></ul><ul><li><p><strong>updatedNumberScheduled</strong> (int32)</p><p>正在运行更新后的守护进程 Pod 的节点总数。</p></li></ul><ul><li><p><strong>collisionCount</strong> (int32)</p><p>DaemonSet 的哈希冲突计数。DaemonSet 控制器在需要为最新的 ControllerRevision 创建名称时使用此字段作为避免冲突的机制。</p></li></ul><ul><li><p><strong>conditions</strong> ([]DaemonSetCondition)</p><p><strong>补丁策略：根据 <code>type</code> 键合并</strong></p><p>表示 DaemonSet 当前状态的最新可用观测信息。</p><p><a name=DaemonSetCondition></a>
<strong>DaemonSet Condition 描述了 DaemonSet 在某一时刻的状态。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>状况的状态，True、False、Unknown 之一。</p></li><li><p><strong>conditions.type</strong> (string)，必需</p><p>DaemonSet 状况的类型。</p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>状况上次从一种状态转换到另一种状态的时间。</p><p><strong>Time 是对 time.Time 的封装，支持正确编码为 YAML 和 JSON。time 包为许多工厂方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p>一条人类可读的消息，指示有关转换的详细信息。</p></li></ul><ul><li><p><strong>conditions.reason</strong> (string)</p><p>状况最后一次转换的原因。</p></li></ul></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>守护进程集控制器观察到的最新一代。</p></li></ul><h2 id=DaemonSetList>DaemonSetList</h2><p>DaemonSetList 是守护进程集的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: apps/v1</p></li><li><p><strong>kind</strong>: DaemonSetList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>), 必需</p><p>DaemonSet 的列表。</p></li></ul><h2 id=Operations>Operations</h2><hr><h3 id=get-读取指定的-daemonset><code>get</code> 读取指定的 DaemonSet</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>DaemonSet 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p><p>401: 未授权</p><h3 id=get-读取指定的-daemonset-的状态><code>get</code> 读取指定的 DaemonSet 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>DaemonSet 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p><p>401: 未授权</p><h3 id=list-列表或查看-daemonset-类型的对象><code>list</code> 列表或查看 DaemonSet 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/apps/v1/namespaces/{namespace}/daemonsets</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>路径参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetList>DaemonSetList</a>): OK</p><p>401: 未授权</p><h3 id=list-列表或查看-daemonset-类型的对象-1><code>list</code> 列表或查看 DaemonSet 类型的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/apps/v1/daemonsets</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetList>DaemonSetList</a>): OK</p><p>401: 未授权</p><h3 id=create-创建一个-daemonset><code>create</code> 创建一个 DaemonSet</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/apps/v1/namespaces/{namespace}/daemonsets</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): 创建完成</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): 已接受</p><p>401: 未授权</p><h3 id=update-替换指定的-daemonset><code>update</code> 替换指定的 DaemonSet</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string,必需</p><p>DaemonSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string,必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>,必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): 已创建</p><p>401: 未授权</p><h3 id=update-替换指定-daemonset-的状态><code>update</code> 替换指定 DaemonSet 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>DaemonSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): 已创建</p><p>401: 未授权</p><h3 id=patch-部分更新指定的-daemonset><code>patch</code> 部分更新指定的 DaemonSet</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>DaemonSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> <strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): 已创建</p><p>401: 未授权</p><h3 id=patch-部分更新指定-daemonset-的状态><code>patch</code> 部分更新指定 DaemonSet 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>DaemonSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): 已创建</p><p>401: 未授权</p><h3 id=delete-删除一个-daemonset><code>delete</code> 删除一个 DaemonSet</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string,必需</p><p>DaemonSet 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string,必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): 已接受</p><p>401: 未授权</p><h3 id=deletecollection-删除-daemonset-的集合><code>deletecollection</code> 删除 DaemonSet 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/apps/v1/namespaces/{namespace}/daemonsets</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: 未授权</p></div><div class=td-content style=page-break-before:always><h1 id=pg-83b80f201ab5dccbbde519b7edc641ea>1.9 - Job</h1><div class=lead>Job 表示单个任务的配置。</div><p><code>apiVersion: batch/v1</code></p><p><code>import "k8s.io/api/batch/v1"</code></p><h2 id=Job>Job</h2><p>Job 表示单个任务的配置。</p><hr><ul><li><p><strong>apiVersion</strong>: batch/v1</p></li><li><p><strong>kind</strong>: Job</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#JobSpec>JobSpec</a>)</p><p>任务的预期行为的规约。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#JobStatus>JobStatus</a>)</p><p>任务的当前状态。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=JobSpec>JobSpec</h2><p>JobSpec 描述了任务执行的情况。</p><hr><h3 id=replicas>Replicas</h3><ul><li><p><strong>template</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>), 必需</p><p>描述执行任务时将创建的 Pod。更多信息： <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p></li><li><p><strong>parallelism</strong> (int32)</p><p>指定任务应在任何给定时刻预期运行的 Pod 个数上限。
当(.spec.completions - .status.successful) &lt; .spec.parallelism 时，
即当剩余的工作小于最大并行度时，在稳定状态下运行的 Pod 的实际数量将小于此数量。
更多信息： <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p></li></ul><h3 id=lifecycle>Lifecycle</h3><ul><li><p><strong>completions</strong> (int32)</p><p>指定任务应该运行并预期成功完成的 Pod 个数。设置为 nil 意味着任何 Pod 的成功都标识着所有 Pod 的成功，
并允许 parallelism 设置为任何正值。设置为 1 意味着并行性被限制为 1，并且该 Pod 的成功标志着任务的成功。更多信息：
<a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p></li></ul><ul><li><p><strong>completionMode</strong> (string)</p><p>completionMode 指定如何跟踪 Pod 完成情况。它可以是 <code>NonIndexed</code> （默认） 或者 <code>Indexed</code>。</p><p><code>NonIndexed</code> 表示当有 <code>.spec.completions</code> 个成功完成的 Pod 时，认为 Job 完成。每个 Pod 完成都是彼此同源的。</p><p><code>Indexed</code> 意味着 Job 的各个 Pod 会获得对应的完成索引值，从 0 到（<code>.spec.completions - 1</code>），可在注解
"batch.kubernetes.io/job-completion-index" 中找到。当每个索引都对应有一个成功完成的 Pod 时，
该任务被认为是完成的。
当值为 <code>Indexed</code> 时，必须指定 <code>.spec.completions</code> 并且 <code>.spec.parallelism</code> 必须小于或等于 10^5。
此外，Pod 名称采用 <code>$(job-name)-$(index)-$(random-string)</code> 的形式，Pod 主机名采用
<code>$(job-name)-$(index)</code> 的形式。</p><p>将来可能添加更多的完成模式。如果 Job 控制器发现它无法识别的模式
（这种情况在升级期间由于版本偏差可能发生），则控制器会跳过 Job 的更新。</p></li></ul><ul><li><p><strong>backoffLimit</strong> (int32)</p><p>指定标记此任务失败之前的重试次数。默认值为 6。</p></li><li><p><strong>activeDeadlineSeconds</strong> (int64)</p><p>系统尝试终止任务之前任务可以持续活跃的持续时间（秒），时间长度是相对于 startTime 的；
字段值必须为正整数。如果任务被挂起（在创建期间或因更新而挂起），
则当任务再次恢复时，此计时器会被停止并重置。</p></li></ul><ul><li><p><strong>ttlSecondsAfterFinished</strong> (int32)</p><p>ttlSecondsAfterFinished 限制已完成执行（完成或失败）的任务的生命周期。如果设置了这个字段，
在 Job 完成 ttlSecondsAfterFinished 秒之后，就可以被自动删除。
当 Job 被删除时，它的生命周期保证（例如终结器）会被考察。
如果未设置此字段，则任务不会被自动删除。如果此字段设置为零，则任务在完成后即可立即删除。</p></li></ul><ul><li><p><strong>suspend</strong> (boolean)</p><p>suspend 指定 Job 控制器是否应该创建 Pod。如果创建 Job 时将 suspend 设置为 true，则 Job 控制器不会创建任何 Pod。
如果 Job 在创建后被挂起（即标志从 false 变为 true），则 Job 控制器将删除与该 Job 关联的所有活动 Pod。
用户必须设计他们的工作负载来优雅地处理这个问题。暂停 Job 将重置 Job 的 startTime 字段，
也会重置 ActiveDeadlineSeconds 计时器。默认为 false。</p></li></ul><h3 id=selector>Selector</h3><ul><li><p><strong>selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>对应与 Pod 计数匹配的 Pod 的标签查询。通常，系统会为你设置此字段。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p></li><li><p><strong>manualSelector</strong> (boolean)</p><p>manualSelector 控制 Pod 标签和 Pod 选择器的生成。除非你确定你在做什么，否则不要设置 <code>manualSelector</code>。
当此字段为 false 或未设置时，系统会选择此 Pod 唯一的标签并将这些标签附加到 Pod 模板。
当此字段为 true 时，用户负责选择唯一标签并指定选择器。
未能选择唯一标签可能会导致此任务和其他任务无法正常运行。
但是，你可能会在使用旧的 <code>extensions/v1beta1</code> API 创建的任务中看到 <code>manualSelector=true</code>。
更多信息： <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#specifying-your-own-pod-selector>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#specifying-your-own-pod-selector</a></p></li></ul><h3 id=alpha-级别>Alpha 级别</h3><ul><li><p><strong>podFailurePolicy</strong> (PodFailurePolicy)</p><p>指定处理失效 Pod 的策略。特别是，它允许指定采取关联操作需要满足的一组操作和状况。
如果为空，则应用默认行为：由该任务的 .status.failed 字段表示的失效 Pod 的计数器将递增，
并针对 backoffLimit 进行检查。此字段不能与 restartPolicy=OnFailure 结合使用。</p><p>此字段是 Alpha 级别。要使用此字段，你必须启用 <code>JobPodFailurePolicy</code> 特性门控（默认被禁用）。</p><p><a name=PodFailurePolicy></a>
<strong>PodFailurePolicy 描述失效的 Pod 如何影响 backoffLimit。</strong></p><ul><li><p><strong>podFailurePolicy.rules</strong> ([]PodFailurePolicyRule)，必需</p><p><strong>原子: 将在合并期间被替换</strong></p><p>Pod 失效策略规则的列表。这些规则按顺序进行评估。一旦某规则匹配 Pod 失效，则其余规将被忽略。
当没有规则匹配 Pod 失效时，将应用默认的处理方式：
Pod 失效的计数器递增并针对 backoffLimit 进行检查。最多允许 20 个。</p><p><a name=PodFailurePolicyRule></a>
<strong>PodFailurePolicyRule 描述当满足要求时如何处理一个 Pod 失效。
在每个规则中可以使用 OnExitCodes 和 onPodConditions 之一，但不能同时使用二者。</strong></p><ul><li><p><strong>podFailurePolicy.rules.action</strong> (string)，必需</p><p>指定当要求满足时对 Pod 失效采取的操作。可能的值是：</p><ul><li>FailJob：表示 Pod 的任务被标记为 Failed 且所有正在运行的 Pod 都被终止。</li></ul><ul><li><p>Ignore：表示 .backoffLimit 的计数器没有递增，并创建了一个替代 Pod。</p></li><li><p>Count：表示以默认方式处理该 Pod，计数器朝着 .backoffLimit 的方向递增。</p></li></ul><p>后续会考虑增加其他值。客户端应通过跳过此规则对未知的操作做出反应。</p></li></ul><ul><li><p><strong>podFailurePolicy.rules.onPodConditions</strong> ([]PodFailurePolicyOnPodConditionsPattern)，必需</p><p><strong>原子: 将在合并期间被替换</strong></p><p>表示对 Pod 状况的要求。该要求表示为 Pod 状况模式的一个列表。
如果至少一个模式与实际的 Pod 状况匹配，则满足此要求。最多允许 20 个。</p><p><a name=PodFailurePolicyOnPodConditionsPattern></a>
<strong>PodFailurePolicyOnPodConditionsPattern 描述与实际 Pod 状况类型匹配的模式。</strong></p><ul><li><p><strong>podFailurePolicy.rules.onPodConditions.status</strong> (string)，必需</p><p>指定必需的 Pod 状况状态。要匹配一个 Pod 状况，指定的状态必须等于该 Pod 状况状态。默认为 True。</p></li><li><p><strong>podFailurePolicy.rules.onPodConditions.type</strong> (string)，必需</p><p>指定必需的 Pod 状况类型。要匹配一个 Pod 状况，指定的类型必须等于该 Pod 状况类型。</p></li></ul></li></ul><ul><li><p><strong>podFailurePolicy.rules.onExitCodes</strong> (PodFailurePolicyOnExitCodesRequirement)</p><p>表示容器退出码有关的要求。</p><p><a name=PodFailurePolicyOnExitCodesRequirement></a>
<strong>PodFailurePolicyOnExitCodesRequirement 描述根据容器退出码处理失效 Pod 的要求。
特别是，它为每个应用容器和 Init 容器状态查找在 Pod 状态中分别用 .status.containerStatuses 和
.status.initContainerStatuses 字段表示的 .state.terminated.exitCode。
成功完成的容器（退出码 0）被排除在此要求检查之外。</strong></p><ul><li><p><strong>podFailurePolicy.rules.onExitCodes.operator</strong> (string)，必需</p><p>表示容器退出码和指定值之间的关系。成功完成的容器（退出码 0）被排除在此要求检查之外。可能的值为：</p><ul><li><p>In：如果至少一个容器退出码（如果有多个容器不受 'containerName' 字段限制，则可能是多个退出码）
在一组指定值中，则满足要求。</p></li><li><p>NotIn：如果至少一个容器退出码（如果有多个容器不受 'containerName' 字段限制，则可能是多个退出码）
不在一组指定值中，则满足要求。</p></li></ul><p>后续会考虑增加其他值。客户端应通过假设不满足要求来对未知操作符做出反应。</p></li></ul><ul><li><p><strong>podFailurePolicy.rules.onExitCodes.values</strong> ([]int32)，必需</p><p><strong>集合：合并期间保留唯一值</strong></p><p>指定值集。每个返回的容器退出码（在多个容器的情况下可能是多个）将根据该操作符有关的这个值集进行检查。
值的列表必须有序且不得包含重复项。值 '0' 不能用于 In 操作符。至少需要 1 个。最多允许 255 个。</p></li></ul><ul><li><p><strong>podFailurePolicy.rules.onExitCodes.containerName</strong> (string)</p><p>将退出码的检查限制为具有指定名称的容器。当为 null 时，该规则适用于所有容器。
当被指定时，它应与 Pod 模板中的容器名称或 initContainer 名称之一匹配。</p></li></ul></li></ul></li></ul></li></ul><h2 id=JobStatus>JobStatus</h2><p>JobStatus 表示 Job 的当前状态。</p><hr><ul><li><p><strong>startTime</strong> (Time)</p><p>表示任务控制器开始处理任务的时间。在挂起状态下创建 Job 时，直到第一次恢复时才会设置此字段。
每次从暂停中恢复任务时都会重置此字段。它表示为 RFC3339 格式的 UTC 时间。</p><p><strong>Time 是 time.Time 的包装器，支持正确编码为 YAML 和 JSON。time 包提供的许多工厂方法都提供了包装器。</strong></p></li></ul><ul><li><p><strong>completionTime</strong> (Time)</p><p>表示任务完成的时间。不能保证对多个独立操作按发生的先后顺序设置。此字段表示为 RFC3339 格式的 UTC 时间。
仅当任务成功完成时才设置完成时间。</p><p><strong>Time 是 time.Time 的包装器，支持正确编码为 YAML 和 JSON。time 包提供的许多工厂方法都提供了包装器。</strong></p></li></ul><ul><li><p><strong>active</strong> (int32)</p><p>待处理和正在运行的 Pod 的数量。</p></li><li><p><strong>failed</strong> (int32)</p><p>进入 Failed 阶段的 Pod 数量。</p></li><li><p><strong>succeeded</strong> (int32)</p><p>进入 Succeeded 阶段的 Pod 数量。</p></li></ul><ul><li><p><strong>completedIndexes</strong> (string)</p><p>completedIndexes 以文本格式保存 <code>.spec.completionMode</code> 设置为 <code>"Indexed"</code> 的 Pod 已完成的索引。
索引用十进制整数表示，用逗号分隔。数字是按递增的顺序排列的。三个或更多的连续数字被压缩，
用系列的第一个和最后一个元素表示，用连字符分开。例如，如果完成的索引是 1、3、4、5 和 7，则表示为 "1、3-5、7"。</p></li></ul><ul><li><p><strong>conditions</strong> ([]JobCondition)</p><p><strong>补丁策略：根据 <code>type</code> 键合并</strong></p><p><strong>原子: 将在合并期间被替换</strong></p><p>对象当前状态的最新可用观察结果。当任务失败时，其中一个状况的类型为 “Failed”，状态为 true。
当任务被暂停时，其中一个状况的类型为 “Suspended”，状态为true；当任务被恢复时，该状况的状态将变为 false。
任务完成时，其中一个状况的类型为 "Complete"，状态为 true。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p><p><a name=JobCondition></a>
<strong>JobCondition 描述任务的当前状况。</strong></p><ul><li><p><strong>conditions.status</strong> (string), 必需</p><p>状况的状态，True、False、Unknown 之一。</p></li><li><p><strong>conditions.type</strong> (string), 必需</p><p>任务状况的类型，Completed 或 Failed。</p></li><li><p><strong>conditions.lastProbeTime</strong> (Time)</p><p>最后一次探测的时间。</p><p><strong>Time 是对 time.Time 的封装，支持正确编码为 YAML 和 JSON。我们为 time 包提供的许多工厂方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>上一次从一种状况转换到另一种状况的时间。</p><p><strong>Time 是 time.Time 的包装器，支持正确编码为 YAML 和 JSON。time 包提供的许多工厂方法都提供了包装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p>表示上次转换信息的人类可读消息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>状况最后一次转换的（简要）原因</p></li></ul></li></ul><ul><li><p><strong>uncountedTerminatedPods</strong> (UncountedTerminatedPods)</p><p>UncountedTerminatedPods 保存已终止但尚未被任务控制器纳入状态计数器中的 Pod 的 UID 的集合。</p><p>任务控制器所创建 Pod 带有终结器。当 Pod 终止（成功或失败）时，控制器将执行三个步骤以在任务状态中对其进行说明：
（1）将 Pod UID 添加到此字段的列表中。（2）去掉 Pod 中的终结器。（3）从数组中删除 Pod UID，同时为相应的计数器加一。</p><p>此字段为 Beta 级别。任务控制器仅在启用特性门控 JobTrackingWithFinalizers 时使用此字段（默认启用）。
使用此字段可能无法跟踪旧任务，在这种情况下，该字段保持为空。</p><p><a name=UncountedTerminatedPods></a>
<strong>UncountedTerminatedPods 持有已经终止的 Pod 的 UID，但还没有被计入工作状态计数器中。</strong></p><ul><li><p><strong>uncountedTerminatedPods.failed</strong> ([]string)</p><p><strong>集合：合并期间保留唯一值</strong></p><p>failed 字段包含已失败 Pod 的 UID。</p></li></ul><ul><li><p><strong>uncountedTerminatedPods.succeeded</strong> ([]string)</p><p><strong>集合：合并期间保留唯一值</strong></p><p>succeeded 包含已成功的 Pod 的 UID。</p></li></ul></li></ul><h3 id=beta-级别>Beta 级别</h3><ul><li><p><strong>ready</strong> (int32)</p><p>状况为 Ready 的 Pod 数量。</p><p>此字段为 Beta 级别。当特性门控 JobReadyPods 启用（默认启用）时，任务控制器会填充该字段。</p></li></ul><h2 id=JobList>JobList</h2><p>JobList 是 Job 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: batch/v1</p></li><li><p><strong>kind</strong>: JobList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>), required</p><p>items 是 Job 对象的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-job><code>get</code> 读取指定的 Job</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Job 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定任务的状态><code>get</code> 读取指定任务的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/batch/v1/namespaces/{namespace}/jobs/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Job 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列举或监测-job-类别的对象><code>list</code> 列举或监测 Job 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/batch/v1/namespaces/{namespace}/jobs</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#JobList>JobList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列举或监测-job-类别的对象-1><code>list</code> 列举或监测 Job 类别的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/batch/v1/jobs</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#JobList>JobList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-job><code>create</code> 创建一个 Job</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/batch/v1/namespaces/{namespace}/jobs</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-job><code>update</code> 替换指定的 Job</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Job 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-job-的状态><code>update</code> 替换指定 Job 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/batch/v1/namespaces/{namespace}/jobs/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Job 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-job><code>patch</code> 部分更新指定的 Job</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Job 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-job-的状态><code>patch</code> 部分更新指定 Job 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/batch/v1/namespaces/{namespace}/jobs/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Job 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-job><code>delete</code> 删除一个 Job</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Job 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-job-的集合><code>deletecollection</code> 删除 Job 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/batch/v1/namespaces/{namespace}/jobs</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-661762555507aff4c6bde1090179871f>1.10 - CronJob</h1><div class=lead>CronJob 代表单个定时作业 (Cron Job) 的配置。</div><p><code>apiVersion: batch/v1</code></p><p><code>import "k8s.io/api/batch/v1"</code></p><h2 id=CronJob>CronJob</h2><p>CronJob 代表单个定时作业（Cron Job) 的配置。</p><hr><ul><li><p><strong>apiVersion</strong>: batch/v1</p></li><li><p><strong>kind</strong>: CronJob</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobSpec>CronJobSpec</a>)</p><p>定时作业的预期行为的规约，包括排期表（Schedule）。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobStatus>CronJobStatus</a>)</p><p>定时作业的当前状态。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=CronJobSpec>CronJobSpec</h2><p>CronJobSpec 描述了作业的执行方式和实际将运行的时间。</p><hr><ul><li><p><strong>jobTemplate</strong> (JobTemplateSpec), 必需</p><p>指定执行 CronJob 时将创建的作业。</p><p><a name=JobTemplateSpec></a>
<strong>JobTemplateSpec 描述了从模板创建作业时应具有的数据</strong></p><ul><li><p><strong>jobTemplate.metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>从此模板创建的作业的标准对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>jobTemplate.spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/job-v1/#JobSpec>JobSpec</a>)</p><p>对作业的预期行为的规约。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul></li></ul><ul><li><p><strong>schedule</strong> (string), 必需</p><p>Cron 格式的排期表，请参阅 <a href=https://zh.wikipedia.org/wiki/Cron>https://zh.wikipedia.org/wiki/Cron</a>。</p></li></ul><ul><li><p><strong>timeZone</strong> (string)</p><p>给定时间表的时区名称，请参阅 <a href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>。
如果未指定，这将默认为 kube-controller-manager 进程的时区。
有效时区名称和时区偏移量的设置由 API 服务器在 CronJob 验证期间从系统范围的时区数据库进行加载，
在执行期间由控制器管理器从系统范围的时区数据库进行加载。
如果找不到系统范围的时区数据库，则转而使用该数据库的捆绑版本。
如果时区名称在 CronJob 的生命周期内或由于主机配置更改而变得无效，该控制器将停止创建新的 Job，
并将创建一个原因为 UnknownTimeZone 的系统事件。更多信息，请请参阅
<a href=https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/cron-jobs/#time-zones>https://kubernetes.io/zh-cn/docs/concepts/workloads/controllers/cron-jobs/#time-zones</a>。
这是 Beta 字段，必须通过 <code>CronJobTimeZone</code> 特性门控启用。</p></li></ul><ul><li><p><strong>concurrencyPolicy</strong> (string)</p><p>指定如何处理作业的并发执行。 有效值为：</p><ul><li>"Allow" (默认)：允许 CronJobs 并发运行；</li><li>"Forbid"：禁止并发运行，如果上一次运行尚未完成则跳过下一次运行；</li><li>"Replace"：取消当前正在运行的作业并将其替换为新作业。</li></ul></li></ul><ul><li><p><strong>startingDeadlineSeconds</strong> (int64)</p><p>可选字段。当作业因为某种原因错过预定时间时，设定作业的启动截止时间（秒）。错过排期的作业将被视为失败的作业。</p></li></ul><ul><li><p><strong>suspend</strong> (boolean)</p><p>这个标志告诉控制器暂停后续的执行，它不适用于已经开始的执行。默认为 false。</p></li></ul><ul><li><p><strong>successfulJobsHistoryLimit</strong> (int32)</p><p>要保留的成功完成作业数。值必须是非负整数。默认值为 3。</p></li></ul><ul><li><p><strong>failedJobsHistoryLimit</strong> (int32)</p><p>要保留的以失败状态结束的作业个数。值必须是非负整数。默认值为 1。</p></li></ul><h2 id=CronJobStatus>CronJobStatus</h2><p>CronJobStatus 表示某个定时作业的当前状态。</p><hr><ul><li><p><strong>active</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p><strong>Atomic: 将在合并过程中被替换</strong></p><p>指向当前正在运行的作业的指针列表。</p></li></ul><ul><li><p><strong>lastScheduleTime</strong> (Time)</p><p>上次成功调度作业的时间信息。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装，它支持对 YAML 和 JSON 的正确编排。为 time 包提供的许多工厂方法模式提供了包装器。</strong></p></li></ul><ul><li><p><strong>lastSuccessfulTime</strong> (Time)</p><p>上次成功完成作业的时间信息。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装，它支持对 YAML 和 JSON 的正确编排。为 time 包提供的许多工厂方法模式提供了包装器。</strong></p></li></ul><h2 id=CronJobList>CronJobList</h2><p>CronJobList 是定时作业的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: batch/v1</p></li><li><p><strong>kind</strong>: CronJobList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>), required</p><p>items 是 CronJob 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-查看指定的-cronjob><code>get</code> 查看指定的 CronJob</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>CronJob 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p><p>401: Unauthorized</p><h3 id=get-查看指定-cronjob-的状态><code>get</code> 查看指定 CronJob 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>CronJob 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p><p>401: Unauthorized</p><h3 id=list-查看或监视-cronjob-类别的对象><code>list</code> 查看或监视 CronJob 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/batch/v1/namespaces/{namespace}/cronjobs</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobList>CronJobList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-查看或监视-cronjob-类型的对象><code>list</code> 查看或监视 CronJob 类型的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/batch/v1/cronjobs</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<em>in query</em>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<em>in query</em>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobList>CronJobList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-cronjob><code>create</code> 创建一个 CronJob</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/batch/v1/namespaces/{namespace}/cronjobs</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-cronjob><code>update</code> 替换指定的 CronJob</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>CronJob 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-cronjob-的状态><code>update</code> 替换指定 CronJob 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>CronJob 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-cronjob><code>patch</code> 部分更新指定的 CronJob</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>CronJob 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-cronjob-的状态><code>patch</code> 部分更新指定 CronJob 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>CronJob 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>参数参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>参数参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>参数参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>参数参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>参数参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-cronjob><code>delete</code> 删除一个 CronJob</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>CronJob 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除一组-cronjob><code>deletecollection</code> 删除一组 CronJob</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/batch/v1/namespaces/{namespace}/cronjobs</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-dc6f15a65358762dd1015f9f080829a0>1.11 - HorizontalPodAutoscaler</h1><div class=lead>水平 Pod 自动缩放器的配置。</div><p>&lt;--
api_metadata:
apiVersion: "autoscaling/v1"
import: "k8s.io/api/autoscaling/v1"
kind: "HorizontalPodAutoscaler"
content_type: "api_reference"
description: "configuration of a horizontal pod autoscaler."
title: "HorizontalPodAutoscaler"
weight: 11
auto_generated: true
--></p><p><code>apiVersion: autoscaling/v1</code></p><p><code>import "k8s.io/api/autoscaling/v1"</code></p><h2 id=HorizontalPodAutoscaler>HorizontalPodAutoscaler</h2><p>水平 Pod 自动缩放器的配置。</p><hr><ul><li><p><strong>apiVersion</strong>: autoscaling/v1</p></li><li><p><strong>kind</strong>: HorizontalPodAutoscaler</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</a>)</p><p>自动缩放器的规约。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a>.</p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</a>)</p><p>自动缩放器的当前信息。</p></li></ul><h2 id=HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</h2><p>水平 Pod 自动缩放器的规约。</p><hr><ul><li><p><strong>maxReplicas</strong> (int32)，必填</p><p>自动扩缩器可以设置的 Pod 数量上限；
不能小于 minReplicas。</p></li></ul><ul><li><p><strong>scaleTargetRef</strong> (CrossVersionObjectReference)，必填</p><p>对被扩缩资源的引用；
水平 Pod 自动缩放器将了解当前的资源消耗，并使用其 scale 子资源设置所需的 Pod 数量。</p><p><a name=CrossVersionObjectReference></a>
<strong>CrossVersionObjectReference 包含足够的信息来让你识别出所引用的资源。</strong></p><ul><li><p><strong>scaleTargetRef.kind</strong> (string)，必填</p><p>被引用对象的类别；
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p></li></ul><ul><li><p><strong>scaleTargetRef.name</strong> (string)，必填</p><p>被引用对象的名称；
更多信息： <a href=http://kubernetes.io/docs/user-guide/identifiers#names>http://kubernetes.io/docs/user-guide/identifiers#names</a></p></li></ul><ul><li><p><strong>scaleTargetRef.apiVersion</strong> (string)</p><p>被引用对象的 API 版本。</p></li></ul></li></ul><ul><li><p><strong>minReplicas</strong> (int32)</p><p>minReplicas 是自动缩放器可以缩减的副本数的下限。
它默认为 1 个 Pod。
如果启用了 alpha 特性门禁 HPAScaleToZero 并且配置了至少一个 Object 或 External 度量标准，
则 minReplicas 允许为 0。
只要至少有一个度量值可用，缩放就处于活动状态。</p></li></ul><ul><li><p><strong>targetCPUUtilizationPercentage</strong> (int32)</p><p>所有 Pod 的目标平均 CPU 利用率（以请求 CPU 的百分比表示）；
如果未指定，将使用默认的自动缩放策略。</p></li></ul><h2 id=HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</h2><p>水平 Pod 自动缩放器的当前状态</p><hr><ul><li><p><strong>currentReplicas</strong> (int32)，必填</p><p>此自动缩放器管理的 Pod 的当前副本数。</p></li></ul><ul><li><p><strong>desiredReplicas</strong> (int32)，必填</p><p>此自动缩放器管理的 Pod 副本的所需数量。</p></li></ul><ul><li><p><strong>currentCPUUtilizationPercentage</strong> (int32)</p><p>当前所有 Pod 的平均 CPU 利用率，
以请求 CPU 的百分比表示，
例如：70 表示平均 Pod 现在正在使用其请求 CPU 的 70%。</p></li></ul><ul><li><p><strong>lastScaleTime</strong> (Time)</p><p>上次 HorizontalPodAutoscaler 缩放 Pod 的数量；
自动缩放器用它来控制 Pod 数量的更改频率。</p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>此自动缩放器观察到的最新一代。</p></li></ul><h2 id=HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</h2><p>水平 Pod 自动缩放器对象列表。</p><hr><ul><li><p><strong>apiVersion</strong>: autoscaling/v1</p></li><li><p><strong>kind</strong>: HorizontalPodAutoscalerList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>), required</p><p>水平 Pod 自动缩放器对象的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取特定的-horizontalpodautoscaler><code>get</code> 读取特定的 HorizontalPodAutoscaler</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必填</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取特定-horizontalpodautoscaler-的状态><code>get</code> 读取特定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必填</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-horizontalpodautoscaler-类别的对象><code>list</code> 列出或监视 HorizontalPodAutoscaler 类别的对象</h3><h4 id=http-参数>HTTP 参数</h4><p>GET /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<em>查询参数</em>*): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-horizontalpodautoscaler-类别的对象-1><code>list</code> 列出或监视 HorizontalPodAutoscaler 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/autoscaling/v1/horizontalpodautoscalers</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<em>查询参数</em>*): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-horizontalpodautoscaler><code>create</code> 创建一个 HorizontalPodAutoscaler</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必填</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换特定的-horizontalpodautoscaler><code>update</code> 替换特定的 HorizontalPodAutoscaler</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必填</p><p>HorizontalPodAutoscaler 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必填</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换特定-horizontalpodautoscaler-的状态><code>update</code> 替换特定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必填</p><p>HorizontalPodAutoscaler 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必填</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新特定的-horizontalpodautoscaler><code>patch</code> 部分更新特定的 HorizontalPodAutoscaler</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必填</p><p>HorizontalPodAutoscaler 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必填</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新特定-horizontalpodautoscaler-的状态><code>patch</code> 部分更新特定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必填</p><p>HorizontalPodAutoscaler 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必填</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-horizontalpodautoscaler><code>delete</code> 删除一个 HorizontalPodAutoscaler</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必填</p><p>HorizontalPodAutoscaler 的名称</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-horizontalpodautoscaler-的集合><code>deletecollection</code> 删除 HorizontalPodAutoscaler 的集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必填</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6f6ef06d1cb2905e654485f2aeb99500>1.12 - HorizontalPodAutoscaler</h1><div class=lead>HorizontalPodAutoscaler 是水平 Pod 自动扩缩器的配置，它根据指定的指标自动管理实现 scale 子资源的任何资源的副本数。</div><p><code>apiVersion: autoscaling/v2</code></p><p><code>import "k8s.io/api/autoscaling/v2"</code></p><h2 id=HorizontalPodAutoscaler>HorizontalPodAutoscaler</h2><p>HorizontalPodAutoscaler 是水平 Pod 自动扩缩器的配置，
它根据指定的指标自动管理实现 scale 子资源的任何资源的副本数。</p><hr><ul><li><p><strong>apiVersion</strong>: autoscaling/v2</p></li><li><p><strong>kind</strong>: HorizontalPodAutoscaler</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>metadata 是标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</a>)</p><p>spec 是自动扩缩器行为的规约。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a>.</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</a>)</p><p>status 是自动扩缩器的当前信息。</p></li></ul><h2 id=HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</h2><p>HorizontalPodAutoscalerSpec 描述了 HorizontalPodAutoscaler 预期的功能。</p><hr><ul><li><p><strong>maxReplicas</strong> (int32)，必需</p><p>maxReplicas 是自动扩缩器可以扩容的副本数的上限。不能小于 minReplicas。</p></li></ul><ul><li><p><strong>scaleTargetRef</strong> (CrossVersionObjectReference)，必需</p><p>scaleTargetRef 指向要扩缩的目标资源，用于收集 Pod 的相关指标信息以及实际更改的副本数。</p><p><a name=CrossVersionObjectReference></a></p><p><strong>CrossVersionObjectReference 包含足够的信息来让你识别出所引用的资源。</strong></p><ul><li><p><strong>scaleTargetRef.kind</strong> (string)，必需</p><p>被引用对象的类别；更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p></li></ul><ul><li><p><strong>scaleTargetRef.name</strong> (string)，必需</p><p>被引用对象的名称；更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>scaleTargetRef.apiVersion</strong> (string)</p><p>被引用对象的 API 版本。</p></li></ul></li></ul><ul><li><p><strong>minReplicas</strong> (int32)</p><p>minReplicas 是自动扩缩器可以缩减的副本数的下限。它默认为 1 个 Pod。
如果启用了 Alpha 特性门控 HPAScaleToZero 并且配置了至少一个 Object 或 External 度量指标，
则 minReplicas 允许为 0。只要至少有一个度量值可用，扩缩就处于活动状态。</p></li></ul><ul><li><p><strong>behavior</strong> (HorizontalPodAutoscalerBehavior)</p><p>behavior 配置目标在扩容（Up）和缩容（Down）两个方向的扩缩行为（分别用 scaleUp 和 scaleDown 字段）。
如果未设置，则会使用默认的 HPAScalingRules 进行扩缩容。</p><p><a name=HorizontalPodAutoscalerBehavior></a></p><p><strong>HorizontalPodAutoscalerBehavior 配置目标在扩容（Up）和缩容（Down）两个方向的扩缩行为
（分别用 scaleUp 和 scaleDown 字段）。</strong></p><ul><li><p><strong>behavior.scaleDown</strong> (HPAScalingRules)</p><p>scaleDown 是缩容策略。如果未设置，则默认值允许缩减到 minReplicas 数量的 Pod，
具有 300 秒的稳定窗口（使用最近 300 秒的最高推荐值）。</p><p><a name=HPAScalingRules></a></p><p>HPAScalingRules 为一个方向配置扩缩行为。在根据 HPA 的指标计算 desiredReplicas 后应用这些规则。
可以通过指定扩缩策略来限制扩缩速度。可以通过指定稳定窗口来防止抖动，
因此不会立即设置副本数，而是选择稳定窗口中最安全的值。</p><ul><li><p><strong>behavior.scaleDown.policies</strong> ([]HPAScalingPolicy)</p><p><strong>原子性：将在合并时被替换</strong></p><p>policies 是可在扩缩容过程中使用的潜在扩缩策略的列表。必须至少指定一个策略，否则 HPAScalingRules 将被视为无效而丢弃。</p><p><a name=HPAScalingPolicy></a></p><p><strong>HPAScalingPolicy 是一个单一的策略，它必须在指定的过去时间间隔内保持为 true。</strong></p><ul><li><p><strong>behavior.scaleDown.policies.type</strong> (string)，必需</p><p>type 用于指定扩缩策略。</p></li></ul><ul><li><p><strong>behavior.scaleDown.policies.value</strong> (int32)，必需</p><p>value 包含策略允许的更改量。它必须大于零。</p></li></ul><ul><li><p><strong>behavior.scaleDown.policies.periodSeconds</strong> (int32)，必需</p><p>periodSeconds 表示策略应该保持为 true 的时间窗口长度。
periodSeconds 必须大于零且小于或等于 1800（30 分钟）。</p></li></ul></li></ul><ul><li><p><strong>behavior.scaleDown.selectPolicy</strong> (string)</p><p>selectPolicy 用于指定应该使用哪个策略。如果未设置，则使用默认值 Max。</p></li></ul><ul><li><p><strong>behavior.scaleDown.stabilizationWindowSeconds</strong> (int32)</p><p>stabilizationWindowSeconds 是在扩缩容时应考虑的之前建议的秒数。stabilizationWindowSeconds
必须大于或等于零且小于或等于 3600（一小时）。如果未设置，则使用默认值：</p><ul><li>扩容：0（不设置稳定窗口）。</li><li>缩容：300（即稳定窗口为 300 秒）。</li></ul></li></ul></li></ul><ul><li><p><strong>behavior.scaleUp</strong> (HPAScalingRules)</p><p>scaleUp 是用于扩容的扩缩策略。如果未设置，则默认值为以下值中的较高者：</p><ul><li>每 60 秒增加不超过 4 个 Pod</li><li>每 60 秒 Pod 数量翻倍</li></ul><p>不使用稳定窗口。</p><p><a name=HPAScalingRules></a></p><p>HPAScalingRules 为一个方向配置扩缩行为。在根据 HPA 的指标计算 desiredReplicas 后应用这些规则。
可以通过指定扩缩策略来限制扩缩速度。可以通过指定稳定窗口来防止抖动，
因此不会立即设置副本数，而是选择稳定窗口中最安全的值。</p><ul><li><p><strong>behavior.scaleUp.policies</strong> ([]HPAScalingPolicy)</p><p><strong>原子性：将在合并时被替换</strong></p><p>policies 是可在扩缩容过程中使用的潜在扩缩策略的列表。必须至少指定一个策略，否则 HPAScalingRules 将被视为无效而丢弃。</p><p><a name=HPAScalingPolicy></a></p><p><strong>HPAScalingPolicy 是一个单一的策略，它必须在指定的过去时间间隔内保持为 true。</strong></p><ul><li><p><strong>behavior.scaleUp.policies.type</strong> (string)，必需</p><p>type 用于指定扩缩策略。</p></li></ul><ul><li><p><strong>behavior.scaleUp.policies.value</strong> (int32)，必需</p><p>value 包含策略允许的更改量。它必须大于零。</p></li></ul><ul><li><p><strong>behavior.scaleUp.policies.periodSeconds</strong> (int32)，必需</p><p>periodSeconds 表示策略应该保持为 true 的时间窗口长度。
periodSeconds 必须大于零且小于或等于 1800（30 分钟）。</p></li></ul></li></ul><ul><li><p><strong>behavior.scaleUp.selectPolicy</strong> (string)</p><p>selectPolicy 用于指定应该使用哪个策略。如果未设置，则使用默认值 Max。</p></li></ul><ul><li><p><strong>behavior.scaleUp.stabilizationWindowSeconds</strong> (int32)</p><p>stabilizationWindowSeconds 是在扩缩容时应考虑的之前建议的秒数。stabilizationWindowSeconds
必须大于或等于零且小于或等于 3600（一小时）。如果未设置，则使用默认值：</p><ul><li>扩容：0（不设置稳定窗口）。</li><li>缩容：300（即稳定窗口为 300 秒）。</li></ul></li></ul></li></ul></li></ul><ul><li><p><strong>metrics</strong> ([]MetricSpec)</p><p><strong>原子性：将在合并时被替换</strong></p><p>metrics 包含用于计算预期副本数的规约（将使用所有指标的最大副本数）。
预期副本数是通过将目标值与当前值之间的比率乘以当前 Pod 数来计算的。
因此，使用的指标必须随着 Pod 数量的增加而减少，反之亦然。
有关每种类别的指标必须如何响应的更多信息，请参阅各个指标源类别。
如果未设置，默认指标将设置为 80% 的平均 CPU 利用率。</p><p><a name=MetricSpec></a></p><p><strong>MetricSpec 指定如何基于单个指标进行扩缩容（一次只能设置 <code>type</code> 和一个其他匹配字段）</strong></p><ul><li><p><strong>metrics.type</strong> (string)，必需</p><p>type 是指标源的类别。它取值是 “ContainerResource”、“External”、“Object”、“Pods” 或 “Resource” 之一，
每个类别映射到对象中的一个对应的字段。注意：“ContainerResource” 类别在特性门控 HPAContainerMetrics 启用时可用。</p></li></ul><ul><li><p><strong>metrics.containerResource</strong> (ContainerResourceMetricSource)</p><p>containerResource 是指 Kubernetes 已知的资源指标（例如在请求和限制中指定的那些），
描述当前扩缩目标中每个 Pod 中的单个容器（例如 CPU 或内存）。
此类指标内置于 Kubernetes 中，在使用 “pods” 源的、按 Pod 计算的普通指标之外，还具有一些特殊的扩缩选项。
这是一个 Alpha 特性，可以通过 HPAContainerMetrics 特性标志启用。</p><p><a name=ContainerResourceMetricSource></a></p><p>ContainerResourceMetricSource 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。在与目标值比较之前，这些值先计算平均值。
此类指标内置于 Kubernetes 中，并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。
只应设置一种 “target” 类别。</p><ul><li><p><strong>metrics.containerResource.container</strong> (string)，必需</p><p>container 是扩缩目标的 Pod 中容器的名称。</p></li></ul><ul><li><p><strong>metrics.containerResource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul><ul><li><p><strong>metrics.containerResource.target</strong> (MetricTarget)，必需</p><p>target 指定给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.containerResource.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.containerResource.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.containerResource.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>是跨所有相关 Pod 的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.containerResource.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.external</strong> (ExternalMetricSource)</p><p>external 指的是不与任何 Kubernetes 对象关联的全局指标。
这一字段允许基于来自集群外部运行的组件（例如云消息服务中的队列长度，或来自运行在集群外部的负载均衡器的 QPS）的信息进行自动扩缩容。</p><p><a name=ExternalMetricSource></a></p><p>ExternalMetricSource 指示如何基于 Kubernetes 对象无关的指标
（例如云消息传递服务中的队列长度，或来自集群外部运行的负载均衡器的 QPS）执行扩缩操作。</p><ul><li><p><strong>metrics.external.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>metrics.external.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>metrics.external.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul><ul><li><p><strong>metrics.external.target</strong> (MetricTarget)，必需</p><p>target 指定给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.external.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.external.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得到的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.external.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 得到的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.external.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.object</strong> (ObjectMetricSource)</p><p>object 是指描述单个 Kubernetes 对象的指标（例如，Ingress 对象上的 <code>hits-per-second</code>）。</p><p><a name=ObjectMetricSource></a></p><p><strong>ObjectMetricSource 表示如何根据描述 Kubernetes 对象的指标进行扩缩容（例如，Ingress 对象的 <code>hits-per-second</code>）</strong></p><ul><li><p><strong>metrics.object.describedObject</strong> (CrossVersionObjectReference)，必需</p><p>describeObject 表示对象的描述，如对象的 <code>kind</code>、<code>name</code>、<code>apiVersion</code>。</p><p><a name=CrossVersionObjectReference></a></p><p><strong>CrossVersionObjectReference 包含足够的信息来让你识别所引用的资源。</strong></p><ul><li><p><strong>metrics.object.describedObject.kind</strong> (string)，必需</p><p>被引用对象的类别；更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a>。</p></li></ul><ul><li><p><strong>metrics.object.describedObject.name</strong> (string)，必需</p><p>被引用对象的名称；更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>metrics.object.describedObject.apiVersion</strong> (string)</p><p>被引用对象的 API 版本。</p></li></ul></li></ul><ul><li><p><strong>metrics.object.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>metrics.object.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>metrics.object.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul><ul><li><p><strong>metrics.object.target</strong> (MetricTarget)，必需</p><p>target 表示给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.object.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.object.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.object.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有 Pod 得出的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.object.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.pods</strong> (PodsMetricSource)</p><p>pods 是指描述当前扩缩目标中每个 Pod 的指标（例如，<code>transactions-processed-per-second</code>）。
在与目标值进行比较之前，这些指标值将被平均。</p><p><a name=PodsMetricSource></a></p><p>PodsMetricSource 表示如何根据描述当前扩缩目标中每个 Pod 的指标进行扩缩容（例如，<code>transactions-processed-per-second</code>）。
在与目标值进行比较之前，这些指标值将被平均。</p><ul><li><p><strong>metrics.pods.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>metrics.pods.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>metrics.pods.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul><ul><li><p><strong>metrics.pods.target</strong> (MetricTarget)，必需</p><p>target 表示给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.pods.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.pods.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.pods.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有 Pod 得出的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.pods.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.resource</strong> (ResourceMetricSource)</p><p>resource 是指 Kubernetes 已知的资源指标（例如在请求和限制中指定的那些），
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。此类指标内置于 Kubernetes 中，
并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><p><a name=ResourceMetricSource></a></p><p>ResourceMetricSource 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。在与目标值比较之前，这些指标值将被平均。
此类指标内置于 Kubernetes 中，并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。
只应设置一种 “target” 类别。</p><ul><li><p><strong>metrics.resource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul><ul><li><p><strong>metrics.resource.target</strong> (MetricTarget)，必需</p><p>target 指定给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.resource.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.resource.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.resource.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有 Pod 得出的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.resource.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul></li></ul><h2 id=HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</h2><p>HorizontalPodAutoscalerStatus 描述了水平 Pod 自动扩缩器的当前状态。</p><hr><ul><li><p><strong>desiredReplicas</strong> (int32)，必需</p><p>desiredReplicas 是此自动扩缩器管理的 Pod 的所期望的副本数，由自动扩缩器最后计算。</p></li></ul><ul><li><p><strong>conditions</strong> ([]HorizontalPodAutoscalerCondition)</p><p><strong>补丁策略：基于键 <code>type</code> 合并</strong></p><p><strong>Map：合并时将保留 type 键的唯一值</strong></p><p>conditions 是此自动扩缩器扩缩其目标所需的一组条件，并指示是否满足这些条件。</p><p><a name=HorizontalPodAutoscalerCondition></a></p><p><strong>HorizontalPodAutoscalerCondition 描述 HorizontalPodAutoscaler 在某一时间点的状态。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>status 是状况的状态（True、False、Unknown）。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string)，必需</p><p>type 描述当前状况。</p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>lastTransitionTime 是状况最近一次从一种状态转换到另一种状态的时间。</p><p><a name=Time></a></p><p><strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p>message 是一个包含有关转换的可读的详细信息。</p></li></ul><ul><li><p><strong>conditions.reason</strong> (string)</p><p>reason 是状况最后一次转换的原因。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics</strong> ([]MetricStatus)</p><p><strong>原子性：将在合并期间被替换</strong></p><p>currentMetrics 是此自动扩缩器使用的指标的最后读取状态。</p><p><a name=MetricStatus></a></p><p><strong>MetricStatus 描述了单个指标的最后读取状态。</strong></p><ul><li><p><strong>currentMetrics.type</strong> (string)，必需</p><p>type 是指标源的类别。它取值是 “ContainerResource”、“External”、“Object”、“Pods” 或 “Resource” 之一，
每个类别映射到对象中的一个对应的字段。注意：“ContainerResource” 类别在特性门控 HPAContainerMetrics 启用时可用。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource</strong> (ContainerResourceMetricStatus)</p><p>containerResource 是指 Kubernetes 已知的一种资源指标（例如在请求和限制中指定的那些），
描述当前扩缩目标中每个 Pod 中的单个容器（例如 CPU 或内存）。
此类指标内置于 Kubernetes 中，并且在使用 "Pods" 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><p><a name=ContainerResourceMetricStatus></a></p><p>ContainerResourceMetricStatus 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。此类指标内置于 Kubernetes 中，
并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><ul><li><p><strong>currentMetrics.containerResource.container</strong> (string)，必需</p><p>container 是扩缩目标的 Pod 中的容器名称。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.containerResource.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.containerResource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.external</strong> (ExternalMetricStatus)</p><p>external 指的是不与任何 Kubernetes 对象关联的全局指标。这一字段允许基于来自集群外部运行的组件
（例如云消息服务中的队列长度，或来自集群外部运行的负载均衡器的 QPS）的信息进行自动扩缩。</p><p><a name=ExternalMetricStatus></a></p><p><strong>ExternalMetricStatus 表示与任何 Kubernetes 对象无关的全局指标的当前值。</strong></p><ul><li><p><strong>currentMetrics.external.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.external.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.external.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.external.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.external.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>currentMetrics.external.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>currentMetrics.external.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul></li></ul><ul><li><p><strong>currentMetrics.object</strong> (ObjectMetricStatus)</p><p>object 是指描述单个 Kubernetes 对象的指标（例如，Ingress 对象的 <code>hits-per-second</code>）。</p><p><a name=ObjectMetricStatus></a></p><p><strong>ObjectMetricStatus 表示描述 Kubernetes 对象的指标的当前值（例如，Ingress 对象的 <code>hits-per-second</code>）。</strong></p><ul><li><p><strong>currentMetrics.object.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.object.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.object.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.object.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.object.describedObject</strong> (CrossVersionObjectReference)，必需</p><p>describeObject 表示对象的描述，如对象的 <code>kind</code>、<code>name</code>、<code>apiVersion</code>。</p><p><a name=CrossVersionObjectReference></a></p><p><strong>CrossVersionObjectReference 包含足够的信息来让你识别所引用的资源。</strong></p><ul><li><p><strong>currentMetrics.object.describedObject.kind</strong> (string)，必需</p><p>被引用对象的类别；更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p></li></ul><ul><li><p><strong>currentMetrics.object.describedObject.name</strong> (string)，必需</p><p>被引用对象的名称；更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>currentMetrics.object.describedObject.apiVersion</strong> (string)</p><p>被引用对象的 API 版本。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.object.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>currentMetrics.object.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>currentMetrics.object.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul></li></ul><ul><li><p><strong>currentMetrics.pods</strong> (PodsMetricStatus)</p><p>pods 是指描述当前扩缩目标中每个 Pod 的指标（例如，<code>transactions-processed-per-second</code>）。
在与目标值进行比较之前，这些指标值将被平均。</p><p><a name=PodsMetricStatus></a></p><p><strong>PodsMetricStatus 表示描述当前扩缩目标中每个 Pod 的指标的当前值（例如，<code>transactions-processed-per-second</code>）。</strong></p><ul><li><p><strong>currentMetrics.pods.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.pods.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.pods.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.pods.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.pods.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>currentMetrics.pods.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>currentMetrics.pods.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul></li></ul><ul><li><p><strong>currentMetrics.resource</strong> (ResourceMetricStatus)</p><p>resource 是指 Kubernetes 已知的资源指标（例如在请求和限制中指定的那些），
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。此类指标内置于 Kubernetes 中，
并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><p><a name=ResourceMetricStatus></a></p><p>ResourceMetricSource 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。在与目标值比较之前，这些指标值将被平均。
此类指标内置于 Kubernetes 中，并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><ul><li><p><strong>currentMetrics.resource.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.resource.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，
表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.resource.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.resource.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.resource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul></li></ul></li></ul><ul><li><p><strong>currentReplicas</strong> (int32)</p><p>currentReplicas 是此自动扩缩器管理的 Pod 的当前副本数，如自动扩缩器最后一次看到的那样。</p></li></ul><ul><li><p><strong>lastScaleTime</strong> (Time)</p><p>lastScaleTime 是 HorizontalPodAutoscaler 上次扩缩 Pod 数量的时间，自动扩缩器使用它来控制更改 Pod 数量的频率。</p><p><a name=Time></a></p><p><strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>observedGeneration 是此自动扩缩器观察到的最新一代。</p></li></ul><h2 id=HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</h2><p>HorizontalPodAutoscalerList 是水平 Pod 自动扩缩器对象列表。</p><hr><ul><li><p><strong>apiVersion</strong>: autoscaling/v2</p></li><li><p><strong>kind</strong>: HorizontalPodAutoscalerList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>metadata 是标准的列表元数据。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>)，必需</p><p>items 是水平 Pod 自动扩缩器对象的列表。</p></li></ul><h2 id=Operations>Operations</h2><hr><h3 id=get-读取指定的-horizontalpodautoscaler><code>get</code> 读取指定的 HorizontalPodAutoscaler</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-horizontalpodautoscaler-的状态><code>get</code> 读取指定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-horizontalpodautoscaler-类别的对象><code>list</code> 列出或观察 HorizontalPodAutoscaler 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-horizontalpodautoscaler-类别的对象-1><code>list</code> 列出或观察 HorizontalPodAutoscaler 类别的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/autoscaling/v2/horizontalpodautoscalers</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-horizontalpodautoscaler><code>create</code> 创建一个 HorizontalPodAutoscaler</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-horizontalpodautoscaler><code>update</code> 替换指定的 HorizontalPodAutoscaler</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-horizontalpodautoscaler-的状态><code>update</code> 替换指定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-horizontalpodautoscaler><code>patch</code> 部分更新指定的 HorizontalPodAutoscaler</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-horizontalpodautoscaler-的状态><code>patch</code> 部分更新指定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-horizontalpodautoscaler><code>delete</code> 删除一个 HorizontalPodAutoscaler</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-horizontalpodautoscaler-的集合><code>deletecollection</code> 删除 HorizontalPodAutoscaler 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/autoscaling/v2/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e449828c2ccbcf4be4605daf395a9109>1.13 - HorizontalPodAutoscaler v2beta2</h1><div class=lead>HorizontalPodAutoscaler 是水平 Pod 自动扩缩器的配置，它根据指定的指标自动管理实现 scale 子资源的任何资源的副本数。</div><p><code>apiVersion: autoscaling/v2beta2</code></p><p><code>import "k8s.io/api/autoscaling/v2beta2"</code></p><h2 id=HorizontalPodAutoscaler>HorizontalPodAutoscaler</h2><p>HorizontalPodAutoscaler 是水平 Pod 自动扩缩器的配置，
它根据指定的指标自动管理实现 scale 子资源的任何资源的副本数。</p><hr><ul><li><p><strong>apiVersion</strong>: autoscaling/v2beta2</p></li><li><p><strong>kind</strong>: HorizontalPodAutoscaler</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>metadata 是标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</a>)</p><p>spec 是自动扩缩器行为的规约。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a>.</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</a>)</p><p>status 是自动扩缩器的当前信息。</p></li></ul><h2 id=HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</h2><p>HorizontalPodAutoscalerSpec 描述了 HorizontalPodAutoscaler 预期的功能。</p><hr><ul><li><p><strong>maxReplicas</strong> (int32)，必需</p><p>maxReplicas 是自动扩缩器可以扩容的副本数的上限。不能小于 minReplicas。</p></li></ul><ul><li><p><strong>scaleTargetRef</strong> (CrossVersionObjectReference)，必需</p><p>scaleTargetRef 指向要扩缩的目标资源，用于收集 Pod 的相关指标信息以及实际更改的副本数。</p><p><a name=CrossVersionObjectReference></a></p><p><strong>CrossVersionObjectReference 包含足够的信息来让你识别出所引用的资源。</strong></p><ul><li><p><strong>scaleTargetRef.kind</strong> (string)，必需</p><p>被引用对象的类别；更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p></li></ul><ul><li><p><strong>scaleTargetRef.name</strong> (string)，必需</p><p>被引用对象的名称；更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>scaleTargetRef.apiVersion</strong> (string)</p><p>被引用对象的 API 版本。</p></li></ul></li></ul><ul><li><p><strong>minReplicas</strong> (int32)</p><p>minReplicas 是自动扩缩器可以缩减的副本数的下限。它默认为 1 个 Pod。
如果启用了 Alpha 特性门控 HPAScaleToZero 并且配置了至少一个 Object 或 External 度量指标，
则 minReplicas 允许为 0。只要至少有一个度量值可用，扩缩就处于活动状态。</p></li></ul><ul><li><p><strong>behavior</strong> (HorizontalPodAutoscalerBehavior)</p><p>behavior 配置目标在扩容（Up）和缩容（Down）两个方向的扩缩行为（分别用 scaleUp 和 scaleDown 字段）。
如果未设置，则会使用默认的 HPAScalingRules 进行扩缩容。</p><p><a name=HorizontalPodAutoscalerBehavior></a></p><p><strong>HorizontalPodAutoscalerBehavior 配置目标在扩容（Up）和缩容（Down）两个方向的扩缩行为
（分别用 scaleUp 和 scaleDown 字段）。</strong></p><ul><li><p><strong>behavior.scaleDown</strong> (HPAScalingRules)</p><p>scaleDown 是缩容策略。如果未设置，则默认值允许缩减到 minReplicas 数量的 Pod，
具有 300 秒的稳定窗口（使用最近 300 秒的最高推荐值）。</p><p><a name=HPAScalingRules></a></p><p>HPAScalingRules 为一个方向配置扩缩行为。在根据 HPA 的指标计算 desiredReplicas 后应用这些规则。
可以通过指定扩缩策略来限制扩缩速度。可以通过指定稳定窗口来防止抖动，
因此不会立即设置副本数，而是选择稳定窗口中最安全的值。</p><ul><li><p><strong>behavior.scaleDown.policies</strong> ([]HPAScalingPolicy)</p><p>policies 是可在扩缩容过程中使用的潜在扩缩策略的列表。必须至少指定一个策略，否则 HPAScalingRules 将被视为无效而丢弃。</p><p><a name=HPAScalingPolicy></a></p><p><strong>HPAScalingPolicy 是一个单一的策略，它必须在指定的过去时间间隔内保持为 true。</strong></p><ul><li><p><strong>behavior.scaleDown.policies.type</strong> (string)，必需</p><p>type 用于指定扩缩策略。</p></li></ul><ul><li><p><strong>behavior.scaleDown.policies.value</strong> (int32)，必需</p><p>value 包含策略允许的更改量。它必须大于零。</p></li></ul><ul><li><p><strong>behavior.scaleDown.policies.periodSeconds</strong> (int32)，必需</p><p>periodSeconds 表示策略应该保持为 true 的时间窗口长度。
periodSeconds 必须大于零且小于或等于 1800（30 分钟）。</p></li></ul></li></ul><ul><li><p><strong>behavior.scaleDown.selectPolicy</strong> (string)</p><p>selectPolicy 用于指定应该使用哪个策略。如果未设置，则使用默认值 MaxPolicySelect。</p></li></ul><ul><li><p><strong>behavior.scaleDown.stabilizationWindowSeconds</strong> (int32)</p><p>stabilizationWindowSeconds 是在扩缩容时应考虑的之前建议的秒数。stabilizationWindowSeconds
必须大于或等于零且小于或等于 3600（一小时）。如果未设置，则使用默认值：</p><ul><li>扩容：0（不设置稳定窗口）。</li><li>缩容：300（即稳定窗口为 300 秒）。</li></ul></li></ul></li></ul><ul><li><p><strong>behavior.scaleUp</strong> (HPAScalingRules)</p><p>scaleUp 是用于扩容的扩缩策略。如果未设置，则默认值为以下值中的较高者：</p><ul><li>每 60 秒增加不超过 4 个 Pod</li><li>每 60 秒 Pod 数量翻倍</li></ul><p>不使用稳定窗口。</p><p><a name=HPAScalingRules></a></p><p>HPAScalingRules 为一个方向配置扩缩行为。在根据 HPA 的指标计算 desiredReplicas 后应用这些规则。
可以通过指定扩缩策略来限制扩缩速度。可以通过指定稳定窗口来防止抖动，
因此不会立即设置副本数，而是选择稳定窗口中最安全的值。</p><ul><li><p><strong>behavior.scaleUp.policies</strong> ([]HPAScalingPolicy)</p><p>policies 是可在扩缩容过程中使用的潜在扩缩策略的列表。必须至少指定一个策略，否则 HPAScalingRules 将被视为无效而丢弃。</p><p><a name=HPAScalingPolicy></a></p><p><strong>HPAScalingPolicy 是一个单一的策略，它必须在指定的过去时间间隔内保持为 true。</strong></p><ul><li><p><strong>behavior.scaleUp.policies.type</strong> (string)，必需</p><p>type 用于指定扩缩策略。</p></li></ul><ul><li><p><strong>behavior.scaleUp.policies.value</strong> (int32)，必需</p><p>value 包含策略允许的更改量。它必须大于零。</p></li></ul><ul><li><p><strong>behavior.scaleUp.policies.periodSeconds</strong> (int32)，必需</p><p>periodSeconds 表示策略应该保持为 true 的时间窗口长度。
periodSeconds 必须大于零且小于或等于 1800（30 分钟）。</p></li></ul></li></ul><ul><li><p><strong>behavior.scaleUp.selectPolicy</strong> (string)</p><p>selectPolicy 用于指定应该使用哪个策略。如果未设置，则使用默认值 MaxPolicySelect。</p></li></ul><ul><li><p><strong>behavior.scaleUp.stabilizationWindowSeconds</strong> (int32)</p><p>stabilizationWindowSeconds 是在扩缩容时应考虑的之前建议的秒数。stabilizationWindowSeconds
必须大于或等于零且小于或等于 3600（一小时）。如果未设置，则使用默认值：</p><ul><li>扩容：0（不设置稳定窗口）。</li><li>缩容：300（即稳定窗口为 300 秒）。</li></ul></li></ul></li></ul></li></ul><ul><li><p><strong>metrics</strong> ([]MetricSpec)</p><p>metrics 包含用于计算预期副本数的规约（将使用所有指标的最大副本数）。
预期副本数是通过将目标值与当前值之间的比率乘以当前 Pod 数来计算的。
因此，使用的指标必须随着 Pod 数量的增加而减少，反之亦然。
有关每种类别的指标必须如何响应的更多信息，请参阅各个指标源类别。
如果未设置，默认指标将设置为 80% 的平均 CPU 利用率。</p><p><a name=MetricSpec></a></p><p><strong>MetricSpec 指定如何基于单个指标进行扩缩容（一次只能设置 <code>type</code> 和一个其他匹配字段）</strong></p><ul><li><p><strong>metrics.type</strong> (string)，必需</p><p>type 是指标源的类别。它取值是 “ContainerResource”、“External”、“Object”、“Pods” 或 “Resource” 之一，
每个类别映射到对象中的一个对应的字段。注意：“ContainerResource” 类别在特性门控 HPAContainerMetrics 启用时可用。</p></li></ul><ul><li><p><strong>metrics.containerResource</strong> (ContainerResourceMetricSource)</p><p>containerResource 是指 Kubernetes 已知的资源指标（例如在请求和限制中指定的那些），
描述当前扩缩目标中每个 Pod 中的单个容器（例如 CPU 或内存）。
此类指标内置于 Kubernetes 中，在使用 “pods” 源的、按 Pod 计算的普通指标之外，还具有一些特殊的扩缩选项。
这是一个 Alpha 特性，可以通过 HPAContainerMetrics 特性标志启用。</p><p><a name=ContainerResourceMetricSource></a></p><p>ContainerResourceMetricSource 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。在与目标值比较之前，这些值先计算平均值。
此类指标内置于 Kubernetes 中，并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。
只应设置一种 “target” 类别。</p><ul><li><p><strong>metrics.containerResource.container</strong> (string)，必需</p><p>container 是扩缩目标的 Pod 中容器的名称。</p></li></ul><ul><li><p><strong>metrics.containerResource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul><ul><li><p><strong>metrics.containerResource.target</strong> (MetricTarget)，必需</p><p>target 指定给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.containerResource.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.containerResource.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.containerResource.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>是跨所有相关 Pod 的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.containerResource.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.external</strong> (ExternalMetricSource)</p><p>external 指的是不与任何 Kubernetes 对象关联的全局指标。
这一字段允许基于来自集群外部运行的组件（例如云消息服务中的队列长度，或来自运行在集群外部的负载均衡器的 QPS）的信息进行自动扩缩容。</p><p><a name=ExternalMetricSource></a></p><p>ExternalMetricSource 指示如何基于 Kubernetes 对象无关的指标
（例如云消息传递服务中的队列长度，或来自集群外部运行的负载均衡器的 QPS）执行扩缩操作。</p><ul><li><p><strong>metrics.external.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>metrics.external.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>metrics.external.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul><ul><li><p><strong>metrics.external.target</strong> (MetricTarget)，必需</p><p>target 指定给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.external.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.external.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得到的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.external.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 得到的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.external.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.object</strong> (ObjectMetricSource)</p><p>object 是指描述单个 Kubernetes 对象的指标（例如，Ingress 对象上的 <code>hits-per-second</code>）。</p><p><a name=ObjectMetricSource></a></p><p><strong>ObjectMetricSource 表示如何根据描述 Kubernetes 对象的指标进行扩缩容（例如，Ingress 对象的 <code>hits-per-second</code>）</strong></p><ul><li><p><strong>metrics.object.describedObject</strong> (CrossVersionObjectReference)，必需</p><p><a name=CrossVersionObjectReference></a></p><p><strong>CrossVersionObjectReference 包含足够的信息来让你识别所引用的资源。</strong></p><ul><li><p><strong>metrics.object.describedObject.kind</strong> (string)，必需</p><p>被引用对象的类别；更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a>。</p></li></ul><ul><li><p><strong>metrics.object.describedObject.name</strong> (string)，必需</p><p>被引用对象的名称；更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>metrics.object.describedObject.apiVersion</strong> (string)</p><p>被引用对象的 API 版本。</p></li></ul></li></ul><ul><li><p><strong>metrics.object.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>metrics.object.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>metrics.object.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul><ul><li><p><strong>metrics.object.target</strong> (MetricTarget)，必需</p><p>target 表示给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.object.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.object.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.object.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有 Pod 得出的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.object.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.pods</strong> (PodsMetricSource)</p><p>pods 是指描述当前扩缩目标中每个 Pod 的指标（例如，<code>transactions-processed-per-second</code>）。
在与目标值进行比较之前，这些指标值将被平均。</p><p><a name=PodsMetricSource></a></p><p>PodsMetricSource 表示如何根据描述当前扩缩目标中每个 Pod 的指标进行扩缩容（例如，<code>transactions-processed-per-second</code>）。
在与目标值进行比较之前，这些指标值将被平均。</p><ul><li><p><strong>metrics.pods.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>metrics.pods.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>metrics.pods.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul><ul><li><p><strong>metrics.pods.target</strong> (MetricTarget)，必需</p><p>target 表示给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.pods.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.pods.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.pods.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有 Pod 得出的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.pods.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul><ul><li><p><strong>metrics.resource</strong> (ResourceMetricSource)</p><p>resource 是指 Kubernetes 已知的资源指标（例如在请求和限制中指定的那些），
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。此类指标内置于 Kubernetes 中，
并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><p><a name=ResourceMetricSource></a></p><p>ResourceMetricSource 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。在与目标值比较之前，这些指标值将被平均。
此类指标内置于 Kubernetes 中，并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。
只应设置一种 “target” 类别。</p><ul><li><p><strong>metrics.resource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul><ul><li><p><strong>metrics.resource.target</strong> (MetricTarget)，必需</p><p>target 指定给定指标的目标值。</p><p><a name=MetricTarget></a></p><p><strong>MetricTarget 定义特定指标的目标值、平均值或平均利用率</strong></p><ul><li><p><strong>metrics.resource.target.type</strong> (string)，必需</p><p>type 表示指标类别是 <code>Utilization</code>、<code>Value</code> 或 <code>AverageValue</code>。</p></li></ul><ul><li><p><strong>metrics.resource.target.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的目标值，
表示为 Pod 资源请求值的百分比。目前仅对 “Resource” 指标源类别有效。</p></li></ul><ul><li><p><strong>metrics.resource.target.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有 Pod 得出的指标均值的目标值（以数量形式给出）。</p></li></ul><ul><li><p><strong>metrics.resource.target.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的目标值（以数量形式给出）。</p></li></ul></li></ul></li></ul></li></ul><h2 id=HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</h2><p>HorizontalPodAutoscalerStatus 描述了水平 Pod 自动扩缩器的当前状态。</p><hr><ul><li><p><strong>currentReplicas</strong> (int32)，必需</p><p>currentReplicas 是此自动扩缩器管理的 Pod 的当前副本数，如自动扩缩器最后一次看到的那样。</p></li></ul><ul><li><p><strong>desiredReplicas</strong> (int32)，必需</p><p>desiredReplicas 是此自动扩缩器管理的 Pod 的所期望的副本数，由自动扩缩器最后计算。</p></li></ul><ul><li><p><strong>conditions</strong> ([]HorizontalPodAutoscalerCondition)</p><p>conditions 是此自动扩缩器扩缩其目标所需的一组条件，并指示是否满足这些条件。</p><p><a name=HorizontalPodAutoscalerCondition></a></p><p><strong>HorizontalPodAutoscalerCondition 描述 HorizontalPodAutoscaler 在某一时间点的状态。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>status 是状况的状态（True、False、Unknown）。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string)，必需</p><p>type 描述当前状况。</p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>lastTransitionTime 是状况最近一次从一种状态转换到另一种状态的时间。</p><p><a name=Time></a></p><p><strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p>message 是一个包含有关转换的可读的详细信息。</p></li></ul><ul><li><p><strong>conditions.reason</strong> (string)</p><p>reason 是状况最后一次转换的原因。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics</strong> ([]MetricStatus)</p><p>currentMetrics 是此自动扩缩器使用的指标的最后读取状态。</p><p><a name=MetricStatus></a></p><p><strong>MetricStatus 描述了单个指标的最后读取状态。</strong></p><ul><li><p><strong>currentMetrics.type</strong> (string)，必需</p><p>type 是指标源的类别。它取值是 “ContainerResource”、“External”、“Object”、“Pods” 或 “Resource” 之一，
每个类别映射到对象中的一个对应的字段。注意：“ContainerResource” 类别在特性门控 HPAContainerMetrics 启用时可用。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource</strong> (ContainerResourceMetricStatus)</p><p>containerResource 是指 Kubernetes 已知的一种资源指标（例如在请求和限制中指定的那些），
描述当前扩缩目标中每个 Pod 中的单个容器（例如 CPU 或内存）。
此类指标内置于 Kubernetes 中，并且在使用 "Pods" 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><p><a name=ContainerResourceMetricStatus></a></p><p>ContainerResourceMetricStatus 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。此类指标内置于 Kubernetes 中，
并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><ul><li><p><strong>currentMetrics.containerResource.container</strong> (string)，必需</p><p>container 是扩缩目标的 Pod 中的容器名称。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.containerResource.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.containerResource.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.containerResource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.external</strong> (ExternalMetricStatus)</p><p>external 指的是不与任何 Kubernetes 对象关联的全局指标。这一字段允许基于来自集群外部运行的组件
（例如云消息服务中的队列长度，或来自集群外部运行的负载均衡器的 QPS）的信息进行自动扩缩。</p><p><a name=ExternalMetricStatus></a></p><p><strong>ExternalMetricStatus 表示与任何 Kubernetes 对象无关的全局指标的当前值。</strong></p><ul><li><p><strong>currentMetrics.external.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.external.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.external.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.external.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.external.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>currentMetrics.external.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>currentMetrics.external.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul></li></ul><ul><li><p><strong>currentMetrics.object</strong> (ObjectMetricStatus)</p><p>object 是指描述单个 Kubernetes 对象的指标（例如，Ingress 对象的 <code>hits-per-second</code>）。</p><p><a name=ObjectMetricStatus></a></p><p><strong>ObjectMetricStatus 表示描述 Kubernetes 对象的指标的当前值（例如，Ingress 对象的 <code>hits-per-second</code>）。</strong></p><ul><li><p><strong>currentMetrics.object.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.object.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.object.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.object.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.object.describedObject</strong> (CrossVersionObjectReference)，必需</p><p><a name=CrossVersionObjectReference></a></p><p><strong>CrossVersionObjectReference 包含足够的信息来让你识别所引用的资源。</strong></p><ul><li><p><strong>currentMetrics.object.describedObject.kind</strong> (string)，必需</p><p>被引用对象的类别；更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p></li></ul><ul><li><p><strong>currentMetrics.object.describedObject.name</strong> (string)，必需</p><p>被引用对象的名称；更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>currentMetrics.object.describedObject.apiVersion</strong> (string)</p><p>被引用对象的 API 版本。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.object.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>currentMetrics.object.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>currentMetrics.object.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul></li></ul><ul><li><p><strong>currentMetrics.pods</strong> (PodsMetricStatus)</p><p>pods 是指描述当前扩缩目标中每个 Pod 的指标（例如，<code>transactions-processed-per-second</code>）。
在与目标值进行比较之前，这些指标值将被平均。</p><p><a name=PodsMetricStatus></a></p><p><strong>PodsMetricStatus 表示描述当前扩缩目标中每个 Pod 的指标的当前值（例如，<code>transactions-processed-per-second</code>）。</strong></p><ul><li><p><strong>currentMetrics.pods.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.pods.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.pods.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.pods.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.pods.metric</strong> (MetricIdentifier)，必需</p><p>metric 通过名称和选择算符识别目标指标。</p><p><a name=MetricIdentifier></a></p><p><strong>MetricIdentifier 定义指标的名称和可选的选择算符</strong></p><ul><li><p><strong>currentMetrics.pods.metric.name</strong> (string)，必需</p><p>name 是给定指标的名称。</p></li></ul><ul><li><p><strong>currentMetrics.pods.metric.selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是给定指标的标准 Kubernetes 标签选择算符的字符串编码形式。
设置后，它作为附加参数传递给指标服务器，以获取更具体的指标范围。
未设置时，仅 metricName 参数将用于收集指标。</p></li></ul></li></ul></li></ul><ul><li><p><strong>currentMetrics.resource</strong> (ResourceMetricStatus)</p><p>resource 是指 Kubernetes 已知的资源指标（例如在请求和限制中指定的那些），
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。此类指标内置于 Kubernetes 中，
并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><p><a name=ResourceMetricStatus></a></p><p>ResourceMetricSource 指示如何根据请求和限制中指定的 Kubernetes 已知的资源指标进行扩缩容，
此结构描述当前扩缩目标中的每个 Pod（例如 CPU 或内存）。在与目标值比较之前，这些指标值将被平均。
此类指标内置于 Kubernetes 中，并且在使用 “Pods” 源的、按 Pod 统计的普通指标之外支持一些特殊的扩缩选项。</p><ul><li><p><strong>currentMetrics.resource.current</strong> (MetricValueStatus)，必需</p><p>current 包含给定指标的当前值。</p><p><a name=MetricValueStatus></a></p><p><strong>MetricValueStatus 保存指标的当前值</strong></p><ul><li><p><strong>currentMetrics.resource.current.averageUtilization</strong> (int32)</p><p>averageUtilization 是跨所有相关 Pod 得出的资源指标均值的当前值，
表示为 Pod 资源请求值的百分比。</p></li></ul><ul><li><p><strong>currentMetrics.resource.current.averageValue</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>averageValue 是跨所有相关 Pod 的指标均值的当前值（以数量形式给出）。</p></li></ul><ul><li><p><strong>currentMetrics.resource.current.value</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>value 是指标的当前值（以数量形式给出）。</p></li></ul></li></ul><ul><li><p><strong>currentMetrics.resource.name</strong> (string)，必需</p><p>name 是相关资源的名称。</p></li></ul></li></ul></li></ul><ul><li><p><strong>lastScaleTime</strong> (Time)</p><p>lastScaleTime 是 HorizontalPodAutoscaler 上次扩缩 Pod 数量的时间，自动扩缩器使用它来控制更改 Pod 数量的频率。</p><p><a name=Time></a></p><p><strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>observedGeneration 是此自动扩缩器观察到的最新一代。</p></li></ul><h2 id=HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</h2><p>HorizontalPodAutoscalerList 是水平 Pod 自动扩缩器对象列表。</p><hr><ul><li><p><strong>apiVersion</strong>: autoscaling/v2beta2</p></li><li><p><strong>kind</strong>: HorizontalPodAutoscalerList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>metadata 是标准的列表元数据。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>)，必需</p><p>items 是水平 Pod 自动扩缩器对象的列表。</p></li></ul><h2 id=Operations>Operations</h2><hr><h3 id=get-读取指定的-horizontalpodautoscaler><code>get</code> 读取指定的 HorizontalPodAutoscaler</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-horizontalpodautoscaler-的状态><code>get</code> 读取指定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-horizontalpodautoscaler-类别的对象><code>list</code> 列出或观察 HorizontalPodAutoscaler 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-horizontalpodautoscaler-类别的对象-1><code>list</code> 列出或观察 HorizontalPodAutoscaler 类别的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/autoscaling/v2beta2/horizontalpodautoscalers</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-horizontalpodautoscaler><code>create</code> 创建一个 HorizontalPodAutoscaler</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-horizontalpodautoscaler><code>update</code> 替换指定的 HorizontalPodAutoscaler</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-horizontalpodautoscaler-的状态><code>update</code> 替换指定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-horizontalpodautoscaler><code>patch</code> 部分更新指定的 HorizontalPodAutoscaler</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-horizontalpodautoscaler-的状态><code>patch</code> 部分更新指定 HorizontalPodAutoscaler 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-horizontalpodautoscaler><code>delete</code> 删除一个 HorizontalPodAutoscaler</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>HorizontalPodAutoscaler 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-horizontalpodautoscaler-的集合><code>deletecollection</code> 删除 HorizontalPodAutoscaler 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-707d238ce24c4c3026aa7ef29968e3f7>1.14 - PriorityClass</h1><div class=lead>PriorityClass 定义了从优先级类名到优先级数值的映射。</div><p><code>apiVersion: scheduling.k8s.io/v1</code></p><p><code>import "k8s.io/api/scheduling/v1"</code></p><h2 id=PriorityClass>PriorityClass</h2><p>PriorityClass 定义了从优先级类名到优先级数值的映射。
该值可以是任何有效的整数。</p><hr><ul><li><strong>apiVersion</strong>: scheduling.k8s.io/v1</li></ul><ul><li><strong>kind</strong>: PriorityClass</li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准对象的元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>value</strong> （int32），必需</p><p>此优先级的值。这是 Pod 在其 Pod 规约中有此类名称时收到的实际优先级。</p></li></ul><ul><li><p><strong>description</strong> (string)</p><p>description 是一个任意字符串，通常提供有关何时应使用此优先级的指南。</p></li></ul><ul><li><p><strong>globalDefault</strong> (boolean)</p><p>globalDefault 指定是否应将此 PriorityClass 视为没有任何优先级类的 Pod 的默认优先级。
只有一个 PriorityClass 可以标记为 <code>globalDefault</code>。
但是，如果存在多个 PriorityClasses 且其 <code>globalDefault</code> 字段设置为 true，
则将使用此类全局默认 PriorityClasses 的最小值作为默认优先级。</p></li></ul><ul><li><p><strong>preemptionPolicy</strong> (string)</p><p>PreemptionPolicy 是抢占优先级较低的 Pod 的策略。
可选值：Never、PreemptLowerPriority。
如果未设置，则默认为 PreemptLowerPriority。</p></li></ul><h2 id=PriorityClassList>PriorityClassList</h2><p>PriorityClassList 是优先级类的集合。</p><hr><ul><li><strong>apiVersion</strong>: scheduling.k8s.io/v1</li></ul><ul><li><strong>kind</strong>: PriorityClassList</li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>)，必需</p><p>items 是 PriorityClasses 的列表</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取特定的-priorityclass><code>get</code> 读取特定的 PriorityClass</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>PriorityClass 名称</p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-priorityclass类的对象><code>list</code> 列出或观察 PriorityClass类的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/scheduling.k8s.io/v1/priorityclasses</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClassList>PriorityClassList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-priorityclass><code>create</code> 创建一个 PriorityClass</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/scheduling.k8s.io/v1/priorityclasses</p><h4 id=参数-2>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-priorityclass><code>update</code> 替换指定的 PriorityClass</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>PriorityClass 名称</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新特定的-priorityclass><code>patch</code> 部分更新特定的 PriorityClass</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>PriorityClass 名称</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-priorityclass><code>delete</code> 删除一个 PriorityClass</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string，必需</p><p>PriorityClass 名称。</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-priorityclass-集合><code>deletecollection</code> 删除 PriorityClass 集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/scheduling.k8s.io/v1/priorityclasses</p><h4 id=参数-6>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-54e55c546ba2153921dc8b78bafd699e>2 - Service 资源</h1></div><div class=td-content><h1 id=pg-106baf3be98dce0a42ad9ea7df796679>2.1 - Service</h1><div class=lead>Service 是软件服务（例如 mysql）的命名抽象，包含代理要侦听的本地端口（例如 3306）和一个选择算符，选择算符用来确定哪些 Pod 将响应通过代理发送的请求。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1”</code></p><h2 id=Service>Service</h2><p>Service 是软件服务（例如 mysql）的命名抽象，包含代理要侦听的本地端口（例如 3306）和一个选择算符，
选择算符用来确定哪些 Pod 将响应通过代理发送的请求。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Service</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec>ServiceSpec</a>)</p><p>spec 定义 Service 的行为。https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</p></li><li><p><strong>status</strong>（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceStatus>ServiceStatus</a>）</p><p>最近观察到的 Service 状态。由系统填充。只读。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=ServiceSpec>ServiceSpec</h2><p>ServiceSpec 描述用户在服务上创建的属性。</p><hr><ul><li><p><strong>selector</strong> (map[string]string)</p><p>将 Service 流量路由到具有与此 selector 匹配的标签键值对的 Pod。
如果为空或不存在，则假定该服务有一个外部进程管理其端点，Kubernetes 不会修改该端点。
仅适用于 ClusterIP、NodePort 和 LoadBalancer 类型。如果类型为 ExternalName，则忽略。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/>https://kubernetes.io/docs/concepts/services-networking/service/</a></p></li><li><p><strong>ports</strong> ([]ServicePort)</p><p><strong>Patch strategy：基于键 <code>type</code> 合并</strong></p><p><strong>Map：合并时将保留 type 键的唯一值</strong></p><p>此 Service 公开的端口列表。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p><p><a name=ServicePort></a></p><p><strong>ServicePort 包含有关 ServicePort 的信息。</strong></p><ul><li><p><strong>ports.port</strong> (int32)，必需</p><p>Service 将公开的端口。</p></li></ul><ul><li><p><strong>ports.targetPort</strong> (IntOrString)</p><p>在 Service 所针对的 Pod 上要访问的端口号或名称。
编号必须在 1 到 65535 的范围内。名称必须是 IANA_SVC_NAME。
如果此值是一个字符串，将在目标 Pod 的容器端口中作为命名端口进行查找。
如果未指定字段，则使用 "port” 字段的值（直接映射）。
对于 clusterIP 为 None 的服务，此字段将被忽略，
应忽略不设或设置为 "port” 字段的取值。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/#defining-a-service>https://kubernetes.io/docs/concepts/services-networking/service/#defining-a-service</a></p><p><a name=IntOrString></a></p><p>IntOrString 是一种可以保存 int32 或字符串的类型。
在 JSON 或 YAML 编组和解组中使用时，它会生成或使用内部类型。
例如，这允许您拥有一个可以接受名称或数字的 JSON 字段。</p></li><li><p><strong>ports.protocol</strong> (string)</p><p>此端口的 IP 协议。支持 “TCP”、“UDP” 和 “SCTP”。默认为 TCP。</p></li><li><p><strong>ports.name</strong> (string)</p><p>Service 中此端口的名称。这必须是 DNS_LABEL。
ServiceSpec 中的所有端口的名称都必须唯一。
在考虑 Service 的端点时，这一字段值必须与 EndpointPort 中的 <code>name</code> 字段相同。
如果此服务上仅定义一个 ServicePort，则为此字段为可选。</p></li><li><p><strong>ports.nodePort</strong> (int32)</p><p>当类型为 NodePort 或 LoadBalancer 时，Service 公开在节点上的端口，
通常由系统分配。如果指定了一个在范围内且未使用的值，则将使用该值，否则操作将失败。
如果在创建的 Service 需要该端口时未指定该字段，则会分配端口。
如果在创建不需要该端口的 Service时指定了该字段，则会创建失败。
当更新 Service 时，如果不再需要此字段（例如，将类型从 NodePort 更改为 ClusterIP），这个字段将被擦除。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport>https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport</a></p></li><li><p><strong>ports.appProtocol</strong> (string)</p><p>此端口的应用协议，遵循标准的 Kubernetes 标签语法，无前缀名称按照 IANA 标准服务名称
（参见 RFC-6335 和 <a href=https://www.iana.org/assignments/service-names>https://www.iana.org/assignments/service-names</a>）。
非标准协议应该使用前缀名称，如 mycompany.com/my-custom-protocol。</p></li></ul></li><li><p><strong>type</strong> (string)</p><p>type 确定 Service 的公开方式。默认为 ClusterIP。
有效选项为 ExternalName、ClusterIP、NodePort 和 LoadBalancer。
“ClusterIP” 为端点分配一个集群内部 IP 地址用于负载均衡。
Endpoints 由 selector 确定，如果未设置 selector，则需要通过手动构造 Endpoints 或 EndpointSlice 的对象来确定。
如果 clusterIP 为 “None”，则不分配虚拟 IP，并且 Endpoints 作为一组端点而不是虚拟 IP 发布。
“NodePort” 建立在 ClusterIP 之上，并在每个节点上分配一个端口，该端口路由到与 clusterIP 相同的 Endpoints。
“LoadBalancer” 基于 NodePort 构建并创建一个外部负载均衡器（如果当前云支持），该负载均衡器路由到与 clusterIP 相同的 Endpoints。
“externalName” 将此 Service 别名为指定的 externalName。其他几个字段不适用于 ExternalName Service。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types>https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types</a></p></li><li><p><strong>ipFamilies</strong> ([]string)</p><p><strong>原子: 将在合并期间被替换</strong></p><p>iPFamilies 是分配给此服务的 IP 协议（例如 IPv4、IPv6）的列表。
该字段通常根据集群配置和 ipFamilyPolicy 字段自动设置。
如果手动指定该字段，且请求的协议在集群中可用，且 ipFamilyPolicy 允许，则使用；否则服务创建将失败。
该字段修改是有条件的：它允许添加或删除辅助 IP 协议，但不允许更改服务的主要 IP 协议。
有效值为 “IPv4” 和 “IPv6”。
该字段仅适用于 ClusterIP、NodePort 和 LoadBalancer 类型的服务，并且确实可用于“无头”服务。
更新服务设置类型为 ExternalName 时，该字段将被擦除。</p><p>该字段最多可以包含两个条目（双栈系列，按任意顺序）。
如果指定，这些协议栈必须对应于 clusterIPs 字段的值。
clusterIP 和 ipFamilies 都由 ipFamilyPolicy 字段管理。</p></li><li><p><strong>ipFamilyPolicy</strong> (string)</p><p>iPFamilyPolicy 表示此服务请求或要求的双栈特性。
如果没有提供值，则此字段将被设置为 SingleStack。
服务可以是 “SingleStack”（单个 IP 协议）、
“PreferDualStack”（双栈配置集群上的两个 IP 协议或单栈集群上的单个 IP 协议）
或 “RequireDualStack”（双栈上的两个 IP 协议配置的集群，否则失败）。
ipFamilies 和 clusterIPs 字段取决于此字段的值。
更新服务设置类型为 ExternalName 时，此字段将被擦除。</p></li><li><p><strong>clusterIP</strong> (string)</p><p>clusterIP 是服务的 IP 地址，通常是随机分配的。
如果地址是手动指定的，在范围内（根据系统配置），且没有被使用，它将被分配给服务，否则创建服务将失败。
clusterIP 一般不会被更改，除非 type 被更改为 ExternalName
（ExternalName 需要 clusterIP 为空）或 type 已经是 ExternalName 时，可以更改 clusterIP（在这种情况下，可以选择指定此字段）。
可选值 “None”、空字符串 (“”) 或有效的 IP 地址。
clusterIP 为 “None” 时会生成“无头服务”（无虚拟 IP），这在首选直接 Endpoint 连接且不需要代理时很有用。
仅适用于 ClusterIP、NodePort、和 LoadBalancer 类型的服务。
如果在创建 ExternalName 类型的 Service 时指定了 clusterIP，则创建将失败。
更新 Service type 为 ExternalName 时，clusterIP 会被移除。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p></li><li><p><strong>clusterIPs</strong> ([]string)</p><p><strong>原子: 将在合并期间被替换</strong></p><p>clusterIPs 是分配给该 Service 的 IP 地址列表，通常是随机分配的。
如果地址是手动指定的，在范围内（根据系统配置），且没有被使用，它将被分配给 Service；否则创建 Service 失败。
clusterIP 一般不会被更改，除非 type 被更改为 ExternalName
（ExternalName 需要 clusterIPs 为空）或 type 已经是 ExternalName 时，可以更改 clusterIPs（在这种情况下，可以选择指定此字段）。
可选值 “None”、空字符串 (“”) 或有效的 IP 地址。
clusterIPs 为 “None” 时会生成“无头服务”（无虚拟 IP），这在首选直接 Endpoint 连接且不需要代理时很有用。
适用于 ClusterIP、NodePort、和 LoadBalancer 类型的服务。
如果在创建 ExternalName 类型的 Service 时指定了 clusterIPs，则会创建失败。
更新 Service type 为 ExternalName 时，该字段将被移除。如果未指定此字段，则将从 clusterIP 字段初始化。
如果指定 clusterIPs，客户端必须确保 clusterIPs[0] 和 clusterIP 一致。</p><p>clusterIPs 最多可包含两个条目（双栈系列，按任意顺序）。
这些 IP 必须与 ipFamilies 的值相对应。
clusterIP 和 ipFamilies 都由 ipFamilyPolicy 管理。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p></li><li><p><strong>externalIPs</strong> ([]string)</p><p>externalIPs 是一个 IP 列表，集群中的节点会为此 Service 接收针对这些 IP 地址的流量。
这些 IP 不被 Kubernetes 管理。用户需要确保流量可以到达具有此 IP 的节点。
一个常见的例子是不属于 Kubernetes 系统的外部负载均衡器。</p></li><li><p><strong>sessionAffinity</strong> (string)</p><p>支持 “ClientIP” 和 “None”。用于维护会话亲和性。
启用基于客户端 IP 的会话亲和性。必须是 ClientIP 或 None。默认为 None。
更多信息： <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p></li><li><p><strong>loadBalancerIP</strong> (string)</p><p>仅适用于服务类型: LoadBalancer。此功能取决于底层云提供商是否支持负载均衡器。
如果云提供商不支持该功能，该字段将被忽略。
已弃用: 该字段信息不足，且其含义因实现而异，而且不支持双栈。
从 Kubernetes v1.24 开始，鼓励用户在可用时使用特定于实现的注释。在未来的 API 版本中可能会删除此字段。</p></li><li><p><strong>loadBalancerSourceRanges</strong> ([]string)</p><p>如果设置了此字段并且被平台支持，将限制通过云厂商的负载均衡器的流量到指定的客户端 IP。
如果云提供商不支持该功能，该字段将被忽略。
更多信息： <a href=https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/>https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/</a></p></li><li><p><strong>loadBalancerClass</strong> (string)</p><p>loadBalancerClass 是此 Service 所属的负载均衡器实现的类。
如果设置了此字段，则字段值必须是标签风格的标识符，带有可选前缀，例如 ”internal-vip” 或 “example.com/internal-vip”。
无前缀名称是为最终用户保留的。该字段只能在 Service 类型为 “LoadBalancer” 时设置。
如果未设置此字段，则使用默认负载均衡器实现。默认负载均衡器现在通常通过云提供商集成完成，但应适用于任何默认实现。
如果设置了此字段，则假定负载均衡器实现正在监测具有对应负载均衡器类的 Service。
任何默认负载均衡器实现（例如云提供商）都应忽略设置此字段的 Service。
只有在创建或更新的 Service 的 type 为 “LoadBalancer” 时，才可设置此字段。
一经设定，不可更改。当 Service 的 type 更新为 “LoadBalancer” 之外的其他类型时，此字段将被移除。</p></li><li><p><strong>externalName</strong> (string)</p><p>externalName 是发现机制将返回的外部引用，作为此服务的别名（例如 DNS CNAME 记录）。
不涉及代理。必须是小写的 RFC-1123 主机名 (<a href=https://tools.ietf.org/html/rfc1123>https://tools.ietf.org/html/rfc1123</a>)，
并且要求 <code>type</code> 为 “ExternalName”。</p></li><li><p><strong>externalTrafficPolicy</strong> (string)</p><p>externalTrafficPolicy 表示此 Service 是否希望将外部流量路由到节点本地或集群范围的 Endpoint。
字段值 “Local” 保留客户端 IP 并可避免 LoadBalancer 和 Nodeport 类型 Service 的第二跳，但存在潜在流量传播不平衡的风险。
字段值 “Cluster” 则会掩盖客户端源 IP，可能会导致第二次跳转到另一个节点，但整体流量负载分布较好。</p></li><li><p><strong>internalTrafficPolicy</strong> (string)</p><p>internalTrafficPolicy 指定是将集群内部流量路由到所有端点还是仅路由到节点本地的端点。
字段值 “Cluster” 将 Service 的内部流量路由到所有端点。
字段值 ”Local” 意味着仅将流量路由到节点本地的端点；如果节点本地端点未准备好，则丢弃流量。
默认值为 “Cluster”。</p></li><li><p><strong>healthCheckNodePort</strong> (int32)</p><p>healthCheckNodePort 指定 Service 的健康检查节点端口。
仅适用于 type 为 LoadBalancer 且 externalTrafficPolicy 设置为 Local 的情况。
如果为此字段设定了一个值，该值在合法范围内且没有被使用，则使用所指定的值。
如果未设置此字段，则自动分配字段值。外部系统（例如负载平衡器）可以使用此端口来确定给定节点是否拥有此服务的端点。
在创建不需要 healthCheckNodePort 的 Service 时指定了此字段，则 Service 创建会失败。
要移除 healthCheckNodePort，需要更改 Service 的 type。</p></li><li><p><strong>publishNotReadyAddresses</strong> (boolean)</p><p>publishNotReadyAddresses 表示任何处理此 Service 端点的代理都应忽略任何准备就绪/未准备就绪的指示。
设置此字段的主要场景是为 StatefulSet 的服务提供支持，使之能够为其 Pod 传播 SRV DNS 记录，以实现对等发现。
为 Service 生成 Endpoints 和 EndpointSlice 资源的 Kubernetes 控制器对字段的解读是，
即使 Pod 本身还没有准备好，所有端点都可被视为 “已就绪”。
对于代理而言，如果仅使用 Kubernetes 通过 Endpoints 或 EndpointSlice 资源所生成的端点，
则可以安全地假设这种行为。</p></li><li><p><strong>sessionAffinityConfig</strong> (SessionAffinityConfig)</p><p>sessionAffinityConfig 包含会话亲和性的配置。</p><p><a name=SessionAffinityConfig></a></p><p><strong>SessionAffinityConfig 表示会话亲和性的配置。</strong></p><ul><li><p><strong>sessionAffinityConfig.clientIP</strong> (ClientIPConfig)</p><p>clientIP 包含基于客户端 IP 的会话亲和性的配置。</p><p><a name=ClientIPConfig></a></p><p>ClientIPConfig 表示基于客户端 IP 的会话亲和性的配置。</p><ul><li><p><strong>sessionAffinityConfig.clientIP.timeoutSeconds</strong> (int32)</p><p>timeoutSeconds 指定 ClientIP 类型会话的维系时间秒数。
如果 ServiceAffinity == "ClientIP"，则该值必须 >0 && &lt;=86400（1 天）。默认值为 10800（3 小时）。</p></li></ul></li></ul></li><li><p><strong>allocateLoadBalancerNodePorts</strong> (boolean)</p><p>allocateLoadBalancerNodePorts 定义了是否会自动为 LoadBalancer 类型的 Service 分配 NodePort。默认为 true。
如果集群负载均衡器不依赖 NodePort，则可以设置此字段为 false。
如果调用者（通过指定一个值）请求特定的 NodePort，则无论此字段如何，都会接受这些请求。
该字段只能设置在 type 为 LoadBalancer 的 Service 上，如果 type 更改为任何其他类型，该字段将被移除。</p></li></ul><h2 id=ServiceStatus>ServiceStatus</h2><p>ServiceStatus 表示 Service 的当前状态。</p><hr><ul><li><p><strong>conditions</strong> ([]Condition)</p><p><strong>Patch strategy: 在 <code>type</code> 上合并</strong></p><p><strong>Map: 键类型的唯一值将在合并期间保留</strong></p><p>服务的当前状态。</p><p><a name=Condition></a></p><p><strong>condition 包含此 API 资源某一方面当前的状态详细信息。</strong></p><ul><li><p><strong>conditions.lastTransitionTime</strong>（Time），必需</p><p>lastTransitionTime 是状况最近一次状态转化的时间。
变化应该发生在下层状况发生变化的时候。如果不知道下层状况发生变化的时间，
那么使用 API 字段更改的时间是可以接受的。</p><p><a name=Time></a></p><p>Time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</p></li></ul><ul><li><p><strong>conditions.message</strong> (string)，必需</p><p>message 是人类可读的消息，有关转换的详细信息，可以是空字符串。</p></li></ul><ul><li><p><strong>conditions.reason</strong> (string)，必需</p><p>reason 包含一个程序标识符，指示 condition 最后一次转换的原因。
特定条件类型的生产者可以定义该字段的预期值和含义，以及这些值是否被视为有保证的 API。
该值应该是 CamelCase 字符串且不能为空。</p></li></ul><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>condition 的状态，True、False、Unknown 之一。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string)，必需</p><p>CamelCase 或 foo.example.com/CamelCase 中的条件类型。</p></li><li><p><strong>conditions.observedGeneration</strong> (int64)</p><p>observedGeneration 表示设置 condition 基于的 .metadata.generation 的过期次数。
例如，如果 .metadata.generation 当前为 12，但 .status.conditions[x].observedGeneration 为 9，
则 condition 相对于实例的当前状态已过期。</p></li></ul></li><li><p><strong>loadBalancer</strong> (LoadBalancerStatus)</p><p>loadBalancer 包含负载均衡器的当前状态（如果存在）。</p><p><a name=LoadBalancerStatus></a></p><p><strong>LoadBalancerStatus 表示负载均衡器的状态。</strong></p><ul><li><p><strong>loadBalancer.ingress</strong> ([]LoadBalancerIngress)</p><p>ingress 是一个包含负载均衡器 Ingress 点的列表。Service 的流量需要被发送到这些 Ingress 点。</p><p><a name=LoadBalancerIngress></a></p><p><strong>LoadBalancerIngress 表示负载平衡器入口点的状态: 用于服务的流量是否被发送到入口点。</strong></p><ul><li><p><strong>loadBalancer.ingress.hostname</strong> (string)</p><p>hostname 是为基于 DNS 的负载均衡器 Ingress 点（通常是 AWS 负载均衡器）设置的。</p></li><li><p><strong>loadBalancer.ingress.ip</strong> (string)</p><p>ip 是为基于 IP 的负载均衡器 Ingress 点（通常是 GCE 或 OpenStack 负载均衡器）设置的。</p></li><li><p><strong>loadBalancer.ingress.ports</strong> ([]PortStatus)</p><p><strong>Atomic: 将在合并期间被替换</strong></p><p>ports 是 Service 的端口列表。如果设置了此字段，Service 中定义的每个端口都应该在此列表中。</p><p><a name=PortStatus></a></p><ul><li><p><strong>loadBalancer.ingress.ports.port</strong> (int32)，必需</p><p>port 是所记录的服务端口状态的端口号。</p></li></ul><ul><li><p><strong>loadBalancer.ingress.ports.protocol</strong> (string)，必需</p><p>protocol 是所记录的服务端口状态的协议。支持的值为：“TCP”、”UDP”、“SCTP”。</p></li><li><p><strong>loadBalancer.ingress.ports.error</strong> (string)</p><p>error 是记录 Service 端口的问题。
错误的格式应符合以下规则:</p><ul><li>内置错误原因应在此文件中指定，应使用 CamelCase 名称。</li><li>云提供商特定错误原因的名称必须符合格式 foo.example.com/CamelCase。</li></ul></li></ul></li></ul></li></ul></li></ul><h2 id=ServiceList>ServiceList</h2><p>ServiceList 包含一个 Service 列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Service 列表</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><ul><li><p><strong>items</strong>（[]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>），必需</p><p>Service 列表</p></li></ul><h2 id=operations>操作</h2><hr><h3 id=get-读取指定的-service><code>get</code> 读取指定的 Service</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/services/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>查询参数</strong>)：string，必需</p><p>Service 名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-service-的状态><code>get</code> 读取指定 Service 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/services/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Service 名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>401: Unauthorized</p><h3 id=list-列出或监测-service-类型的对象><code>list</code> 列出或监测 Service 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/services</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceList>ServiceList</a>）: OK</p><p>401: Unauthorized</p><h3 id=list-列出或监测-service-类型的对象-1><code>list</code> 列出或监测 Service 类型的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /api/v1/services</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceList>ServiceList</a>）: OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-service><code>create</code> 创建一个 Service</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/services</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>201（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: Created</p><p>202（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-service><code>update</code> 替换指定的 Service</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/services/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Service 名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>201（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-service-的状态><code>update</code> 替换指定 Service 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/services/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Service 名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>201（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-service><code>patch</code> 部分更新指定的 Service</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/services/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Service 名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>201（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-service-的状态><code>patch</code> 部分更新指定 Service 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/services/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Service 名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>201（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: Created</p><p>401: Unauthorized</p><h3 id=delete-删除-service><code>delete</code> 删除 Service</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/services/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Service 名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>正文</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: OK</p><p>202（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>）: Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-service-集合><code>deletecollection</code> 删除 Service 集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/services</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200（<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>）: OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-3f9a97d28a4b596c8d33d230e2b3dd6e>2.2 - Endpoints</h1><div class=lead>Endpoints 是实现实际服务的端点的集合。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=Endpoints>Endpoints</h2><p>Endpoints 是实现实际服务的端点的集合。举例:</p><pre><code> Name: &quot;mysvc&quot;,
 Subsets: [
   {
     Addresses: [{&quot;ip&quot;: &quot;10.10.1.1&quot;}, {&quot;ip&quot;: &quot;10.10.2.2&quot;}],
     Ports: [{&quot;name&quot;: &quot;a&quot;, &quot;port&quot;: 8675}, {&quot;name&quot;: &quot;b&quot;, &quot;port&quot;: 309}]
   },
   {
     Addresses: [{&quot;ip&quot;: &quot;10.10.3.3&quot;}],
     Ports: [{&quot;name&quot;: &quot;a&quot;, &quot;port&quot;: 93}, {&quot;name&quot;: &quot;b&quot;, &quot;port&quot;: 76}]
   },
]
</code></pre><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Endpoints</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>subsets</strong> ([]EndpointSubset)</p><p>所有端点的集合是所有 subsets 的并集。不同地址会根据其 IP 地址被放入不同子集。
对于具有多个端口的单个地址，如果其中一些端口已就绪，而另一些端口未就绪（因为它们来自不同的容器），
将导致地址显示在不同端口的不同子集中。
任何地址都不可以同时出现在 addresses 和 notReadyAddress 中的相同子集内。</p><p><a name=EndpointSubset></a>
<strong>EndpointSubset 是一组具有公共端口集的地址。扩展的端点集是 addresses 和 ports 的笛卡尔乘积。例如假设：</strong></p><p>{
Addresses: [{"ip": "10.10.1.1"}, {"ip": "10.10.2.2"}],
Ports: [{"name": "a", "port": 8675}, {"name": "b", "port": 309}]
}</p><p>则最终的端点集可以看作:</p><p>a: [ 10.10.1.1:8675, 10.10.2.2:8675 ],
b: [ 10.10.1.1:309, 10.10.2.2:309 ]*</p><ul><li><p><strong>subsets.addresses</strong> ([]EndpointAddress)</p><p>提供标记为就绪的相关端口的 IP 地址。
这些端点应该被认为是负载均衡器和客户端可以安全使用的。</p><p><a name=EndpointAddress></a>
<strong>EndpointAddress 是描述单个 IP 地址的元组。</strong></p><ul><li><p><strong>subsets.addresses.ip</strong> (string), 必需</p><p>端点的 IP。不可以是本地回路（127.0.0.0/8）、链路本地（169.254.0.0/16）或链路本地多播（224.0.0.0/24）地址。
IPv6 也被接受，但并非在所有平台上都完全支持。
此外，诸如 kube-proxy 等某些 Kubernetes 组件还没有准备好支持 IPv6。</p></li><li><p><strong>subsets.addresses.hostname</strong> (string)</p><p>端点主机名称。</p></li><li><p><strong>subsets.addresses.nodeName</strong> (string)</p><p>可选：承载此端点的节点。此字段可用于确定一个节点的本地端点。</p></li><li><p><strong>subsets.addresses.targetRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p>对提供端点的对象的引用。</p></li></ul></li><li><p><strong>subsets.notReadyAddresses</strong> ([]EndpointAddress)</p><p>提供相关端口但由于尚未完成启动、最近未通过就绪态检查或最近未通过活跃性检查而被标记为当前未就绪的 IP 地址。
<a name=EndpointAddress></a>
<strong>EndpointAddress 是描述单个 IP 地址的元组。</strong></p><ul><li><p><strong>subsets.notReadyAddresses.ip</strong> (string), 必需</p><p>端点的 IP。不可以是本地环路（127.0.0.0/8）、链路本地（169.254.0.0/16）或链路本地多播（224.0.0.0/24）地址。
IPv6 也被接受，但并非在所有平台上都完全支持。
此外，诸如 kube-proxy 等某些 Kubernetes 组件还没有准备好支持 IPv6。</p></li><li><p><strong>subsets.notReadyAddresses.hostname</strong> (string)</p><p>端点主机名称。</p></li><li><p><strong>subsets.notReadyAddresses.nodeName</strong> (string)</p><p>可选：承载此端点的节点。此字段可用于确定节点的本地端点。</p></li><li><p><strong>subsets.notReadyAddresses.targetRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p>对提供端点的对象的引用。</p></li></ul></li><li><p><strong>subsets.ports</strong> ([]EndpointPort)</p><p>相关 IP 地址上可用的端口号。</p><p><a name=EndpointPort></a>
<strong>EndpointAddress 是描述单个 IP 地址的元组。</strong></p><ul><li><p><strong>subsets.ports.port</strong> (int32), 必需</p><p>端点的端口号。</p></li><li><p><strong>subsets.ports.protocol</strong> (string)</p><p>此端口的 IP 协议。必须是 UDP、TCP 或 SCTP。默认值为 TCP。</p></li><li><p><strong>subsets.ports.name</strong> (string)</p><p>端口的名称。此字段必须与相应 ServicePort 中的 <code>name</code> 字段匹配。必须是 DNS_LABEL。
仅当定义了一个端口时才可选。</p></li><li><p><strong>subsets.ports.appProtocol</strong> (string)</p><p>端口的应用程序协议。此字段遵循标准的 Kubernetes 标签语法。
未加前缀的名称保留给 IANA 标准服务名称（遵循 RFC-6335 和 <a href=https://www.iana.org/assignments/service-names>https://www.iana.org/assignments/service-names</a>)。
非标准协议应使用带前缀名称，如 <code>mycompany.com/my-custom-protocol</code>。</p></li></ul></li></ul></li></ul><h2 id=EndpointsList>EndpointsList</h2><p>EndpointsList 是端点列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: EndpointsList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>), 必需</p><p>端点列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-endpoints><code>get</code> 读取指定的 Endpoints</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/endpoints/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Endpoints 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监测-endpoints-类型的对象><code>list</code> 列出或监测 Endpoints 类型的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/endpoints</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#EndpointsList>EndpointsList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监测-endpoints-类型的对象-1><code>list</code> 列出或监测 Endpoints 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/endpoints</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#EndpointsList>EndpointsList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-endpoints><code>create</code> 创建 Endpoints</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/endpoints</p><h4 id=参数-3>参数</h4><ul><li><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</li></ul><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-endpoints><code>update</code> 替换指定的 Endpoints</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/endpoints/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Endpoints 名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>, required</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-endpoints><code>patch</code> 部分更新指定的 Endpoints</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/endpoints/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Endpoints名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-endpoints><code>delete</code> 删除 Endpoints</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/endpoints/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Endpoints 名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-endpoints-组><code>deletecollection</code> 删除 Endpoints 组</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/endpoints</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c9e5f15a68e325ce17ea168bcabd33e5>2.3 - EndpointSlice</h1><div class=lead>EndpointSlice 是实现某 Service 的端点的子集.</div><p><code>apiVersion: discovery.k8s.io/v1</code></p><p><code>import "k8s.io/api/discovery/v1"</code></p><h2 id=EndpointSlice>EndpointSlice</h2><p>EndpointSlice 是实现某 Service 的端点的子集。一个 Service 可以有多个 EndpointSlice 对象与之对应，
必须将所有的 EndpointSlice 拼接起来才能形成一套完整的端点集合。Service 通过标签来选择 EndpointSlice。</p><hr><ul><li><p><strong>apiVersion</strong>：discovery.k8s.io/v1</p></li><li><p><strong>kind</strong>：EndpointSlice</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。</p></li><li><p><strong>addressType</strong> (string), 必需</p><p>addressType 指定当前 EndpointSlice 携带的地址类型。一个 EndpointSlice 只能携带同一类型的地址。
EndpointSlice 对象创建完成后不可以再更改 addressType 字段。</p><p>目前支持的地址类型为：</p><ul><li>IPv4：表示 IPv4 地址。</li><li>IPv6：表示 IPv6 地址。</li><li>FQDN：表示完全限定域名。</li></ul></li><li><p><strong>endpoints</strong> ([]Endpoint), 必需</p><p><strong>原子性：合并期间将被替换</strong></p><p>endpoints 是当前 EndpointSlice 中一组唯一的端点。每个 EndpointSlice 最多可以包含 1000 个端点。</p><p><a name=Endpoint></a></p><p><strong>端点是实现某 Service 的一个逻辑“后端”。</strong></p><ul><li><p><strong>endpoints.addresses</strong> ([]string), 必需</p><p><strong>集合：不重复的值在合并期间会被保留</strong></p><p>本端点的地址。此字段的内容会根据对应的 EndpointSlice addressType 字段的值进行解释。
消费者必须根据自身能力处理不同类型的地址。此字段必须至少包含 1 个地址，最多不超过 100 个地址。
假定这些地址都是可替换的，而且客户端也可能选择只用第一个元素。参阅： <a href=https://issue.k8s.io/106267>https://issue.k8s.io/106267</a></p></li><li><p><strong>endpoints.conditions</strong> (EndpointConditions)</p><p>conditions 包含和本端点当前状态有关的信息。</p><p><a name=EndpointConditions></a></p><p><strong>EndpointConditions 是端点的当前状况。</strong></p><ul><li><p><strong>endpoints.conditions.ready</strong> (boolean)</p><p>ready 说明此端点已经准备好根据相关的系统映射接收流量。nil 值表示状态未知。
在大多数情况下，消费者应将这种未知状态视为就绪（ready）。
考虑到兼容性，对于正在结束状态下的端点，永远不能将 ready 设置为“true”。</p></li><li><p><strong>endpoints.conditions.serving</strong> (boolean)</p><p>serving 和 ready 非常相似。唯一的不同在于,
即便某端点的状态为 Terminating 也可以设置 serving。
对于处在终止过程中的就绪端点，此状况应被设置为 “true”。
如果设置为 nil，则消费者应该以 ready 值为准。
可以在 EndpointSliceTerminatingCondition 特性开关中启用此字段。</p></li><li><p><strong>endpoints.conditions.terminating</strong> (boolean)</p><p>terminating 说明当前端点正在终止过程中。nil 值表示状态未知。
消费者应将这种未知状态视为端点并不处于终止过程中。
可以通过 EndpointSliceTerminatingCondition 特性门控启用此字段。</p></li></ul></li><li><p><strong>endpoints.deprecatedTopology</strong> (map[string]string)</p><p>deprecatedTopology 包含 v1beta1 API 的拓扑信息部分。目前已经弃用了此字段，
移除 v1beta1 API 时（不早于 Kubernetes v1.24）会一起移除此字段。
此字段目前仍然可以存储值，但是不能通过 v1 API 写入数据。
向此字段写入数据的任何尝试都会被忽略，并且不会通知用户。
移除此字段后，可以在 zone 和 nodeName 字段中查看拓扑信息。</p></li><li><p><strong>endpoints.hints</strong> (EndpointHints)</p><p>hints 是关于应该如何使用某端点的提示信息。</p><p><a name=EndpointHints></a></p><p><strong>EndpointHints 提供应该如何使用某端点的提示信息。</strong></p><ul><li><p><strong>endpoints.hints.forZones</strong> ([]ForZone)</p><p><strong>原子性：合并期间将被替换</strong></p><p>forZones 表示应该由哪个可用区调用此端点从才能激活拓扑感知路由。</p><p><a name=ForZone></a></p><p><strong>ForZone 指示应该由哪些可用区调度此端点。</strong></p><ul><li><p><strong>endpoints.hints.forZones.name</strong> (string), 必需</p><p>name 代表可用区的名称。</p></li></ul></li></ul></li><li><p><strong>endpoints.hostname</strong> (string)</p><p>此端点的主机名称。端点的使用者可以通过此字段区分各个端点（例如，通过 DNS 域名）。
使用同一主机名称的多个端点应被视为可替换（例如，DNS 中的多个 A 记录）。
必须为小写字母，并且需要通过 DNS Label (RFC 1123) 验证。</p></li><li><p><strong>endpoints.nodeName</strong> (string)</p><p>nodeName 是托管此端点的 Node 的名称，使用 nodeName 可以决定 Node 本地有哪些端点。</p></li><li><p><strong>endpoints.targetRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p>targetRef 是对代表此端点的 Kubernetes 对象的引用。</p></li><li><p><strong>endpoints.zone</strong> (string)</p><p>zone 是此端点所在的可用区（Zone）的名称。</p></li></ul></li><li><p><strong>ports</strong> ([]EndpointPort)</p><p><strong>原子性：合并期间会被替代</strong></p><p>ports 列出了当前 EndpointSlice 中各个端点所暴露的网络端口。每个端口的名称不得重复。
当 ports 列表为空时，表示没有已经指定暴露哪些端口。如果端口值被定义为 nil，表示暴露“所有端口”。
每个 EndpointSlice 最多可以包含 100 个端口。</p><p><a name=EndpointPort></a></p><p><strong>EndpointPort 是 EndpointSlice 使用的端口。</strong></p><ul><li><p><strong>ports.port</strong> (int32)</p><p>端点的端口号。如果未指定，就不限制端口，且必须根据消费者的具体环境进行解释。</p></li><li><p><strong>ports.protocol</strong> (string)</p><p>此端口的 IP 协议。必须为 UDP、TCP 或 SCTP。默认为 TCP。</p></li><li><p><strong>ports.name</strong> (string)</p><p>此端口的名称。EndpointSlice 中所有端口的名称都不得重复。
如果 EndpointSlice 是基于 Kubernetes Service 创建的，
那么此端口的名称和 Service.ports[].name 字段的值一致。默认为空字符串。
名称必须是空字符串，或者必须通过 DNS_LABEL 验证：</p><ul><li>最多包含 63 个字符。</li><li>必须包含英文小写字母或'-'。</li><li>必须以字母开头并以字母结尾。</li></ul></li><li><p><strong>ports.appProtocol</strong> (string)</p><p>此端口的应用层协议。此字段遵循标准的 Kubernetes Label 句法。
不带前缀的名称是 IANA 标准服务的保留名称（参见 RFC-6335 和 <a href=https://www.iana.org/assignments/service-names>https://www.iana.org/assignments/service-names</a>）。
非标准协议应该使用带前缀的名称，例如 mycompany.com/my-custom-protocol。</p></li></ul></li></ul><h2 id=EndpointSliceList>EndpointSliceList</h2><p>EndpointSliceList 是 EndpointSlice 的列表。</p><hr><ul><li><p><strong>apiVersion</strong>：discovery.k8s.io/v1</p></li><li><p><strong>kind</strong>：EndpointSliceList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据</p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>), 必需</p><p>EndpointSlice 列表</p></li></ul><h2 id=操作>操作</h2><hr><h3 id=get-读取指定的-endpointslice><code>get</code> 读取指定的 EndpointSlice</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string, 必需</p><p>EndpointSlice 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：OK</p><p>401：Unauthorized</p><h3 id=list-列举或监测-endpointslice-类别的对象><code>list</code> 列举或监测 EndpointSlice 类别的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<em>查询参数</em>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSliceList>EndpointSliceList</a>): OK</p><p>401：Unauthorized</p><h3 id=list-列举或监测-endpointslice-类别的对象-1><code>list</code> 列举或监测 EndpointSlice 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/discovery.k8s.io/v1/endpointslices</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><strong>limit</strong> (<strong>查询参数</strong>)：integer
<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></li></ul><ul><li><strong>pretty</strong> (<strong>查询参数</strong>)：string
<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<em>查询参数</em>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSliceList>EndpointSliceList</a>)：OK</p><p>401：Unauthorized</p><h3 id=create-创建-endpointslice><code>create</code> 创建 EndpointSlice</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：Accepted</p><p>401：Unauthorized</p><h3 id=update-替换指定的-endpointslice><code>update</code> 替换指定的 EndpointSlice</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string, 必需</p><p>EndpointSlice 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string-</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：Created</p><p>401：Unauthorized</p><h3 id=patch-部分更新指定的-endpointslice><code>patch</code> 部分更新指定的 EndpointSlice</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>EndpointSlice 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>)：Created</p><p>401：Unauthorized</p><h3 id=delete-删除-endpointslice><code>delete</code> 删除 EndpointSlice</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string, 必需</p><p>EndpointSlice 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>)：OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>)：Accepted</p><p>401：Unauthorized</p><h3 id=deletecollection-删除-endpointslice-的集合><code>deletecollection</code> 删除 EndpointSlice 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>)：OK</p><p>401：Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-734ceb8f9e59bff318dc526882eb5dcd>2.4 - Ingress</h1><div class=lead>Ingress 是允许入站连接到达后端定义的端点的规则集合。</div><p><code>apiVersion: networking.k8s.io/v1</code></p><p><code>import "k8s.io/api/networking/v1"</code></p><h2 id=Ingress>Ingress</h2><p>Ingress 是允许入站连接到达后端定义的端点的规则集合。
Ingress 可以配置为向服务提供外部可访问的 URL、负载均衡流量、终止 SSL、提供基于名称的虚拟主机等。</p><hr><ul><li><p><strong>apiVersion</strong>: networking.k8s.io/v1</p></li><li><p><strong>kind</strong>: Ingress</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressSpec>IngressSpec</a>)</p><p>spec 是 Ingress 的预期状态。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressStatus>IngressStatus</a>)</p><p>status 是 Ingress 的当前状态。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=IngressSpec>IngressSpec</h2><p>IngressSpec 描述用户希望存在的 Ingress。</p><hr><ul><li><p><strong>defaultBackend</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressBackend>IngressBackend</a>)</p><p>defaultBackend 是负责处理与任何规则都不匹配的请求的后端。
如果未指定 rules，则必须指定 defaultBackend。
如果未设置 defaultBackend，则不符合任何 rules 的请求的处理将由 Ingress 控制器决定。</p></li><li><p><strong>ingressClassName</strong> (string)</p><p>IngressClassName 是 IngressClass 集群资源的名称。
Ingress 控制器实现使用此字段来了解它们是否应该通过传递连接（控制器 -> IngressClass -> Ingress 资源）为该
Ingress 资源提供服务。尽管 <code>kubernetes.io/ingress.class</code> 注解（简单的常量名称）从未正式定义，
但它被 Ingress 控制器广泛支持，以在 Ingress 控制器和 Ingress 资源之间创建直接绑定。
新创建的 Ingress 资源应该优先选择使用该字段。但是，即使注解已被正式弃用，
出于向后兼容性的原因，Ingress 控制器仍应能够处理该注解（如果存在）。</p></li><li><p><strong>rules</strong> ([]IngressRule)</p><p><strong>Atomic: 将在合并期间被替换</strong></p><p>用于配置 Ingress 的主机规则列表。如果未指定或没有规则匹配，则所有流量都将发送到默认后端。</p><p><a name=IngressRule></a>
<strong>IngressRule 表示将指定主机下的路径映射到相关后端服务的规则。
传入请求首先评估主机匹配，然后路由到与匹配的 IngressRuleValue 关联的后端。</strong></p><ul><li><p><strong>rules.host</strong> (string)</p><p>host 是 RFC 3986 定义的网络主机的完全限定域名。请注意以下与 RFC 3986 中定义的 URI 的 “host” 部分的偏差：</p><ol><li><p>不允许 IP。当前 IngressRuleValue 只能应用于父 Ingress Spec 中的 IP。</p></li><li><p>由于不允许使用端口，因此不理会 “:” 分隔符。
当前 Ingress 的端口隐式为：</p><ul><li><code>:80</code> 用于 http</li><li><code>:443</code> 用于 https</li></ul></li></ol><p>这两种情况在未来都可能发生变化。入站请求在通过 IngressRuleValue 处理之前先进行 host 匹配。
如果主机未指定，Ingress 将根据指定的 IngressRuleValue 规则路由所有流量。</p><p>host 可以是 “精确“ 的，设置为一个不含终止句点的网络主机域名（例如 “foo.bar.com” ），
也可以是一个 “通配符”，设置为以单个通配符标签为前缀的域名（例如 “<em>.foo.com”）。
通配符 “</em>” 必须单独显示为第一个 DNS 标签，并且仅与单个标签匹配。
你不能单独使用通配符作为标签（例如，Host=“*”）。请求将按以下方式与主机字段匹配：</p><ol><li>如果 host 是精确匹配的，则如果 http <code>Host</code> 标头等于 host 值，则请求与此规则匹配。</li><li>如果 host 是用通配符给出的，那么如果 HTTP <code>Host</code> 标头与通配符规则的后缀（删除第一个标签）相同，
则请求与此规则匹配。</li></ol></li><li><p><strong>rules.http</strong> (HTTPIngressRuleValue)</p><p><a name=HTTPIngressRuleValue></a>
<strong>HTTPIngressRuleValue 是指向后端的 http 选择算符列表。例如 <code>http://&lt;host>/&lt;path>?&lt;searchpart> -> 后端</code>，
其中 <code>url</code> 的部分对应于 RFC 3986，此资源将用于匹配最后一个 “/” 之后和第一个 “?” 之前的所有内容或 “#”。</strong></p><ul><li><p><strong>rules.http.paths</strong> ([]HTTPIngressPath)，必需</p><p><strong>Atomic: 将在合并期间被替换</strong></p><p>将请求映射到后端的路径集合。</p><p><a name=HTTPIngressPath></a>
<strong>HTTPIngressPath 将路径与后端关联。与路径匹配的传入 URL 将转发到后端。</strong></p><ul><li><p><strong>rules.http.paths.backend</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressBackend>IngressBackend</a>)，必需</p><p>backend 定义将流量转发到的引用服务端点。</p></li></ul><ul><li><p><strong>rules.http.paths.pathType</strong> (string)，必需</p><p>pathType 决定如何解释 path 匹配。pathType 可以是以下值之一：</p><ul><li><p><code>Exact</code>：与 URL 路径完全匹配。</p></li><li><p><code>Prefix</code>：根据按 “/” 拆分的 URL 路径前缀进行匹配。
匹配是按路径元素逐个元素完成。路径元素引用的是路径中由“/”分隔符拆分的标签列表。
如果每个 p 都是请求路径 p 的元素前缀，则请求与路径 p 匹配。
请注意，如果路径的最后一个元素是请求路径中的最后一个元素的子字符串，则匹配不成功
（例如 <code>/foo/bar</code> 匹配 <code>/foo/bar/baz</code>，但不匹配 <code>/foo/barbaz</code>）。</p></li><li><p>ImplementationSpecific：路径匹配的解释取决于 IngressClass。
实现可以将其视为单独的路径类型，也可以将其视为前缀或确切的路径类型。
实现需要支持所有路径类型。</p></li></ul></li><li><p><strong>rules.http.paths.path</strong> (string)</p><p>path 要与传入请求的路径进行匹配。
目前，它可以包含 RFC 3986 定义的 URL 的常规 “路径” 部分所不允许的字符。
路径必须以 “/” 开头，并且在 pathType 值为 “Exact” 或 “Prefix” 时必须存在。</p></li></ul></li></ul></li></ul></li><li><p><strong>tls</strong> ([]IngressTLS)</p><p><strong>Atomic: 将在合并期间被替换</strong></p><p>TLS 配置。目前，Ingress 仅支持一个 TLS 端口 443。
如果此列表的多个成员指定了不同的主机，如果实现 Ingress 的 Ingress 控制器支持 SNI，
则它们将根据通过 SNI TLS 扩展指定的主机名在同一端口上多路复用。</p><p><a name=IngressTLS></a>
<strong>IngressTLS 描述与 Ingress 相关的传输层安全性。</strong></p><ul><li><p><strong>tls.hosts</strong> ([]string)</p><p><strong>Atomic: 将在合并期间被替换</strong></p><p>hosts 是 TLS 证书中包含的主机列表。
此列表中的值必须与 tlsSecret 中使用的名称匹配。
默认为实现此 Ingress 的负载均衡控制器的通配符主机设置（如果未指定）。</p></li><li><p><strong>tls.secretName</strong> (string)</p><p>secretName 是用于终止端口 443 上 TLS 通信的 Secret 的名称。
字段是可选的，以允许仅基于 SNI 主机名的 TLS 路由。
如果侦听器中的 SNI 主机与入口规则使用的 “Host” 标头字段冲突，则 SNI 主机用于终止，Host 标头的值用于路由。</p></li></ul></li></ul><h2 id=IngressBackend>IngressBackend</h2><p>IngressBackend 描述给定服务和端口的所有端点。</p><hr><ul><li><p><strong>resource</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/typed-local-object-reference/#TypedLocalObjectReference>TypedLocalObjectReference</a>)</p><p>resource 是对 Ingress 对象所在命名空间中另一个 Kubernetes 资源的引用。
如果指定了 resource，则不得指定 service.name 和 service.port。
此字段是一个与 <code>service</code> 互斥的设置。</p></li><li><p><strong>service</strong> (IngressServiceBackend)</p><p>service 引用一个 Service 作为后端。此字段是一个与 <code>resource</code> 互斥的设置。</p><p><a name=IngressServiceBackend></a>
<strong>IngressServiceBackend 引用一个 Kubernetes Service 作为后端。</strong></p><ul><li><strong>service.name</strong> (string)，必需</li></ul><p>name 是引用的服务。服务必须与 Ingress 对象位于同一命名空间中。</p><ul><li><p><strong>service.port</strong> (ServiceBackendPort)</p><p>所引用的服务的端口。IngressServiceBackend 需要端口名或端口号。</p><p><a name=ServiceBackendPort></a>
<strong>ServiceBackendPort 是被引用的服务的端口。</strong></p><ul><li><p><strong>service.port.name</strong> (string)</p><p>name 是服务上的端口名称。此字段是一个与 <code>number</code> 互斥的设置。</p></li><li><p><strong>service.port.number</strong> (int32)</p><p>number 是服务上的数字形式端口号（例如 80）。此字段是一个与 <code>name</code> 互斥的设置。</p></li></ul></li></ul></li></ul><h2 id=IngressStatus>IngressStatus</h2><p>IngressStatus 描述 Ingress 的当前状态。</p><hr><ul><li><p><strong>loadBalancer</strong> (LoadBalancerStatus)</p><p>loadBalancer 包含负载均衡器的当前状态。</p><p><a name=LoadBalancerStatus></a>
<strong>LoadBalancerStatus 表示负载均衡器的状态。</strong></p><ul><li><p><strong>loadBalancer.ingress</strong> ([]LoadBalancerIngress)</p><p>ingress 是一个包含负载均衡器入口点的列表。用于服务的流量应发送到这些入口点。</p><p><a name=LoadBalancerIngress></a>
<strong>LoadBalancerIngress 表示负载均衡器入口点的状态：用于服务的流量应发送到入口点。</strong></p><ul><li><p><strong>loadBalancer.ingress.hostname</strong> (string)</p><p>hostname 是为基于 DNS 的负载平衡器（通常为 AWS 负载平衡器）入口点所设置的主机名。</p></li><li><p><strong>loadBalancer.ingress.ip</strong> (string)</p><p>ip 是为基于 IP 的负载平衡器（通常为 GCE 或 OpenStack 负载平衡器）入口点设置的 IP。</p></li><li><p><strong>loadBalancer.ingress.ports</strong> ([]PortStatus)</p><p><strong>Atomic: 将在合并期间被替换</strong></p><p>ports 是服务端口的记录列表。如果使用了此字段，服务中定义的每个端口中都应该有一个条目与之对应。</p><ul><li><p><strong>loadBalancer.ingress.ports.port</strong> (int32)，必需</p><p>port 在此是所记录状态对应的服务端口的端口号。</p></li></ul><ul><li><p><strong>loadBalancer.ingress.ports.protocol</strong> (string)，必需</p><p>protocol 是服务端口的协议，其状态记录在此。支持的值为：“TCP”、“UDP”、“SCTP”。</p></li><li><p><strong>loadBalancer.ingress.ports.error</strong> (string)</p><p>error 用来记录服务端口的问题。错误的格式应符合以下规则：</p><ul><li>应在此文件中指定内置错误码，并且错误码应使用驼峰法命名。</li><li>特定于云驱动的错误码名称必须符合 <code>foo.example.com/CamelCase</code> 格式。</li></ul></li></ul></li></ul></li></ul></li></ul><h2 id=IngressList>IngressList</h2><p>IngressList 是 Ingress 的集合。</p><hr><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>)，必需</p><p>items 是 Ingress 的列表。</p></li></ul><ul><li><p><strong>apiVersion</strong> (string)</p><p>apiVersion 定义对象表示的版本化模式。
服务器应将已识别的架构转换为最新的内部值，并且可能会拒绝未识别的值。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p></li><li><p><strong>kind</strong> (string)</p><p>kind 是一个字符串值，表示此对象所表示的 REST 资源。
服务器可以从客户端向其提交请求的端点推断出这一点。不能被更新。采用驼峰编码。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-ingress><code>get</code> 读取指定的 Ingress</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Ingress 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-ingress-状态><code>get</code> 读取指定 Ingress 状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Ingress 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监测-ingress-类型对象><code>list</code> 列出或监测 Ingress 类型对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressList>IngressList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监测-ingress-类型对象-1><code>list</code> 列出或监测 Ingress 类型对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/ingresses</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressList>IngressList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-ingress><code>create</code> 创建一个 Ingress</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-ingress><code>update</code> 替换指定的 Ingress</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Ingress 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-ingress-的状态><code>update</code> 替换指定 Ingress 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Ingress 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-ingress><code>patch</code> 部分更新指定的 Ingress</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Ingress 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-ingress-的状态><code>patch</code> 部分更新指定 Ingress 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Ingress 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-ingress><code>delete</code> 删除一个 Ingress</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Ingress 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-ingress-的集合><code>deletecollection</code> 删除 Ingress 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-3420962b87b77851810c3aa8baad9578>2.5 - IngressClass</h1><div class=lead>IngressClass 代表 Ingress 的类，被 Ingress 的规约引用。</div><p><code>apiVersion: networking.k8s.io/v1</code></p><p><code>import "k8s.io/api/networking/v1"</code></p><h2 id=IngressClass>IngressClass</h2><p>IngressClass 代表 Ingress 的类，被 Ingress 的规约引用。
<code>ingressclass.kubernetes.io/is-default-class</code>
注解可以用来标明一个 IngressClass 应该被视为默认的 Ingress 类。
当某个 IngressClass 资源将此注解设置为 true 时，
没有指定类的新 Ingress 资源将被分配到此默认类。</p><hr><ul><li><p><strong>apiVersion</strong>: networking.k8s.io/v1</p></li><li><p><strong>kind</strong>: IngressClass</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClassSpec>IngressClassSpec</a>)</p><p>spec 是 IngressClass 的期望状态。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=IngressClassSpec>IngressClassSpec</h2><p>IngressClassSpec 提供有关 Ingress 类的信息。</p><hr><ul><li><p><strong>controller</strong> (string)</p><p>controller 是指应该处理此类的控制器名称。
这允许由同一控制器控制不同“口味”。例如，对于同一个实现的控制器你可能有不同的参数。
此字段应该指定为长度不超过 250 个字符的域前缀路径，例如 “acme.io/ingress-controller”。
该字段是不可变的。</p></li><li><p><strong>parameters</strong> (IngressClassParametersReference)</p><p>parameters 是指向控制器中包含额外配置的自定义资源的链接。
如果控制器不需要额外的属性，这是可选的。</p><p><a name=IngressClassParametersReference></a></p><p><strong>IngressClassParametersReference 标识一个 API 对象。这可以用来指定一个集群或者命名空间范围的资源</strong></p><ul><li><p><strong>parameters.kind</strong> (string)，必需</p><p>kind 是被引用资源的类型。</p></li></ul><ul><li><p><strong>parameters.name</strong> (string)，必需</p><p>name 是被引用资源的名称。</p></li><li><p><strong>parameters.apiGroup</strong> (string)</p><p>apiGroup 是被引用资源的组。
如果未指定 apiGroup，则被指定的 kind 必须在核心 API 组中。
对于任何其他第三方类型，apiGroup 是必需的。</p></li><li><p><strong>parameters.namespace</strong> (string)</p><p>namespace 是被引用资源的命名空间。
当范围被设置为 “namespace” 时，此字段是必需的；
当范围被设置为 “Cluster” 时，此字段必须不设置。</p></li><li><p><strong>parameters.scope</strong> (string)</p><p>scope 表示是否引用集群或者命名空间范围的资源。
这可以设置为“集群”（默认）或者“命名空间”。</p></li></ul></li></ul><h2 id=IngressClassList>IngressClassList</h2><p>IngressClassList 是 IngressClasses 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: networking.k8s.io/v1</p></li><li><p><strong>kind</strong>: IngressClassList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>)，必需</p><p>items 是 IngressClasses 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-ingressclass><code>get</code> 读取指定的 IngressClass</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/ingressclasses/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>IngressClass 的名称</p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-ingressclass-类型的对象><code>list</code> 列出或监视 IngressClass 类型的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/ingressclasses</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClassList>IngressClassList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-ingressclass><code>create</code> 创建一个 IngressClass</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/networking.k8s.io/v1/ingressclasses</p><h4 id=参数-2>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-ingressclass><code>update</code> 替换指定的 IngressClass</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/networking.k8s.io/v1/ingressclasses/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>IngressClass 的名称</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-ingressclass><code>patch</code> 部分更新指定的 IngressClass</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/networking.k8s.io/v1/ingressclasses/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>IngressClass 的名称</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-ingressclass><code>delete</code> 删除一个 IngressClass</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/networking.k8s.io/v1/ingressclasses/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>IngressClass 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询字符串</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-ingressclass-的集合><code>deletecollection</code> 删除 IngressClass 的集合</h3><p>DELETE /apis/networking.k8s.io/v1/ingressclasses</p><h4 id=参数-6>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> （<strong>查询字符串</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ef67581d88f69ea15be11159c033f33b>3 - 配置和存储资源</h1></div><div class=td-content><h1 id=pg-109fa09dec8516f460dc1668c66df57c>3.1 - ConfigMap</h1><div class=lead>ConfigMap 包含供 Pod 使用的配置数据。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=ConfigMap>ConfigMap</h2><p>ConfigMap 包含供 Pod 使用的配置数据。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ConfigMap</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>binaryData</strong> (map[string][]byte)</p><p>binaryData 包含二进制数据。
每个键必须由字母、数字、“-”、“_” 或 “.” 组成。
binaryData 可以包含不在 UTF-8 范围中的字节序列。
binaryData 中存储的键不得与 data 字段中的键重叠，这在验证过程中是强制要求。
使用此字段需要 apiserver 和 kubelet 的版本高于 1.10。</p></li></ul><ul><li><p><strong>data</strong> (map[string]string)</p><p>data 包含配置数据。
每个键必须由字母、数字、“-”、“_” 或 “.” 组成。
如果值包含非 UTF-8 字节序列，则必须使用 binaryData 字段。
data 中存储的键不得与 binaryData 字段中的键重叠，这在验证过程中是强制要求。</p></li><li><p><strong>immutable</strong> (boolean)</p><p>如果 immutable 设为 true，
则确保不会更新 ConfigMap 中存储的数据（只能修改对象元数据）。
如果未设为 true，则可以随时修改此字段。
默认为 nil。</p></li></ul><h2 id=ConfigMapList>ConfigMapList</h2><p>ConfigMapList 是包含 ConfigMap 对象列表的资源。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ConfigMapList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>)，必需</p><p>items 是 ConfigMap 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-configmap><code>get</code> 读取指定的 ConfigMap</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/configmaps/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ConfigMap 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-configmap-的对象><code>list</code> 列出或观测类别为 ConfigMap 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/configmaps</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMapList>ConfigMapList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-configmap-的对象-1><code>list</code> 列出或观测类别为 ConfigMap 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/configmaps</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMapList>ConfigMapList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-configmap><code>create</code> 创建 ConfigMap</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/configmaps</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-configmap><code>update</code> 替换指定的 ConfigMap</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/configmaps/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ConfigMap 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-configmap><code>patch</code> 部分更新指定的 ConfigMap</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/configmaps/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ConfigMap 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-configmap><code>delete</code> 删除 ConfigMap</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/configmaps/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ConfigMap 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-configmap-的集合><code>deletecollection</code> 删除 ConfigMap 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/configmaps</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7d0599aac497db82ee78fddbc549c01d>3.2 - Secret</h1><div class=lead>Secret 包含某些类别的秘密数据。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=Secret>Secret</h2><p>Secret 包含某些类别的秘密数据。
data 字段值的总字节必须小于 MaxSecretSize 字节。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Secret</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>data</strong> (map[string][]byte)</p><p>data 包含秘密数据。
每个键必须由字母、数字、“-”、“_” 或 “.” 组成。
秘密数据的序列化格式是 base64 编码的字符串，表示此处的任意（可能是非字符串）数据值。
请参阅 <a href=https://tools.ietf.org/html/rfc4648#section-4>https://tools.ietf.org/html/rfc4648#section-4</a></p></li></ul><ul><li><p><strong>immutable</strong> (boolean)</p><p>如果 immutable 设为 true，则确保不会更新 Secret 中存储的数据（只能修改对象元数据）。
如果未设为 true，则可以随时修改此字段。
默认为 nil。</p></li><li><p><strong>stringData</strong> (map[string]string)</p><p>stringData 允许指定字符串格式的非二进制秘密数据。
为了方便起见，它作为只写输入字段提供。
写入时将所有键和值合并到 data 字段，且覆盖任何现有的值。
从 API 读取时绝不会输出 stringData 字段。</p></li><li><p><strong>type</strong> (string)</p><p>用于满足程序化方式处理秘密数据。
更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/#secret-types>https://kubernetes.io/zh-cn/docs/concepts/configuration/secret/#secret-types</a></p></li></ul><h2 id=SecretList>SecretList</h2><p>SecretList 是 Secret 的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: SecretList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。
更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>)，必需</p><p>items 是 Secret 对象的列表。
更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/secret>https://kubernetes.io/zh-cn/docs/concepts/configuration/secret</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-secret><code>get</code> 读取指定的 Secret</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/secrets/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Secret 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-secret-的对象><code>list</code> 列出或观测类别为 Secret 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/secrets</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#SecretList>SecretList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-secret-的对象-1><code>list</code> 列出或观测类别为 Secret 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/secrets</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#SecretList>SecretList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-secret><code>create</code> 创建 Secret</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/secrets</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-secret><code>update</code> 替换指定的 Secret</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/secrets/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Secret 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-secret><code>patch</code> 部分更新指定的 Secret</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/secrets/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Secret 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-secret><code>delete</code> 删除 Secret</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/secrets/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>Secret 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-secret-的集合><code>deletecollection</code> 删除 Secret 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/secrets</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-21d04f929a407332d3e23a09718e07f6>3.3 - Volume</h1><div class=lead>Volume 表示 Pod 中一个有名字的卷，可以由 Pod 中的任意容器进行访问。</div><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=Volume>Volume</h2><p>Volume 表示 Pod 中一个有名字的卷，可以由 Pod 中的任意容器进行访问。</p><hr><ul><li><p><strong>name</strong> (string)，必需</p><p>卷的名称。必须是 DNS_LABEL 且在 Pod 内是唯一的。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><h3 id=exposed-persistent-volumes>暴露的持久卷</h3><ul><li><p><strong>persistentVolumeClaim</strong> (PersistentVolumeClaimVolumeSource)</p><p>persistentVolumeClaimVolumeSource 表示对同一名字空间中 PersistentVolumeClaim 的引用。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p><p><a name=PersistentVolumeClaimVolumeSource></a>
<strong>PersistentVolumeClaimVolumeSource 引用同一名字空间中用户的 PVC。
此卷找到绑定的 PV 并为 Pod 挂载这个 PV 卷。
PersistentVolumeClaimVolumeSource 本质上是其他人（或系统）拥有的另一类卷的包装类。</strong></p><ul><li><p><strong>persistentVolumeClaim.claimName</strong> (string)，必需</p><p>claimName 是与使用此卷的 Pod 位于同一名字空间中的 PersistentVolumeClaim 的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p></li><li><p><strong>persistentVolumeClaim.readOnly</strong> (boolean)</p><p>readOnly 将在卷挂载中强制设置 readOnly 属性。默认为 false。</p></li></ul></li></ul><h3 id=projections>投射</h3><ul><li><p><strong>configMap</strong> (ConfigMapVolumeSource)</p><p>configMap 表示应填充此卷的 configMap。</p><p><a name=ConfigMapVolumeSource></a>
<strong>将 ConfigMap 适配到一个卷中。目标 ConfigMap 的 data 字段的内容将以文件的形式呈现在一个卷中，
使用 data 字段中的键名作为文件名，除非 items 元素中已经填充了由键名到路径的特定映射。
ConfigMap 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><strong>configMap.name</strong> (string)</li></ul><p>被引用资源的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p><ul><li><p><strong>configMap.optional</strong> (boolean)</p><p>optional 指定是否所引用的 ConfigMap 或其键必须已经被定义。</p></li></ul><ul><li><p><strong>configMap.defaultMode</strong> (int32)</p><p>defaultMode 是可选的：默认情况下，模式位用于为已创建的文件设置权限。
必须是 0000 到 0777 之间的八进制值或 0 到 511 之间的十进制值。
YAML 既接受八进制值也接受十进制值，JSON 针对模式位需要十进制值。此字段默认为 0644。
路径内的目录不受此设置的影响。这可能与影响文件模式的其他选项（如 fsGroup）有冲突，且结果可以是其他模式位也被设置。</p></li><li><p><strong>configMap.items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p><p>如果未指定 items，则所引用的 ConfigMap 的 data 字段中的每个键值对将作为一个文件被投射到卷中，
这个文件的名称是键名，而文件的内容是键的取值。
如果指定 items，则所列出的键将被投射到指定的路径中，且不会显示未列出的键。
如果指定的键不在 ConfigMap 中，则卷设置将出错，除非对应的键被标记为可选。
路径必须是相对路径，不能包含 “..” 路径，也不能以 “..” 开头。</p></li></ul></li></ul><ul><li><p><strong>secret</strong> (SecretVolumeSource)</p><p>secret 表示用来填充此卷的 Secret。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#secret>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#secret</a></p><p><a name=SecretVolumeSource></a>
<strong>将 Secret 适配到一个卷中。
目标 Secret 的 data 字段的内容将以文件的形式呈现在一个卷中，使用 data 字段中的键名作为文件名。
Secret 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>secret.secretName</strong> (string)</p><p>secretName 是要使用的、位于 Pod 的名字空间中的 Secret 名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#secret>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#secret</a></p></li><li><p><strong>secret.optional</strong> (boolean)</p><p>optional 字段指定是否 Secret 或其键必须已经定义。</p></li></ul><ul><li><p><strong>secret.defaultMode</strong> (int32)</p><p>defaultMode 是可选的：默认情况下，模式位用于为已创建的文件设置权限。
必须是 0000 到 0777 之间的八进制值或 0 到 511 之间的十进制值。
YAML 既接受八进制值也接受十进制值，JSON 针对模式位需要十进制值。此字段默认为 0644。
路径内的目录不受此设置的影响。
这可能与影响文件模式的其他选项（如 fsGroup）有冲突，且结果可以是其他模式位也被设置。</p></li><li><p><strong>secret.items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p><p>如果未指定 items，则所引用的 Secret 的 data 字段中的每个键值对将作为一个文件被投射到卷中，
这个文件的名称是键名，而文件的内容是键的取值。
如果指定 items，则所列出的键将被投射到指定的路径中，且不会显示未列出的键。
如果指定的键不在 Secret 中，则卷设置将出错，除非对应的键被标记为可选。
路径必须是相对路径，不能包含 “..” 路径，也不能以 “..” 开头。</p></li></ul></li></ul><ul><li><p><strong>downwardAPI</strong> (DownwardAPIVolumeSource)</p><p>downwardAPI 表示有关 Pod 的 Downward API，用来填充此卷。</p><p><a name=DownwardAPIVolumeSource></a>
<strong>DownwardAPIVolumeSource 表示包含 Downward API 信息的一个卷。Downward API 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>downwardAPI.defaultMode</strong> (int32)</p><p>可选：默认情况下，模式位用于已创建的文件。
必须是可选的：默认情况下，模式位用于为已创建的文件设置权限。
必须是 0000 到 0777 之间的八进制值或 0 到 511 之间的十进制值。
YAML 既接受八进制值也接受十进制值，JSON 针对模式位需要十进制值。此字段默认为 0644。
路径内的目录不受此设置的影响。这可能与影响文件模式的其他选项（如 fsGroup）有冲突，且结果可以是其他模式位也被设置。</p></li><li><p><strong>downwardAPI.items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume/#DownwardAPIVolumeFile>DownwardAPIVolumeFile</a>)</p><p>items 是 Downward API 卷文件的列表。</p></li></ul></li></ul><ul><li><p><strong>projected</strong> (ProjectedVolumeSource)</p><p>这是供 Secret、ConfigMap 和 Downward API 等所有资源使用的投射项。</p><p><a name=ProjectedVolumeSource></a>
<strong>表示一个投射的卷源。</strong></p><ul><li><p><strong>projected.defaultMode</strong> (int32)</p><p>defaultMode 是默认情况下用于为已创建的文件设置权限的模式位。
必须是 0000 到 0777 之间的八进制值或 0 到 511 之间的十进制值。
YAML 既接受八进制值也接受十进制值，JSON 针对模式位需要十进制值。
路径内的目录不受此设置的影响。
这可能与影响文件模式的其他选项（如 fsGroup）有冲突，且结果可以是其他模式位也被设置。</p></li></ul><ul><li><p><strong>projected.sources</strong> ([]VolumeProjection)</p><p>sources 是卷投射的列表。</p><p><a name=VolumeProjection></a>
<strong>这里的投射项目可能与其他受支持的卷类型一起进行投射。</strong></p><ul><li><p><strong>projected.sources.configMap</strong> (ConfigMapProjection)</p><p>与要投射的 ConfigMap 数据有关的 ConfigMap 信息。</p><p><a name=ConfigMapProjection></a>
<strong>将 ConfigMap 适配到一个投射的卷中。
目标 ConfigMap 的 Data 字段的内容将以文件的形式呈现在一个被投射的卷中，
使用 data 字段中的键名作为文件名，除非 items 元素中已经填充了由键名到路径的特定映射。
请注意，这等同于没有默认模式的 ConfigMap 卷源。</strong></p><ul><li><p><strong>projected.sources.configMap.name</strong> (string)</p><p>被引用资源的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>projected.sources.configMap.optional</strong> (boolean)</p><p>optional 指定是否所引用的 ConfigMap 或其键必须已经被定义。</p></li></ul><ul><li><p><strong>projected.sources.configMap.items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p><p>如果未指定 items，则所引用的 ConfigMap 的 data 字段中的每个键值对将作为一个文件被投射到卷中，
这个文件的名称是键名，而文件的内容是键的取值。
如果指定 items，则所列出的键将被投射到指定的路径中，且不会显示未列出的键。
如果指定的键不在 ConfigMap 中，则卷设置将出错，除非对应的键被标记为可选。
路径必须是相对路径，不能包含 “..” 路径，也不能以 “..” 开头。</p></li></ul></li></ul><ul><li><p><strong>projected.sources.downwardAPI</strong> (DownwardAPIProjection)</p><p>与要投射的 downward API 数据有关的 downward API 信息。</p><p><a name=DownwardAPIProjection></a>
<strong>表示投射到投射卷的 Downward API 信息。请注意，这等同于没有默认模式的 downwardAPI 卷源。</strong></p><ul><li><p><strong>projected.sources.downwardAPI.items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume/#DownwardAPIVolumeFile>DownwardAPIVolumeFile</a>)</p><p>items 是 DownwardAPIVolume 文件的列表。</p></li></ul></li></ul><ul><li><p><strong>projected.sources.secret</strong> (SecretProjection)</p><p>与要投射的 Secret 数据有关的 Secret 信息。</p><p><a name=SecretProjection></a>
<strong>将 Secret 适配到一个投射卷中。
目标 Secret 的 data 字段的内容将以文件的形式呈现在一个投射卷中，使用 data 字段中的键名作为文件名。
请注意，这等同于没有默认模式的 Secret 卷源。</strong></p><ul><li><p><strong>projected.sources.secret.name</strong> (string)</p><p>被引用资源的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a></p></li></ul><ul><li><p><strong>projected.sources.secret.optional</strong> (boolean)</p><p>optional 字段指定是否 Secret 或其键必须已经定义。</p></li><li><p><strong>projected.sources.secret.items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p><p>如果未指定 items，则所引用的 Secret 的 data 字段中的每个键值对将作为一个文件被投射到卷中，
这个文件的名称是键名，而文件的内容是键的取值。
如果指定 items，则所列出的键将被投射到指定的路径中，且不会显示未列出的键。
如果指定的键不在 Secret 中，则卷设置将出错，除非对应的键被标记为可选。
路径必须是相对路径，不能包含 “..” 路径，也不能以 “..” 开头。</p></li></ul></li></ul><ul><li><p><strong>projected.sources.serviceAccountToken</strong> (ServiceAccountTokenProjection)</p><p>serviceAccountToken 是与要投射的服务账号令牌数据有关的信息。</p><p><a name=ServiceAccountTokenProjection></a>
<strong>ServiceAccountTokenProjection 表示一个投射的服务账号令牌卷。
这种投射可用于将服务账号令牌插入到 Pod 运行时文件系统，供访问 API（Kubernetes API Server 或其他）使用。</strong></p><ul><li><p><strong>projected.sources.serviceAccountToken.path</strong> (string)，必需</p><p>path 是相对于令牌投射目标文件的挂载点的路径。</p></li></ul><ul><li><p><strong>projected.sources.serviceAccountToken.audience</strong> (string)</p><p>audience 是令牌的目标受众。
令牌的接收方必须用令牌受众中指定的一个标识符来标识自己，否则应拒绝此令牌。
受众默认为 apiserver 的标识符。</p></li><li><p><strong>projected.sources.serviceAccountToken.expirationSeconds</strong> (int64)</p><p>expirationSeconds 是所请求的服务账号令牌的有效期。
当令牌即将到期时，kubelet 卷插件将主动轮换服务账号令牌。
如果令牌超过其生存时间的 80% 或令牌超过 24 小时，kubelet 将开始尝试轮换令牌。
默认为 1 小时且必须至少为 10 分钟。</p></li></ul></li></ul></li></ul></li></ul><h3 id=local-temporary-directory>本地/临时目录</h3><ul><li><p><strong>emptyDir</strong> (EmptyDirVolumeSource)</p><p>emptyDir 表示与 Pod 生命周期相同的临时目录。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#emptydir>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#emptydir</a></p><p><a name=EmptyDirVolumeSource></a>
<strong>表示供 Pod 使用的一个空目录。空目录卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>emptyDir.medium</strong> (string)</p><p>medium 表示此目录应使用哪种类别的存储介质。默认为 ""，这意味着使用节点的默认介质。
必须是空字符串（默认值）或 Memory。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#emptydir>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#emptydir</a></p></li></ul><ul><li><p><strong>emptyDir.sizeLimit</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>sizeLimit 是这个 EmptyDir 卷所需的本地存储总量。这个大小限制也适用于内存介质。
EmptyDir 的内存介质最大使用量将是此处指定的 sizeLimit 与 Pod 中所有容器内存限制总和这两个值之间的最小值。
默认为 nil，这意味着限制未被定义。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes/#emptydir>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes/#emptydir</a></p></li></ul></li></ul><ul><li><p><strong>hostPath</strong> (HostPathVolumeSource)</p><p>hostPath 表示主机上预先存在的文件或目录，它们将被直接暴露给容器。
这种卷通常用于系统代理或允许查看主机的其他特权操作。大多数容器<strong>不需要</strong>这种卷。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath</a></p><p><a name=HostPathVolumeSource></a>
<strong>表示映射到 Pod 中的主机路径。主机路径卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>hostPath.path</strong> (string)，必需</p><p>目录在主机上的路径。如果该路径是一个符号链接，则它将沿着链接指向真实路径。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath</a></p></li><li><p><strong>hostPath.type</strong> (string)</p><p>HostPath 卷的类型。默认为 ""。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath</a></p></li></ul></li></ul><h3 id=persistent-volumes>持久卷</h3><ul><li><p><strong>awsElasticBlockStore</strong> (AWSElasticBlockStoreVolumeSource)</p><p>awsElasticBlockStore 表示挂接到 kubelet 的主机随后暴露给 Pod 的一个 AWS Disk 资源。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p><p><a name=AWSElasticBlockStoreVolumeSource></a>
<strong>表示 AWS 上的 Persistent Disk 资源。挂载到一个容器之前 AWS EBS 磁盘必须存在。
该磁盘还必须与 kubelet 位于相同的 AWS 区域中。AWS EBS 磁盘只能以读/写一次进行挂载。
AWS EBS 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>awsElasticBlockStore.volumeID</strong> (string)，必需</p><p>volumeID 是 AWS（Amazon EBS 卷）中持久磁盘资源的唯一 ID。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p></li><li><p><strong>awsElasticBlockStore.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p></li></ul><ul><li><p><strong>awsElasticBlockStore.partition</strong> (int32)</p><p>partition 是你要挂载的卷中的分区。如果省略，则默认为按卷名称进行挂载。例如：对于卷 /dev/sda1，
将分区指定为 “1”。类似地，/dev/sda 的卷分区为 “0”（或可以将属性留空）。</p></li><li><p><strong>awsElasticBlockStore.readOnly</strong> (boolean)</p><p>readOnly 值为 true 将使得卷挂载被强制设置为 readOnly。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p></li></ul></li></ul><ul><li><p><strong>azureDisk</strong> (AzureDiskVolumeSource)</p><p>azureDisk 表示挂载到主机上并绑定挂载到 Pod 上的 Azure 数据盘。</p><p><a name=AzureDiskVolumeSource></a>
<strong>azureDisk 表示挂载到主机上并绑定挂载到 Pod 上的 Azure 数据盘。</strong></p><ul><li><p><strong>azureDisk.diskName</strong> (string)，必需</p><p>diskName 是 Blob 存储中数据盘的名称。</p></li><li><p><strong>azureDisk.diskURI</strong> (string)，必需</p><p>diskURI 是 Blob 存储中数据盘的 URI。</p></li><li><p><strong>azureDisk.cachingMode</strong> (string)</p><p>cachingMode 是主机缓存（Host Caching）模式：None、Read Only、Read Write。</p></li></ul><ul><li><p><strong>azureDisk.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>azureDisk.kind</strong> (string)</p><p>kind 预期值包括：</p><ul><li>Shared：每个存储帐户多个 Blob 磁盘；</li><li>Dedicated：每个存储帐户单个 Blob 磁盘；</li><li>Managed：azure 托管的数据盘（仅托管的可用性集合中）。</li></ul><p>默认为 Shared。</p></li><li><p><strong>azureDisk.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。</p></li></ul></li></ul><ul><li><p><strong>azureFile</strong> (AzureFileVolumeSource)</p><p>azureDisk 表示挂载到主机上并绑定挂载到 Pod 上的 Azure File Service。</p><p><a name=AzureFileVolumeSource></a>
<strong>azureFile 表示挂载到主机上并绑定挂载到 Pod 上的 Azure File Service。</strong></p><ul><li><p><strong>azureFile.secretName</strong> (string)，必需</p><p>secretName 是包含 Azure 存储账号名称和主键的 Secret 的名称。</p></li><li><p><strong>azureFile.shareName</strong> (string)，必需</p><p>shareName 是 Azure 共享名称。</p></li><li><p><strong>azureFile.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。</p></li></ul></li></ul><ul><li><p><strong>cephfs</strong> (CephFSVolumeSource)</p><p>cephfs 表示在主机上挂载的 Ceph FS，该文件系统挂载与 Pod 的生命周期相同。</p><p><a name=CephFSVolumeSource></a>
<strong>表示在 Pod 的生命周期内持续的 Ceph Filesystem 挂载。cephfs 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>cephfs.monitors</strong> ([]string)，必需</p><p>monitors 是必需的。monitors 是 Ceph 监测的集合。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li></ul><ul><li><p><strong>cephfs.path</strong> (string)</p><p>path 是可选的。用作挂载的根，而不是挂载完整的 Ceph 树，默认为 “/”。</p></li><li><p><strong>cephfs.readOnly</strong> (boolean)</p><p>readOnly 是可选的。默认为 false（读/写）。
此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li></ul><ul><li><p><strong>cephfs.secretFile</strong> (string)</p><p>secretFile 是可选的。secretFile 是 User 对应的密钥环的路径，默认为 /etc/ceph/user.secret。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li><li><p><strong>cephfs.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>secretRef 是可选的。secretRef 是针对用户的身份认证 Secret 的引用，默认为空。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li><li><p><strong>cephfs.user</strong> (string)</p><p>user 是可选的。user 是 rados 用户名，默认为 admin。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li></ul></li></ul><ul><li><p><strong>cinder</strong> (CinderVolumeSource)</p><p>cinder 表示 kubelet 主机上挂接和挂载的 Cinder 卷。更多信息：
<a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p><p><a name=CinderVolumeSource></a>
<strong>表示 Openstack 中的一个 Cinder 卷资源。挂载到一个容器之前 Cinder 卷必须已经存在。
该卷还必须与 kubelet 位于相同的地区中。cinder 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>cinder.volumeID</strong> (string)，必需</p><p>volumeID 用于标识 Cinder 中的卷。更多信息：
<a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p></li></ul><ul><li><p><strong>cinder.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。例如：“ext4”、“xfs”、“ntfs”。
如果未指定，则隐式推断为“ext4”。更多信息：
<a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p></li><li><p><strong>cinder.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。
更多信息： <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p></li><li><p><strong>cinder.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>secretRef 是可选的。指向 Secret 对象，内含的参数用于连接到 OpenStack。</p></li></ul></li></ul><ul><li><p><strong>csi</strong> (CSIVolumeSource)</p><p>csi 表示由某个外部容器存储接口（Container Storage Interface，CSI）驱动处理的临时存储（Beta 特性）。</p><p><a name=CSIVolumeSource></a>
<strong>表示要挂载的卷的源位置，由外部 CSI 驱动进行管理。</strong></p><ul><li><p><strong>csi.driver</strong> (string)，必需</p><p>driver 是处理此卷的 CSI 驱动的名称。咨询你的管理员以获取在集群中注册的正确名称。</p></li><li><p><strong>csi.fsType</strong> (string)</p><p>要挂载的 fsType。例如 “ext4”、“xfs”、“ntfs”。
如果未提供，则将空值传递给关联的 CSI 驱动，以便决定要应用的默认文件系统。</p></li></ul><ul><li><p><strong>csi.nodePublishSecretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>nodePublishSecretRef 是对包含敏感信息的 Secret 对象的引用，
该 Secret 对象将被传递到 CSI 驱动以完成 CSI NodePublishVolume 和 NodeUnpublishVolume 调用。
此字段是可选的，如果不需要 Secret，则此字段可以为空。
如果 Secret 对象包含多个 Secret，则所有 Secret 引用将被传递。</p></li><li><p><strong>csi.readOnly</strong> (boolean)</p><p>readOnly 指定供卷使用的只读配置。默认为 false（读/写）。</p></li><li><p><strong>csi.volumeAttributes</strong> (map[string]string)</p><p>volumeAttributes 存储传递给 CSI 驱动且特定于驱动的属性。查阅你的驱动文档，了解支持的值。</p></li></ul></li></ul><ul><li><p><strong>ephemeral</strong> (EphemeralVolumeSource)</p><p>ephemeral 表示由一个集群存储驱动处理的卷。此卷的生命周期与定义该卷的 Pod 相关联。
Pod 启动前创建此卷，Pod 移除时删除此卷。</p><p>使用此字段的情形包括：
a) 仅在 Pod 运行时才需要此卷，
b) 需要从快照恢复或容量跟踪等正常卷的功能特性，
c) 通过存储类指定存储驱动，以及
d) 存储驱动支持通过 PersistentVolumeClaim 进行动态卷制备
（有关此卷类型和 PersistentVolumeClaim 之间连接的更多信息，请参考 EphemeralVolumeSource）。</p><p>对于持续时间超过单个 Pod 生命周期的卷，使用 PersistentVolumeClaim 或某种特定于供应商的 API。</p><p>如果打算以这种方式使用 CSI 驱动，则将 CSI 用于轻量级本地临时卷。更多的相关信息，请参考驱动文档。</p><p>一个 Pod 可以同时使用临时卷和持久卷这两种类别的卷。</p><p><a name=EphemeralVolumeSource></a>
<strong>表示由一个正常存储驱动处理的临时卷。</strong></p><ul><li><p><strong>ephemeral.volumeClaimTemplate</strong> (PersistentVolumeClaimTemplate)</p><p>将用于创建独立的 PVC 以制备卷。
嵌入了 EphemeralVolumeSource 的 Pod 将是 PVC 的所有者，即 PVC 将与 Pod 一起删除。
PVC 的名称将是 <code>&lt;pod 名称>-&lt;卷名称></code>，其中 <code>&lt;卷名称></code> 是来自 <code>PodSpec.Volumes</code> 数组条目的名称。
如果串联的名称对于 PVC 无效（例如太长），则 Pod 验证将拒绝该 Pod。</p><p>如果具有此名称的现有 PVC 不属于此 Pod，则这一 PVC 将 <strong>不会</strong> 被用于此 Pod，以避免错误地使用不相关的卷。
如果出现这种情况，Pod 的启动操作会被阻塞直到不相关的 PVC 被移除。
如果 Pod 准备使用这样一个预先创建的 PVC，那么一旦此 Pod 出现，就必须更新 PVC，
将其属主引用指向该 Pod。通常没有必要这样做，但这对手动重构损坏的集群时可能很有用。</p><p>此字段是只读的，PVC 被创建后 Kubernetes 不会对其进行任何更改。</p><p>必需，不能为 nil。</p><p><a name=PersistentVolumeClaimTemplate></a>
<strong>PersistentVolumeClaimTemplate 用于作为 EphemeralVolumeSource 的一部分生成 PersistentVolumeClaim 对象。</strong></p><ul><li><p><strong>ephemeral.volumeClaimTemplate.spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimSpec>PersistentVolumeClaimSpec</a>)，必需</p><p>PersistentVolumeClaim 的规约。整个规约的内容将被原封不动地复制到从此模板创建的 PVC 中。
与 PersistentVolumeClaim 相同的字段在此处也有效。</p></li><li><p><strong>ephemeral.volumeClaimTemplate.metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>可能包含一些标签和注解，在创建 PVC 时，这些数据会被复制到 PVC 中。
在验证期间，其他字段都不允许设置，即便设置也会在验证阶段被拒绝。</p></li></ul></li></ul></li></ul><ul><li><p><strong>fc</strong> (FCVolumeSource)</p><p>fc 表示挂接到 kubelet 的主机随后暴露给 Pod 的一个 Fibre Channel 资源。</p><p><a name=FCVolumeSource></a>
<strong>表示 Fibre Channel 卷。Fibre Channel 卷只能以读/写一次进行挂载。
Fibre Channel 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>fc.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>fc.lun</strong> (int32)</p><p>lun 是可选的：FC 目标 lun 编号。</p></li></ul><ul><li><p><strong>fc.readOnly</strong> (boolean)</p><p>readOnly 是可选的。默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。</p></li><li><p><strong>fc.targetWWNs</strong> ([]string)</p><p>targetWWNs 是可选的。FC 目标全球名称（WWN）。</p></li><li><p><strong>fc.wwids</strong> ([]string)</p><p>wwids 是可选的。FC 卷全球识别号（wwids）。
必须设置 wwids 或 targetWWNs 及 lun 的组合，但不能同时设置两者。</p></li></ul></li></ul><ul><li><p><strong>flexVolume</strong> (FlexVolumeSource)</p><p>flexVolume 表示使用基于 exec 的插件制备/挂接的通用卷资源。</p><p><a name=FlexVolumeSource></a>
<strong>flexVolume 表示使用基于 exec 的插件制备/挂接的通用卷资源。</strong></p><ul><li><p><strong>flexVolume.driver</strong> (string)，必需</p><p>driver 是供此卷使用的驱动的名称。</p></li><li><p><strong>flexVolume.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。例如 “ext4”、“xfs”、“ntfs”。
默认的文件系统取决于 flexVolume 脚本。</p></li></ul><ul><li><p><strong>flexVolume.options</strong> (map[string]string)</p><p>options 是可选的。此字段包含额外的命令选项（如果有）。</p></li><li><p><strong>flexVolume.readOnly</strong> (boolean)</p><p>readOnly 是可选的。默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。</p></li><li><p><strong>flexVolume.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>secretRef 是可选的。secretRef 是对包含敏感信息的 Secret 对象的引用，该 Secret 会被传递到插件脚本。
如果未指定 Secret 对象，则此字段可以为空。如果 Secret 对象包含多个 Secret，则所有 Secret 被传递到插件脚本。</p></li></ul></li></ul><ul><li><p><strong>flocker</strong> (FlockerVolumeSource)</p><p>flocker 表示挂接到一个 kubelet 主机的 Flocker 卷。Flocker 卷依赖于正在运行的 Flocker 控制服务。</p><p><a name=FlockerVolumeSource></a>
<strong>表示 Flocker 代理挂载的 Flocker 卷。应设置一个且仅设置 datasetName 和 datasetUUID 中的一个。
Flocker 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>flocker.datasetName</strong> (string)</p><p>datasetName 是存储为元数据的数据集的名称。Flocker 数据集的名称应视为已弃用。</p></li><li><p><strong>flocker.datasetUUID</strong> (string)</p><p>datasetUUID 是数据集的 UUID。这是 Flocker 数据集的唯一标识符。</p></li></ul></li></ul><ul><li><p><strong>gcePersistentDisk</strong> (GCEPersistentDiskVolumeSource)</p><p>gcePersistentDisk 表示挂接到 kubelet 的主机随后暴露给 Pod 的一个 GCE Disk 资源。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p><p><a name=GCEPersistentDiskVolumeSource></a>
<strong>表示 Google Compute Engine 中的 Persistent Disk 资源。
挂载到一个容器之前 GCE PD 必须已经存在。该磁盘还必须与 kubelet 位于相同的 GCE 项目和区域中。
GCE PD 只能挂载为读/写一次或只读多次。GCE PD 支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>gcePersistentDisk.pdName</strong> (string)，必需</p><p>pdName 是 GCE 中 PD 资源的唯一名称。用于标识 GCE 中的磁盘。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li><li><p><strong>gcePersistentDisk.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为“ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li></ul><ul><li><p><strong>gcePersistentDisk.partition</strong> (int32)</p><p>partition 是你要挂载的卷中的分区。如果省略，则默认为按卷名称进行挂载。
例如：对于卷 /dev/sda1，将分区指定为 “1”。类似地，/dev/sda 的卷分区为 “0”（或可以将属性留空）。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li><li><p><strong>gcePersistentDisk.readOnly</strong> (boolean)</p><p>此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。默认为 false。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li></ul></li></ul><ul><li><p><strong>glusterfs</strong> (GlusterfsVolumeSource)</p><p>glusterfs 表示在与 Pod 共享生命周期的主机上挂载的 Glusterfs。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md>https://examples.k8s.io/volumes/glusterfs/README.md</a></p><p><a name=GlusterfsVolumeSource></a>
<strong>表示在 Pod 的生命周期内持续的 Glusterfs 挂载。glusterfs 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>glusterfs.endpoints</strong> (string)，必需</p><p>endpoints 是详细说明 Glusterfs 拓扑的端点名称。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p></li><li><p><strong>glusterfs.path</strong> (string)，必需</p><p>path 是 Glusterfs 卷路径。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p></li><li><p><strong>glusterfs.readOnly</strong> (boolean)</p><p>此处 readOnly 将强制使用只读权限挂载 Glusterfs 卷。默认为 false。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p></li></ul></li></ul><ul><li><p><strong>iscsi</strong> (ISCSIVolumeSource)</p><p>iscsi 表示挂接到 kubelet 的主机随后暴露给 Pod 的一个 ISCSI Disk 资源。更多信息：
<a href=https://examples.k8s.io/volumes/iscsi/README.md>https://examples.k8s.io/volumes/iscsi/README.md</a></p><p><a name=ISCSIVolumeSource></a>
<strong>表示一个 ISCSI 磁盘。ISCSI 卷只能以读/写一次进行挂载。ISCSI 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>iscsi.iqn</strong> (string)，必需</p><p>iqn 是目标 iSCSI 限定名称。</p></li><li><p><strong>iscsi.lun</strong> (int32)，必需</p><p>lun 表示 iSCSI 目标逻辑单元号。</p></li><li><p><strong>iscsi.targetPortal</strong> (string)，必需</p><p>targetPortal 是 iSCSI 目标门户。
如果不是默认端口（通常是 TCP 端口 860 和 3260），则 Portal 为 IP 或 ip_addr:port。</p></li></ul><ul><li><p><strong>iscsi.chapAuthDiscovery</strong> (boolean)</p><p>chapAuthDiscovery 定义是否支持 iSCSI Discovery CHAP 身份认证。</p></li><li><p><strong>iscsi.chapAuthSession</strong> (boolean)</p><p>chapAuthSession 定义是否支持 iSCSI Session CHAP 身份认证。</p></li></ul><ul><li><p><strong>iscsi.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#iscsi>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#iscsi</a></p></li><li><p><strong>iscsi.initiatorName</strong> (string)</p><p>initiatorName 是自定义的 iSCSI 发起程序名称（iSCSI Initiator Name）。
如果同时用 iscsiInterface 指定 initiatorName，将为连接创建新的 iSCSI 接口 &lt;目标门户>:&lt;卷名称>。</p></li></ul><ul><li><p><strong>iscsi.iscsiInterface</strong> (string)</p><p>iscsiInterface 是使用 iSCSI 传输的接口名称。默认为 “default”（tcp）。</p></li><li><p><strong>iscsi.portals</strong> ([]string)</p><p>portals 是 iSCSI 目标门户列表（iSCSI Target Portal List）。
如果不是默认端口（通常是 TCP 端口 860 和 3260），则 Portal 为 IP 或 ip_addr:port。</p></li></ul><ul><li><p><strong>iscsi.readOnly</strong> (boolean)</p><p>此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。默认为 false。</p></li><li><p><strong>iscsi.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>secretRef 是 iSCSI 目标和发起程序身份认证所用的 CHAP Secret。</p></li></ul></li></ul><ul><li><p><strong>nfs</strong> (NFSVolumeSource)</p><p>nfs 表示在主机上挂载的 NFS，其生命周期与 Pod 相同。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p><p><a name=NFSVolumeSource></a>
<strong>表示 Pod 的生命周期内一直存在的 NFS 挂载。NFS 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>nfs.path</strong> (string)，必需</p><p>path 是由 NFS 服务器导出的路径。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p></li></ul><ul><li><p><strong>nfs.server</strong> (string)，必需</p><p>server 是 NFS 服务器的主机名或 IP 地址。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p></li><li><p><strong>nfs.readOnly</strong> (boolean)</p><p>此处 readOnly 将强制使用只读权限挂载 NFS 导出。默认为 false。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p></li></ul></li></ul><ul><li><p><strong>photonPersistentDisk</strong> (PhotonPersistentDiskVolumeSource)</p><p>photonPersistentDisk 表示 kubelet 主机上挂接和挂载的 PhotonController 持久磁盘。</p><p><a name=PhotonPersistentDiskVolumeSource></a>
<strong>表示 Photon Controller 持久磁盘资源。</strong></p><ul><li><p><strong>photonPersistentDisk.pdID</strong> (string)，必需</p><p>pdID 是标识 Photon Controller 持久磁盘的 ID。</p></li><li><p><strong>photonPersistentDisk.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li></ul></li></ul><ul><li><p><strong>portworxVolume</strong> (PortworxVolumeSource)</p><p>portworxVolume 表示 kubelet 主机上挂接和挂载的 portworx 卷。</p><p><a name=PortworxVolumeSource></a>
<strong>PortworxVolumeSource 表示 Portworx 卷资源。</strong></p><ul><li><p><strong>portworxVolume.volumeID</strong> (string)，必需</p><p>volumeID 唯一标识 Portworx 卷。</p></li></ul><ul><li><p><strong>portworxVolume.fsType</strong> (string)</p><p>fSType 表示要挂载的文件系统类型。必须是主机操作系统支持的文件系统类型。例如 “ext4”、“xfs”。
如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>portworxVolume.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。</p></li></ul></li></ul><ul><li><p><strong>quobyte</strong> (QuobyteVolumeSource)</p><p>quobyte 表示在共享 Pod 生命周期的主机上挂载的 Quobyte。</p><p><a name=QuobyteVolumeSource></a>
<strong>表示在 Pod 的生命周期内持续的 Quobyte 挂载。Quobyte 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>quobyte.registry</strong> (string)，必需</p><p>registry 表示将一个或多个 Quobyte Registry 服务指定为 host:port 对的字符串形式
（多个条目用英文逗号分隔），用作卷的中央注册表。</p></li><li><p><strong>quobyte.volume</strong> (string)，必需</p><p>volume 是按名称引用已创建的 Quobyte 卷的字符串。</p></li><li><p><strong>quobyte.group</strong> (string)</p><p>group 是将卷访问映射到的组。默认为无组。</p></li></ul><ul><li><p><strong>quobyte.readOnly</strong> (boolean)</p><p>此处 readOnly 将强制使用只读权限挂载 Quobyte 卷。默认为 false。</p></li><li><p><strong>quobyte.tenant</strong> (string)</p><p>tenant 拥有 Backend Used 中给定的 Quobyte 卷，随动态制备的 Quobyte 卷一起使用，值由插件设置。</p></li><li><p><strong>quobyte.user</strong> (string)</p><p>user 是将卷访问映射到的用户。默认为 serivceaccount 用户。</p></li></ul></li></ul><ul><li><p><strong>rbd</strong> (RBDVolumeSource)</p><p>rbd 表示在共享 Pod 生命周期的主机上挂载的 Rados Block Device。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md>https://examples.k8s.io/volumes/rbd/README.md</a></p><p><a name=RBDVolumeSource></a>
<strong>表示在 Pod 的生命周期内持续的 Rados Block Device 挂载。RBD 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>rbd.image</strong> (string)，必需</p><p>image 是 rados 镜像名称。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li></ul><ul><li><p><strong>rbd.monitors</strong> ([]string)，必需</p><p>monitors 是 Ceph 监测的集合。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li><li><p><strong>rbd.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#rbd>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#rbd</a></p></li></ul><ul><li><p><strong>rbd.keyring</strong> (string)</p><p>keyring 是 RBDUser 密钥环的路径。默认为 /etc/ceph/keyring。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li><li><p><strong>rbd.pool</strong> (string)</p><p>pool 是 rados 池名称。默认为 rbd。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li><li><p><strong>rbd.readOnly</strong> (boolean)</p><p>此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。默认为 false。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li></ul><ul><li><p><strong>rbd.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>secretRef 是 RBDUser 的身份认证 Secret 的名称。如果提供，则重载 keyring。默认为 nil。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li><li><p><strong>rbd.user</strong> (string)</p><p>user 是 rados 用户名。默认为 admin。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li></ul></li></ul><ul><li><p><strong>scaleIO</strong> (ScaleIOVolumeSource)</p><p>scaleIO 表示 Kubernetes 节点上挂接和挂载的 ScaleIO 持久卷。</p><p><a name=ScaleIOVolumeSource></a>
<strong>ScaleIOVolumeSource 表示一个 ScaleIO 持久卷。</strong></p><ul><li><p><strong>scaleIO.gateway</strong> (string)，必需</p><p>gateway 是 ScaleIO API 网关的主机地址。</p></li></ul><ul><li><p><strong>scaleIO.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)，必需</p><p>secretRef 引用到 ScaleIO 用户的 Secret 和其他敏感信息。如果未提供此项，则 Login 操作将失败。</p></li><li><p><strong>scaleIO.system</strong> (string)，必需</p><p>system 是存储系统的名称，与 ScaleIO 中的配置相同。</p></li><li><p><strong>scaleIO.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。例如 “ext4”、“xfs”、“ntfs”。默认为 “xfs”。</p></li></ul><ul><li><p><strong>scaleIO.protectionDomain</strong> (string)</p><p>protectionDomain 是 ScaleIO 保护域（ScaleIO Protection Domain）的名称，用于已配置的存储。</p></li><li><p><strong>scaleIO.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。</p></li><li><p><strong>scaleIO.sslEnabled</strong> (boolean)</p><p>sslEnabled 标志启用/禁用与网关的 SSL 通信，默认为 false。</p></li></ul><ul><li><p><strong>scaleIO.storageMode</strong> (string)</p><p>storageMode 指示卷所用的存储应是 ThickProvisioned 或 ThinProvisioned。默认为 ThinProvisioned。</p></li><li><p><strong>scaleIO.storagePool</strong> (string)</p><p>storagePool 是与保护域关联的 ScaleIO Storage Pool。</p></li><li><p><strong>scaleIO.volumeName</strong> (string)</p><p>volumeName 是在与此卷源关联的 ScaleIO 系统中已创建的卷的名称。</p></li></ul></li></ul><ul><li><p><strong>storageos</strong> (StorageOSVolumeSource)</p><p>storageOS 表示 Kubernetes 节点上挂接和挂载的 StorageOS 卷。</p><p><a name=StorageOSVolumeSource></a>
<strong>表示 StorageOS 持久卷资源。</strong></p><ul><li><p><strong>storageos.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li></ul><ul><li><p><strong>storageos.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处的 readOnly 将强制设置卷挂载中的 readOnly 属性。</p></li><li><p><strong>storageos.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>secretRef 指定用于获取 StorageOS API 凭据的 Secret。如果未指定，则将尝试使用默认值。</p></li></ul><ul><li><p><strong>storageos.volumeName</strong> (string)</p><p>volumeName 是 StorageOS 卷的人类可读名称。这些卷名称在一个名字空间内是唯一的。</p></li><li><p><strong>storageos.volumeNamespace</strong> (string)</p><p>volumeNamespace 指定 StorageOS 内卷的作用域。如果未指定名字空间，则将使用 Pod 的名字空间。
这个设置使得 Kubernetes 的名字作用域可以在 StorageOS 内进行映射，实现更紧密的集成。
将 volumeName 设为任何名称以重载默认的行为。如果你未在 StorageOS 内使用名字空间，则设为“default”。
将创建 StorageOS 内预先不存在的名字空间。</p></li></ul></li></ul><ul><li><p><strong>vsphereVolume</strong> (VsphereVirtualDiskVolumeSource)</p><p>vsphereVolume 表示 kubelet 主机上挂接和挂载的 vSphere 卷。</p><p><a name=VsphereVirtualDiskVolumeSource></a>
<strong>表示 vSphere 卷资源。</strong></p><ul><li><p><strong>vsphereVolume.volumePath</strong> (string)，必需</p><p>volumePath 是标识 vSphere 卷 vmdk 的路径。</p></li></ul><ul><li><p><strong>vsphereVolume.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>vsphereVolume.storagePolicyID</strong> (string)</p><p>storagePolicyID 是与 StoragePolicyName 关联的基于存储策略的管理（SPBM）配置文件 ID。</p></li><li><p><strong>vsphereVolume.storagePolicyName</strong> (string)</p><p>storagePolicyName 是基于存储策略的管理（SPBM）配置文件名称。</p></li></ul></li></ul><h3 id=deprecated>已弃用</h3><ul><li><p><strong>gitRepo</strong> (GitRepoVolumeSource)</p><p>gitRepo 表示特定修订版本的 git 仓库。（注意：GitRepo 已被弃用。）如果与为某容器提速 Git 仓库，
可以先将 emptyDir 挂载到 InitContainer 上，由后者使用 git 克隆仓库，然后将 emptyDir 挂载到 Pod 的容器中。</p><p><a name=GitRepoVolumeSource></a>
<strong>表示用 Git 仓库的内容进行填充的一个卷。Git 仓库卷不支持所有权管理。Git 仓库卷支持 SELinux 重新打标签。
（注意：GitRepo 已被弃用。）如果与为某容器提速 Git 仓库，
可以先将 emptyDir 挂载到 InitContainer 上，由后者使用 git 克隆仓库，然后将 emptyDir 挂载到 Pod 的容器中。</strong></p><ul><li><p><strong>gitRepo.repository</strong> (string)，必需</p><p>repository 是仓库的 URL。</p></li><li><p><strong>gitRepo.directory</strong> (string)</p><p>directory 是目标目录的名称。不得包含 “..” 或以 “..” 开头。如果提供了 “.”，则卷目录将是 Git 仓库。
否则，如果指定，卷将用给定名称的子目录中存放 Git 仓库。</p></li><li><p><strong>gitRepo.revision</strong> (string)</p><p>revision 是指定修订版本的提交哈希值。</p></li></ul></li></ul><h2 id=DownwardAPIVolumeFile>DownwardAPIVolumeFile</h2><p>DownwardAPIVolumeFile 表示创建包含 Pod 字段的文件的信息。</p><hr><ul><li><p><strong>path</strong> (string)，必需</p><p>必需。path 是要创建的文件的相对路径名称。不得使用绝对路径，也不得包含 “..” 路径。
必须用 UTF-8 进行编码。相对路径的第一项不得用 “..” 开头。</p></li><li><p><strong>fieldRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-field-selector/#ObjectFieldSelector>ObjectFieldSelector</a>)</p><p>必需。选择 Pod 的字段：仅支持注解、标签、名称和名字空间。</p></li></ul><ul><li><p><strong>mode</strong> (int32)</p><p>可选：模式位用于设置文件的权限，必须是 0000 到 0777 之间的八进制值或 0 到 511 之间的十进制值。
YAML 既接受八进制值也接受十进制值，JSON 针对模式位需要十进制值。
如果未指定，则将使用卷 defaultMode。
这可能与影响文件模式的其他选项（如 fsGroup）有冲突，且结果可以是其他模式位也被设置。</p></li><li><p><strong>resourceFieldRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/resource-field-selector/#ResourceFieldSelector>ResourceFieldSelector</a>)</p><p>选择容器的资源：目前仅支持资源限制与请求（limits.cpu、limits.memory、requests.cpu 和 requests.memory）。</p></li></ul><h2 id=KeyToPath>KeyToPath</h2><p>将一个字符串键映射到卷中的一个路径。</p><hr><ul><li><p><strong>key</strong> (string)，必需</p><p>key 是要投射的键。</p></li><li><p><strong>path</strong> (string)，必需</p><p>path 是将键映射到的文件的相对路径。不能是绝对路径。不能包含路径元素 “..”。不能以字符串 “..” 开头。</p></li></ul><ul><li><p><strong>mode</strong> (int32)</p><p>mode 是可选的：模式位用于为文件设置权限。必须是 0000 到 0777 之间的八进制值或 0 到 511 之间的十进制值。
YAML 既接受八进制值也接受十进制值，JSON 针对模式位需要十进制值。
如果未指定，则将使用卷 defaultMode。
这可能与影响文件模式的其他选项（如 fsGroup）有冲突，且结果可以是其他模式位也被设置。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b0df9d7d300647dc0b5ebef6492f379c>3.4 - PersistentVolumeClaim</h1><div class=lead>PersistentVolumeClaim 是用户针对一个持久卷的请求和申领。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=PersistentVolumeClaim>PersistentVolumeClaim</h2><p>PersistentVolumeClaim 是用户针对一个持久卷的请求和申领。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: PersistentVolumeClaim</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimSpec>PersistentVolumeClaimSpec</a>)</p><p>spec 定义 Pod 作者所请求的卷的预期特征。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimStatus>PersistentVolumeClaimStatus</a>)</p><p>status 表示一个持久卷申领的当前信息/状态。只读。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p></li></ul><h2 id=PersistentVolumeClaimSpec>PersistentVolumeClaimSpec</h2><p>PersistentVolumeClaimSpec 描述存储设备的常用参数，并支持通过 source 来设置特定于提供商的属性。</p><hr><ul><li><p><strong>accessModes</strong> ([]string)</p><p>accessModes 包含卷应具备的预期访问模式。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#access-modes-1>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#access-modes-1</a></p></li><li><p><strong>selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>selector 是在绑定时对卷进行选择所执行的标签查询。</p></li></ul><ul><li><p><strong>resources</strong> (ResourceRequirements)</p><p>resources 表示卷应拥有的最小资源。
如果启用了 RecoverVolumeExpansionFailure 功能特性，则允许用户指定这些资源要求，
此值必须低于之前的值，但必须高于申领的状态字段中记录的容量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#resources>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#resources</a></p><p><a name=ResourceRequirements></a>
<strong>ResourceRequirements 描述计算资源要求。</strong></p><ul><li><p><strong>resources.limits</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>limits 描述允许的最大计算资源量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p></li><li><p><strong>resources.requests</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>requests 描述所需的最小计算资源量。
如果针对容器省略 requests，则在显式指定的情况下默认为 limits，否则为具体实现所定义的值。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p></li></ul></li></ul><ul><li><p><strong>volumeName</strong> (string)</p><p>volumeName 是对此申领所对应的 PersistentVolume 的绑定引用。</p></li><li><p><strong>storageClassName</strong> (string)</p><p>storageClassName 是此申领所要求的 StorageClass 名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#class-1>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#class-1</a></p></li><li><p><strong>volumeMode</strong> (string)</p><p>volumeMode 定义申领需要哪种类别的卷。当申领规约中未包含此字段时，意味着取值为 Filesystem。</p></li></ul><h3 id=beta-级别>Beta 级别</h3><ul><li><p><strong>dataSource</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/typed-local-object-reference/#TypedLocalObjectReference>TypedLocalObjectReference</a>)</p><p>dataSource 字段可用于二选一：</p><ul><li><p>现有的 VolumeSnapshot 对象（snapshot.storage.k8s.io/VolumeSnapshot）</p></li><li><p>现有的 PVC (PersistentVolumeClaim)</p></li></ul><p>如果制备器或外部控制器可以支持指定的数据源，则它将根据指定数据源的内容创建新的卷。
如果 AnyVolumeDataSource 特性门控被启用，此字段的内容将始终与 dataSourceRef 字段内容相同。</p></li></ul><ul><li><p><strong>dataSourceRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/typed-local-object-reference/#TypedLocalObjectReference>TypedLocalObjectReference</a>)</p><p>dataSourceRef 指定一个对象，当需要非空卷时，可以使用它来为卷填充数据。
此字段值可以是来自非空 API 组（非核心对象）的一个本地对象，或一个 PersistentVolumeClaim 对象。
如果设置了此字段，则仅当所指定对象的类型与所安装的某些卷填充器或动态制备器匹配时，卷绑定才会成功。
此字段将替换 dataSource 字段的功能，因此如果两个字段非空，其取值必须相同。
为了向后兼容，如果其中一个字段为空且另一个字段非空，
则两个字段（dataSource 和 dataSourceRef）将被自动设为相同的值。
dataSource 和 dataSourceRef 之间有两个重要的区别：</p><ul><li><p>dataSource 仅允许两个特定类型的对象，而 dataSourceRef 允许设置任何非核心对象以及 PersistentVolumeClaim 对象。</p></li><li><p>dataSource 忽略不允许的值（这类值会被丢弃），dataSourceRef 保留所有值并在指定不允许的值时产生错误。</p></li></ul><p>（Beta）使用此字段需要启用 AnyVolumeDataSource 特性门控。</p></li></ul><h2 id=PersistentVolumeClaimStatus>PersistentVolumeClaimStatus</h2><p>PersistentVolumeClaimStatus 是持久卷申领的当前状态。</p><hr><ul><li><p><strong>accessModes</strong> ([]string)</p><p>accessModes 包含支持 PVC 的卷所具有的实际访问模式。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#access-modes-1>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#access-modes-1</a></p></li></ul><ul><li><p><strong>allocatedResources</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>allocatedResources 跟踪分配给 PVC 的容量。
当出现卷扩充操作请求时，此字段可能大于实际的容量。
就存储配额而言，将使用 allocatedResources 和 PVC.spec.resources 二者中的更大值。
如果未设置 allocatedResources，则 PVC.spec.resources 单独用于配额计算。
如果减小一个卷扩充容量请求，则仅当没有正在进行的扩充操作且实际卷容量等于或小于请求的容量时，
才会减小 allocatedResources。
这是一个 Alpha 字段，需要启用 RecoverVolumeExpansionFailure 功能特性。</p></li></ul><ul><li><p><strong>capacity</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>capacity 表示底层卷的实际资源。</p></li></ul><ul><li><p><strong>conditions</strong> ([]PersistentVolumeClaimCondition)</p><p><strong>补丁策略：按照键 <code>type</code> 合并</strong></p><p>conditions 是持久卷声明的当前的状况。
如果正在调整底层持久卷的大小，则状况将被设为 “ResizeStarted”。</p><p><a name=PersistentVolumeClaimCondition></a>
<strong>PersistentVolumeClaimCondition 包含有关 PVC 状态的详细信息。</strong></p></li></ul><ul><li><p><strong>conditions.status</strong> (string)，必需</p></li><li><p><strong>conditions.type</strong> (string)，必需</p></li><li><p><strong>conditions.lastProbeTime</strong> (Time)</p><p>lastProbeTime 是我们探测 PVC 状况的时间。</p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li></ul><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>lastTransitionTime 是状况从一个状态转换为另一个状态的时间。</p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li><li><p><strong>conditions.message</strong> (string)</p><p>message 是人类可读的消息，指示有关上一次转换的详细信息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>reason 是唯一的，它应该是一个机器可理解的简短字符串，指明上次状况转换的原因。
如果它报告 “ResizeStarted”，则意味着正在调整底层持久卷的大小。</p></li></ul><ul><li><p><strong>phase</strong> (string)</p><p>phase 表示 PersistentVolumeClaim 的当前阶段。</p></li><li><p><strong>resizeStatus</strong> (string)</p><p>resizeStatus 存储大小调整操作的状态。默认不设置 resizeStatus，但在扩充完成时，
resizeStatus 将由大小调整控制器或 kubelet 设为空。
这是一个 Alpha 字段，需要启用 RecoverVolumeExpansionFailure 功能特性。</p></li></ul><h2 id=PersistentVolumeClaimList>PersistentVolumeClaimList</h2><p>PersistentVolumeClaimList 是 PersistentVolumeClaim 各项的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: PersistentVolumeClaimList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>)，必需</p><p>items 是持久卷申领的列表。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-persistentvolumeclaim><code>get</code> 读取指定的 PersistentVolumeClaim</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolumeClaim 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-persistentvolumeclaim-的状态><code>get</code> 读取指定的 PersistentVolumeClaim 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolumeClaim 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-persistentvolumeclaim-的对象><code>list</code> 列出或观测类别为 PersistentVolumeClaim 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/persistentvolumeclaims</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimList>PersistentVolumeClaimList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-persistentvolumeclaim-的对象-1><code>list</code> 列出或观测类别为 PersistentVolumeClaim 的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /api/v1/persistentvolumeclaims</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimList>PersistentVolumeClaimList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-persistentvolumeclaim><code>create</code> 创建 PersistentVolumeClaim</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/persistentvolumeclaims</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-persistentvolumeclaim><code>update</code> 替换指定的 PersistentVolumeClaim</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolumeClaim 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-persistentvolumeclaim-的状态><code>update</code> 替换指定的 PersistentVolumeClaim 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolumeClaim 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-persistentvolumeclaim><code>patch</code> 部分更新指定的 PersistentVolumeClaim</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolumeClaim 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-persistentvolumeclaim-的状态><code>patch</code> 部分更新指定的 PersistentVolumeClaim 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolumeClaim 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-persistentvolumeclaim><code>delete</code> 删除 PersistentVolumeClaim</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolumeClaim 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-persistentvolumeclaim-的集合><code>deletecollection</code> 删除 PersistentVolumeClaim 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/persistentvolumeclaims</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-876f3f471c6ce2412361e722f45723ce>3.5 - PersistentVolume</h1><div class=lead>PersistentVolume (PV) 是管理员制备的一个存储资源。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=PersistentVolume>PersistentVolume</h2><p>PersistentVolume (PV) 是管理员制备的一个存储资源。它类似于一个节点。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes</a></p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: PersistentVolume</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeSpec>PersistentVolumeSpec</a>)</p><p>spec 定义了集群所拥有的持久卷的规约。由管理员进行制备。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistent-volumes>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistent-volumes</a></p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeStatus>PersistentVolumeStatus</a>)</p><p>status 表示持久卷的当前信息/状态。该值由系统填充，只读。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistent-volumes>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#persistent-volumes</a></p></li></ul><h2 id=PersistentVolumeSpec>PersistentVolumeSpec</h2><p>PersistentVolumeSpec 是持久卷的规约。</p><hr><ul><li><p><strong>accessModes</strong> ([]string)</p><p>accessModes 包含可以挂载卷的所有方式。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#access-modes>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#access-modes</a></p></li><li><p><strong>capacity</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>capacity 描述持久卷的资源和容量。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#capacity>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#capacity</a></p></li></ul><ul><li><p><strong>claimRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p>claimRef 是 PersistentVolume 和 PersistentVolumeClaim 之间双向绑定的一部分。
预期在绑定时为非空。claim.VolumeName 是在 PV 和 PVC 间绑定关系的正式确认。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#binding>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#binding</a></p></li><li><p><strong>mountOptions</strong> ([]string)</p><p>mountOptions 是挂载选项的列表，例如 ["ro", "soft"]。
针对此字段无合法性检查——如果某选项无效，则只是挂载会失败。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes/#mount-options>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes/#mount-options</a></p></li></ul><ul><li><p><strong>nodeAffinity</strong> (VolumeNodeAffinity)</p><p>nodeAffinity 定义可以从哪些节点访问此卷的约束限制。此字段会影响调度使用此卷的 Pod。</p><p><a name=VolumeNodeAffinity></a>
<strong>VolumeNodeAffinity 定义可以从哪些节点访问此卷的约束限制。</strong></p><ul><li><p><strong>nodeAffinity.required</strong> (NodeSelector)</p><p>required 指定必须满足的硬性节点约束。</p><p><a name=NodeSelector></a>
<strong>节点选择器表示在一组节点上一个或多个标签查询结果的并集；
也就是说，它表示由节点选择器条件表示的选择器的逻辑或计算结果。</strong></p><ul><li><p><strong>nodeAffinity.required.nodeSelectorTerms</strong> ([]NodeSelectorTerm)，必需</p><p>必需。节点选择器条件的列表。这些条件是逻辑或的计算结果。</p><p><a name=NodeSelectorTerm></a>
<strong>一个 null 或空的节点选择器条件不会与任何对象匹配。这些条件会按逻辑与的关系来计算。
TopologySelectorTerm 类别实现了 NodeSelectorTerm 的子集。</strong></p><ul><li><p><strong>nodeAffinity.required.nodeSelectorTerms.matchExpressions</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p><p>基于节点标签所设置的节点选择器要求的列表。</p></li><li><p><strong>nodeAffinity.required.nodeSelectorTerms.matchFields</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p><p>基于节点字段所设置的节点选择器要求的列表。</p></li></ul></li></ul></li></ul></li></ul><ul><li><p><strong>persistentVolumeReclaimPolicy</strong> (string)</p><p>persistentVolumeReclaimPolicy 定义当从持久卷声明释放持久卷时会发生什么。
有效的选项为 Retain（手动创建 PersistentVolumes 所用的默认值）、
Delete（动态制备 PersistentVolumes 所用的默认值）和 Recycle（已弃用）。
Recycle 选项必须被 PersistentVolume 下层的卷插件所支持才行。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#reclaiming>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#reclaiming</a></p></li></ul><ul><li><p><strong>storageClassName</strong> (string)</p><p>storageClassName 是这个持久卷所属于的 StorageClass 的名称。
空值意味着此卷不属于任何 StorageClass。</p></li><li><p><strong>volumeMode</strong> (string)</p><p>volumeMode 定义一个卷是带着已格式化的文件系统来使用还是保持在原始块状态来使用。
当 spec 中未包含此字段时，意味着取值为 Filesystem。</p></li></ul><h3 id=local>Local</h3><ul><li><p><strong>hostPath</strong> (HostPathVolumeSource)</p><p>hostPath 表示主机上的目录，由开发或测试人员进行制备。hostPath 仅对单节点开发和测试有用！
不会以任何方式支持主机存储（On-host storage），并且<strong>不能用于</strong>多节点集群中。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath</a></p><p><a name=HostPathVolumeSource></a>
<strong>表示映射到 Pod 中的主机路径。主机路径卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>hostPath.path</strong> (string)，必需</p><p>目录在主机上的路径。如果该路径是一个符号链接，则它将沿着链接指向真实路径。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath</a></p></li><li><p><strong>hostPath.type</strong> (string)</p><p>HostPath 卷的类型。默认为 ""。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#hostpath</a></p></li></ul></li></ul><ul><li><p><strong>local</strong> (LocalVolumeSource)</p><p>local 表示具有节点亲和性的直连式存储。</p><p><a name=LocalVolumeSource></a>
<strong>local 表示具有节点亲和性的直连式存储（Beta 特性）。</strong></p><ul><li><p><strong>local.path</strong> (string)，必需</p><p>指向节点上卷的完整路径。它可以是一个目录或块设备（磁盘、分区...）。</p></li><li><p><strong>local.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。它仅适用于 path 是一个块设备的情况。
必须是主机操作系统所支持的文件系统类型之一。例如 “ext4”、“xfs”、“ntfs”。
在未指定的情况下，默认值是自动选择一个文件系统。</p></li></ul></li></ul><h3 id=persistent-volumes>持久卷</h3><ul><li><p><strong>awsElasticBlockStore</strong> (AWSElasticBlockStoreVolumeSource)</p><p>awsElasticBlockStore 表示挂接到 kubelet 的主机随后暴露给 Pod 的一个 AWS Disk 资源。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p><p><a name=AWSElasticBlockStoreVolumeSource></a>
<strong>表示 AWS 上的 Persistent Disk 资源。挂载到一个容器之前 AWS EBS 磁盘必须存在。
该磁盘还必须与 kubelet 位于相同的 AWS 区域中。AWS EBS 磁盘只能以读/写一次进行挂载。
AWS EBS 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>awsElasticBlockStore.volumeID</strong> (string)，必需</p><p>volumeID 是 AWS（Amazon EBS 卷）中持久磁盘资源的唯一 ID。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p></li><li><p><strong>awsElasticBlockStore.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为“ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p></li><li><p><strong>awsElasticBlockStore.partition</strong> (int32)</p><p>partition 是你要挂载的卷中的分区。如果省略，则默认为按卷名称进行挂载。
例如：对于卷 /dev/sda1，将分区指定为 “1”。
类似地，/dev/sda 的卷分区为 “0”（或可以将属性留空）。</p></li><li><p><strong>awsElasticBlockStore.readOnly</strong> (boolean)</p><p>readOnly 值为 true 将在 VolumeMounts 中强制设置 readOnly。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#awselasticblockstore</a></p></li></ul></li></ul><ul><li><p><strong>azureDisk</strong> (AzureDiskVolumeSource)</p><p>azureDisk 表示主机上挂载的 Azure Data Disk 并绑定挂载到 Pod 上。</p><p><a name=AzureDiskVolumeSource></a>
<strong>azureDisk 表示主机上挂载的 Azure Data Disk 并绑定挂载到 Pod 上。</strong></p><ul><li><p><strong>azureDisk.diskName</strong> (string)，必需</p><p>diskName 是 Blob 存储中数据盘的名称。</p></li><li><p><strong>azureDisk.diskURI</strong> (string)，必需</p><p>diskURI 是 Blob 存储中数据盘的 URI。</p></li><li><p><strong>azureDisk.cachingMode</strong> (string)</p><p>cachingMode 是主机缓存（Host Caching）模式：None、Read Only、Read Write。</p></li><li><p><strong>azureDisk.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>azureDisk.kind</strong> (string)</p><p>kind 预期值包括：</p><ul><li>Shared：每个存储帐户多个 Blob 磁盘；</li><li>Dedicated：每个存储帐户单个 Blob 磁盘；</li><li>Managed：azure 托管的数据盘（仅托管的可用性集合中）。
默认为 Shared。</li></ul></li><li><p><strong>azureDisk.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。</p></li></ul></li></ul><ul><li><p><strong>azureFile</strong> (AzureFilePersistentVolumeSource)</p><p>azureDisk 表示主机上挂载的 Azure File Service 并绑定挂载到 Pod 上。</p><p><a name=AzureFilePersistentVolumeSource></a>
<strong>azureFile 表示主机上挂载的 Azure File Service 并绑定挂载到 Pod 上。</strong></p><ul><li><p><strong>azureFile.secretName</strong> (string)，必需</p><p>secretName 是包含 Azure 存储账号名称和主键的 Secret 的名称。</p></li><li><p><strong>azureFile.shareName</strong> (string)，必需</p><p>shareName 是 azure Share Name。</p></li><li><p><strong>azureFile.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。</p></li><li><p><strong>azureFile.secretNamespace</strong> (string)</p><p>secretNamespace 是包含 Azure 存储账号名称和主键的 Secret 的名字空间，默认与 Pod 相同。</p></li></ul></li></ul><ul><li><p><strong>cephfs</strong> (CephFSPersistentVolumeSource)</p><p>cephfs 表示在主机上挂载的 Ceph FS，该文件系统挂载与 Pod 的生命周期相同。</p><p><a name=CephFSPersistentVolumeSource></a>
<strong>表示在 Pod 的生命周期内持续的 Ceph Filesystem 挂载。cephfs 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>cephfs.monitors</strong> ([]string)，必需</p><p>monitors 是必需的。monitors 是 Ceph 监测的集合。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li><li><p><strong>cephfs.path</strong> (string)</p><p>path 是可选的。用作挂载的根，而不是完整的 Ceph 树，默认为 /。</p></li><li><p><strong>cephfs.readOnly</strong> (boolean)</p><p>readOnly 是可选的。默认为 false（读/写）。此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。
更多信息： <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li><li><p><strong>cephfs.secretFile</strong> (string)</p><p>secretFile 是可选的。secretFile 是 user 对应的密钥环的路径，默认为 /etc/ceph/user.secret。
更多信息： <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li></ul><ul><li><p><strong>cephfs.secretRef</strong> (SecretReference)</p><p>secretRef 是可选的。secretRef 是针对用户到身份认证 Secret 的引用，默认为空。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>cephfs.secretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>cephfs.secretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li><li><p><strong>cephfs.user</strong> (string)</p><p>user 是可选的。user 是 rados 用户名，默认为 admin。更多信息：
<a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p></li></ul></li></ul><ul><li><p><strong>cinder</strong> (CinderPersistentVolumeSource)</p><p>cinder 表示 kubelet 主机上挂接和挂载的 Cinder 卷。更多信息：
<a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p><p><a name=CinderPersistentVolumeSource></a>
<strong>表示 OpenStack 中的一个 Cinder 卷资源。挂载到一个容器之前 Cinder 卷必须已经存在。
该卷还必须与 kubelet 位于相同的地区中。cinder 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>cinder.volumeID</strong> (string)，必需</p><p>volumeID 用于标识 Cinder 中的卷。更多信息：
<a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p></li><li><p><strong>cinder.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统支持的文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。更多信息：
<a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p></li><li><p><strong>cinder.readOnly</strong> (boolean)</p><p>readOnly 是可选的。默认为 false（读/写）。
此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。更多信息：
<a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p></li></ul><ul><li><p><strong>cinder.secretRef</strong> (SecretReference)</p><p>secretRef 是可选的。指向 Secret 对象，内含的参数用于连接到 OpenStack。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>cinder.secretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>cinder.secretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul></li></ul><ul><li><p><strong>csi</strong> (CSIPersistentVolumeSource)</p><p>csi 表示由一个外部 CSI 驱动处理的存储（Beta 特性）。</p><p><a name=CSIPersistentVolumeSource></a>
<strong>表示由一个外部 CSI 卷驱动管理的存储（Beta 特性）。</strong></p><ul><li><p><strong>csi.driver</strong> (string)，必需</p><p>driver 是此卷所使用的驱动的名称。必需。</p></li><li><p><strong>csi.volumeHandle</strong> (string)，必需</p><p>volumeHandle 是 CSI 卷插件的 CreateVolume 所返回的唯一卷名称，用于在所有后续调用中引用此卷。必需。</p></li></ul><ul><li><p><strong>csi.controllerExpandSecretRef</strong> (SecretReference)</p><p>controllerExpandSecretRef 是对包含敏感信息的 Secret 对象的引用，
该 Secret 会被传递到 CSI 驱动以完成 CSI ControllerExpandVolume 调用。
这是一个 Beta 字段，需要启用 ExpandCSIVolumes 特性门控。
此字段是可选的，且如果不需要 Secret，则此字段可以为空。
如果 Secret 对象包含多个 Secret，则所有 Secret 被传递。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>csi.controllerExpandSecretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>csi.controllerExpandSecretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul><ul><li><p><strong>csi.controllerPublishSecretRef</strong> (SecretReference)</p><p>controllerPublishSecretRef 是对包含敏感信息的 Secret 对象的引用，
该 Secret 会被传递到 CSI 驱动以完成 CSI ControllerPublishVolume 和 ControllerUnpublishVolume 调用。
此字段是可选的，且如果不需要 Secret，则此字段可以为空。
如果 Secret 对象包含多个 Secret，则所有 Secret 被传递。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>csi.controllerPublishSecretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>csi.controllerPublishSecretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul><ul><li><p><strong>csi.fsType</strong> (string)</p><p>要挂载的 fsType。必须是主机操作系统所支持的文件系统类型之一。例如 “ext4”、“xfs”、“ntfs”。</p></li><li><p><strong>csi.nodeExpandSecretRef</strong> (SecretReference)</p><p>nodeExpandSecretRef 是对包含敏感信息的 Secret 对象的引用，
从而传递到 CSI 驱动以完成 CSI NodeExpandVolume 和 NodeUnpublishVolume 调用。
这是一个 Beta 字段，需要启用 CSINodeExpandSecret 特性门控。
此字段是可选的，且如果不需要 Secret，则此字段可以为空。
如果 Secret 对象包含多个 Secret，则所有 Secret 被传递。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>csi.nodeExpandSecretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>csi.nodeExpandSecretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul><ul><li><p><strong>csi.nodePublishSecretRef</strong> (SecretReference)</p><p>nodePublishSecretRef 是对包含敏感信息的 Secret 对象的引用，
以传递到 CSI 驱动以完成 CSI NodePublishVolume 和 NodeUnpublishVolume 调用。
此字段是可选的，且如果不需要 Secret，则此字段可以为空。
如果 Secret 对象包含多个 Secret，则所有 Secret 被传递。</p><p><strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>csi.nodePublishSecretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>csi.nodePublishSecretRef.namespace</strong> (string)</p><p>namespace 定义了 Secret 名称必须唯一的空间。</p></li></ul></li></ul><ul><li><p><strong>csi.nodeStageSecretRef</strong> (SecretReference)</p><p>nodeStageSecretRef 是对包含敏感信息的 Secret 对象的引用，
从而传递到 CSI 驱动以完成 CSI NodeStageVolume、NodeStageVolume 和 NodeUnstageVolume 调用。
此字段是可选的，且如果不需要 Secret，则此字段可以为空。
如果 Secret 对象包含多个 Secret，则所有 Secret 被传递。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>csi.nodeStageSecretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>csi.nodeStageSecretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul><ul><li><p><strong>csi.readOnly</strong> (boolean)</p><p>传递到 ControllerPublishVolumeRequest 的 readOnly 值。默认为 false（读/写）。</p></li><li><p><strong>csi.volumeAttributes</strong> (map[string]string)</p><p>要发布的卷的 volumeAttributes。</p></li></ul></li></ul><ul><li><p><strong>fc</strong> (FCVolumeSource)</p><p>fc 表示挂接到 kubelet 的主机并随后暴露给 Pod 的一个光纤通道（FC）资源。</p><p><a name=FCVolumeSource></a>
<strong>表示光纤通道卷。光纤通道卷只能以读/写一次进行挂载。光纤通道卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>fc.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>fc.lun</strong> (int32)</p><p>lun 是可选的。FC 目标 lun 编号。</p></li><li><p><strong>fc.readOnly</strong> (boolean)</p><p>readOnly 是可选的。默认为 false（读/写）。
此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。</p></li><li><p><strong>fc.targetWWNs</strong> ([]string)</p><p>targetWWNs 是可选的。FC 目标全球名称（WWN）。</p></li><li><p><strong>fc.wwids</strong> ([]string)</p><p>wwids 是可选的。FC 卷全球识别号（wwids）。
必须设置 wwids 或 targetWWNs 及 lun 的组合，但不能同时设置两者。</p></li></ul></li></ul><ul><li><p><strong>flexVolume</strong> (FlexPersistentVolumeSource)</p><p>flexVolume 表示使用基于 exec 的插件制备/挂接的通用卷资源。</p><p><a name=FlexPersistentVolumeSource></a>
<strong>FlexPersistentVolumeSource 表示使用基于 exec 的插件制备/挂接的通用持久卷资源。</strong></p><ul><li><p><strong>flexVolume.driver</strong> (string)，必需</p><p>driver 是此卷所使用的驱动的名称。</p></li><li><p><strong>flexVolume.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。默认的文件系统取决于 flexVolume 脚本。</p></li><li><p><strong>flexVolume.options</strong> (map[string]string)</p><p>options 是可选的。此字段包含额外的命令选项（如果有）。</p></li><li><p><strong>flexVolume.readOnly</strong> (boolean)</p><p>readOnly 是可选的。默认为 false（读/写）。
此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。</p></li></ul><ul><li><p><strong>flexVolume.secretRef</strong> (SecretReference)</p><p>secretRef 是可选的。secretRef 是对包含敏感信息的 Secret 对象的引用，从而传递到插件脚本。
如果未指定 Secret 对象，则此字段可以为空。如果 Secret 对象包含多个 Secret，则所有 Secret 被传递到插件脚本。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>flexVolume.secretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>flexVolume.secretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul></li></ul><ul><li><p><strong>flocker</strong> (FlockerVolumeSource)</p><p>flocker 表示挂接到 kubelet 的主机并暴露给 Pod 供其使用的 Flocker 卷。
这取决于所运行的 Flocker 控制服务。</p><p><a name=FlockerVolumeSource></a>
<strong>表示 Flocker 代理挂载的 Flocker 卷。应设置且仅设置 datasetName 和 datasetUUID 中的一个。
Flocker 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>flocker.datasetName</strong> (string)</p><p>datasetName 是存储为元数据的数据集的名称。针对 Flocker 有关数据集的名称应视为已弃用。</p></li><li><p><strong>flocker.datasetUUID</strong> (string)</p><p>datasetUUID 是数据集的 UUID。这是 Flocker 数据集的唯一标识符。</p></li></ul></li></ul><ul><li><p><strong>gcePersistentDisk</strong> (GCEPersistentDiskVolumeSource)</p><p>gcePersistentDisk 表示挂接到 kubelet 的主机随后暴露给 Pod 的一个 GCE Disk 资源。
由管理员进行制备。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p><p><a name=GCEPersistentDiskVolumeSource></a>
<strong>表示 Google 计算引擎中的 Persistent Disk 资源。挂载到一个容器之前 GCE PD 必须存在。
该磁盘还必须与 kubelet 位于相同的 GCE 项目和区域中。GCE PD 只能挂载为读/写一次或只读多次。
GCE PD 支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>gcePersistentDisk.pdName</strong> (string)，必需</p><p>pdName 是 GCE 中 PD 资源的唯一名称。用于标识 GCE 中的磁盘。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li><li><p><strong>gcePersistentDisk.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li><li><p><strong>gcePersistentDisk.partition</strong> (int32)</p><p>partition 是你要挂载的卷中的分区。如果省略，则默认为按卷名称进行挂载。
例如：对于卷 /dev/sda1，将分区指定为 “1”。类似地，/dev/sda 的卷分区为 “0”（或可以将属性留空）。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li><li><p><strong>gcePersistentDisk.readOnly</strong> (boolean)</p><p>此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。默认为 false。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#gcepersistentdisk</a></p></li></ul></li></ul><ul><li><p><strong>glusterfs</strong> (GlusterfsPersistentVolumeSource)</p><p>glusterfs 表示挂接到主机并暴露给 Pod 的 Glusterfs 卷。由管理员进行制备。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md>https://examples.k8s.io/volumes/glusterfs/README.md</a></p><p><a name=GlusterfsPersistentVolumeSource></a>
<strong>表示与 Pod 生命周期相同的 Glusterfs 挂载。Glusterfs 卷不支持所有权管理或 SELinux 重新打标签。</strong></p></li></ul><ul><li><p><strong>glusterfs.endpoints</strong> (string)，必需</p><p>endpoints 是详细说明 Glusterfs 拓扑的端点名称。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p></li><li><p><strong>glusterfs.path</strong> (string)，必需</p><p>path 是 Glusterfs 卷路径。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p></li><li><p><strong>glusterfs.endpointsNamespace</strong> (string)</p><p>endpointsNamespace 是包含 Glusterfs 端点的名字空间。
如果此字段为空，则 EndpointNamespace 默认为与绑定的 PVC 相同的名字空间。
更多信息： <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p></li><li><p><strong>glusterfs.readOnly</strong> (boolean)</p><p>此处 readOnly 将强制使用只读权限挂载 Glusterfs 卷。默认为 false。更多信息：
<a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p></li></ul><ul><li><p><strong>iscsi</strong> (ISCSIPersistentVolumeSource)</p><p>iscsi 表示挂接到 kubelet 的主机随后暴露给 Pod 的一个 ISCSI Disk 资源。由管理员进行制备。</p><p><a name=ISCSIPersistentVolumeSource></a>
<strong>ISCSIPersistentVolumeSource 表示一个 ISCSI 磁盘。ISCSI 卷只能以读/写一次进行挂载。ISCSI 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>iscsi.iqn</strong> (string)，必需</p><p>iqn 是目标 iSCSI 限定名称（Target iSCSI Qualified Name）。</p></li><li><p><strong>iscsi.lun</strong> (int32)，必需</p><p>lun 是 iSCSI 目标逻辑单元号（iSCSI Target Lun）。</p></li><li><p><strong>iscsi.targetPortal</strong> (string)，必需</p><p>targetPortal 是 iSCSI 目标门户（iSCSI Target Portal）。
如果不是默认端口（通常是 TCP 端口 860 和 3260），则 Portal 为 IP 或 ip_addr:port。</p></li></ul><ul><li><p><strong>iscsi.chapAuthDiscovery</strong> (boolean)</p><p>chapAuthDiscovery 定义是否支持 iSCSI Discovery CHAP 身份认证。</p></li><li><p><strong>iscsi.chapAuthSession</strong> (boolean)</p><p>chapAuthSession 定义是否支持 iSCSI Session CHAP 身份认证。</p></li><li><p><strong>iscsi.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#iscsi>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#iscsi</a></p></li></ul><ul><li><p><strong>iscsi.initiatorName</strong> (string)</p><p>initiatorName 是自定义的 iSCSI 发起程序名称（iSCSI Initiator Name）。
如果同时用 iscsiInterface 指定 initiatorName，将为连接创建新的 iSCSI 接口 &lt;目标门户>:&lt;卷名称>。</p></li><li><p><strong>iscsi.iscsiInterface</strong> (string)</p><p>iscsiInterface 是使用 iSCSI 传输的接口名称。默认为 “default”（tcp）。</p></li><li><p><strong>iscsi.portals</strong> ([]string)</p><p>portals 是 iSCSI 目标门户列表（iSCSI Target Portal List）。
如果不是默认端口（通常是 TCP 端口 860 和 3260），则 Portal 为 IP 或 ip_addr:port。</p></li><li><p><strong>iscsi.readOnly</strong> (boolean)</p><p>此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。默认为 false。</p></li></ul><ul><li><p><strong>iscsi.secretRef</strong> (SecretReference)</p><p>secretRef 是 iSCSI 目标和发起程序身份认证所用的 CHAP Secret。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>iscsi.secretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>iscsi.secretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul></li></ul><ul><li><p><strong>nfs</strong> (NFSVolumeSource)</p><p>nfs 表示主机上挂载的 NFS。由管理员进行制备。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p><p><a name=NFSVolumeSource></a>
<strong>表示 Pod 的生命周期内持续的 NFS 挂载。NFS 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>nfs.path</strong> (string)，必需</p><p>path 是由 NFS 服务器导出的路径。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p></li><li><p><strong>nfs.server</strong> (string)，必需</p><p>server 是 NFS 服务器的主机名或 IP 地址。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p></li><li><p><strong>nfs.readOnly</strong> (boolean)</p><p>此处 readOnly 将强制使用只读权限挂载 NFS 导出。默认为 false。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#nfs</a></p></li></ul></li></ul><ul><li><p><strong>photonPersistentDisk</strong> (PhotonPersistentDiskVolumeSource)</p><p>photonPersistentDisk 表示 kubelet 主机上挂接和挂载的 PhotonController 持久磁盘。</p><p><a name=PhotonPersistentDiskVolumeSource></a>
<strong>表示 Photon Controller 持久磁盘资源。</strong></p><ul><li><p><strong>photonPersistentDisk.pdID</strong> (string)，必需</p><p>pdID 是标识 Photon Controller 持久磁盘的 ID。</p></li><li><p><strong>photonPersistentDisk.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li></ul></li></ul><ul><li><p><strong>portworxVolume</strong> (PortworxVolumeSource)</p><p>portworxVolume 表示 kubelet 主机上挂接和挂载的 portworx 卷。</p><p><a name=PortworxVolumeSource></a>
<strong>PortworxVolumeSource 表示 Portworx 卷资源。</strong></p><ul><li><p><strong>portworxVolume.volumeID</strong> (string)，必需</p><p>volumeID 唯一标识 Portworx 卷。</p></li><li><p><strong>portworxVolume.fsType</strong> (string)</p><p>fSType 表示要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>portworxVolume.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。</p></li></ul></li></ul><ul><li><p><strong>quobyte</strong> (QuobyteVolumeSource)</p><p>quobyte 表示在共享 Pod 生命周期的主机上挂载的 Quobyte。</p><p><a name=QuobyteVolumeSource></a>
<strong>表示在 Pod 的生命周期内持续的 Quobyte 挂载。Quobyte 卷不支持所有权管理或 SELinux 重新打标签。</strong></p><ul><li><p><strong>quobyte.registry</strong> (string)，必需</p><p>registry 表示将一个或多个 Quobyte Registry 服务指定为 host:port
对的字符串形式（多个条目用英文逗号分隔），用作卷的中央注册表。</p></li><li><p><strong>quobyte.volume</strong> (string)，必需</p><p>volume 是一个字符串，通过名称引用已创建的 Quobyte 卷。</p></li></ul><ul><li><p><strong>quobyte.group</strong> (string)</p><p>group 是将卷访问映射到的组。默认为无组。</p></li><li><p><strong>quobyte.readOnly</strong> (boolean)</p><p>此处 readOnly 将强制使用只读权限挂载 Quobyte 卷。默认为 false。</p></li><li><p><strong>quobyte.tenant</strong> (string)</p><p>后台中拥有给定 Quobyte 卷的租户。用于动态制备的 Quobyte 卷，其值由插件设置。</p></li><li><p><strong>quobyte.user</strong> (string)</p><p>user 是将卷访问映射到的用户。默认为 serivceaccount 用户。</p></li></ul></li></ul><ul><li><p><strong>rbd</strong> (RBDPersistentVolumeSource)</p><p>rbd 表示主机上挂载的 Rados 块设备，其生命周期与 Pod 生命周期相同。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md>https://examples.k8s.io/volumes/rbd/README.md</a></p><p><a name=RBDPersistentVolumeSource></a>
<strong>表示在 Pod 的生命周期内一直存在的 Rados 块设备挂载。RBD 卷支持所有权管理和 SELinux 重新打标签。</strong></p><ul><li><p><strong>rbd.image</strong> (string)，必需</p><p>image 是 rados 镜像名称。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li><li><p><strong>rbd.monitors</strong> ([]string)，必需</p><p>monitors 是 Ceph 监测的集合。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li></ul><ul><li><p><strong>rbd.fsType</strong> (string)</p><p>fsType 是你要挂载的卷的文件系统类型。提示：确保主机操作系统支持此文件系统类型。
例如：“ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#rbd>https://kubernetes.io/zh-cn/docs/concepts/storage/volumes#rbd</a></p></li><li><p><strong>rbd.keyring</strong> (string)</p><p>keyring 是给定用户的密钥环的路径。默认为 /etc/ceph/keyring。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li><li><p><strong>rbd.pool</strong> (string)</p><p>pool 是 rados 池名称。默认为 rbd。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li><li><p><strong>rbd.readOnly</strong> (boolean)</p><p>此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。默认为 false。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li></ul><ul><li><p><strong>rbd.secretRef</strong> (SecretReference)</p><p>secretRef 是针对 RBDUser 的身份认证 Secret 的名称。如果提供，则重载 keyring。默认为 nil。
更多信息： <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>rbd.secretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>rbd.secretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li><li><p><strong>rbd.user</strong> (string)</p><p>user 是 rados 用户名。默认为 admin。更多信息：
<a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p></li></ul></li></ul><ul><li><p><strong>scaleIO</strong> (ScaleIOPersistentVolumeSource)</p><p>scaleIO 表示 Kubernetes 节点上挂接和挂载的 ScaleIO 持久卷。</p><p><a name=ScaleIOPersistentVolumeSource></a>
<strong>ScaleIOPersistentVolumeSource 表示一个 ScaleIO 持久卷。</strong></p><ul><li><p><strong>scaleIO.gateway</strong> (string)，必需</p><p>gateway 是 ScaleIO API 网关的主机地址。</p></li></ul><ul><li><p><strong>scaleIO.secretRef</strong> (SecretReference)，必需</p><p>secretRef 引用包含 ScaleIO 用户和其他敏感信息的 Secret。如果未提供此项，则 Login 操作将失败。</p><p><a name=SecretReference></a>
<strong>SecretReference 表示对某 Secret 的引用，其中包含足够的信息来访问任何名字空间中的 Secret。</strong></p><ul><li><p><strong>scaleIO.secretRef.name</strong> (string)</p><p>name 在名字空间内是唯一的，以引用一个 Secret 资源。</p></li><li><p><strong>scaleIO.secretRef.namespace</strong> (string)</p><p>namespace 指定一个名字空间，Secret 名称在该名字空间中必须唯一。</p></li></ul></li></ul><ul><li><p><strong>scaleIO.system</strong> (string)，必需</p><p>system 是 ScaleIO 中所配置的存储系统的名称。</p></li><li><p><strong>scaleIO.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。默认为 “xfs”。</p></li><li><p><strong>scaleIO.protectionDomain</strong> (string)</p><p>protectionDomain 是 ScaleIO 保护域（ScaleIO Protection Domain）的名称，用于已配置的存储。</p></li><li><p><strong>scaleIO.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。</p></li></ul><ul><li><p><strong>scaleIO.sslEnabled</strong> (boolean)</p><p>sslEnabled 是启用/禁用与网关（Gateway）进行 SSL 通信的标志，默认为 false。</p></li><li><p><strong>scaleIO.storageMode</strong> (string)</p><p>storageMode 指示卷所用的存储应是 ThickProvisioned 或 ThinProvisioned。
默认为 ThinProvisioned。</p></li><li><p><strong>scaleIO.storagePool</strong> (string)</p><p>storagePool 是与保护域关联的 ScaleIO Storage Pool。</p></li><li><p><strong>scaleIO.volumeName</strong> (string)</p><p>volumeName 是在与此卷源关联的 ScaleIO 系统中已创建的卷的名称。</p></li></ul></li></ul><ul><li><p><strong>storageos</strong> (StorageOSPersistentVolumeSource)</p><p>storageOS 表示一个 StorageOS 卷，该卷被挂接到 kubelet 的主机并挂载到 Pod 中。更多信息：
<a href=https://examples.k8s.io/volumes/storageos/README.md>https://examples.k8s.io/volumes/storageos/README.md</a></p><p><a name=StorageOSPersistentVolumeSource></a>
<strong>表示 StorageOS 持久卷资源。</strong></p><ul><li><p><strong>storageos.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>storageos.readOnly</strong> (boolean)</p><p>readOnly 默认为 false（读/写）。此处 readOnly 将在 VolumeMounts 中强制设置 readOnly。</p></li></ul><ul><li><p><strong>storageos.secretRef</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p>secretRef 指定用于获取 StorageOS API 凭据的 Secret。如果未指定，则将尝试使用默认值。</p></li><li><p><strong>storageos.volumeName</strong> (string)</p><p>volumeName 是 StorageOS 卷的人类可读名称。这些卷名称在一个名字空间内是唯一的。</p></li><li><p><strong>storageos.volumeNamespace</strong> (string)</p><p>volumeNamespace 指定 StorageOS 内卷的作用域。如果未指定名字空间，则将使用 Pod 的名字空间。
这一字段的存在允许 Kubernetes 中名称作用域与 StorageOS 进行映射，实现更紧密的集成。
将 volumeName 设为任何名称均可以重载默认的行为。
如果你未在 StorageOS 内使用名字空间，则设为 “default”。
StorageOS 内预先不存在的名字空间会被创建。</p></li></ul></li></ul><ul><li><p><strong>vsphereVolume</strong> (VsphereVirtualDiskVolumeSource)</p><p>vsphereVolume 表示 kubelet 主机上挂接和挂载的 vSphere 卷。</p><p><a name=VsphereVirtualDiskVolumeSource></a>
<strong>表示 vSphere 卷资源。</strong></p><ul><li><p><strong>vsphereVolume.volumePath</strong> (string)，必需</p><p>volumePath 是标识 vSphere 卷 vmdk 的路径。</p></li><li><p><strong>vsphereVolume.fsType</strong> (string)</p><p>fsType 是要挂载的文件系统类型。必须是主机操作系统所支持的文件系统类型之一。
例如 “ext4”、“xfs”、“ntfs”。如果未指定，则隐式推断为 “ext4”。</p></li><li><p><strong>vsphereVolume.storagePolicyID</strong> (string)</p><p>storagePolicyID 是与 StoragePolicyName 关联的基于存储策略的管理（SPBM）配置文件 ID。</p></li><li><p><strong>vsphereVolume.storagePolicyName</strong> (string)</p><p>storagePolicyName 是基于存储策略的管理（SPBM）配置文件名称。</p></li></ul></li></ul><h2 id=PersistentVolumeStatus>PersistentVolumeStatus</h2><p>PersistentVolumeStatus 是持久卷的当前状态。</p><hr><ul><li><p><strong>message</strong> (string)</p><p>message 是一条人类可读的消息，指明有关卷为何处于此状态的详细信息。</p></li><li><p><strong>phase</strong> (string)</p><p>phase 表示一个卷是否可用，是否绑定到一个 PVC 或是否由某个 PVC 释放。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#phase>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes#phase</a></p></li><li><p><strong>reason</strong> (string)</p><p>reason 是一个描述任何故障的简短 CamelCase 字符串，用于机器解析并在 CLI 中整齐地显示。</p></li></ul><h2 id=PersistentVolumeList>PersistentVolumeList</h2><p>PersistentVolumeList 是 PersistentVolume 各项的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: PersistentVolumeList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>)，必需</p><p>items 是持久卷的列表。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-persistentvolume><code>get</code> 读取指定的 PersistentVolume</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/persistentvolumes/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolume 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-persistentvolume-的状态><code>get</code> 读取指定的 PersistentVolume 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/persistentvolumes/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolume 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-persistentvolume-的对象><code>list</code> 列出或观测类别为 PersistentVolume 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/persistentvolumes</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeList>PersistentVolumeList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-persistentvolume><code>create</code> 创建 PersistentVolume</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/persistentvolumes</p><h4 id=参数-3>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-persistentvolume><code>update</code> 替换指定的 PersistentVolume</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/persistentvolumes/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolume 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-persistentvolume-的状态><code>update</code> 替换指定的 PersistentVolume 的状态</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /api/v1/persistentvolumes/{name}/status</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolume 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-persistentvolume><code>patch</code> 部分更新指定的 PersistentVolume</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /api/v1/persistentvolumes/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolume 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-persistentvolume-的状态><code>patch</code> 部分更新指定的 PersistentVolume 的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /api/v1/persistentvolumes/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolume 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-persistentvolume><code>delete</code> 删除 PersistentVolume</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /api/v1/persistentvolumes/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PersistentVolume 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-persistentvolume-的集合><code>deletecollection</code> 删除 PersistentVolume 的集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /api/v1/persistentvolumes</p><h4 id=参数-9>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6594b40b9d2889c78aa24c990663c227>3.6 - StorageClass</h1><div class=lead>StorageClass 为可以动态制备 PersistentVolume 的存储类描述参数。</div><p><code>apiVersion: storage.k8s.io/v1</code></p><p><code>import "k8s.io/api/storage/v1"</code></p><h2 id=StorageClass>StorageClass</h2><p>StorageClass 为可以动态制备 PersistentVolume 的存储类描述参数。</p><p>StorageClass 是不受名字空间作用域限制的；按照 etcd 设定的存储类的名称位于 ObjectMeta.Name 中。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: StorageClass</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>provisioner</strong> (string)，必需</p><p>provisioner 表示制备器的类别。</p></li><li><p><strong>allowVolumeExpansion</strong> (boolean)</p><p>allowVolumeExpansion 显示存储类是否允许卷扩充。</p></li></ul><ul><li><p><strong>allowedTopologies</strong> ([]TopologySelectorTerm)</p><p><strong>原子性：将在合并期间被替换</strong></p><p>限制可以动态制备卷的节点拓扑。每个卷插件定义其自己支持的拓扑规约。
空的 TopologySelectorTerm 列表意味着没有拓扑限制。
只有启用 VolumeScheduling 功能特性的服务器才能使用此字段。</p><p><a name=TopologySelectorTerm></a>
<strong>拓扑选择器条件表示标签查询的结果。
一个 null 或空的拓扑选择器条件不会匹配任何对象。各个条件的要求按逻辑与的关系来计算。
此选择器作为 NodeSelectorTerm 所提供功能的子集。此功能为 Alpha 特性，将来可能会变更。</strong></p></li></ul><ul><li><p><strong>allowedTopologies.matchLabelExpressions</strong> ([]TopologySelectorLabelRequirement)</p><p>按标签设置的拓扑选择器要求的列表。</p><p><a name=TopologySelectorLabelRequirement></a>
<strong>拓扑选择器要求是与给定标签匹配的一个选择器。此功能为 Alpha 特性，将来可能会变更。</strong></p><ul><li><p><strong>allowedTopologies.matchLabelExpressions.key</strong> (string)，必需</p><p>选择器所针对的标签键。</p></li><li><p><strong>allowedTopologies.matchLabelExpressions.values</strong> ([]string)，必需</p><p>字符串数组。一个值必须与要选择的标签匹配。values 中的每个条目按逻辑或的关系来计算。</p></li></ul></li></ul><ul><li><p><strong>mountOptions</strong> ([]string)</p><p>此存储类动态制备的 PersistentVolume 用这些 mountOptions（例如 ["ro", "soft"]）进行创建。
系统对选项作检查——如果有一个选项无效，则这些 PV 的挂载将失败。</p></li><li><p><strong>parameters</strong> (map[string]string)</p><p>parameters 包含应创建此存储类卷的制备器的参数。</p></li></ul><ul><li><p><strong>reclaimPolicy</strong> (string)</p><p>此存储类动态制备的 PersistentVolume 用这个 reclaimPolicy 进行创建。默认为 Delete。</p></li><li><p><strong>volumeBindingMode</strong> (string)</p><p>volumeBindingMode 指示应该如何制备和绑定 PersistentVolumeClaim。
未设置时，将使用 VolumeBindingImmediate。
只有启用 VolumeScheduling 功能特性的服务器才能使用此字段。</p></li></ul><h2 id=StorageClassList>StorageClassList</h2><p>StorageClassList 是存储类的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: StorageClassList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>)，必需</p><p>items 是 StorageClass 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-storageclass><code>get</code> 读取指定的 StorageClass</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/storageclasses/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>StorageClass 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-storageclass-的对象><code>list</code> 列出或观测类别为 StorageClass 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/storageclasses</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClassList>StorageClassList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-storageclass><code>create</code> 创建 StorageClass</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/storage.k8s.io/v1/storageclasses</p><h4 id=参数-2>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-storageclass><code>update</code> 替换指定的 StorageClass</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/storage.k8s.io/v1/storageclasses/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>StorageClass 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-storageclass><code>patch</code> 部分更新指定的 StorageClass</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/storage.k8s.io/v1/storageclasses/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>StorageClass 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-storageclass><code>delete</code> 删除 StorageClass</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/storageclasses/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>StorageClass 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-storageclass-的集合><code>deletecollection</code> 删除 StorageClass 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/storageclasses</p><h4 id=参数-6>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4bfa6511c37446f7b8f7ff7643983981>3.7 - VolumeAttachment</h1><div class=lead>VolumeAttachment 抓取将指定卷挂接到指定节点或从指定节点解除挂接指定卷的意图。</div><p><code>apiVersion: storage.k8s.io/v1</code></p><p><code>import "k8s.io/api/storage/v1"</code></p><h2 id=VolumeAttachment>VolumeAttachment</h2><p>VolumeAttachment 抓取将指定卷挂接到指定节点或从指定节点解除挂接指定卷的意图。</p><p>VolumeAttachment 对象未划分命名空间。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: VolumeAttachment</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachmentSpec>VolumeAttachmentSpec</a>)，必需</p><p>期望的挂接/解除挂接卷行为的规约。由 Kubernetes 系统填充。</p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachmentStatus>VolumeAttachmentStatus</a>)</p><p>VolumeAttachment 请求的状态。由完成挂接或解除挂接操作的实体（即外部挂接器）进行填充。</p></li></ul><h2 id=VolumeAttachmentSpec>VolumeAttachmentSpec</h2><p>VolumeAttachmentSpec 是 VolumeAttachment 请求的规约。</p><hr><ul><li><p><strong>attacher</strong> (string)，必需</p><p>attacher 表示必须处理此请求的卷驱动的名称。这是由 GetPluginName() 返回的名称。</p></li><li><p><strong>nodeName</strong> (string)，必需</p><p>卷应挂接到的节点。</p></li></ul><ul><li><p><strong>source</strong> (VolumeAttachmentSource)，必需</p><p>source 表示应挂接的卷。</p><p><a name=VolumeAttachmentSource></a>
<strong>VolumeAttachmentSource 表示应挂接的卷。现在只能通过外部挂接器挂接 PersistenVolume，
将来我们可能还允许 Pod 中的内联卷。只能设置一个成员。</strong></p><ul><li><p><strong>source.inlineVolumeSpec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeSpec>PersistentVolumeSpec</a>)</p><p>inlineVolumeSpec 包含挂接由 Pod 的内联 VolumeSource 定义的持久卷时所有必需的信息。
仅为 CSIMigation 功能填充此字段。
它包含从 Pod 的内联 VolumeSource 转换为 PersistentVolumeSpec 的字段。
此字段处于 Beta 阶段，且只有启用 CSIMigration 功能的服务器才能使用此字段。</p></li><li><p><strong>source.persistentVolumeName</strong> (string)</p><p>要挂接的持久卷的名称。</p></li></ul></li></ul><h2 id=VolumeAttachmentStatus>VolumeAttachmentStatus</h2><p>VolumeAttachmentStatus 是 VolumeAttachment 请求的状态。</p><hr><ul><li><p><strong>attached</strong> (boolean)，必需</p><p>表示卷被成功挂接。此字段只能由完成挂接操作的实体（例如外部挂接器）进行设置。</p></li></ul><ul><li><p><strong>attachError</strong> (VolumeError)</p><p>挂接操作期间遇到的最后一个错误，如果有。
此字段只能由完成挂接操作的实体（例如外部挂接器）进行设置。</p><p><a name=VolumeError></a>
<strong>VolumeError 抓取卷操作期间遇到的一个错误。</strong></p><ul><li><p><strong>attachError.message</strong> (string)</p><p>此字符串详细说明挂接或解除挂接操作期间遇到的错误。
此字符串可以放入日志，因此它不应包含敏感信息。</p></li><li><p><strong>attachError.time</strong> (Time)</p><p>遇到错误的时间。</p><p><a name=Time></a>
<strong>time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li></ul></li></ul><ul><li><p><strong>attachmentMetadata</strong> (map[string]string)</p><p>成功挂接时，此字段将由挂接操作返回的任何信息进行填充，
这些信息必须传递到后续的 WaitForAttach 或 Mount 调用中。
此字段只能由完成挂接操作的实体（例如外部挂接器）进行设置。</p></li></ul><ul><li><p><strong>detachError</strong> (VolumeError)</p><p>解除挂接操作期间遇到的最后一个错误，如果有。
此字段只能由完成解除挂接操作的实体（例如外部挂接器）进行设置。</p><p><a name=VolumeError></a>
<strong>VolumeError 抓取卷操作期间遇到的一个错误。</strong></p><ul><li><p><strong>detachError.message</strong> (string)</p><p>此字符串详细说明挂接或解除挂接操作期间遇到的错误。
此字符串可以放入日志，因此它不应包含敏感信息。</p></li><li><p><strong>detachError.time</strong> (Time)</p><p>遇到错误的时间。</p><p><a name=Time></a>
<strong>time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li></ul></li></ul><h2 id=VolumeAttachmentList>VolumeAttachmentList</h2><p>VolumeAttachmentList 是 VolumeAttachment 对象的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: VolumeAttachmentList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>)，必需</p><p>items 是 VolumeAttachment 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-volumeattachment><code>get</code> 读取指定的 VolumeAttachment</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/volumeattachments/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>VolumeAttachment 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-volumeattachment-的状态><code>get</code> 读取指定的 VolumeAttachment 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/volumeattachments/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>VolumeAttachment 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-volumeattachment-的对象><code>list</code> 列出或观测类别为 VolumeAttachment 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/volumeattachments</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachmentList>VolumeAttachmentList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-volumeattachment><code>create</code> 创建 VolumeAttachment</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/storage.k8s.io/v1/volumeattachments</p><h4 id=参数-3>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-volumeattachment><code>update</code> 替换指定的 VolumeAttachment</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/storage.k8s.io/v1/volumeattachments/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>VolumeAttachment 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-volumeattachment-的状态><code>update</code> 替换指定的 VolumeAttachment 的状态</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/storage.k8s.io/v1/volumeattachments/{name}/status</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>VolumeAttachment 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-volumeattachment><code>patch</code> 部分更新指定的 VolumeAttachment</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /apis/storage.k8s.io/v1/volumeattachments/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>VolumeAttachment 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-volumeattachment-的状态><code>patch</code> 部分更新指定的 VolumeAttachment 的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/storage.k8s.io/v1/volumeattachments/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>VolumeAttachment 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-volumeattachment><code>delete</code> 删除 VolumeAttachment</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/volumeattachments/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>VolumeAttachment 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-volumeattachment-的集合><code>deletecollection</code> 删除 VolumeAttachment 的集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/volumeattachments</p><h4 id=参数-9>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e9fc1d0635b78d89359345fdb7789971>3.8 - CSIDriver</h1><div class=lead>CSIDriver 抓取集群上部署的容器存储接口（CSI）卷驱动有关的信息。</div><p><code>apiVersion: storage.k8s.io/v1</code></p><p><code>import "k8s.io/api/storage/v1"</code></p><h2 id=CSIDriver>CSIDriver</h2><p>CSIDriver 抓取集群上部署的容器存储接口（CSI）卷驱动有关的信息。
Kubernetes 挂接/解除挂接控制器使用此对象来决定是否需要挂接。
Kubelet 使用此对象决定挂载时是否需要传递 Pod 信息。
CSIDriver 对象未划分命名空间。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: CSIDriver</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
<code>metadata.name</code> 表示此对象引用的 CSI 驱动的名称；
它必须与该驱动的 CSI GetPluginName() 调用返回的名称相同。
驱动名称不得超过 63 个字符，以字母、数字（[a-z0-9A-Z]）开头和结尾，
中间可包含短划线（-）、英文句点（.）、字母和数字。
更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriverSpec>CSIDriverSpec</a>)，必需</p><p>CSI 驱动的规约。</p></li></ul><h2 id=CSIDriverSpec>CSIDriverSpec</h2><p>CSIDriverSpec 是 CSIDriver 的规约。</p><hr><ul><li><p><strong>attachRequired</strong> (boolean)</p><p>attachRequired 表示这个 CSI 卷驱动需要挂接操作
（因为它实现了 CSI ControllerPublishVolume() 方法），
Kubernetes 挂接/解除挂接控制器应调用挂接卷接口，
以检查卷挂接（volumeattachment）状态并在继续挂载之前等待卷被挂接。
CSI 外部挂接器与 CSI 卷驱动配合使用，并在挂接操作完成时更新 volumeattachment 状态。
如果 CSIDriverRegistry 特性门控被启用且此值指定为 false，将跳过挂接操作。
否则将调用挂接操作。</p><p>此字段不可变更。</p></li></ul><ul><li><p><strong>fsGroupPolicy</strong> (string)</p><p>定义底层卷是否支持在挂载之前更改卷的所有权和权限。
有关更多详细信息，请参考特定的 FSGroupPolicy 值。</p><p>此字段不可变更。</p><p>默认为 ReadWriteOnceWithFSType，这会检查每个卷，以决定 Kubernetes 是否应修改卷的所有权和权限。
采用默认策略时，如果定义了 fstype 且卷的访问模式包含 ReadWriteOnce，将仅应用定义的 fsGroup。</p></li></ul><ul><li><p><strong>podInfoOnMount</strong> (boolean)</p><p>如果设为 true，则 podInfoOnMount 表示在挂载操作期间这个 CSI 卷需要更多的 Pod 信息（例如 podName 和 podUID 等）。
如果设为 false，则挂载时将不传递 Pod 信息。
默认为 false。
CSI 驱动将 podInfoOnMount 指定为驱动部署的一部分。
如果为 true，Kubelet 将在 CSI NodePublishVolume() 调用中作为 VolumeContext 传递 Pod 信息。
CSI 驱动负责解析和校验作为 VolumeContext 传递进来的信息。
如果 podInfoOnMount 设为 true，将传递以下 VolumeConext。
此列表可能变大，但将使用前缀。</p><ul><li>"csi.storage.k8s.io/pod.name": pod.name</li><li>"csi.storage.k8s.io/pod.namespace": pod.namespace</li><li>"csi.storage.k8s.io/pod.uid": string(pod.UID)</li><li>"csi.storage.k8s.io/ephemeral":
如果此卷是 CSIVolumeSource 定义的一个临时内联卷，则为 “true”，否则为 “false”</li></ul><p>“csi.storage.k8s.io/ephemeral” 是 Kubernetes 1.16 中一个新的功能特性。
只有同时支持 “Persistent” 和 “Ephemeral” VolumeLifecycleMode 的驱动，此字段才是必需的。
其他驱动可以保持禁用 Pod 信息或忽略此字段。
由于 Kubernetes 1.15 不支持此字段，所以在这类集群上部署驱动时，只能支持一种模式。
该部署就决定了是哪种模式，例如通过驱动的命令行参数。</p><p>此字段不可变更。</p></li></ul><ul><li><p><strong>requiresRepublish</strong> (boolean)</p><p>requiresRepublish 表示 CSI 驱动想要 <code>NodePublishVolume</code> 被周期性地调用，
以反映已挂载卷中的任何可能的变化。
此字段默认为 false。</p><p>注：成功完成对 NodePublishVolume 的初始调用后，对 NodePublishVolume 的后续调用只应更新卷的内容。
新的挂载点将不会被运行的容器察觉。</p></li></ul><ul><li><p><strong>seLinuxMount</strong> (boolean)</p><p>seLinuxMount 指定 CSI 驱动是否支持 "-o context" 挂载选项。</p><p>当值为 “true” 时，CSI 驱动必须确保该 CSI 驱动提供的所有卷可以分别用不同的 <code>-o context</code> 选项进行挂载。
这对于将卷作为块设备上的文件系统或作为独立共享卷提供的存储后端来说是典型的方法。
当 Kubernetes 挂载在 Pod 中使用的已显式设置 SELinux 上下文的 ReadWriteOncePod 卷时，
将使用 "-o context=xyz" 挂载选项调用 NodeStage / NodePublish。
未来可能会扩展到其他的卷访问模式（AccessModes）。在任何情况下，Kubernetes 都会确保该卷仅使用同一 SELinux 上下文进行挂载。</p><p>当值为 “false” 时，Kubernetes 不会将任何特殊的 SELinux 挂载选项传递给驱动。
这通常用于代表更大共享文件系统的子目录的卷。</p><p>默认为 “false”。</p></li></ul><ul><li><p><strong>storageCapacity</strong> (boolean)</p><p>如果设为 true，则 storageCapacity 表示 CSI 卷驱动希望 Pod 调度时考虑存储容量，
驱动部署将通过创建包含容量信息的 CSIStorageCapacity 对象来报告该存储容量。</p><p>部署驱动时可以立即启用这个检查。
这种情况下，只有此驱动部署已发布某些合适的 CSIStorageCapacity 对象，
才会继续制备新的卷，然后进行绑定。</p><p>换言之，可以在未设置此字段或此字段为 false 的情况下部署驱动，
并且可以在发布存储容量信息后再修改此字段。</p><p>此字段在 Kubernetes 1.22 及更早版本中不可变更，但现在可以变更。</p></li></ul><ul><li><p><strong>tokenRequests</strong> ([]TokenRequest)</p><p><strong>原子性：将在合并期间被替换</strong></p><p>tokenRequests 表示 CSI 驱动需要供挂载卷所用的 Pod 的服务帐户令牌，进行必要的鉴权。
Kubelet 将在 CSI NodePublishVolume 调用中传递 VolumeContext 中的令牌。
CSI 驱动应解析和校验以下 VolumeContext：</p><pre tabindex=0><code>&#34;csi.storage.k8s.io/serviceAccount.tokens&#34;: {
  &#34;&lt;audience&gt;&#34;: {
    &#34;token&#34;: &lt;token&gt;,
    &#34;expirationTimestamp&#34;: &lt;expiration timestamp in RFC3339&gt;,
  },
  ...
}
</code></pre><p>注：每个 tokenRequest 中的受众应该不同，且最多有一个令牌是空字符串。
要在令牌过期后接收一个新的令牌，requiresRepublish 可用于周期性地触发 NodePublishVolume。</p><p><a name=TokenRequest></a>
<strong>tokenRequest 包含一个服务帐户令牌的参数。</strong></p></li></ul><ul><li><p><strong>tokenRequests.audience</strong> (string)，必需</p><p>audience 是 “TokenRequestSpec” 中令牌的目标受众。
它默认为 kube apiserver 的受众。</p></li><li><p><strong>tokenRequests.expirationSeconds</strong> (int64)</p><p>expirationSeconds 是 “TokenRequestSpec” 中令牌的有效期。
它具有与 “TokenRequestSpec” 中 “expirationSeconds” 相同的默认值。</p></li></ul><ul><li><p><strong>volumeLifecycleModes</strong> ([]string)</p><p><strong>集合：唯一值将在合并期间被保留</strong></p><p>volumeLifecycleModes 定义这个 CSI 卷驱动支持哪种类别的卷。
如果列表为空，则默认值为 “Persistent”，这是 CSI 规范定义的用法，
并通过常用的 PV/PVC 机制在 Kubernetes 中实现。
另一种模式是 “Ephemeral”。
在这种模式下，在 Pod 规约中用 CSIVolumeSource 以内联方式定义卷，其生命周期与该 Pod 的生命周期相关联。
驱动必须感知到这一点，因为只有针对这种卷才会接收到 NodePublishVolume 调用。
有关实现此模式的更多信息，请参阅
<a href=https://kubernetes-csi.github.io/docs/ephemeral-local-volumes.html>https://kubernetes-csi.github.io/docs/ephemeral-local-volumes.html</a>。
驱动可以支持其中一种或多种模式，将来可能会添加更多模式。
此字段处于 Beta 阶段。</p><p>此字段不可变更。</p></li></ul><h2 id=CSIDriverList>CSIDriverList</h2><p>CSIDriverList 是 CSIDriver 对象的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: CSIDriverList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>)，必需</p><p>items 是 CSIDriver 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-csidriver><code>get</code> 读取指定的 CSIDriver</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/csidrivers/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIDriver 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-csidriver-的对象><code>list</code> 列出或观测类别为 CSIDriver 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/csidrivers</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriverList>CSIDriverList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-csidriver><code>create</code> 创建 CSIDriver</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/storage.k8s.io/v1/csidrivers</p><h4 id=参数-2>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-csidriver><code>update</code> 替换指定的 CSIDriver</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/storage.k8s.io/v1/csidrivers/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIDriver 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-csidriver><code>patch</code> 部分更新指定的 CSIDriver</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/storage.k8s.io/v1/csidrivers/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIDriver 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-csidriver><code>delete</code> 删除 CSIDriver</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/csidrivers/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIDriver 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-csidriver-的集合><code>deletecollection</code> 删除 CSIDriver 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/csidrivers</p><h4 id=参数-6>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e54ab698c244de7268acca37e4e6e97e>3.9 - CSINode</h1><div class=lead>CSINode 包含节点上安装的所有 CSI 驱动有关的信息。</div><p><code>apiVersion: storage.k8s.io/v1</code></p><p><code>import "k8s.io/api/storage/v1"</code></p><h2 id=CSINode>CSINode</h2><p>CSINode 包含节点上安装的所有 CSI 驱动有关的信息。CSI 驱动不需要直接创建 CSINode 对象。
只要这些驱动使用 node-driver-registrar 边车容器，kubelet 就会自动为 CSI 驱动填充 CSINode 对象，
作为 kubelet 插件注册操作的一部分。CSINode 的名称与节点名称相同。
如果不存在此对象，则说明该节点上没有可用的 CSI 驱动或 Kubelet 版本太低无法创建该对象。
CSINode 包含指向相应节点对象的 OwnerReference。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: CSINode</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>metadata.name 必须是 Kubernetes 节点的名称。</p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINodeSpec>CSINodeSpec</a>)，必需</p><p>spec 是 CSINode 的规约。</p></li></ul><h2 id=CSINodeSpec>CSINodeSpec</h2><p>CSINodeSpec 包含一个节点上安装的所有 CSI 驱动规约有关的信息。</p><hr><ul><li><p><strong>drivers</strong> ([]CSINodeDriver)，必需</p><p><strong>补丁策略：按照键 <code>name</code> 合并</strong></p><p>drivers 是节点上存在的所有 CSI 驱动的信息列表。如果列表中的所有驱动均被卸载，则此字段可以为空。</p><p><a name=CSINodeDriver></a>
<strong>CSINodeDriver 包含一个节点上安装的一个 CSI 驱动规约有关的信息。</strong></p><ul><li><p><strong>drivers.name</strong> (string)，必需</p><p>这是该对象引用的 CSI 驱动的名称。此字段值必须是针对该驱动由 CSI GetPluginName() 调用返回的相同名称。</p></li></ul></li></ul><ul><li><p><strong>drivers.nodeID</strong> (string)，必需</p><p>从驱动角度来看，这是节点的 nodeID。
对于未与节点共享相同命名法的存储系统，此字段使得 Kubernetes 能够与之进行通信。
例如，Kubernetes 可能将给定节点视为 "node1"，但存储系统可以将同一节点视为 "nodeA"。
当 Kubernetes 向存储系统发出一条命令将一个卷挂接到特定的节点时，
它可以藉此字段使用存储系统所理解的 ID 引用节点名称，例如使用 “nodeA” 而不是 “node1”。
此字段是必需的。</p></li></ul><ul><li><p><strong>drivers.allocatable</strong> (VolumeNodeResources)</p><p>allocatable 表示一个节点上可供调度的卷资源。此字段处于 beta 阶段。</p><p><a name=VolumeNodeResources></a>
<strong>VolumeNodeResources 是调度卷时所用的一组资源限制。</strong></p><ul><li><p><strong>drivers.allocatable.count</strong> (int32)</p><p>这是一个节点上可使用的、由 CSI 驱动管理的独立卷个数的上限。
挂接并挂载到一个节点上的卷被视为被使用一次，不是两次。
相同的规则适用于同一个节点上多个 Pod 之间共享的同一个卷。
如果未指定此字段，则该节点上支持的卷数量是无限的。</p></li></ul></li></ul><ul><li><p><strong>drivers.topologyKeys</strong> ([]string)</p><p>topologyKeys 是驱动支持的键的列表。
在集群上初始化一个驱动时，该驱动将提供一组自己理解的拓扑键
（例如 “company.com/zone”、“company.com/region”）。
在一个节点上初始化一个驱动时，该驱动将提供相同的拓扑键和值。
Kubelet 将在其自己的节点对象上将这些拓扑键暴露为标签。
当 Kubernetes 进行拓扑感知的制备时，可以使用此列表决定应从节点对象中检索哪些标签并传回驱动。
不同的节点可以使用不同的拓扑键。
如果驱动不支持拓扑，则此字段可以为空。</p></li></ul><h2 id=CSINodeList>CSINodeList</h2><p>CSINodeList 是 CSINode 对象的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: CSINodeList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>)，必需</p><p>items 是 CSINode 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-csinode><code>get</code> 读取指定的 CSINode</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/csinodes/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSINode 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-csinode-的对象><code>list</code> 列出或观测类别为 CSINode 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/csinodes</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINodeList>CSINodeList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-csinode><code>create</code> 创建 CSINode</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/storage.k8s.io/v1/csinodes</p><h4 id=参数-2>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-csinode><code>update</code> 替换指定的 CSINode</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/storage.k8s.io/v1/csinodes/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSINode 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-csinode><code>patch</code> 部分更新指定的 CSINode</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/storage.k8s.io/v1/csinodes/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSINode 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-csinode><code>delete</code> 删除 CSINode</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/csinodes/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSINode 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-csinode-的集合><code>deletecollection</code> 删除 CSINode 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/csinodes</p><h4 id=参数-6>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ef7970bd9ecd532052dd386f88184c25>3.10 - CSIStorageCapacity</h1><div class=lead>CSIStorageCapacity 存储一个 CSI GetCapacity 调用的结果。</div><p><code>apiVersion: storage.k8s.io/v1</code></p><p><code>import "k8s.io/api/storage/v1"</code></p><h2 id=CSIStorageCapacity>CSIStorageCapacity</h2><p>CSIStorageCapacity 存储一个 CSI GetCapacity 调用的结果。
对于给定的 StorageClass，此结构描述了特定拓扑段中可用的容量。
当考虑在哪里实例化新的 PersistentVolume 时可以使用此项。</p><p>例如，此结构可以描述如下内容：</p><ul><li>“standard” 的 StorageClass 容量为 “1234 GiB”，可用于 “topology.kubernetes.io/zone=us-east1”</li><li>“localssd” 的 StorageClass 容量为 “10 GiB”，可用于 “kubernetes.io/hostname=knode-abc123”</li></ul><p>以下三种情况均暗示了某些组合没有可用的容量：</p><ul><li>不存在拓扑和存储类名称合适的对象</li><li>这种对象存在，但容量未设置</li><li>这种对象存在，但容量为零</li></ul><p>这些对象的制作方可以决定哪种方法更合适。</p><p>当 CSI 驱动选择使用 CSIDriverSpec.StorageCapacity 进行容量感知调度时，kube-scheduler 会使用这些对象。
该调度器将 MaximumVolumeSize 与 pending 卷的请求大小进行比较，以过滤掉不合适的节点。
如果未设置 MaximumVolumeSize，则回退为与不太精确的容量（Capacity）进行比较。
如果还是未设置，则该调度器假定容量不足并尝试某些其他节点。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: CSIStorageCapacity</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
此名称没有特定的含义。
它必须是 DNS 子域名（允许英文句点，最多 253 个字符）。
为了确保与集群上的其他 CSI 驱动没有冲突，建议使用一个生成的名称 csisc-&lt;uuid>，
或使用以唯一 CSI 驱动名称结尾的反向域名。</p><p>这些对象是有命名空间的。</p><p>更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>storageClassName</strong> (string)，必需</p><p>这是已报告容量所应用到的 StorageClass 的名称。
它必须满足与 StorageClass 对象名称相同的要求（非空，DNS 子域名）。
如果该对象不再存在，则 CSIStorageCapacity 对象将被废弃且应由创建者移除。
此字段不可变更。</p></li><li><p><strong>capacity</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>capacity 是 CSI 驱动在其 GetCapacityResponse 中为 GetCapacityRequest 报告的值，其拓扑和参数与之前的字段匹配。</p><p>该语义目前（CSI 规范 1.2）定义为：可用于制备卷的可用存储容量（单位为字节）。
如果未设置，则该信息目前不可用。</p></li></ul><ul><li><p><strong>maximumVolumeSize</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>maximumVolumeSize 是 CSI 驱动在其 GetCapacityResponse 中为 GetCapacityRequest 报告的值，其拓扑和参数与之前的字段匹配。</p><p>自从 CSI 规范 1.4.0 起，这定义为 <code>CreateVolumeRequest.capacity_range.required_bytes</code> 字段中可以使用的最大值，
以便用 GetCapacityRequest 中相同的参数创建一个卷。
Kubernetes API 中的相应值是卷声明中的 ResourceRequirements.Requests。</p></li></ul><ul><li><p><strong>nodeTopology</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>nodeTopology 定义了哪些节点有权访问已报告容量的存储。
如果未设置，则不能从集群中的任意节点访问此存储。
如果留空，则可以从所有节点访问此存储。此字段不可变更。</p></li></ul><h2 id=CSIStorageCapacityList>CSIStorageCapacityList</h2><p>CSIStorageCapacityList 是 CSIStorageCapacity 对象的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: storage.k8s.io/v1</p></li><li><p><strong>kind</strong>: CSIStorageCapacityList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。
更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>)，必需</p><p><strong>映射：有关键名称的唯一值将在合并期间被保留</strong></p><p>items 是 CSIStorageCapacity 对象的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-csistoragecapacity><code>get</code> 读取指定的 CSIStorageCapacity</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/namespaces/{namespace}/csistoragecapacities/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIStorageCapacity 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-csistoragecapacity-的对象><code>list</code> 列出或观测类别为 CSIStorageCapacity 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/namespaces/{namespace}/csistoragecapacities</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacityList>CSIStorageCapacityList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-csistoragecapacity-的对象-1><code>list</code> 列出或观测类别为 CSIStorageCapacity 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/storage.k8s.io/v1/csistoragecapacities</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacityList>CSIStorageCapacityList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-csistoragecapacity><code>create</code> 创建 CSIStorageCapacity</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/storage.k8s.io/v1/namespaces/{namespace}/csistoragecapacities</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-csistoragecapacity><code>update</code> 替换指定的 CSIStorageCapacity</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/storage.k8s.io/v1/namespaces/{namespace}/csistoragecapacities/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIStorageCapacity 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-csistoragecapacity><code>patch</code> 部分更新指定的 CSIStorageCapacity</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /apis/storage.k8s.io/v1/namespaces/{namespace}/csistoragecapacities/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIStorageCapacity 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1/#CSIStorageCapacity>CSIStorageCapacity</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-csistoragecapacity><code>delete</code> 删除 CSIStorageCapacity</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/namespaces/{namespace}/csistoragecapacities/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CSIStorageCapacity 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-csistoragecapacity-的集合><code>deletecollection</code> 删除 CSIStorageCapacity 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /apis/storage.k8s.io/v1/namespaces/{namespace}/csistoragecapacities</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6a5e06a0dc59d104938425c049f2f29b>4 - 身份认证资源</h1></div><div class=td-content><h1 id=pg-6449724e786cbecd0cecfaa5a486e64a>4.1 - ServiceAccount</h1><div class=lead>ServiceAccount 将以下内容绑定在一起：1. 用户可以理解的名称，也可能是外围系统理解的身份标识 2. 可以验证和授权的主体 3. 一组 secret。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=ServiceAccount>ServiceAccount</h2><p>ServiceAccount 将以下内容绑定在一起：</p><ul><li>用户可以理解的名称，也可能是外围系统理解的身份标识</li><li>可以验证和授权的主体</li><li>一组 secret</li></ul><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ServiceAccount</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准对象的元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>automountServiceAccountToken</strong> (boolean)</p><p>AutomountServiceAccountToken 指示作为此服务帐户运行的 pod 是否应自动挂载 API 令牌，
可以在 pod 级别覆盖。</p></li><li><p><strong>imagePullSecrets</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p><p>imagePullSecrets 是对同一命名空间中 Secret 的引用列表，用于拉取引用此 ServiceAccount 的 Pod 中的任何镜像。
imagePullSecrets 与 Secrets 不同，因为 Secrets 可以挂载在 Pod 中，但 imagePullSecrets 只能由 kubelet 访问。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod>https://kubernetes.io/zh-cn/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod</a></p></li><li><p><strong>secrets</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p><strong>补丁策略：基于键 <code>name</code> 合并</strong></p><p>Secrets 是允许使用此 ServiceAccount 运行的 pod 使用的同一命名空间中的秘密列表。
仅当此服务帐户的 “kubernetes.io/enforce-mountable-secrets” 注释设置为 “true” 时，Pod 才限于此列表。
此字段不应用于查找自动生成的服务帐户令牌机密以在 pod 之外使用。
相反，可以使用 TokenRequest API 直接请求令牌，或者可以手动创建服务帐户令牌 secret。
更多信息： <a href=https://kubernetes.io/docs/concepts/configuration/secret>https://kubernetes.io/docs/concepts/configuration/secret</a></p></li></ul><h2 id=ServiceAccountList>ServiceAccountList</h2><p>ServiceAccountList 是 ServiceAccount 对象的列表</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ServiceAccountList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据, 更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>), 必需</p><p>ServiceAccount 列表，更多信息： <a href=https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/configure-service-account/>https://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/configure-service-account/</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-serviceaccount><code>get</code> 读取指定的 ServiceAccount</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>ServiceAccount 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监控-serviceaccount-类型的对象><code>list</code> 列出或监控 ServiceAccount 类型的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/serviceaccounts</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccountList>ServiceAccountList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监控-serviceaccount-类型的对象-1><code>list</code> 列出或监控 ServiceAccount 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/serviceaccounts</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccountList>ServiceAccountList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-serviceaccount><code>create</code> 创建一个 ServiceAccount</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/serviceaccounts</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Accepted</p><p>401: Unauthorized</p><p><code>update</code> 替换指定的ServiceAccount</p><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, required</p><p>name of the ServiceAccount</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Created</p><p>401: Unauthorized</p><p><code>patch</code> 部分更新指定的 ServiceAccount</p><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>ServiceAccount 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-serviceaccount><code>delete</code> 删除一个 ServiceAccount</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>ServiceAccount 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-serviceaccount-的集合><code>deletecollection</code> 删除 ServiceAccount 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/serviceaccounts</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-71bfa3e84f86650d855ced711edc8b41>4.2 - TokenRequest</h1><div class=lead>TokenRequest 为给定的服务账号请求一个令牌。</div><p><code>apiVersion: authentication.k8s.io/v1</code></p><p><code>import "k8s.io/api/authentication/v1"</code></p><h2 id=TokenRequest>TokenRequest</h2><p>TokenRequest 为给定的服务账号请求一个令牌。</p><hr><ul><li><p><strong>apiVersion</strong>: authentication.k8s.io/v1</p></li><li><p><strong>kind</strong>: TokenRequest</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequestSpec>TokenRequestSpec</a>)，必需</p><p>spec 包含与正被评估的请求相关的信息。</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequestStatus>TokenRequestStatus</a>)</p><p>status 由服务器填充，表示该令牌是否可用于身份认证。</p></li></ul><h2 id=TokenRequestSpec>TokenRequestSpec</h2><p>TokenRequestSpec 包含客户端提供的令牌请求参数。</p><hr><ul><li><p><strong>audiences</strong> ([]string)，必需</p><p>audiences 是令牌预期的受众。
令牌的接收方必须在令牌的受众列表中用一个标识符来标识自己，否则应拒绝该令牌。
为多个受众签发的令牌可用于认证所列举的任意受众的身份，但这意味着目标受众彼此之间的信任程度较高。</p></li><li><p><strong>boundObjectRef</strong> (BoundObjectReference)</p><p>boundObjectRef 是对令牌所绑定的一个对象的引用。该令牌只有在绑定对象存在时才有效。
注：API 服务器的 TokenReview 端点将校验 boundObjectRef，但其他受众可能不用这样。
如果你想要快速撤销，请为 expirationSeconds 设一个较小的值。</p><p><a name=BoundObjectReference></a>
<strong>BoundObjectReference 是对令牌所绑定的一个对象的引用。</strong></p><ul><li><strong>boundObjectRef.apiVersion</strong> (string)</li></ul><p>引用对象的 API 版本。</p><ul><li><p><strong>boundObjectRef.kind</strong> (string)</p><p>引用对象的类别。有效的类别为 “Pod” 和 “Secret”。</p></li><li><p><strong>boundObjectRef.name</strong> (string)</p><p>引用对象的名称。</p></li><li><p><strong>boundObjectRef.uid</strong> (string)
引用对象的 UID。</p></li></ul></li></ul><ul><li><p><strong>expirationSeconds</strong> (int64)</p><p>expirationSeconds 是请求生效的持续时间。
令牌签发方可能返回一个生效期不同的令牌，因此客户端需要检查响应中的 “expiration” 字段。</p></li></ul><h2 id=TokenRequestStatus>TokenRequestStatus</h2><p>TokenRequestStatus 是一个令牌请求的结果。</p><hr><ul><li><p><strong>expirationTimestamp</strong> (Time)，必需</p><p>expirationTimestamp 是已返回令牌的到期时间。</p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装器，支持正确编组为 YAML 和 JSON。为 time 包提供的许多工厂方法提供了包装器。</strong></p></li><li><p><strong>token</strong> (string)，必需</p><p>token 是不透明的持有者令牌（Bearer Token）。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=create-创建-serviceaccount-的令牌><code>create</code> 创建 ServiceAccount 的令牌</h3><h4 id=http-请求>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/serviceaccounts/{name}/token</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>TokenRequest 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>): Accepted</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4140627880f82c11a5e16b3c4043cfdb>4.3 - TokenReview</h1><div class=lead>TokenReview 尝试通过验证令牌来确认已知用户。</div><p><code>apiVersion: authentication.k8s.io/v1</code></p><p><code>import "k8s.io/api/authentication/v1"</code></p><h2 id=TokenReview>TokenReview</h2><p>TokenReview 尝试通过验证令牌来确认已知用户。
注意：TokenReview 请求可能会被 kube-apiserver 中的 webhook 令牌验证器插件缓存。</p><hr><ul><li><p><strong>apiVersion</strong>: authentication.k8s.io/v1</p></li><li><p><strong>kind</strong>: TokenReview</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准对象的元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReviewSpec>TokenReviewSpec</a>), required</p><p>spec 保存有关正在评估的请求的信息</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReviewStatus>TokenReviewStatus</a>)</p><p>status 由服务器填写，指示请求是否可以通过身份验证。</p></li></ul><h2 id=TokenReviewSpec>TokenReviewSpec</h2><p>TokenReviewPec 是对令牌身份验证请求的描述。</p><hr><ul><li><p><strong>audiences</strong> ([]string)</p><p>audiences 是带有令牌的资源服务器标识为受众的标识符列表。
受众感知令牌身份验证器将验证令牌是否适用于此列表中的至少一个受众。
如果未提供受众，受众将默认为 Kubernetes API 服务器的受众。</p></li><li><p><strong>token</strong> (string)</p><p>token 是不透明的持有者令牌（Bearer Token）。</p></li></ul><h2 id=TokenReviewStatus>TokenReviewStatus</h2><p>TokenReviewStatus 是令牌认证请求的结果。</p><hr><ul><li><p><strong>audiences</strong> ([]string)</p><p>audiences 是身份验证者选择的与 TokenReview 和令牌兼容的受众标识符。标识符是
TokenReviewSpec 受众和令牌受众的交集中的任何标识符。设置 spec.audiences
字段的 TokenReview API 的客户端应验证在 status.audiences 字段中返回了兼容的受众标识符，
以确保 TokenReview 服务器能够识别受众。如果 TokenReview
返回一个空的 status.audience 字段，其中 status.authenticated 为 “true”，
则该令牌对 Kubernetes API 服务器的受众有效。</p></li><li><p><strong>authenticated</strong> (boolean)</p><p>authenticated 表示令牌与已知用户相关联。</p></li><li><p><strong>error</strong> (string)</p><p>error 表示无法检查令牌</p></li><li><p><strong>user</strong> (UserInfo)</p><p>user 是与提供的令牌关联的 UserInfo。</p><p><a name=UserInfo></a>
&lt;--
<em>UserInfo holds the information about the user needed to implement the user.Info interface.</em>
-->
<strong>UserInfo 保存实现 user.Info 接口所需的用户信息</strong></p><ul><li><p><strong>user.extra</strong> (map[string][]string)</p><p>验证者提供的任何附加信息。</p></li><li><p><strong>user.groups</strong> ([]string)</p><p>此用户所属的组的名称。</p></li><li><p><strong>user.uid</strong> (string)</p><p>跨时间标识此用户的唯一值。如果删除此用户并添加另一个同名用户，他们将拥有不同的 UID。</p></li><li><p><strong>user.username</strong> (string)</p><p>在所有活动用户中唯一标识此用户的名称。</p></li></ul></li></ul><h2 id=Operations>操作</h2><hr><h3 id=create-创建一个tokenreview><code>create</code> 创建一个TokenReview</h3><h4 id=http-请求>HTTP 请求</h4><p>POST /apis/authentication.k8s.io/v1/tokenreviews</p><h4 id=参数>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>, 必需</p></li><li><p><strong>dryRun</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>): Accepted</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-f9925c52e71befd56d9a92b04add148d>4.4 - CertificateSigningRequest</h1><div class=lead>CertificateSigningRequest 对象提供了一种通过提交证书签名请求并异步批准和颁发 x509 证书的机制。</div><p><code>apiVersion: certificates.k8s.io/v1</code></p><p><code>import "k8s.io/api/certificates/v1"</code></p><h2 id=CertificateSigningRequest>证书签名请求 CertificateSigningRequest</h2><p>CertificateSigningRequest 对象提供了一种通过提交证书签名请求并异步批准和颁发 x509 证书的机制。</p><p>Kubelets 使用 CertificateSigningRequest API 来获取：</p><ol><li>向 kube-apiserver 进行身份认证的客户端证书（使用 “kubernetes.io/kube-apiserver-client-kubelet” signerName）。</li><li>kube-apiserver 可以安全连接到 TLS 端点的服务证书（使用 “kubernetes.io/kubelet-serving” signerName）。</li></ol><p>此 API 可用于请求客户端证书以向 kube-apiserver 进行身份验证（使用 “kubernetes.io/kube-apiserver-client” 签名者名称），
或从自定义非 Kubernetes 签名者那里获取证书。</p><hr><ul><li><p><strong>apiVersion</strong>: certificates.k8s.io/v1</p></li><li><p><strong>kind</strong>: CertificateSigningRequest</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequestSpec>
CertificateSigningRequestSpec</a>)，必需</p><p>spec 包含证书请求，并且在创建后是不可变的。
只有 request、signerName、expirationSeconds 和 usages 字段可以在创建时设置。
其他字段由 Kubernetes 派生，用户无法修改。</p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequestStatus>
CertificateSigningRequestStatus</a>)</p><p>status 包含有关请求是被批准还是拒绝的信息，以及签名者颁发的证书或指示签名者失败的状况。</p></li></ul><h2 id=CertificateSigningRequestSpec>CertificateSigningRequestSpec</h2><p>CertificateSigningRequestSpec 包含证书请求。</p><hr><ul><li><p><strong>signerName</strong> (string)，必需</p><p>signerName 表示请求的签名者，是一个限定名。</p><p>CertificateSigningRequests 的 list/watch 请求可以使用 “spec.signerName=NAME” 字段选择器进行过滤。</p><p>众所周知的 Kubernetes 签名者有：</p><ol><li>“kubernetes.io/kube-apiserver-client”：颁发客户端证书，用于向 kube-apiserver 进行身份验证。
对此签名者的请求永远不会被 kube-controller-manager 自动批准，
可以由 kube-controller-manager 中的 “csrsigning” 控制器颁发。</li><li>“kubernetes.io/kube-apiserver-client-kubelet”：颁发客户端证书，kubelet 用于向 kube-apiserver 进行身份验证。
对此签名者的请求可以由 kube-controller-manager 中的 “csrapproving” 控制器自动批准，
并且可以由 kube-controller-manager 中的 “csrsigning” 控制器颁发。</li><li>“kubernetes.io/kubelet-serving” 颁发服务证书，kubelet 用于服务 TLS 端点，kube-apiserver 可以安全的连接到这些端点。
对此签名者的请求永远不会被 kube-controller-manager 自动批准，
可以由 kube-controller-manager 中的 “csrsigning” 控制器颁发。</li></ol><p>更多详细信息，请访问 <a href=https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/certificate-signing-requests/#kubernetes-signers>https://kubernetes.io/zh-cn/docs/reference/access-authn-authz/certificate-signing-requests/#kubernetes-signers</a></p><p>也可以指定自定义 signerName。签名者定义如下：</p><ol><li>信任分发：信任（CA 证书包）是如何分发的。</li><li>许可的主体：当请求不允许的主体时的行为。</li><li>请求中必需、许可或禁止的 x509 扩展（包括是否允许 subjectAltNames、哪些类型、对允许值的限制）
以及请求不允许的扩展时的行为。</li><li>必需、许可或禁止的密钥用途/扩展密钥用途。</li><li>过期/证书生命周期：是否由签名者确定，管理员可配置。</li><li>是否允许申请 CA 证书。</li></ol></li></ul><ul><li><p><strong>expirationSeconds</strong> (int32)</p><p>expirationSeconds 是所颁发证书的所请求的有效期。
证书签署者可以颁发具有不同有效期的证书，
因此客户端必须检查颁发证书中 notBefore 和 notAfter 字段之间的增量以确定实际持续时间。</p><p>众所周知的 Kubernetes 签名者在 v1.22+ 版本内实现将遵守此字段，
只要请求的持续时间不大于最大持续时间，它们将遵守 Kubernetes 控制管理器的
--cluster-signing-duration CLI 标志。</p><p>由于各种原因，证书签名者可能忽略此字段:</p><ol><li>不认识此字段的旧签名者(如 v1.22 版本之前的实现)</li><li>配置的最大持续时间小于请求持续时间的签名者</li><li>配置的最小持续时间大于请求持续时间的签名者</li></ol><p>expirationSeconds 的最小有效值为 600，即 10 分钟。</p></li></ul><ul><li><p><strong>extra</strong> (map[string][]string)</p><p>extra 包含创建 CertificateSigningRequest 的用户的额外属性。
在创建时由 API 服务器填充，且不可变。</p></li></ul><ul><li><p><strong>groups</strong> ([]string)</p><p><strong>Atomic：将在合并过程中被替换</strong></p><p>groups 包含创建 CertificateSigningRequest 的用户的组成员关系。
在创建时由 API 服务器填充，且不可变。</p></li></ul><ul><li><p><strong>uid</strong> (string)</p><p>uid 包含创建 CertificateSigningRequest 的用户的 uid 。
在创建时由 API 服务器填充，且不可变。</p></li></ul><ul><li><p><strong>usages</strong> ([]string)</p><p><strong>Atomic：将在合并期间被替换</strong></p><p>usages 指定颁发证书中请求的一组密钥用途。</p><p>TLS 客户端证书的请求通常要求："digital signature"、"key encipherment"、"client auth"。</p><p>TLS 服务证书的请求通常要求："key encipherment"、"digital signature"、"server auth"。</p><p>有效值：
"signing"、"digital signature"、"content commitment"、
"key encipherment"、"key agreement"、"data encipherment"、
"cert sign"、"crl sign"、"encipher only"、"decipher only"、"any"、
"server auth"、"client auth"、
"code signing"、"email protection"、"s/mime"、
"ipsec end system"、"ipsec tunnel"、"ipsec user"、
"timestamping"、"ocsp signing"、"microsoft sgc"、"netscape sgc"。</p></li></ul><ul><li><p><strong>username</strong> (string)</p><p>username 包含创建 CertificateSigningRequest 的用户名。
在创建时由 API 服务器填充，且不可变。</p></li></ul><h2 id=CertificateSigningRequestStatus>CertificateSigningRequestStatus</h2><p>CertificateSigningRequestStatus 包含用于指示请求的批准/拒绝/失败状态和颁发证书的状况。</p><hr><ul><li><p><strong>certificate</strong> ([]byte)</p><p><strong>Atomic：将在合并期间被替换</strong></p><p>certificate 在出现 Approved 状况后，由签名者使用已颁发的证书填充。
这个字段通过 /status 子资源设置。填充后，该字段将不可变。</p><p>如果证书签名请求被拒绝，则添加类型为 “Denied” 的状况，并且保持该字段为空。
如果签名者不能颁发证书，则添加类型为 “Failed” 的状况，并且保持该字段为空。</p><p>验证要求:</p><ol><li>证书必须包含一个或多个 PEM 块。</li><li>所有的 PEM 块必须有 “CERTIFICATE” 标签，不包含头和编码的数据，
必须是由 BER 编码的 ASN.1 证书结构，如 RFC5280 第 4 节所述。</li><li>非 PEM 内容可能出现在 “CERTIFICATE”PEM 块之前或之后，并且是未验证的，
允许如 RFC7468 5.2 节中描述的解释性文本。</li></ol><p>如果存在多个 PEM 块，并且所请求的 spec.signerName 的定义没有另外说明，
那么第一个块是颁发的证书，后续的块应该被视为中间证书并在 TLS 握手中呈现。</p><p>证书编码为 PEM 格式。</p><p>当序列化为 JSON 或 YAML 时，数据额外采用 base64 编码，它包括:</p><pre tabindex=0><code>base64(
    -----BEGIN CERTIFICATE-----
    ...
    -----END CERTIFICATE-----
)
</code></pre></li></ul><ul><li><p><strong>conditions</strong> ([]CertificateSigningRequestCondition)</p><p><strong>Map：键类型的唯一值将在合并期间保留</strong></p><p>应用于请求的状况。已知的状况有 "Approved"、"Denied" 与 "Failed"。</p><p><a name=CertificateSigningRequestCondition></a>
<strong>CertificateSigningRequestCondition 描述 CertificateSigningRequest 对象的状况。</strong></p><ul><li><strong>conditions.status</strong> (string)，必需</li></ul><p>状况的状态，True、False、Unknown 之一。Approved、Denied 与 Failed 的状况不可以是 "False" 或 "Unknown"。</p><ul><li><strong>conditions.type</strong> (string)，必需</li></ul><p>状况的类型。已知的状况是 "Approved"、"Denied" 与 "Failed"。</p><p>通过 /approval 子资源添加 “Approved” 状况，表示请求已被批准并且应由签名者颁发。</p><p>通过 /approval 子资源添加 “Denied” 状况，指示请求被拒绝并且不应由签名者颁发。</p><p>通过 /status 子资源添加 “Failed” 状况，表示签名者未能颁发证书。</p><p>Approved 和 Denied 状况是相互排斥的。Approved、Denied 和 Failed 状况一旦添加就无法删除。</p><p>给定类型只允许设置一种状况。</p><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>lastTransitionTime 是状况上一次从一种状态转换到另一种状态的时间。
如果未设置，当添加新状况类型或更改现有状况的状态时，服务器默认为当前时间。</p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装器，支持正确编码为 YAML 和 JSON。为 time 包提供的许多工厂方法提供了包装器。</strong></p></li></ul><ul><li><strong>conditions.lastUpdateTime</strong> (Time)</li></ul><p>lastUpdateTime 是该状况最后一次更新的时间。</p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装器，支持正确编组为 YAML 和 JSON。为 time 包提供的许多工厂方法提供了包装器。</strong></p><ul><li><strong>conditions.message</strong> (string)</li></ul><p>message 包含一个人类可读的消息，包含关于请求状态的详细信息。</p><ul><li><strong>conditions.reason</strong> (string)</li></ul><p>reason 表示请求状态的简短原因。</p></li></ul><h2 id=CertificateSigningRequestList>CertificateSigningRequestList</h2><p>CertificateSigningRequestList 是 CertificateSigningRequest 对象的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: certificates.k8s.io/v1</p></li><li><p><strong>kind</strong>: CertificateSigningRequestList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>)，必需</p><p>items 是 CertificateSigningRequest 对象的集合。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-certificatesigningrequest><code>get</code> 读取指定的 CertificateSigningRequest</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-certificatesigningrequest-的批准信息><code>get</code> 读取指定 CertificateSigningRequest 的批准信息</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/approval</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-certificatesigningrequest-的状态><code>get</code> 读取指定 CertificateSigningRequest 的状态</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/status</p><h4 id=参数-2>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>401: Unauthorized</p><h3 id=list-list-或-watch-certificatesigningrequest-类型的对象><code>list</code> list 或 watch CertificateSigningRequest 类型的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequestList>CertificateSigningRequestList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-certificatesigningrequest><code>create</code> 创建一个 CertificateSigningRequest</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/certificates.k8s.io/v1/certificatesigningrequests</p><h4 id=参数-4>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-certificatesigningrequest><code>update</code> 替换指定的 CertificateSigningRequest</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换对指定-certificatesigningrequest-的批准信息><code>update</code> 替换对指定 CertificateSigningRequest 的批准信息</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/approval</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-certificatesigningrequest-的状态><code>update</code> 替换指定 CertificateSigningRequest 的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PUT /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>，必需</p></li><li><p><strong>dryRun</strong> (<em>in query</em>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-certificatesigningrequest><code>patch</code> 部分更新指定的 CertificateSigningRequest</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-certificatesigningrequest-的批准信息><code>patch</code> 部分更新指定 CertificateSigningRequest 的批准信息</h3><h4 id=http-请求-9>HTTP 请求</h4><p>PATCH /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/approval</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-certificatesigningrequest-的状态><code>patch</code> 部分更新指定 CertificateSigningRequest 的状态</h3><h4 id=http-请求-10>HTTP 请求</h4><p>PATCH /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/status</p><h4 id=参数-10>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-certificatesigningrequest><code>delete</code> 删除一个 CertificateSigningRequest</h3><h4 id=http-请求-11>HTTP 请求</h4><p>DELETE /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p><h4 id=参数-11>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>CertificateSigningRequest 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-11>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-certificatesigningrequest-集合><code>deletecollection</code> 删除 CertificateSigningRequest 集合</h3><h4 id=http-请求-12>HTTP 请求</h4><p>DELETE /apis/certificates.k8s.io/v1/certificatesigningrequests</p><h4 id=参数-12>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-12>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5362c9a7583eca653d4a705ba4e460ff>5 - 鉴权资源</h1></div><div class=td-content><h1 id=pg-253b0f85df0c0013b6476358e72b05f6>5.1 - LocalSubjectAccessReview</h1><div class=lead>LocalSubjectAccessReview 检查用户或组是否可以在给定的命名空间内执行某操作。</div><p><code>apiVersion: authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/authorization/v1"</code></p><h2 id=LocalSubjectAccessReview>LocalSubjectAccessReview</h2><p>LocalSubjectAccessReview 检查用户或组是否可以在给定的命名空间内执行某操作。
划分命名空间范围的资源简化了命名空间范围的策略设置，例如权限检查。</p><hr><ul><li><p><strong>apiVersion</strong>: authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: LocalSubjectAccessReview</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的列表元数据。
更多信息：https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewSpec>SubjectAccessReviewSpec</a>)，必需</p><p>spec 包含有关正在评估的请求的信息。
spec.namespace 必须是你的请求所针对的命名空间。
如果留空，则会被设置默认值。</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewStatus>SubjectAccessReviewStatus</a>)</p><p>status 由服务器填写，表示请求是否被允许。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=create-创建-localsubjectaccessreview><code>create</code> 创建 LocalSubjectAccessReview</h3><h4 id=http-请求>HTTP 请求</h4><p>POST /apis/authorization.k8s.io/v1/namespaces/{namespace}/localsubjectaccessreviews</p><h4 id=参数>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>): Accepted</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-3798a3911313b78a780825aa1a00827d>5.2 - SelfSubjectAccessReview</h1><div class=lead>SelfSubjectAccessReview 检查当前用户是否可以执行某操作。</div><p><code>apiVersion: authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/authorization/v1"</code></p><h2 id=SelfSubjectAccessReview>SelfSubjectAccessReview</h2><p>SelfSubjectAccessReview 检查当前用户是否可以执行某操作。
不填写 spec.namespace 表示 “在所有命名空间中”。
Self 是一个特殊情况，因为用户应始终能够检查自己是否可以执行某操作。</p><hr><ul><li><p><strong>apiVersion</strong>: authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: SelfSubjectAccessReview</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReviewSpec>SelfSubjectAccessReviewSpec</a>)，必需</p><p>spec 包含有关正在评估的请求的信息。
user 和 group 必须为空。</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewStatus>SubjectAccessReviewStatus</a>)</p><p>status 由服务器填写，表示请求是否被允许。</p></li></ul><h2 id=SelfSubjectAccessReviewSpec>SelfSubjectAccessReviewSpec</h2><p>SelfSubjectAccessReviewSpec 是访问请求的描述。
resourceAuthorizationAttributes 和 nonResourceAuthorizationAttributes 二者必须设置其一，并且只能设置其一。</p><hr><ul><li><p><strong>nonResourceAttributes</strong> (NonResourceAttributes)</p><p>nonResourceAttributes 描述非资源访问请求的信息。</p><p><a name=NonResourceAttributes></a>
<strong>nonResourceAttributes 包括提供给 Authorizer 接口进行非资源请求鉴权时所用的属性。</strong></p><ul><li><p><strong>nonResourceAttributes.path</strong> (string)</p><p>path 是请求的 URL 路径。</p></li><li><p><strong>nonResourceAttributes.verb</strong> (string)</p><p>verb 是标准的 HTTP 动作。</p></li></ul></li></ul><ul><li><p><strong>resourceAttributes</strong> (ResourceAttributes)</p><p>resourceAuthorizationAttributes 描述资源访问请求的信息。</p><p><a name=ResourceAttributes></a>
<strong>resourceAttributes 包括提供给 Authorizer 接口进行资源请求鉴权时所用的属性。</strong></p><ul><li><p><strong>resourceAttributes.group</strong> (string)</p><p>group 是资源的 API 组。
"*" 表示所有组。</p></li><li><p><strong>resourceAttributes.name</strong> (string)</p><p>name 是 "get" 正在请求或 "delete" 已删除的资源的名称。
""（空字符串）表示所有资源。</p></li></ul></li></ul><ul><li><p><strong>resourceAttributes.namespace</strong> (string)</p><p>namespace 是正在请求的操作的命名空间。
目前，无命名空间和所有命名空间之间没有区别。
对于 LocalSubjectAccessReviews，默认为 ""（空字符串）。
对于集群范围的资源，默认为 ""（空字符串）。
对于来自 SubjectAccessReview 或 SelfSubjectAccessReview 的命名空间范围的资源，""（空字符串）表示 "all"（所有资源）。</p></li><li><p><strong>resourceAttributes.resource</strong> (string)</p><p>resource 是现有的资源类别之一。
"*" 表示所有资源类别。</p></li></ul><ul><li><p><strong>resourceAttributes.subresource</strong> (string)</p><p>subresource 是现有的资源类型之一。
"" 表示无。</p></li><li><p><strong>resourceAttributes.verb</strong> (string)</p><p>verb 是 kubernetes 资源 API 动作，例如 get、list、watch、create、update、delete、proxy。
"*" 表示所有动作。</p></li><li><p><strong>resourceAttributes.version</strong> (string)</p><p>version 是资源的 API 版本。
"*" 表示所有版本。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=create-创建-selfsubjectaccessreview><code>create</code> 创建 SelfSubjectAccessReview</h3><h4 id=http-请求>HTTP 请求</h4><p>POST /apis/authorization.k8s.io/v1/selfsubjectaccessreviews</p><h4 id=参数>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>): Accepted</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ea1fed61553ac63709679a375b1ec442>5.3 - SelfSubjectRulesReview</h1><div class=lead>SelfSubjectRulesReview 枚举当前用户可以在某命名空间内执行的操作集合。</div><p><code>apiVersion: authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/authorization/v1"</code></p><h2 id=SelfSubjectRulesReview>SelfSubjectRulesReview</h2><p>SelfSubjectRulesReview 枚举当前用户可以在某命名空间内执行的操作集合。
返回的操作列表可能不完整，具体取决于服务器的鉴权模式以及评估过程中遇到的任何错误。
SelfSubjectRulesReview 应由 UI 用于显示/隐藏操作，或让最终用户尽快理解自己的权限。
SelfSubjectRulesReview 不得被外部系统使用以驱动鉴权决策，
因为这会引起混淆代理人（Confused deputy）、缓存有效期/吊销（Cache lifetime/revocation）和正确性问题。
SubjectAccessReview 和 LocalAccessReview 是遵从 API 服务器所做鉴权决策的正确方式。</p><hr><ul><li><p><strong>apiVersion</strong>: authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: SelfSubjectRulesReview</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReviewSpec>SelfSubjectRulesReviewSpec</a>)，必需</p><p>spec 包含有关正在评估的请求的信息。</p></li></ul><ul><li><p><strong>status</strong> (SubjectRulesReviewStatus)</p><p>status 由服务器填写，表示用户可以执行的操作的集合。</p><p><a name=SubjectRulesReviewStatus></a>
<strong>SubjectRulesReviewStatus 包含规则检查的结果。
此检查可能不完整，具体取决于服务器配置的 Authorizer 的集合以及评估期间遇到的任何错误。
由于鉴权规则是叠加的，所以如果某个规则出现在列表中，即使该列表不完整，也可以安全地假定该主体拥有该权限。</strong></p><ul><li><p><strong>status.incomplete</strong> (boolean)，必需</p><p>当此调用返回的规则不完整时，incomplete 结果为 true。
这种情况常见于 Authorizer（例如外部 Authorizer）不支持规则评估时。</p></li><li><p><strong>status.nonResourceRules</strong> ([]NonResourceRule)，必需</p><p>nonResourceRules 是允许主体对非资源执行路径执行的操作列表。
该列表顺序不重要，可以包含重复项，还可能不完整。</p><p><a name=NonResourceRule></a>
<strong>nonResourceRule 包含描述非资源路径的规则的信息。</strong></p><ul><li><p><strong>status.nonResourceRules.verbs</strong> ([]string)，必需</p><p>verb 是 kubernetes 非资源 API 动作的列表，例如 get、post、put、delete、patch、head、options。
<code>*</code> 表示所有动作。</p></li><li><p><strong>status.nonResourceRules.nonResourceURLs</strong> ([]string)</p><p>nonResourceURLs 是用户应有权访问的一组部分 URL。
允许使用 <code>*</code>，但仅能作为路径中最后一段且必须用于完整的一段。
<code>*</code> 表示全部。</p></li></ul></li></ul><ul><li><p><strong>status.resourceRules</strong> ([]ResourceRule)，必需</p><p>resourceRules 是允许主体对资源执行的操作的列表。
该列表顺序不重要，可以包含重复项，还可能不完整。</p><p><a name=ResourceRule></a>
<strong>resourceRule 是允许主体对资源执行的操作的列表。该列表顺序不重要，可以包含重复项，还可能不完整。</strong></p><ul><li><p><strong>status.resourceRules.verbs</strong> ([]string)，必需</p><p>verb 是 kubernetes 资源 API 动作的列表，例如 get、list、watch、create、update、delete、proxy。
<code>*</code> 表示所有动作。</p></li></ul><ul><li><p><strong>status.resourceRules.apiGroups</strong> ([]string)</p><p>apiGroups 是包含资源的 APIGroup 的名称。
如果指定了多个 API 组，则允许对任何 API 组中枚举的资源之一请求任何操作。
<code>*</code> 表示所有 APIGroup。</p></li><li><p><strong>status.resourceRules.resourceNames</strong> ([]string)</p><p>resourceNames 是此规则所适用的资源名称白名单，可选。
空集合意味着允许所有资源。
<code>*</code> 表示所有资源。</p></li><li><p><strong>status.resourceRules.resources</strong> ([]string)</p><p>resources 是此规则所适用的资源的列表。
<code>*</code> 表示指定 APIGroup 中的所有资源。
<code>*/foo</code> 表示指定 APIGroup 中所有资源的子资源 "foo"。</p></li></ul></li></ul><ul><li><p><strong>status.evaluationError</strong> (string)</p><p>evaluationError 可以与 rules 一起出现。
它表示在规则评估期间发生错误，例如 Authorizer 不支持规则评估以及 resourceRules 和/或 nonResourceRules 可能不完整。</p></li></ul></li></ul><h2 id=SelfSubjectRulesReviewSpec>SelfSubjectRulesReviewSpec</h2><p>SelfSubjectRulesReviewSpec 定义 SelfSubjectRulesReview 的规范。</p><hr><ul><li><p><strong>namespace</strong> (string)</p><p>namespace 是要评估规则的命名空间。
必需。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=create-创建-selfsubjectrulesreview><code>create</code> 创建 SelfSubjectRulesReview</h3><h4 id=http-请求>HTTP 请求</h4><p>POST /apis/authorization.k8s.io/v1/selfsubjectrulesreviews</p><h4 id=参数>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>): Accepted</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5a4c4b387f450c2b81962bec144749fc>5.4 - SubjectAccessReview</h1><div class=lead>SubjectAccessReview 检查用户或组是否可以执行某操作。</div><p><code>apiVersion: authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/authorization/v1"</code></p><h2 id=SubjectAccessReview>SubjectAccessReview</h2><p>SubjectAccessReview 检查用户或组是否可以执行某操作。</p><hr><ul><li><p><strong>apiVersion</strong>: authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: SubjectAccessReview</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p></li></ul><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewSpec>SubjectAccessReviewSpec</a>)，必需</p><p>spec 包含有关正在评估的请求的信息。</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewStatus>SubjectAccessReviewStatus</a>)</p><p>status 由服务器填写，表示请求是否被允许。</p></li></ul><h2 id=SubjectAccessReviewSpec>SubjectAccessReviewSpec</h2><p>SubjectAccessReviewSpec 是访问请求的描述。
resourceAuthorizationAttributes 和 nonResourceAuthorizationAttributes 二者必须设置其一，并且只能设置其一。</p><hr><ul><li><p><strong>extra</strong> (map[string][]string)</p><p>extra 对应于来自鉴权器的 user.Info.GetExtra() 方法。
由于这是针对 Authorizer 的输入，所以它需要在此处反映。</p></li><li><p><strong>groups</strong> ([]string)</p><p>groups 是你正在测试的组。</p></li></ul><ul><li><p><strong>nonResourceAttributes</strong> (NonResourceAttributes)</p><p>nonResourceAttributes 描述非资源访问请求的信息。</p><p><a name=NonResourceAttributes></a>
<strong>nonResourceAttributes 包括提供给 Authorizer 接口进行非资源请求鉴权时所用的属性。</strong></p><ul><li><p><strong>nonResourceAttributes.path</strong> (string)</p><p>path 是请求的 URL 路径。</p></li><li><p><strong>nonResourceAttributes.verb</strong> (string)</p><p>verb 是标准的 HTTP 动作。</p></li></ul></li></ul><ul><li><p><strong>resourceAttributes</strong> (ResourceAttributes)</p><p>resourceAuthorizationAttributes 描述资源访问请求的信息。</p><p><a name=ResourceAttributes></a>
<strong>resourceAttributes 包括提供给 Authorizer 接口进行资源请求鉴权时所用的属性。</strong></p><ul><li><p><strong>resourceAttributes.group</strong> (string)</p><p>group 是资源的 API 组。
"*" 表示所有资源。</p></li><li><p><strong>resourceAttributes.name</strong> (string)</p><p>name 是 "get" 正在请求或 "delete" 已删除的资源。
""（空字符串）表示所有资源。</p></li></ul></li></ul><ul><li><p><strong>resourceAttributes.namespace</strong> (string)</p><p>namespace 是正在请求的操作的命名空间。
目前，无命名空间和所有命名空间之间没有区别。
对于 LocalSubjectAccessReviews，默认为 ""（空字符串）。
对于集群范围的资源，默认为 ""（空字符串）。
对于来自 SubjectAccessReview 或 SelfSubjectAccessReview 的命名空间范围的资源，
""（空字符串）表示 "all"（所有资源）。</p></li><li><p><strong>resourceAttributes.resource</strong> (string)</p><p>resource 是现有的资源类别之一。
"*" 表示所有资源类别。</p></li><li><p><strong>resourceAttributes.subresource</strong> (string)</p><p>subresource 是现有的资源类别之一。
"" 表示无子资源。</p></li></ul><ul><li><p><strong>resourceAttributes.verb</strong> (string)</p><p>verb 是 kubernetes 资源的 API 动作，例如 get、list、watch、create、update、delete、proxy。
"*" 表示所有动作。</p></li><li><p><strong>resourceAttributes.version</strong> (string)</p><p>version 是资源的 API 版本。
"*" 表示所有版本。</p></li><li><p><strong>uid</strong> (string)</p><p>有关正在请求的用户的 UID 信息。</p></li><li><p><strong>user</strong> (string)</p><p>user 是你正在测试的用户。
如果你指定 “user” 而不是 “groups”，它将被解读为“如果 user 不是任何组的成员，将会怎样”。</p></li></ul><h2 id=SubjectAccessReviewStatus>SubjectAccessReviewStatus</h2><p>SubjectAccessReviewStatus</p><hr><ul><li><p><strong>allowed</strong> (boolean)，必需</p><p>allowed 是必需的。
如果允许该操作，则为 true，否则为 false。</p></li><li><p><strong>denied</strong> (boolean)</p><p>denied 是可选的。
如果拒绝该操作，则为 true，否则为 false。
如果 allowed 和 denied 均为 false，则 Authorizer 对是否鉴权操作没有意见。
如果 allowed 为 true，则 denied 不能为 true。</p></li></ul><ul><li><p><strong>evaluationError</strong> (string)</p><p>evaluationError 表示鉴权检查期间发生一些错误。
出现错误的情况下完全有可能继续确定鉴权状态。
例如，RBAC 可能缺少一个角色，但仍存在足够多的角色进行绑定，进而了解请求有关的原因。</p></li><li><p><strong>reason</strong> (string)</p><p>reason 是可选的。
它表示为什么允许或拒绝请求。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=create-创建-subjectaccessreview><code>create</code> 创建 SubjectAccessReview</h3><h4 id=http-请求>HTTP 请求</h4><p>POST /apis/authorization.k8s.io/v1/subjectaccessreviews</p><h4 id=参数>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>): Accepted</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4701a95c93d869e797bb11d9fc883748>5.5 - ClusterRole</h1><div class=lead>ClusterRole 是一个集群级别的 PolicyRule 逻辑分组，可以被 RoleBinding 或 ClusterRoleBinding 作为一个单元引用。</div><p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/rbac/v1"</code></p><h2 id=ClusterRole>ClusterRole</h2><p>ClusterRole 是一个集群级别的 PolicyRule 逻辑分组，
可以被 RoleBinding 或 ClusterRoleBinding 作为一个单元引用。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: ClusterRole</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。</p></li><li><p><strong>aggregationRule</strong> (AggregationRule)</p><p>aggregationRule 是一个可选字段，用于描述如何构建这个 ClusterRole 的 rules。
如果设置了 aggregationRule，则 rules 将由控制器管理，对 rules 的直接变更会被该控制器阻止。</p><p><a name=AggregationRule></a>
<strong>aggregationRule 描述如何定位并聚合其它 ClusterRole 到此 ClusterRole。</strong></p><ul><li><p><strong>aggregationRule.clusterRoleSelectors</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>clusterRoleSelectors 包含一个选择器的列表，用于查找 ClusterRole 并创建规则。
如果发现任何选择器匹配的 ClusterRole，将添加其对应的权限。</p></li></ul></li></ul><ul><li><p><strong>rules</strong> ([]PolicyRule)</p><p>rules 包含了这个 ClusterRole 的所有 PolicyRule。</p><p><a name=PolicyRule></a>
<strong>PolicyRule 包含描述一个策略规则的信息，但不包含该规则适用于哪个主体或适用于哪个命名空间的信息。</strong></p><ul><li><p><strong>rules.apiGroups</strong> ([]string)</p><p>apiGroups 是包含资源的 apiGroup 的名称。
如果指定了多个 API 组，则允许针对任何 API 组中的其中一个枚举资源来请求任何操作。
"" 表示核心 API 组，“*” 表示所有 API 组。</p></li><li><p><strong>rules.resources</strong> ([]string)</p><p>resources 是此规则所适用的资源的列表。“*” 表示所有资源。</p></li></ul><ul><li><p><strong>rules.verbs</strong> ([]string)，必需</p><p>verbs 是适用于此规则中所包含的所有 ResourceKinds 的动作。
“*” 表示所有动作。</p></li><li><p><strong>rules.resourceNames</strong> ([]string)</p><p>resourceNames 是此规则所适用的资源名称白名单，可选。
空集合意味着允许所有资源。</p></li><li><p><strong>rules.nonResourceURLs</strong> ([]string)</p><p>nonResourceURLs 是用户应有权访问的一组部分 URL。
允许使用 “*”，但仅能作为路径中最后一段且必须用于完整的一段，
因为非资源 URL 没有划分命名空间。
此字段仅适用于从 ClusterRoleBinding 引用的 ClusterRole。
rules 可以应用到 API 资源（如 “pod” 或 “secret”）或非资源 URL 路径（如 “/api”），
但不能同时应用于两者。</p></li></ul></li></ul><h2 id=ClusterRoleList>ClusterRoleList</h2><p>ClusterRoleList 是 ClusterRole 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: ClusterRoleList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。</p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>)，必需</p><p>items 是 ClusterRole 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-clusterrole><code>get</code> 读取指定的 ClusterRole</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>ClusterRole 的名称</p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-clusterrole-的对象><code>list</code> 列出或观测类别为 ClusterRole 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/clusterroles</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRoleList>ClusterRoleList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-clusterrole><code>create</code> 创建一个 ClusterRole</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/rbac.authorization.k8s.io/v1/clusterroles</p><h4 id=参数-2>参数</h4><ul><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-clusterrole><code>update</code> 替换指定的 ClusterRole</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>ClusterRole 的名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-clusterrole><code>patch</code> 部分更新指定的 ClusterRole</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>ClusterRole 的名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-clusterrole><code>delete</code> 删除一个 ClusterRole</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>ClusterRole 的名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-clusterrole-的集合><code>deletecollection</code> 删除 ClusterRole 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterroles</p><h4 id=参数-6>参数</h4><ul><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c05906bc1a365bcc4d4d92b4b3f4f192>5.6 - ClusterRoleBinding</h1><div class=lead>ClusterRoleBinding 引用 ClusterRole，但不包含它。</div><p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/rbac/v1"</code></p><h2 id=ClusterRoleBinding>ClusterRoleBinding</h2><p>ClusterRoleBinding 引用 ClusterRole，但不包含它。
它可以引用全局命名空间中的 ClusterRole，并通过 Subject 添加主体信息。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: ClusterRoleBinding</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准对象的元数据。</p></li></ul><ul><li><p><strong>roleRef</strong> (RoleRef)，必需</p><p>RoleRef 只能引用全局命名空间中的 ClusterRole。
如果无法解析 RoleRef，则 Authorizer 必定返回一个错误。</p><p><a name=RoleRef></a>
<strong>RoleRef 包含指向正被使用的角色的信息。</strong></p><ul><li><p><strong>roleRef.apiGroup</strong> (string)，必需</p><p>apiGroup 是被引用资源的组</p></li><li><p><strong>roleRef.kind</strong> (string)，必需</p><p>kind 是被引用的资源的类别</p></li><li><p><strong>roleRef.name</strong> (string)，必需</p><p>name 是被引用的资源的名称</p></li></ul></li></ul><ul><li><p><strong>subjects</strong> ([]Subject)</p><p>Subjects 包含角色所适用的对象的引用。</p><p><a name=Subject></a>
<strong>Subject 包含对角色绑定所适用的对象或用户标识的引用。其中可以包含直接 API 对象的引用或非对象（如用户名和组名）的值。</strong></p><ul><li><strong>subjects.kind</strong> (string)，必需</li></ul><p>被引用的对象的类别。这个 API 组定义的值是 <code>User</code>、<code>Group</code> 和 <code>ServiceAccount</code>。
如果 Authorizer 无法识别类别值，则 Authorizer 应报告一个错误。</p><ul><li><p><strong>subjects.name</strong> (string)，必需</p><p>被引用的对象的名称。</p></li></ul><ul><li><strong>subjects.apiGroup</strong> (string)</li></ul><p>apiGroup 包含被引用主体的 API 组。对于 ServiceAccount 主体默认为 ""。
对于 User 和 Group 主体，默认为 "rbac.authorization.k8s.io"。</p><ul><li><p><strong>subjects.namespace</strong> (string)</p><p>被引用对象的命名空间。
如果对象类别是 "User" 或 "Group" 等非命名空间作用域的对象且该值不为空，
则 Authorizer 应报告一个错误。</p></li></ul></li></ul><h2 id=ClusterRoleBindingList>ClusterRoleBindingList</h2><p>ClusterRoleBindingList 是 ClusterRoleBinding 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: ClusterRoleBindingList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。</p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>)，必需</p><p>items 是 ClusterRoleBindings 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-clusterrolebinding><code>get</code> 读取指定的 ClusterRoleBinding</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ClusterRoleBinding 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-clusterrolebinding-的对象><code>list</code> 列出或观测类别为 ClusterRoleBinding 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/clusterrolebindings</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBindingList>ClusterRoleBindingList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-clusterrolebinding><code>create</code> 创建 ClusterRoleBinding</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/rbac.authorization.k8s.io/v1/clusterrolebindings</p><h4 id=参数-2>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-clusterrolebinding><code>update</code> 替换指定的 ClusterRoleBinding</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ClusterRoleBinding 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-clusterrolebinding><code>patch</code> 部分更新指定的 ClusterRoleBinding</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ClusterRoleBinding 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-clusterrolebinding><code>delete</code> 删除 ClusterRoleBinding</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ClusterRoleBinding 的名称</p></li></ul><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-clusterrolebinding-的集合><code>deletecollection</code> 删除 ClusterRoleBinding 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterrolebindings</p><h4 id=参数-6>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-f0f12b8c869ff195f7b0b0388a88e76c>5.7 - Role</h1><div class=lead>Role 是一个按命名空间划分的 PolicyRule 逻辑分组，可以被 RoleBinding 作为一个单元引用。</div><p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/rbac/v1"</code></p><h2 id=Role>Role</h2><p>Role 是一个按命名空间划分的 PolicyRule 逻辑分组，可以被 RoleBinding 作为一个单元引用。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: Role</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p></li></ul><p>标准的对象元数据。</p><ul><li><p><strong>rules</strong> ([]PolicyRule)</p><p>rules 包含了这个 Role 的所有 PolicyRule。</p><p><a name=PolicyRule></a>
<strong>PolicyRule 包含描述一个策略规则的信息，但不包含该规则适用于哪个主体或适用于哪个命名空间的信息。</strong></p><ul><li><p><strong>rules.apiGroups</strong> ([]string)</p><p>apiGroups 是包含资源的 apiGroup 的名称。
如果指定了多个 API 组，则允许对任何 API 组中的其中一个枚举资源来请求任何操作。
"" 表示核心 API 组，“*” 表示所有 API 组。</p></li><li><p><strong>rules.resources</strong> ([]string)</p><p>resources 是此规则所适用的资源的列表。
“*” 表示所有资源。</p></li></ul></li></ul><ul><li><p><strong>rules.verbs</strong> ([]string)，必需</p><p>verbs 是适用于此规则中所包含的所有 ResourceKinds 的动作。
“*” 表示所有动作。</p></li><li><p><strong>rules.resourceNames</strong> ([]string)</p><p>resourceNames 是此规则所适用的资源名称白名单，可选。
空集合意味着允许所有资源。</p></li><li><p><strong>rules.nonResourceURLs</strong> ([]string)</p><p>nonResourceURLs 是用户应有权访问的一组部分 URL。
允许使用 “*”，但仅能作为路径中最后一段且必须用于完整的一段，
因为非资源 URL 没有划分命名空间。
此字段仅适用于从 ClusterRoleBinding 引用的 ClusterRole。
rules 可以应用到 API 资源（如 “pod” 或 “secret”）或非资源 URL 路径（如 “/api”），
但不能同时应用于两者。</p></li></ul><h2 id=RoleList>RoleList</h2><p>RoleList 是 Role 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: RoleList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。</p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>)，必需</p><p>items 是 Role 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-role><code>get</code> 读取指定的 Role</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>Role 的名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-role-的对象><code>list</code> 列出或观测类别为 Role 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#RoleList>RoleList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-role-的对象-1><code>list</code> 列出或观测类别为 Role 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/roles</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#RoleList>RoleList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-role><code>create</code> 创建 Role</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-role><code>update</code> 替换指定的 Role</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>Role 的名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-role><code>patch</code> 部分更新指定的 Role</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>Role 的名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong>（<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-role><code>delete</code> 删除 Role</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string，必需</p><p>Role 的名称</p></li><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-role-的集合><code>deletecollection</code> 删除 Role 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong>（<strong>路径参数</strong>）：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong>（<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-337599e35c879ffc4ba442b2e98758e1>5.8 - RoleBinding</h1><div class=lead>RoleBinding 引用一个角色，但不包含它。</div><p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p><p><code>import "k8s.io/api/rbac/v1"</code></p><h2 id=RoleBinding>RoleBinding</h2><p>RoleBinding 引用一个角色，但不包含它。
RoleBinding 可以引用相同命名空间中的 Role 或全局命名空间中的 ClusterRole。
RoleBinding 通过 Subjects 和所在的命名空间信息添加主体信息。
处于给定命名空间中的 RoleBinding 仅在该命名空间中有效。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: RoleBinding</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p></li></ul><p>标准的对象元数据。</p><ul><li><p><strong>roleRef</strong> (RoleRef)，必需</p><p>roleRef 可以引用当前命名空间中的 Role 或全局命名空间中的 ClusterRole。
如果无法解析 roleRef，则 Authorizer 必定返回一个错误。</p><p><a name=RoleRef></a>
<strong>roleRef 包含指向正被使用的角色的信息。</strong></p></li></ul><ul><li><p><strong>roleRef.apiGroup</strong> (string)，必需</p><p>apiGroup 是被引用资源的组</p></li><li><p><strong>roleRef.kind</strong> (string)，必需</p><p>kind 是被引用的资源的类别</p></li><li><p><strong>roleRef.name</strong> (string)，必需</p><p>name 是被引用的资源的名称</p></li></ul><ul><li><p><strong>subjects</strong> ([]Subject)</p><p>subjects 包含角色所适用的对象的引用。</p><p><a name=Subject></a>
<strong>Subject 包含对角色绑定所适用的对象或用户标识的引用。其中可以包含直接 API 对象的引用或非对象（如用户名和组名）的值。</strong></p><ul><li><p><strong>subjects.kind</strong> (string)，必需</p><p>被引用的对象的类别。
这个 API 组定义的值是 <code>User</code>、<code>Group</code> 和 <code>ServiceAccount</code>。
如果 Authorizer 无法识别类别值，则 Authorizer 应报告一个错误。</p></li></ul></li></ul><ul><li><p><strong>subjects.name</strong> (string)，必需</p><p>被引用的对象的名称。</p></li><li><p><strong>subjects.apiGroup</strong> (string)</p><p>apiGroup 包含被引用主体的 API 组。
对于 ServiceAccount 主体默认为 ""。
对于 User 和 Group 主体，默认为 "rbac.authorization.k8s.io"。</p></li><li><p><strong>subjects.namespace</strong> (string)</p><p>被引用的对象的命名空间。
如果对象类别是 “User” 或 “Group” 等非命名空间作用域的对象且该值不为空，
则 Authorizer 应报告一个错误。</p></li></ul><h2 id=RoleBindingList>RoleBindingList</h2><p>RoleBindingList 是 RoleBinding 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p></li><li><p><strong>kind</strong>: RoleBindingList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p></li></ul><p>标准的对象元数据。</p><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>)，必需</p><p>items 是 RoleBinding 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-rolebinding><code>get</code> 读取指定的 RoleBinding</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RoleBinding 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-rolebinding-的对象><code>list</code> 列出或观测类别为 RoleBinding 的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBindingList>RoleBindingList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观测类别为-rolebinding-的对象-1><code>list</code> 列出或观测类别为 RoleBinding 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/rbac.authorization.k8s.io/v1/rolebindings</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBindingList>RoleBindingList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-rolebinding><code>create</code> 创建 RoleBinding</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-rolebinding><code>update</code> 替换指定的 RoleBinding</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RoleBinding 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-rolebinding><code>patch</code> 部分更新指定的 RoleBinding</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RoleBinding 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-rolebinding><code>delete</code> 删除 RoleBinding</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RoleBinding 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-rolebinding-的集合><code>deletecollection</code> 删除 RoleBinding 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d8857a338d5c6dc04752576100c946d9>6 - 策略资源</h1></div><div class=td-content><h1 id=pg-0831e36c3a644ba6bb53595de785976d>6.1 - LimitRange</h1><div class=lead>LimitRange 设置名字空间中每个资源类别的资源用量限制。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=LimitRange>LimitRange</h2><p>LimitRange 设置名字空间中每个资源类别的资源用量限制。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: LimitRange</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRangeSpec>LimitRangeSpec</a>)</p><p>spec 定义强制执行的限制。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=LimitRangeSpec>LimitRangeSpec</h2><p>LimitRangeSpec 定义与类别匹配的资源的最小/最大使用限制。</p><hr><ul><li><p><strong>limits</strong> ([]LimitRangeItem)，必需</p><p>limits 是强制执行的 LimitRangeItem 对象的列表。</p><p><a name=LimitRangeItem></a>
<strong>LimitRangeItem 定义与类别匹配的任意资源的最小/最大使用限制。</strong></p><ul><li><p><strong>limits.type</strong> (string)，必需</p><p>此限制应用到的资源的类型。</p></li></ul><ul><li><p><strong>limits.default</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>资源限制被省略时按资源名称设定的默认资源要求限制值。</p></li><li><p><strong>limits.defaultRequest</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>defaultRequest 是资源请求被省略时按资源名称设定的默认资源要求请求值。</p></li><li><p><strong>limits.max</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>按资源名称针对这种类别的最大使用约束。</p></li></ul><ul><li><p><strong>limits.maxLimitRequestRatio</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>如果指定 maxLimitRequestRatio，则所指定的资源必须设置非零的请求和限制值，
且限制除以请求小于或等于这里列举的值；此属性用来表示所指定资源的最大突发用量。</p></li><li><p><strong>limits.min</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>按资源名称区分的，针对这种类别对象的最小用量约束。</p></li></ul></li></ul><h2 id=LimitRangeList>LimitRangeList</h2><p>LimitRangeList 是 LimitRange 项的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: LimitRangeList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>)，必需</p><p>items 是 LimitRange 对象的列表。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/zh-cn/docs/concepts/configuration/manage-resources-containers/</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-limitrange><code>get</code> 读取指定的 LimitRange</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/limitranges/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>LimitRange 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-limitrange-类别的对象><code>list</code> 列出或监视 LimitRange 类别的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/limitranges</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRangeList>LimitRangeList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-limitrange-类别的对象-1><code>list</code> 列出或监视 LimitRange 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/limitranges</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRangeList>LimitRangeList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-limitrange><code>create</code> 创建 LimitRange</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/limitranges</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-limitrange><code>update</code> 替换指定的 LimitRange</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/limitranges/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>LimitRange 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-limitrange><code>patch</code> 部分更新指定的 LimitRange</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/limitranges/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>LimitRange 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-limitrange><code>delete</code> 删除 LimitRange</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/limitranges/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>LimitRange 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-limitrange-的集合><code>deletecollection</code> 删除 LimitRange 的集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/limitranges</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-10c2069205c27f566d7476dc73169165>6.2 - ResourceQuota</h1><div class=lead>ResourceQuota 设置每个命名空间强制执行的聚合配额限制。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=ResourceQuota>ResourceQuota</h2><p>ResourceQuota 设置每个命名空间强制执行的聚合配额限制。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ResourceQuota</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaSpec>ResourceQuotaSpec</a>)</p><p>spec 定义所需的配额。
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaStatus>ResourceQuotaStatus</a>)</p><p>status 定义实际执行的配额及其当前使用情况。
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=ResourceQuotaSpec>ResourceQuotaSpec</h2><p>ResourceQuotaSpec 定义为 Quota 强制执行所需的硬限制。</p><hr><ul><li><p><strong>hard</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>hard 是每种指定资源所需的硬性限制集合。
更多信息： <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>https://kubernetes.io/docs/concepts/policy/resource-quotas/</a></p></li><li><p><strong>scopeSelector</strong> (ScopeSelector)</p><p>scopeSelector 也是一组过滤器的集合，和 scopes 类似，
必须匹配配额所跟踪的每个对象，但使用 ScopeSelectorOperator 结合可能的值来表示。
对于要匹配的资源，必须同时匹配 scopes 和 scopeSelector（如果在 spec 中设置了的话）。</p><p><a name=ScopeSelector></a></p><p>scope 选择算符表示的是由限定范围的资源选择算符进行 <strong>逻辑与</strong> 计算得出的结果。</p><ul><li><p><strong>scopeSelector.matchExpressions</strong> ([]ScopedResourceSelectorRequirement)</p><p>按资源范围划分的范围选择算符需求列表。</p><p><a name=ScopedResourceSelectorRequirement></a></p><p>限定范围的资源选择算符需求是一种选择算符，包含值、范围名称和将二者关联起来的运算符。</p><ul><li><p><strong>scopeSelector.matchExpressions.operator</strong> (string)，必需</p><p>表示范围与一组值之间的关系。有效的运算符为 In、NotIn、Exists、DoesNotExist。</p></li><li><p><strong>scopeSelector.matchExpressions.scopeName</strong> (string)，必需</p><p>选择器所适用的范围的名称。</p></li><li><p><strong>scopeSelector.matchExpressions.values</strong> ([]string)</p><p>字符串值数组。
如果操作符是 In 或 NotIn，values 数组必须是非空的。
如果操作符是 Exists 或 DoesNotExist，values 数组必须为空。
该数组将在策略性合并补丁操作期间被替换。</p></li></ul></li></ul></li><li><p><strong>scopes</strong> ([]string)</p><p>一个匹配被配额跟踪的所有对象的过滤器集合。
如果没有指定，则默认匹配所有对象。</p></li></ul><h2 id=ResourceQuotaStatus>ResourceQuotaStatus</h2><p>ResourceQuotaStatus 定义硬性限制和观测到的用量。</p><hr><ul><li><p><strong>hard</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>hard 是每种指定资源所强制实施的硬性限制集合。
更多信息： <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>https://kubernetes.io/docs/concepts/policy/resource-quotas/</a></p></li><li><p><strong>used</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>used 是当前命名空间中所观察到的资源总用量。</p></li></ul><h2 id=ResourceQuotaList>ResourceQuotaList</h2><p>ResourceQuotaList 是 ResourceQuota 列表。</p><hr><ul><li><p><strong>apiVersion</strong>：v1</p></li><li><p><strong>kind</strong>：ResourceQuotaList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>)，必需</p><p>items 是 ResourceQuota 对象的列表。
更多信息： <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>https://kubernetes.io/docs/concepts/policy/resource-quotas/</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-resourcequota><code>get</code> 读取指定的 ResourceQuota</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/resourcequotas/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string, 必需</p><p>ResourceQuota 的名称</p></li><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-resourcequota-的状态><code>get</code> 读取指定的 ResourceQuota 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/resourcequotas/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string, 必需</p><p>ResourceQuota 的名称</p></li><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-resourcequota-类别的对象><code>list</code> 列出或监视 ResourceQuota 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/namespaces/{namespace}/resourcequotas</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaList>ResourceQuotaList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-resourcequota-类别的对象-1><code>list</code> 列出或监视 ResourceQuota 类别的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /api/v1/resourcequotas</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaList>ResourceQuotaList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-resourcequota><code>create</code> 创建一个 ResourceQuota</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/resourcequotas</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>, 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-更新指定的-resourcequota><code>update</code> 更新指定的 ResourceQuota</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/resourcequotas/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string, 必需</p><p>ResourceQuota 的名称</p></li><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>, 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p><p>401: Unauthorized</p><h3 id=update-更新指定-resourcequota-的状态><code>update</code> 更新指定 ResourceQuota 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /api/v1/namespaces/{namespace}/resourcequotas/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string, 必需</p><p>ResourceQuota 的名称</p></li><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>, 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-resourcequota><code>patch</code> 部分更新指定的 ResourceQuota</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/resourcequotas/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string, 必需</p><p>ResourceQuota 的名称</p></li><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-resourcequota-的状态><code>patch</code> 部分更新指定 ResourceQuota 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{namespace}/resourcequotas/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string, 必需</p><p>ResourceQuota 的名称</p></li><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）: boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-resourcequota><code>delete</code> 删除 ResourceQuota</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/resourcequotas/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）: string, 必需</p><p>ResourceQuota 的名称</p></li><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-resourcequota-的集合><code>deletecollection</code> 删除 ResourceQuota 的集合</h3><h4 id=http-请求-10>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{namespace}/resourcequotas</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> （<strong>路径参数</strong>）: string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）: string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）: integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1e1d84ecddba19848ff49b8f10e5b3bc>6.3 - NetworkPolicy</h1><div class=lead>NetworkPolicy 描述针对一组 Pod 所允许的网络流量。</div><p><code>apiVersion: networking.k8s.io/v1</code></p><p><code>import "k8s.io/api/networking/v1"</code></p><h2 id=NetworkPolicy>NetworkPolicy</h2><p>NetworkPolicy 描述针对一组 Pod 所允许的网络流量。</p><hr><ul><li><p><strong>apiVersion</strong>: networking.k8s.io/v1</p></li><li><p><strong>kind</strong>: NetworkPolicy</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicySpec>NetworkPolicySpec</a>)</p><p>spec 定义特定网络策略所需的所有信息.</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicyStatus>NetworkPolicyStatus</a>)</p><p>status 是 NetworkPolicy 的当前状态。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=NetworkPolicySpec>NetworkPolicySpec</h2><p>NetworkPolicySpec 定义特定 NetworkPolicy 所需的所有信息.</p><hr><ul><li><p><strong>podSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)，必需</p><p>podSelector 选择此网络策略所适用的一组 Pod。一组 Ingress 入口策略将应用于此字段选择的所有 Pod。
多个网络策略可以选择同一组 Pod。
在这种情况下，这些列表条目的 Ingress 规则效果会被叠加。此字段不是可选的，并且遵循标准标签选择算符语义。
空值的 podSelector 匹配此命名空间中的所有 Pod。</p></li></ul><ul><li><p><strong>policyTypes</strong> ([]string)</p><p>NetworkPolicy 相关的规则类型列表。有效选项为 <code>[“Ingress”]</code>、<code>[“Egress”]</code> 或 <code>[“Ingress”， “Egress”]</code>。
如果不指定此字段，则默认值取决是否存在 Ingress 或 Egress 规则；规则里包含 Egress 部分的策略将会影响出站流量，
并且所有策略（无论它们是否包含 Ingress 部分）都将会影响 入站流量。
如果要仅定义出站流量策略，则必须明确指定 <code>[ "Egress" ]</code>。
同样，如果要定义一个指定拒绝所有出站流量的策略，则必须指定一个包含 “Egress” 的 policyTypes 值
（因为这样不包含 Egress 部分的策略，将会被默认为只有 [ "Ingress" ] )。此字段在 1.8 中为 Beta。</p></li></ul><ul><li><p><strong>ingress</strong> ([]NetworkPolicyIngressRule)</p><p>定义所选 Pod 的入站规则列表。在没有被任何 NetworkPolicy 选择到 Pod 的情况下（同时假定集群策略允许对应流量），
或者如果流量源是 Pod 的本地节点，或者流量与所有 NetworkPolicy 中的至少一个入站规则（Ingress) 匹配，
则进入 Pod 的流量是被允许的。如果此字段为空，则此 NetworkPolicy 不允许任何入站流量
（这种设置用来确保它所选择的 Pod 在默认情况下是被隔离的）。</p><p><a name=NetworkPolicyIngressRule></a>
<strong>NetworkPolicyIngressRule 定义 NetworkPolicySpec 的 podSelector 所选 Pod 的入站规则的白名单列表，
流量必须同时匹配 ports 和 from 。</strong></p><ul><li><p><strong>ingress.from</strong> ([]NetworkPolicyPeer)</p><p>流量来源列表，列表中的来源可以访问被此规则选中的 Pod。此列表中的流量来源使用逻辑或操作进行组合。
如果此字段为空值或缺失（未设置），
则此规则匹配所有流量来源（也即允许所有入站流量）。如果此字段存在并且至少包含一项来源，则仅当流量与来自列表中的至少一项匹配时，
此规则才允许流量访问被选中的 Pod 集合。</p><p><a name=NetworkPolicyPeer></a>
<strong>NetworkPolicyPeer 描述了允许进出流量的对等点。这个参数只允许某些字段组合。</strong></p><ul><li><p><strong>ingress.from.ipBlock</strong> (IPBlock)</p><p>IPBlock 针对特定的 IP CIDR 范围设置策略。如果设置了此字段，则不可以设置其他字段。</p><p><a name=IPBlock></a>
IPBlock 定义一个特定的 CIDR 范围（例如 <code>192.168.1.1/24</code>、<code>2001:db9::/64</code>），
来自这个 IP 范围的流量来源将会被允许访问与 NetworkPolicySpec 的 podSelector 匹配的 Pod 集合。
except 字段则设置应排除在此规则之外的 CIDR 范围。</p><ul><li><p><strong>ingress.from.ipBlock.cidr</strong> (string)，必需</p><p>CIDR 是指定 IP 组块的字符串，例如 <code>"192.168.1.1/24"</code> 或 <code>"2001:db9::/64"</code>。</p></li><li><p><strong>ingress.from.ipBlock.except</strong> ([]string)</p><p>except 是一个由 CIDR 范围组成的列表，其中指定的 CIDR 都应排除在此 IP 区块范围之外。
例如 <code>"192.168.1.1/24"</code> 或 <code>"2001:db9::/64"</code>。
如果 except 字段的值超出 ipBlock.cidr 的范围则被视为无效策略。</p></li></ul></li></ul><ul><li><p><strong>ingress.from.namespaceSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>此选择器使用集群范围标签来选择特定的 Namespace。此字段遵循标准标签选择算符语义；
如果此字段存在但为空值，则会选择所有名字空间。</p><p>如果 podSelector 也被定义了, 那么 NetworkPolicyPeer 将选择那些同时满足 namespaceSelector
所选名字空间下和 podSelector 规则匹配的 Pod。
反之选择 namespaceSelector 所选名字空间下所有的 Pod。</p></li></ul><ul><li><p><strong>ingress.from.podSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>这个标签选择算符负责选择 Pod。该字段遵循标准标签选择算符语义；如果字段存在但为空值，则选择所有 Pod。</p><p>如果 namespaceSelector 也被定义，那么 NetworkPolicyPeer 将选择那些同时满足 namespaceSelector
定义的名字空间下和 podSelector 规则匹配的 Pod。
反之会在策略所在的名字空间中选择与 podSelector 匹配的 Pod。</p></li></ul></li></ul><ul><li><p><strong>ingress.ports</strong> ([]NetworkPolicyPort)</p><p>定义在此规则选中的 Pod 上应可访问的端口列表。此列表中的个项目使用逻辑或操作组合。如果此字段为空或缺失，
则此规则匹配所有端口（进入流量可访问任何端口）。
如果此字段存在并且包含至少一个有效值，则此规则仅在流量至少匹配列表中的一个端口时才允许访问。</p><p><a name=NetworkPolicyPort></a>
<strong>NetworkPolicyPort 定义可以连接的端口</strong></p><ul><li><p><strong>ingress.ports.port</strong> (IntOrString)</p><p>给定协议上的端口。字段值可以是 Pod 上的数字或命名端口。如果未提供此字段，则匹配所有端口名和端口号。
如果定义了，则仅允许对给定的协议和端口的入口流量。</p><p><a name=IntOrString></a>
IntOrString 是一种可以包含 int32 或字符串值的类型。在 JSON 或 YAML 编组和解组中使用时，它会生成或使用内部类型。
例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</p></li></ul><ul><li><p><strong>ingress.ports.endPort</strong> (int32)</p><p>如果设置了此字段，则表明策略应该允许 port 与 endPort 之间（包含二者）的所有端口。
如果未定义 port 或将 port 字段值为命名端口（字符串），则不可以使用 endPort。
endPort 必须等于或大于 port 值。</p></li><li><p><strong>ingress.ports.protocol</strong> (string)</p><p>流量必须匹配的网络协议（TCP、UDP 或 SCTP）。如果未指定，此字段默认为 TCP。</p></li></ul></li></ul></li></ul><ul><li><p><strong>egress</strong> ([]NetworkPolicyEgressRule)</p><p>egress 定义所选 Pod 的出站规则的列表。如果没有 NetworkPolicy 选中指定 Pod（并且其他集群策略也允许出口流量），
或者在所有通过 podSelector 选中了某 Pod 的 NetworkPolicy 中，至少有一条出站规则与出站流量匹配，
则该 Pod 的出站流量是被允许的。
如果此字段为空，则此 NetworkPolicy 拒绝所有出站流量（这策略可以确保它所选中的 Pod 在默认情况下是被隔离的）。
egress 字段在 1.8 中为 Beta 级别。</p><p><a name=NetworkPolicyEgressRule></a>
NetworkPolicyEgressRule 针对被 NetworkPolicySpec 的 podSelector 所选中 Pod，描述其被允许的出站流量。
流量必须同时匹配 ports 和 to 设置。此类型在 1.8 中为 Beta 级别。</p><ul><li><p><strong>egress.to</strong> ([]NetworkPolicyPeer)</p><p>针对此规则所选择的 Pod 的出口流量的目的地列表。此列表中的目的地使用逻辑或操作进行组合。如果此字段为空或缺失，
则此规则匹配所有目的地（流量不受目的地限制）。如果此字段存在且至少包含一项目的地，则仅当流量与目标列表中的至少一个匹配时，
此规则才允许出口流量。</p><p><a name=NetworkPolicyPeer></a>
<strong>NetworkPolicyPeer 描述允许进出流量的对等点。这个对象只允许某些字段组合。</strong></p><ul><li><p><strong>egress.to.ipBlock</strong> (IPBlock)</p><p>ipBlock 针对特定的 IP 区块定义策略。如果设置了此字段，则其他不可以设置其他字段。</p><p><a name=IPBlock></a>
<strong>IPBlock 描述一个特定的 CIDR 范围（例如 <code>192.168.1.1/24</code>、<code>2001:db9::/64</code>），
与 NetworkPolicySpec 的 podSelector 匹配的 Pod 将被允许连接到这个 IP 范围，作为其出口流量目的地。
except 字段则设置了不被此规则影响的 CIDR 范围。</strong></p><ul><li><p><strong>egress.to.ipBlock.cidr</strong> (string)，必需</p><p>CIDR 是用来表达 IP 组块的字符串，例如 <code>"192.168.1.1/24"</code> 或 <code>"2001:db9::/64"</code>。</p></li><li><p><strong>egress.to.ipBlock.except</strong> ([]string)</p><p>except 定义不应包含在 ipBlock 内的 CIDR 范围列表。例如 <code>"192.168.1.1/24"</code> 或 <code>"2001:db9::/64"</code>。
如果 except 的值超出 ipBlock.cidr 的范围则被拒绝。</p></li></ul></li></ul><ul><li><p><strong>egress.to.namespaceSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>此选择算符使用集群范围标签来选择特定的名字空间。该字段遵循标准标签选择算符语义；
如果字段存在但为空值，那会选择所有名字空间。</p><p>如果 egress.to.podSelector 也被定义了, 那么 NetworkPolicyPeer 将选择那些同时满足 namespaceSelector
指定的名字空间下和 podSelector 规则匹配的 Pod。
反之选择 namespaceSelector 指定的名字空间下所有的 Pod。</p></li></ul><ul><li><p><strong>egress.to.podSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>这个标签选择器负责选择一组 Pod。该字段遵循标准标签选择算符语义；
如果字段存在但为空值，则选择所有 Pod。</p><p>如果 egress.to.namespaceSelector 也被定义，则 NetworkPolicyPeer 将选择 namespaceSelector
所指定的名字空间下和 podSelector 规则匹配的 Pod。
反之会在策略所属的名字空间中选择与 podSelector 匹配的 Pod。</p></li></ul></li></ul><ul><li><p><strong>egress.ports</strong> ([]NetworkPolicyPort)</p><p>出站流量目的地的端口列表。此列表中的各个项目使用逻辑或操作进行组合。如果此字段为空或缺失，
则此规则匹配所有端口（可访问出口流量目的地的任何端口）。如果此字段存在并且包含至少一个有效值，
则此规则仅在流量与列表中的至少一个端口匹配时才允许访问。</p><p><a name=NetworkPolicyPort></a>
<strong>NetworkPolicyPort 定义出口流量目的地的端口。</strong></p><ul><li><p><strong>egress.ports.port</strong> (IntOrString)</p><p>给定协议上的端口。字段值可以是 Pod 上的数字或命名端口。如果未提供此字段，则匹配所有端口名和端口号。
如果定义此字段，则仅允许针对给定的协议和端口的出站流量。</p><p><a name=IntOrString></a>
IntOrString 是一种可以包含 int32 或字符串值的类型。在 JSON 或 YAML 编组和解组中使用时，它会生成或使用内部类型。
例如，这允许你拥有一个可以接受名称或数字的 JSON 字段。</p></li><li><p><strong>egress.ports.endPort</strong> (int32)</p><p>如果设置了 endPort，则用来指定策略所允许的从 port 到 endPort 的端口范围（包含边界值）。
如果未设置 port 或 port 字段值为端口名称（字符串），则不可以指定 endPort。
endPort 必须等于或大于 port 值。</p></li><li><p><strong>egress.ports.protocol</strong> (string)</p><p>流量必须匹配的网络协议（TCP、UDP 或 SCTP）。如果未指定，此字段默认为 TCP。</p></li></ul></li></ul></li></ul><h2 id=NetworkPolicyStatus>NetworkPolicyStatus</h2><p>NetworkPolicyStatus 描述有关此 NetworkPolicy 的当前状态。</p><hr><ul><li><p><strong>conditions</strong> ([]Condition)</p><p><strong>补丁策略：根据 <code>type</code> 键执行合并操作</strong></p><p><strong>Map：键 type 的唯一值将在合并期间被保留</strong></p><p>conditions 包含描述此 NetworkPolicy 状态的 metav1.Condition 数组，即当前服务状态。</p><p><a name=Condition></a>
<strong>Condition 包含此 API 资源当前状态的一个方面的详细信息。</strong></p><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)，必需</p><p>lastTransitionTime 是状况最近一次从一种状态转换到另一种状态的时间。
这种变化通常出现在下层状况发生变化的时候。如果无法了解下层状况变化，使用 API 字段更改的时间也是可以接受的。</p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装器，它支持对 YAML 和 JSON 的正确编组。
time 包的许多工厂方法提供了包装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)，必需</p><p>message 是一条人类可读的消息，指示有关转换的详细信息。它可能是一个空字符串。</p></li></ul><ul><li><p><strong>conditions.reason</strong> (string)，必需</p><p>reason 包含一个程序标识符，指示状况最后一次转换的原因。
特定状况类型的生产者可以定义该字段的预期值和含义，以及这些值是否可被视为有保证的 API。
该值应该是 CamelCase 字符串。此字段不能为空。</p></li></ul><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>状况的状态为 True、False、Unknown 之一。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string)，必需</p><p>CamelCase 或 foo.example.com/CamelCase 形式的状况类型。</p></li></ul><ul><li><p><strong>conditions.observedGeneration</strong> (int64)</p><p>observedGeneration 表示设置状况时所基于的 <code>.metadata.generation</code>。
例如，如果 <code>.metadata.generation</code> 当前为 12，但 <code>.status.conditions[x].observedGeneration</code> 为 9，
则状况相对于实例的当前状态已过期。</p></li></ul></li></ul><h2 id=NetworkPolicyList>NetworkPolicyList</h2><p>NetworkPolicyList 是 NetworkPolicy 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: networking.k8s.io/v1</p></li><li><p><strong>kind</strong>: NetworkPolicyList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>)，必需</p><p>items 是 NetworkPolicy 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-networkpolicy><code>get</code> 读取指定的 NetworkPolicy</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>NetworkPolicy 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-networkpolicy-的状态><code>get</code> 读取指定的 NetworkPolicy 的状态</h3><p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>NetworkPolicy 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-networkpolicy-类型的对象><code>list</code> 列出或监视 NetworkPolicy 类型的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicyList>NetworkPolicyList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-networkpolicy-类><code>list</code> 列出或监视 NetworkPolicy 类</h3><h4 id=http-request>HTTP Request</h4><p>GET /apis/networking.k8s.io/v1/networkpolicies</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicyList>NetworkPolicyList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-networkpolicy><code>create</code> 创建 NetworkPolicy</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-networkpolicy><code>update</code> 替换指定的 NetworkPolicy</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>NetworkPolicy 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-networkpolicy-的状态><code>update</code> 替换指定的 NetworkPolicy 的状态</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>NetworkPolicy 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-networkpolicy><code>patch</code> 部分更新指定的 NetworkPolicy</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>NetworkPolicy 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<em>in query</em>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-networkpolicy-的状态><code>patch</code> 部分更新指定的 NetworkPolicy 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>NetworkPolicy 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<em>in query</em>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-networkpolicy><code>delete</code> 删除 NetworkPolicy</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>NetworkPolicy 的名称。</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-networkpolicy-的集合><code>deletecollection</code> 删除 NetworkPolicy 的集合</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-10>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-2e75f782721e263954f44aea4709a9d5>6.4 - PodDisruptionBudget</h1><div class=lead>PodDisruptionBudget 是一个对象，用于定义可能对一组 Pod 造成的最大干扰。</div><p><code>apiVersion: policy/v1</code></p><p><code>import "k8s.io/api/policy/v1"</code></p><h2 id=PodDisruptionBudget>PodDisruptionBudget</h2><p>PodDisruptionBudget 是一个对象，用于定义可能对一组 Pod 造成的最大干扰。</p><hr><ul><li><p><strong>apiVersion</strong>: policy/v1</p></li><li><p><strong>kind</strong>: PodDisruptionBudget</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>。</p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetSpec>PodDisruptionBudgetSpec</a>)</p><p>PodDisruptionBudget 预期行为的规约。</p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetStatus>PodDisruptionBudgetStatus</a>)</p><p>此 PodDisruptionBudget 的最近观测状态。</p></li></ul><h2 id=PodDisruptionBudgetSpec>PodDisruptionBudgetSpec</h2><p>PodDisruptionBudgetSpec 是对 PodDisruptionBudget 的描述。</p><hr><ul><li><p><strong>maxUnavailable</strong> (IntOrString)</p><p>如果 “selector” 所选中的 Pod 中最多有 “maxUnavailable” Pod 在驱逐后不可用（即去掉被驱逐的 Pod 之后），则允许驱逐。
例如，可以通过将此字段设置为 0 来阻止所有自愿驱逐。此字段是与 “minAvailable” 互斥的设置。</p><p><a name=IntOrString></a>
IntOrString 是一种可以包含 int32 或字符串数值的类型。在 JSON 或 YAML 编组和解组时，
会生成或使用内部类型。例如，此类型允许你定义一个可以接受名称或数字的 JSON 字段。</p></li></ul><ul><li><p><strong>minAvailable</strong> (IntOrString)</p><p>如果 “selector” 所选中的 Pod 中，至少 “minAvailable” 个 Pod 在驱逐后仍然可用（即去掉被驱逐的 Pod 之后），则允许驱逐。
因此，你可以通过将此字段设置为 “100%” 来禁止所有自愿驱逐。</p><p><a name=IntOrString></a>
IntOrString 是一种可以包含 int32 或字符串数值的类型。在 JSON 或 YAML 编组和解组时，
会生成或使用内部类型。例如，此类型允许你定义一个可以接受名称或数字的 JSON 字段。</p></li></ul><ul><li><p><strong>selector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>标签查询，用来选择其驱逐由干扰预算来管理的 Pod 集合。
选择算符为 null 时将不会匹配任何 Pod，而空 ({}) 选择算符将选中名字空间内的所有 Pod。</p></li></ul><h2 id=PodDisruptionBudgetStatus>PodDisruptionBudgetStatus</h2><p>PodDisruptionBudgetStatus 表示有关此 PodDisruptionBudget 状态的信息。状态可能会反映系统的实际状态。</p><hr><ul><li><p><strong>currentHealthy</strong> (int32), 必需</p><p>当前健康 Pod 的数量。</p></li></ul><ul><li><p><strong>desiredHealthy</strong> (int32), 必需</p><p>健康 Pod 的最小期望值。</p></li></ul><ul><li><p><strong>disruptionsAllowed</strong> (int32), 必需</p><p>当前允许的 Pod 干扰计数。</p></li><li><p><strong>conditions</strong> ([]Condition)</p><p><strong>补丁策略：根据 <code>type</code> 键执行合并操作</strong></p><p><strong>Map：键 type 的唯一值将在合并期间被保留</strong></p><p>conditions 包含 PDB 的状况。干扰控制器会设置 DisruptionAllowed 状况。
以下是 reason 字段的已知值（将来可能会添加其他原因）：</p><ul><li>SyncFailed：控制器遇到错误并且无法计算允许的干扰计数。因此不允许任何干扰，且状况的状态将变为 False。</li><li>InsufficientPods：Pod 的数量只能小于或等于 PodDisruptionBudget 要求的数量。
不允许任何干扰，且状况的状态将是 False。</li><li>SufficientPods：Pod 个数超出 PodDisruptionBudget 所要求的阈值。
此状况为 True 时，基于 disruptsAllowed 属性确定所允许的干扰数目。</li></ul><p><a name=Condition></a>
Condition 包含此 API 资源当前状态的一个方面的详细信息。</p><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time), 必需</p><p>lastTransitionTime 是状况最近一次从一种状态转换到另一种状态的时间。
这种变化通常出现在下层状况发生变化的时候。如果无法了解下层状况变化，使用 API 字段更改的时间也是可以接受的。</p><p><a name=Time></a>
Time 是 time.Time 的包装器，它支持对 YAML 和 JSON 的正确编组。
time 包的许多工厂方法提供了包装器。</p></li></ul><ul><li><p><strong>conditions.message</strong> (string), 必需</p><p>message 是一条人类可读的消息，指示有关转换的详细信息。它可能是一个空字符串。</p></li></ul><ul><li><p><strong>conditions.reason</strong> (string), 必需</p><p>reason 包含一个程序标识符，指示状况最后一次转换的原因。
特定状况类型的生产者可以定义该字段的预期值和含义，以及这些值是否可被视为有保证的 API。
该值应该是 CamelCase 字符串。此字段不能为空。</p></li></ul><ul><li><p><strong>conditions.status</strong> (string), 必需</p><p>状况的状态为 True、False、Unknown 之一。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string), 必需</p><p>CamelCase 或 foo.example.com/CamelCase 形式的状况类型。</p></li></ul><ul><li><p><strong>conditions.observedGeneration</strong> (int64)</p><p>observedGeneration 表示设置状况时所基于的 .metadata.generation。
例如，如果 .metadata.generation 当前为 12，但 .status.conditions[x].observedGeneration 为 9，
则状况相对于实例的当前状态已过期。</p></li></ul></li></ul><ul><li><p><strong>disruptedPods</strong> (map[string]Time)</p><p>disruptedPods 包含有关 Pod 的一些信息，这些 Pod 的驱逐操作已由 API 服务器上的 eviction 子资源处理程序处理,
但尚未被 PodDisruptionBudget 控制器观察到。
从 API 服务器处理驱逐请求到 PDB 控制器看到该 Pod 已标记为删除（或超时后），Pod 将记录在此映射中。
映射中的键名是 Pod 的名称，键值是 API 服务器处理驱逐请求的时间。
如果删除没有发生并且 Pod 仍然存在，PodDisruptionBudget 控制器将在一段时间后自动将 Pod 从列表中删除。
如果一切顺利，此映射大部分时间应该是空的。映射中的存在大量条目可能表明 Pod 删除存在问题。</p><p><a name=Time></a></p><p>Time 是 time.Time 的包装器，它支持对 YAML 和 JSON 的正确编组。
time 包的许多工厂方法提供了包装器。</p></li></ul><ul><li><p><strong>observedGeneration</strong> (int64)</p><p>更新此 PDB 状态时观察到的最新一代。
DisruptionsAllowed 和其他状态信息仅在 observedGeneration 等于 PDB 的对象的代数时才有效。</p></li></ul><h2 id=PodDisruptionBudgetList>PodDisruptionBudgetList</h2><p>PodDisruptionBudgetList 是 PodDisruptionBudget 的集合。</p><hr><ul><li><p><strong>apiVersion</strong>: policy/v1</p></li><li><p><strong>kind</strong>: PodDisruptionBudgetList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>), 必需</p><p>items 是 PodDisruptionBudgets 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-poddisruptionbudget><code>get</code> 读取指定的 PodDisruptionBudget</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>PodDisruptionBudget 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-poddisruptionbudget-的状态><code>get</code> 读取指定 PodDisruptionBudget 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>PodDisruptionBudget 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><p>响应</p><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-poddisruptionbudget-类型的对象><code>list</code> 列出或监视 PodDisruptionBudget 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets</p><h4 id=参数-2>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetList>PodDisruptionBudgetList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-poddisruptionbudget-类型的对象-1><code>list</code> 列出或监视 PodDisruptionBudget 类型的对象</h3><h4 id=http-请求-3>HTTP 请求</h4><p>GET /apis/policy/v1/poddisruptionbudgets</p><h4 id=参数-3>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetList>PodDisruptionBudgetList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-poddisruptionbudget><code>create</code> 创建一个 PodDisruptionBudget</h3><h4 id=http-请求-4>HTTP 请求</h4><p>POST /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets</p><h4 id=参数-4>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>,
必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-poddisruptionbudget><code>update</code> 替换指定的 PodDisruptionBudget</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>PodDisruptionBudget 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>,
必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-poddisruptionbudget-的状态><code>update</code> 替换指定 PodDisruptionBudget 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>PodDisruptionBudget 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>,
必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun&lt;/</p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-poddisruptionbudget><code>patch</code> 部分更新指定的 PodDisruptionBudget</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>PodDisruptionBudget 的名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-poddisruptionbudget-的状态><code>patch</code> 部分更新指定 PodDisruptionBudget 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>PodDisruptionBudget 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-poddisruptionbudget><code>delete</code> 删除 PodDisruptionBudget</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>PodDisruptionBudget 的名称。</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-poddisruptionbudget-的集合><code>deletecollection</code> 删除 PodDisruptionBudget 的集合</h3><h4 id=http-request>HTTP Request</h4><p>DELETE /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets</p><h4 id=参数-10>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-020d8f776dea9802131630c210dc4c0a>7 - 扩展资源</h1></div><div class=td-content><h1 id=pg-0a375cb95d28aa4cec341c561ccf6e83>7.1 - CustomResourceDefinition</h1><div class=lead>CustomResourceDefinition 表示应在 API 服务器上公开的资源。</div><p><code>apiVersion: apiextensions.k8s.io/v1</code></p><p><code>import "k8s.io/apiextensions-apiserver/pkg/apis/apiextensions/v1"</code></p><h2 id=CustomResourceDefinition>CustomResourceDefinition</h2><p>CustomResourceDefinition 表示应在 API 服务器上公开的资源。其名称必须采用 <code>&lt;.spec.name>.&lt;.spec.group></code> 格式。</p><hr><ul><li><p><strong>apiVersion</strong>: apiextensions.k8s.io/v1</p></li><li><p><strong>kind</strong>: CustomResourceDefinition</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinitionSpec>CustomResourceDefinitionSpec</a>), 必需</p><p>spec 描述了用户希望资源的呈现方式。</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinitionStatus>CustomResourceDefinitionStatus</a>)</p><p>status 表示 CustomResourceDefinition 的实际状态。</p></li></ul><h2 id=CustomResourceDefinitionSpec>CustomResourceDefinitionSpec</h2><p>CustomResourceDefinitionSpec 描述了用户希望资源的呈现方式。</p><hr><ul><li><p><strong>group</strong> (string)，必需</p><p>group 是自定义资源的 API 组。自定义资源在 <code>/apis/&lt;group>/...</code> 下提供。
必须与 CustomResourceDefinition 的名称匹配（格式为 <code>&lt;names.plural>.&lt;group></code>）。</p></li></ul><ul><li><p><strong>names</strong> (CustomResourceDefinitionNames)，必需</p><p>names 表示自定义资源的资源和种类名称。</p><p><a name=CustomResourceDefinitionNames></a></p><p><strong>CustomResourceDefinitionNames 表示提供此 CustomResourceDefinition 资源的名称。</strong></p><ul><li><p><strong>names.kind</strong> (string)，必需</p><p>kind 是资源的序列化类型。它通常是驼峰命名的单数形式。自定义资源实例将使用此值作为 API 调用中的 <code>kind</code> 属性。</p></li></ul><ul><li><p><strong>names.plural</strong> (string)，必需</p><p>plural 是所提供的资源的复数名称，自定义资源在 <code>/apis/&lt;group>/&lt;version>/.../&lt;plural></code> 下提供。
必须与 CustomResourceDefinition 的名称匹配（格式为 <code>&lt;names.plural>.&lt;group></code>）。必须全部小写。</p></li><li><p><strong>names.categories</strong> ([]string)</p><p>categories 是自定义资源所属的分组资源列表（例如 'all'）。
它在 API 发现文档中发布，并支持客户端像 <code>kubectl get all</code> 这样的调用。</p></li><li><p><strong>names.listKind</strong> (string)</p><p>listKind 是此资源列表的序列化类型。默认为 "<code>kind</code>List"。</p></li><li><p><strong>names.shortNames</strong> ([]string)</p><p>shortNames 是资源的短名称，在 API 发现文档中公开，并支持客户端调用，如 <code>kubectl get &lt;shortname></code>。必须全部小写。</p></li><li><p><strong>names.singular</strong> (string)</p><p>singular 是资源的单数名称。必须全部小写。默认为小写 <code>kind</code>。</p></li></ul></li></ul><ul><li><p><strong>scope</strong> (string)，必需</p><p>scope 表示自定义资源是群集作用域还是命名空间作用域。允许的值为 <code>Cluster</code> 和 <code>Namespaced</code>。</p></li></ul><ul><li><p><strong>versions</strong> ([]CustomResourceDefinitionVersion)，必需</p><p>versions 是自定义资源的所有 API 版本的列表。版本名称用于计算服务版本在 API 发现中列出的顺序。
如果版本字符串是与 Kubernetes 的版本号形式类似，则它将排序在非 Kubernetes 形式版本字符串之前。
Kubernetes 的版本号字符串按字典顺序排列。Kubernetes 版本号以 “v” 字符开头，
后面是一个数字（主版本），然后是可选字符串 “alpha” 或 “beta” 和另一个数字（次要版本）。
它们首先按 GA > beta > alpha 排序（其中 GA 是没有 beta 或 alpha 等后缀的版本），然后比较主要版本，
最后是比较次要版本。版本排序列表示例：v10、v2、v1、v11beta2、v10beta3、v3beta1、v12alpha1、v11alpha2、foo1、foo10。</p><p><a name=CustomResourceDefinitionVersion></a></p><p><strong>CustomResourceDefinitionVersion 描述 CRD 的一个版本。</strong></p><ul><li><p><strong>versions.name</strong> (string)，必需</p><p>name 是版本名称，例如 “v1”、“v2beta1” 等。如果 <code>served</code> 是 true，自定义资源在
<code>/apis/&lt;group>/&lt;version>/...</code> 版本下提供。</p></li></ul><ul><li><p><strong>versions.served</strong> (boolean)，必需</p><p>served 是用于启用/禁用该版本通过 REST API 提供服务的标志。</p></li></ul><ul><li><p><strong>versions.storage</strong> (boolean)，必需</p><p>storage 表示在将自定义资源持久保存到存储时应使用此版本。有且仅有一个版本的 storage=true。</p></li><li><p><strong>versions.additionalPrinterColumns</strong> ([]CustomResourceColumnDefinition)</p><p>additionalPrinterColumns 表示在表输出中返回的附加列。
有关详细信息，请参阅 <a href=https://kubernetes.io/zh-cn/docs/reference/using-api/api-concepts/#receiving-resources-as-tables>https://kubernetes.io/zh-cn/docs/reference/using-api/api-concepts/#receiving-resources-as-tables</a>。
如果没有指定列，则显示自定义资源存活时间（AGE）列。</p><p><a name=CustomResourceColumnDefinition></a></p><p><strong>CustomResourceColumnDefinition 指定用于服务器端打印的列。</strong></p><ul><li><p><strong>versions.additionalPrinterColumns.jsonPath</strong> (string)，必需</p><p>jsonPath 是一个简单的 JSON 路径（使用数组表示法），它对每个自定义资源进行评估，以生成该列的值。</p></li></ul><ul><li><p><strong>versions.additionalPrinterColumns.name</strong> (string)，必需</p><p>name 是便于阅读的列名称。</p></li></ul><ul><li><p><strong>versions.additionalPrinterColumns.type</strong> (string)，必需</p><p>type 是此列的 OpenAPI 类型定义。有关详细信息，
请参阅 <a href=https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types>https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types</a></p></li><li><p><strong>versions.additionalPrinterColumns.description</strong> (string)</p><p>description 是该列的可读性描述。</p></li><li><p><strong>versions.additionalPrinterColumns.format</strong> (string)</p><p>format 是这个列的可选 OpenAPI 类型定义。'name' 格式应用于主标识符列，以帮助客户端识别列是资源名称。
有关详细信息，请参阅 <a href=https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types>https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types</a>。</p></li><li><p><strong>versions.additionalPrinterColumns.priority</strong> (int32)</p><p>priority 是一个定义此列相对于其他列的相对重要性的整数。数字越低，优先级越高。
在空间有限的情况下，可以省略的列的优先级应大于 0。</p></li></ul></li><li><p><strong>versions.deprecated</strong> (boolean)</p><p>deprecated 表示此版本的自定义资源 API 已弃用。设置为 true 时，对此版本的 API
请求会在服务器响应头信息中带有警告（warning）信息。此值默认为 false。</p></li><li><p><strong>versions.deprecationWarning</strong> (string)</p><p>deprecationWarning 会覆盖返回给 API 客户端的默认警告。只能在 <code>deprecated</code> 为 true 时设置。
默认警告表示此版本已弃用，建议使用最新的同等或更高稳定性版本（如果存在）。</p></li><li><p><strong>versions.schema</strong> (CustomResourceValidation)</p><p>schema 描述了用于验证、精简和默认此版本的自定义资源的模式。</p><p><a name=CustomResourceValidation></a></p><p><strong>CustomResourceValidation 是 CustomResources 的验证方法列表。</strong></p><ul><li><p><strong>versions.schema.openAPIV3Schema</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p><p>openAPIV3Schema 是用于验证和精简的 OpenAPI v3 模式。</p></li></ul></li><li><p><strong>versions.subresources</strong> (CustomResourceSubresources)</p><p>subresources 指定此版本已定义的自定义资源具有哪些子资源。</p><p><a name=CustomResourceSubresources></a></p><p><strong>CustomResourceSubresources 定义了 CustomResources 子资源的状态和规模。</strong></p><ul><li><p><strong>versions.subresources.scale</strong> (CustomResourceSubresourceScale)</p><p>scale 表示自定义资源应该提供一个 <code>/scale</code> 子资源，该子资源返回一个 <code>autoscaling/v1</code> Scale 对象。</p><p><a name=CustomResourceSubresourceScale></a></p><p><strong>CustomResourceSubresourceScale 定义了如何为 CustomResources 的 scale 子资源提供服务。</strong></p><ul><li><p><strong>versions.subresources.scale.specReplicasPath</strong> (string)，必需</p><p>specReplicasPath 定义对应于 Scale 的自定义资源内的 JSON 路径 <code>spec.replicas</code>。
只允许没有数组表示法的 JSON 路径。必须是 <code>.spec</code> 下的 JSON 路径。
如果自定义资源中的给定路径下没有值，那么 GET <code>/scale</code> 子资源将返回错误。</p></li></ul><ul><li><p><strong>versions.subresources.scale.statusReplicasPath</strong> (string)，必需</p><p>statusReplicasPath 定义对应于 Scale 的自定义资源内的 JSON 路径 <code>status.replicas</code>。
只允许不带数组表示法的 JSON 路径。必须是 <code>.status</code> 下的 JSON 路径。
如果自定义资源中给定路径下没有值，则 <code>/scale</code> 子资源中的 <code>status.replicas</code> 值将默认为 0。</p></li><li><p><strong>versions.subresources.scale.labelSelectorPath</strong> (string)</p><p>labelSelectorPath 定义对应于 Scale 的自定义资源内的 JSON 路径 <code>status.selector</code>。
只允许不带数组表示法的 JSON 路径。必须是 <code>.status</code> 或 <code>.spec</code> 下的路径。
必须设置为与 HorizontalPodAutoscaler 一起使用。
此 JSON 路径指向的字段必须是字符串字段（不是复杂的选择器结构），其中包含字符串形式的序列化标签选择器。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions#scale-subresource>https://kubernetes.io/zh-cn/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions#scale-subresource</a>。
如果自定义资源中给定路径下没有值，则 <code>/scale</code> 子资源中的 <code>status.selector</code> 默认值为空字符串。</p></li></ul></li><li><p><strong>versions.subresources.status</strong> (CustomResourceSubresourceStatus)</p><p>status 表示自定义资源应该为 <code>/status</code> 子资源服务。当启用时：</p><ol><li>对自定义资源主端点的请求会忽略对对象的 <code>status</code> 节的改变；</li><li>对自定义资源 <code>/status</code> 子资源的请求忽略对对象的 <code>status</code> 节以外的任何变化。</li></ol><p><a name=CustomResourceSubresourceStatus></a></p><p>CustomResourceSubresourceStatus 定义了如何为自定义资源提供 status 子资源。
状态由 CustomResource 中的 <code>.status</code> JSON 路径表示。设置后，</p><ul><li>为自定义资源提供一个 <code>/status</code> 子资源。</li><li>向 <code>/status</code> 子资源发出的 PUT 请求时，需要提供自定义资源对象，服务器端会忽略对 status 节以外的任何内容更改。</li><li>对自定义资源的 PUT/POST/PATCH 请求会忽略对 status 节的更改。</li></ul></li></ul></li></ul></li><li><p><strong>conversion</strong> (CustomResourceConversion)</p><p>conversion 定义了 CRD 的转换设置。</p><p><a name=CustomResourceConversion></a></p><p><strong>CustomResourceConversion 描述了如何转换不同版本的自定义资源。</strong></p><ul><li><p><strong>conversion.strategy</strong> (string)，必需</p><p>strategy 指定如何在版本之间转换自定义资源。允许的值为：</p><ul><li><code>None</code>：转换器仅更改 apiVersion 并且不会触及自定义资源中的任何其他字段。</li><li><code>Webhook</code>：API 服务器将调用外部 Webhook 进行转换。此选项需要其他信息。这要求
spec.preserveUnknownFields 为 false，并且设置 spec.conversion.webhook。</li></ul></li><li><p><strong>conversion.webhook</strong> (WebhookConversion)</p><p>webhook 描述了如何调用转换 Webhook。当 <code>strategy</code> 设置为 <code>Webhook</code> 时有效。</p><p><a name=WebhookConversion></a></p><p><strong>WebhookConversion 描述了如何调用转换 Webhook</strong></p><ul><li><p><strong>conversion.webhook.conversionReviewVersions</strong> ([]string)，必需</p><p>conversionReviewVersions 是 Webhook 期望的 <code>ConversionReview</code> 版本的有序列表。
API 服务器将使用它支持的列表中的第一个版本。如果 API 服务器不支持此列表中指定的版本，则自定义资源的转换将失败。
如果持久化的 Webhook 配置指定了允许的版本但其中不包括 API 服务器所了解的任何版本，则对 Webhook 的调用将失败。</p></li><li><p><strong>conversion.webhook.clientConfig</strong> (WebhookClientConfig)</p><p>如果 strategy 是 <code>Webhook</code>， 那么 clientConfig 是关于如何调用 Webhook 的说明。</p><p><a name=WebhookClientConfig></a></p><p><strong>WebhookClientConfig 包含与 Webhook 建立 TLS 连接的信息。</strong></p><ul><li><p><strong>conversion.webhook.clientConfig.caBundle</strong> ([]byte)</p><p>caBundle 是一个 PEM 编码的 CA 包，用于验证 Webhook 服务器的服务证书。
如果未指定，则使用 API 服务器上的系统根证书。</p></li><li><p><strong>conversion.webhook.clientConfig.service</strong> (ServiceReference)</p><p>service 是对此 Webhook 服务的引用。必须指定 service 或 url 字段之一。</p><p>如果在集群中运行 Webhook，那么你应该使用 <code>service</code>。</p><p><a name=ServiceReference></a></p><p><strong>ServiceReference 保存对 Service.legacy.k8s.io 的一个引用。</strong></p><ul><li><p><strong>conversion.webhook.clientConfig.service.name</strong> (string)，必需</p><p>name 是服务的名称。必需。</p></li></ul><ul><li><p><strong>conversion.webhook.clientConfig.service.namespace</strong> (string)，必需</p><p>namespace 是服务的命名空间。必需。</p></li><li><p><strong>conversion.webhook.clientConfig.service.path</strong> (string)</p><p>path 是一个可选的 URL 路径，Webhook 将通过该路径联系服务。</p></li><li><p><strong>conversion.webhook.clientConfig.service.port</strong> (int32)</p><p>port 是 Webhook 联系的可选服务端口。<code>port</code> 应该是一个有效的端口号（1-65535，包含）。
为实现向后兼容，默认端口号为 443。</p></li></ul></li><li><p><strong>conversion.webhook.clientConfig.url</strong> (string)</p><p>url 以标准 URL 的形式（<code>scheme://host:port/path</code>）给出 Webhook 的位置。<code>url</code> 或 <code>service</code> 必须指定一个且只能指定一个。</p><p><code>host</code> 不应引用集群中运行的服务；若使用集群内服务应改为使用 <code>service</code> 字段。
host 值可能会通过外部 DNS 解析（例如，<code>kube-apiserver</code> 无法解析集群内 DNS，因为这将违反分层规则）。
<code>host</code> 也可能是 IP 地址。</p><p>请注意，使用 <code>localhost</code> 或 <code>127.0.0.1</code> 作为 <code>host</code> 是有风险的，
除非你非常小心地在所有运行 API 服务器的主机上运行这个 Webhook，因为这些 API 服务器可能需要调用这个 Webhook。
这样的安装可能是不可移植的，也就是说，不容易在一个新的集群中复现。</p><p>scheme 必须是 "https"；URL 必须以 "https://" 开头。</p><p>路径（path）是可选的，如果存在，则可以是 URL 中允许的任何字符串。
你可以使用路径传递一个任意字符串给 Webhook，例如，一个集群标识符。</p><p>不允许使用用户或基本认证，例如 "user:password@"，是不允许的。片段（"#..."）和查询参数（"?..."）也是不允许的。</p></li></ul></li></ul></li></ul></li><li><p><strong>preserveUnknownFields</strong> (boolean)</p><p>preserveUnknownFields 表示将对象写入持久性存储时应保留 OpenAPI 模式中未规定的对象字段。
apiVersion、kind、元数据（metadata）和元数据中的已知字段始终保留。不推荐使用此字段，而建议在
<code>spec.versions[*].schema.openAPIV3Schema</code> 中设置 <code>x-preserve-unknown-fields</code> 为 true。
更多详细信息参见： <a href=https://kubernetes.io/zh-cn/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#field-pruning>https://kubernetes.io/zh-cn/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#field-pruning</a></p></li></ul><h2 id=JSONSchemaProps>JSONSchemaProps</h2><p>JSONSchemaProps 是JSON 模式（JSON-Schema），遵循其规范草案第 4 版（http://json-schema.org/）。</p><hr><ul><li><p><strong>$ref</strong> (string)</p></li><li><p><strong>$schema</strong> (string)</p></li><li><p><strong>additionalItems</strong> (JSONSchemaPropsOrBool)</p><p><a name=JSONSchemaPropsOrBool></a></p><p><strong>JSONSchemaPropsOrBool 表示 JSONSchemaProps 或布尔值。布尔属性默认为 true。</strong></p></li><li><p><strong>additionalProperties</strong> (JSONSchemaPropsOrBool)</p><p><a name=JSONSchemaPropsOrBool></a></p><p><strong>JSONSchemaPropsOrBool 表示 JSONSchemaProps 或布尔值。布尔属性默认为 true。</strong></p></li><li><p><strong>allOf</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p></li><li><p><strong>anyOf</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p></li><li><p><strong>default</strong> (JSON)</p><p>default 是未定义对象字段的默认值。设置默认值操作是 CustomResourceDefaulting 特性门控所控制的一个 Beta 特性。
应用默认值设置时要求 spec.preserveUnknownFields 为 false。</p><p><a name=JSON></a></p><p><strong>JSON 表示任何有效的 JSON 值。支持以下类型：bool、int64、float64、string、[]interface{}、map[string]interface{} 和 nil。</strong></p></li><li><p><strong>definitions</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p></li><li><p><strong>dependencies</strong> (map[string]JSONSchemaPropsOrStringArray)</p><p><a name=JSONSchemaPropsOrStringArray></a></p><p><strong>JSONSchemaPropsOrStringArray 表示 JSONSchemaProps 或字符串数组。</strong></p></li><li><p><strong>description</strong> (string)</p></li><li><p><strong>enum</strong> ([]JSON)</p><p><a name=JSON></a></p><p><strong>JSON 表示任何有效的 JSON 值。支持以下类型：bool、int64、float64、string、[]interface{}、map[string]interface{} 和 nil。</strong></p></li><li><p><strong>example</strong> (JSON)</p><p><a name=JSON></a></p><p><strong>JSON 表示任何有效的 JSON 值。支持以下类型：bool、int64、float64、string、[]interface{}、map[string]interface{} 和 nil。</strong></p></li><li><p><strong>exclusiveMaximum</strong> (boolean)</p></li><li><p><strong>exclusiveMinimum</strong> (boolean)</p></li><li><p><strong>externalDocs</strong> (ExternalDocumentation)</p><p><a name=ExternalDocumentation></a></p><p><strong>ExternalDocumentation 允许引用外部资源作为扩展文档。</strong></p><ul><li><p><strong>externalDocs.description</strong> (string)</p></li><li><p><strong>externalDocs.url</strong> (string)</p></li></ul></li><li><p><strong>format</strong> (string)</p><p>format 是 OpenAPI v3 格式字符串。未知格式将被忽略。以下格式会被验证合法性：</p><ul><li>bsonobjectid：一个 bson 对象的 ID，即一个 24 个字符的十六进制字符串</li><li>uri：由 Go 语言 net/url.ParseRequestURI 解析得到的 URI</li><li>email：由 Go 语言 net/mail.ParseAddress 解析得到的电子邮件地址</li><li>hostname：互联网主机名的有效表示，由 RFC 1034 第 3.1 节 [RFC1034] 定义</li><li>ipv4：由 Go 语言 net.ParseIP 解析得到的 IPv4 协议的 IP</li><li>ipv6：由 Go 语言 net.ParseIP 解析得到的 IPv6 协议的 IP</li><li>cidr: 由 Go 语言 net.ParseCIDR 解析得到的 CIDR</li><li>mac：由 Go 语言 net.ParseMAC 解析得到的一个 MAC 地址</li><li>uuid：UUID，允许大写字母，满足正则表达式 (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}$</li><li>uuid3：UUID3，允许大写字母，满足正则表达式 (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?3[0-9a-f]{3}-?[0-9a-f]{4}-?[0-9a-f]{12}$</li><li>uuid4：UUID4，允许大写字母，满足正则表达式 (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?4[0-9a-f]{3}-?[89ab][0-9a-f]{3}-?[0-9a-f]{12}$</li><li>uuid5：UUID5，允许大写字母，满足正则表达式 (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?5[0-9a-f]{3}-?[89ab][0-9a-f]{3}-?[0-9a-f]{12}$</li><li>isbn：一个 ISBN10 或 ISBN13 数字字符串，如 "0321751043" 或 "978-0321751041"</li><li>isbn10：一个 ISBN10 数字字符串，如 "0321751043"</li><li>isbn13: 一个 ISBN13 号码字符串，如 "978-0321751041"</li><li>creditcard：信用卡号码，满足正则表达式 ^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$，其中混合任意非数字字符</li><li>ssn：美国社会安全号码，满足正则表达式 ^\d{3}[- ]?\d{2}[- ]?\d{4}$</li><li>hexcolor：一个十六进制的颜色编码，如 "#FFFFFF"，满足正则表达式 ^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$</li><li>rgbcolor：一个 RGB 颜色编码 例如 "rgb(255,255,255)"</li><li>byte：base64 编码的二进制数据</li><li>password: 任何类型的字符串</li><li>date：类似 "2006-01-02" 的日期字符串，由 RFC3339 中的完整日期定义</li><li>duration：由 Go 语言 time.ParseDuration 解析的持续时长字符串，如 "22 ns"，或与 Scala 持续时间格式兼容。</li><li>datetime：一个日期时间字符串，如 "2014-12-15T19:30:20.000Z"，由 RFC3339 中的 date-time 定义。</li></ul></li><li><p><strong>id</strong> (string)</p></li><li><p><strong>items</strong> (JSONSchemaPropsOrArray)</p><p><a name=JSONSchemaPropsOrArray></a></p><p><strong>JSONSchemaPropsOrArray 表示可以是 JSONSchemaProps 或 JSONSchemaProps 数组的值。这里目的主要用于序列化。</strong></p></li><li><p><strong>maxItems</strong> (int64)</p></li><li><p><strong>maxLength</strong> (int64)</p></li><li><p><strong>maxProperties</strong> (int64)</p></li><li><p><strong>maximum</strong> (double)</p></li><li><p><strong>minItems</strong> (int64)</p></li><li><p><strong>minLength</strong> (int64)</p></li><li><p><strong>minProperties</strong> (int64)</p></li><li><p><strong>minimum</strong> (double)</p></li><li><p><strong>multipleOf</strong> (double)</p></li><li><p><strong>not</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p></li><li><p><strong>nullable</strong> (boolean)</p></li><li><p><strong>oneOf</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p></li><li><p><strong>pattern</strong> (string)</p></li><li><p><strong>patternProperties</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p></li><li><p><strong>properties</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p></li><li><p><strong>required</strong> ([]string)</p></li><li><p><strong>title</strong> (string)</p></li><li><p><strong>type</strong> (string)</p></li><li><p><strong>uniqueItems</strong> (boolean)</p></li><li><p><strong>x-kubernetes-embedded-resource</strong> (boolean)</p><p>x-kubernetes-embedded-resource 定义该值是一个嵌入式 Kubernetes runtime.Object，具有 TypeMeta 和 ObjectMeta。
类型必须是对象。允许进一步限制嵌入对象。会自动验证 kind、apiVersion 和 metadata 等字段值。
x-kubernetes-preserve-unknown-fields 允许为 true，但如果对象已完全指定
（除 kind、apiVersion、metadata 之外），则不必为 true。</p></li><li><p><strong>x-kubernetes-int-or-string</strong> (boolean)</p><p>x-kubernetes-int-or-string 指定此值是整数或字符串。如果为 true，则允许使用空类型，
并且如果遵循以下模式之一，则允许作为 anyOf 的子类型：</p><ol><li>anyOf:<ul><li>type: integer</li><li>type: string</li></ul></li><li>allOf:<ul><li>anyOf:<ul><li>type: integer</li><li>type: string</li></ul></li></ul><ul><li>（可以有选择地包含其他类型）</li></ul></li></ol></li><li><p><strong>x-kubernetes-list-map-keys</strong> ([]string)</p><p>X-kubernetes-list-map-keys 通过指定用作 map 索引的键来使用 x-kubernetes-list-type <code>map</code> 注解数组。</p><p>这个标签必须只用于 "x-kubernetes-list-type" 扩展设置为 "map" 的列表。
而且，为这个属性指定的值必须是子结构的标量类型的字段（不支持嵌套）。</p><p>指定的属性必须是必需的或具有默认值，以确保所有列表项都存在这些属性。</p></li><li><p><strong>x-kubernetes-list-type</strong> (string)</p><p>x-kubernetes-list-type 注解一个数组以进一步描述其拓扑。此扩展名只能用于列表，并且可能有 3 个可能的值：</p><ol><li><code>atomic</code>：
列表被视为单个实体，就像标量一样。原子列表在更新时将被完全替换。这个扩展可以用于任何类型的列表（结构，标量，…）。</li><li><code>set</code>：
set 是不能有多个具有相同值的列表。每个值必须是标量、具有 x-kubernetes-map-type
<code>atomic</code> 的对象或具有 x-kubernetes-list-type <code>atomic</code> 的数组。</li><li><code>map</code>：
这些列表类似于映射表，因为它们的元素具有用于标识它们的非索引键。合并时保留顺序。
map 标记只能用于元数类型为 object 的列表。
数组默认为原子数组。</li></ol></li><li><p><strong>x-kubernetes-map-type</strong> (string)</p><p>x-kubernetes-map-type 注解一个对象以进一步描述其拓扑。此扩展只能在 type 为 object 时使用，并且可能有 2 个可能的值：</p><ol><li><code>granular</code>：
这些 map 是真实的映射（键值对），每个字段都是相互独立的（它们都可以由不同的角色来操作）。
这是所有 map 的默认行为。</li><li><code>atomic</code>：map 被视为单个实体，就像标量一样。原子 map 更新后将被完全替换。</li></ol></li><li><p><strong>x-kubernetes-preserve-unknown-fields</strong> (boolean)</p><p>x-kubernetes-preserve-unknown-fields 针对未在验证模式中指定的字段，禁止 API 服务器的解码步骤剪除这些字段。
这一设置对字段的影响是递归的，但在模式中指定了嵌套 properties 或 additionalProperties 时，会切换回正常的字段剪除行为。
该值可为 true 或 undefined，不能为 false。</p></li><li><p><strong>x-kubernetes-validations</strong> ([]ValidationRule)</p><p><strong>补丁策略：基于键 <code>rule</code> 合并</strong></p><p><strong>Map：合并时将保留 rule 键的唯一值</strong></p><p>x-kubernetes-validations 描述了用 CEL 表达式语言编写的验证规则列表。此字段是 Alpha 级别。
使用此字段需要启用 <code>CustomResourceValidationExpressions</code> 特性门控。</p><p><a name=ValidationRule></a></p><p><strong>ValidationRule 描述用 CEL 表达式语言编写的验证规则。</strong></p><ul><li><p><strong>x-kubernetes-validations.rule</strong> (string)，必需</p><p>rule 表示将由 CEL 评估的表达式。参考： <a href=https://github.com/google/cel-spec>https://github.com/google/cel-spec</a>。
rule 的作用域为模式中的 x-kubernetes-validation 扩展所在的位置。CEL 表达式中的 <code>self</code> 与作用域值绑定。
例子：rule 的作用域是一个具有状态子资源的资源根：{"rule": "self.status.actual &lt;= self.spec.maxDesired"}。</p><p>如果 rule 的作用域是一个带有属性的对象，那么该对象的可访问属性是通过 <code>self</code> 进行字段选择的，
并且可以通过 <code>has(self.field)</code> 来检查字段是否存在。在 CEL 表达式中，Null 字段被视为不存在的字段。
如果该 rule 的作用域是一个带有附加属性的对象（例如一个 map），那么该 map 的值可以通过
<code>self[mapKey]</code>来访问，map 是否包含某主键可以通过 <code>mapKey in self</code> 来检查。
map 中的所有条目都可以通过 CEL 宏和函数（如 <code>self.all(...)</code>）访问。
如果 rule 的作用域是一个数组，数组的元素可以通过 <code>self[i]</code> 访问，也可以通过宏和函数访问。
如果 rule 的作用域为标量，<code>self</code> 绑定到标量值。举例：</p><ul><li>rule 作用域为对象映射：{"rule": "self.components['Widget'].priority &lt; 10"}</li><li>rule 作用域为整数列表：{"rule": "self.values.all(value, value >= 0 && value &lt; 100)"}</li><li>rule 作用域为字符串值：{"rule": "self.startsWith('kube')"}</li></ul><p><code>apiVersion</code>, <code>kind</code>, <code>metadata.name</code> 和 <code>metadata.generateName</code> 总是可以从对象的根和任何带
x-kubernetes-embedded-resource 注解的对象访问。其他元数据属性都无法访问。</p><p>在 CEL 表达式中无法访问通过 x-kubernetes-preserve-unknown-fields 保存在自定义资源中的未知数据。
这包括：</p><ul><li><p>由包含 x-kubernetes-preserve-unknown-fields 的对象模式所保留的未知字段值；</p></li><li><p>属性模式为 "未知类型" 的对象属性。"未知类型" 递归定义为：</p><ul><li>没有设置 type 但 x-kubernetes-preserve-unknown-fields 设置为 true 的模式。</li><li>条目模式为"未知类型"的数组。</li><li>additionalProperties 模式为"未知类型"的对象。</li></ul></li></ul><p>只有名称符合正则表达式 <code>[a-zA-Z_.-/][a-zA-Z0-9_.-/]*</code> 的属性才可被访问。
在表达式中访问属性时，可访问的属性名称根据以下规则进行转义：</p><ul><li><p>'__' 转义为 '<strong>underscores</strong>'</p></li><li><p>'.' 转义为 '<strong>dot</strong>'</p></li><li><p>'-' 转义为 '<strong>dash</strong>'</p></li><li><p>'/' 转义为 '<strong>slash</strong>'</p></li><li><p>恰好匹配 CEL 保留关键字的属性名称转义为 '<strong>{keyword}</strong>' 。这里的关键字具体包括：
"true"，"false"，"null"，"in"，"as"，"break"，"const"，"continue"，"else"，"for"，"function"，"if"，
"import"，"let"，"loop"，"package"，"namespace"，"return"。
举例：</p><ul><li>规则访问名为 "namespace" 的属性：<code>{"rule": "self.__namespace__ > 0"}</code></li><li>规则访问名为 "x-prop" 的属性：<code>{"rule": "self.x__dash__prop > 0"}</code></li><li>规则访问名为 "redact__d" 的属性：<code>{"rule": "self.redact__underscores__d > 0"}</code></li></ul></li></ul><p>对 x-kubernetes-list-type 为 'set' 或 'map' 的数组进行比较时忽略元素顺序，如：[1, 2] == [2, 1]。
使用 x-kubernetes-list-type 对数组进行串接使用下列类型的语义：</p><ul><li>'set'：<code>X + Y</code> 执行合并，其中 <code>X</code> 保留所有元素的数组位置，并附加不相交的元素 <code>Y</code>，保留其局部顺序。</li><li>'map'：<code>X + Y</code> 执行合并，保留 <code>X</code> 中所有键的数组位置，但当 <code>X</code> 和 <code>Y</code> 的键集相交时，会被 <code>Y</code> 中的值覆盖。
添加 <code>Y</code> 中具有不相交键的元素，保持其局顺序。</li></ul></li><li><p><strong>x-kubernetes-validations.message</strong> (string)</p><p>message 表示验证失败时显示的消息。如果规则包含换行符，则需要该消息。消息不能包含换行符。
如果未设置，则消息为 "failed rule: {Rule}"，如："must be a URL with the host matching spec.host"</p></li></ul></li></ul><h2 id=CustomResourceDefinitionStatus>CustomResourceDefinitionStatus</h2><p>CustomResourceDefinitionStatus 表示 CustomResourceDefinition 的状态。</p><hr><ul><li><p><strong>acceptedNames</strong> (CustomResourceDefinitionNames)</p><p>acceptedNames 是实际用于服务发现的名称。它们可能与规约（spec）中的名称不同。</p><p><a name=CustomResourceDefinitionNames></a></p><p><strong>CustomResourceDefinitionNames 表示提供此 CustomResourceDefinition 资源的名称。</strong></p><ul><li><p><strong>acceptedNames.kind</strong> (string)，必需</p><p>kind 是资源的序列化类型。它通常是驼峰命名的单数形式。自定义资源实例将使用此值作为 API 调用中的 <code>kind</code> 属性。</p></li></ul><ul><li><p><strong>acceptedNames.plural</strong> (string), required</p><p>plural 是所提供的资源的复数名称，自定义资源在 <code>/apis/&lt;group>/&lt;version>/.../&lt;plural></code> 下提供。
必须与 CustomResourceDefinition 的名称匹配（格式为 <code>&lt;names.plural>.&lt;group></code>）。必须全部小写。</p></li><li><p><strong>acceptedNames.categories</strong> ([]string)</p><p>categories 是此自定义资源所属的分组资源列表（例如 'all'）。
它在 API 发现文档中发布，并被客户端用于支持像 <code>kubectl get all</code> 这样的调用。</p></li><li><p><strong>acceptedNames.listKind</strong> (string)</p><p>listKind 是此资源列表的序列化类型。默认为 "<code>&lt;kind>List</code>"。</p></li><li><p><strong>acceptedNames.shortNames</strong> ([]string)</p><p>shortNames 是资源的短名称，在 API 发现文档中公开，并支持客户端调用，如 <code>kubectl get &lt;shortname></code>。必须全部小写。</p></li><li><p><strong>acceptedNames.singular</strong> (string)</p><p>singular 是资源的单数名称。必须全部小写。默认为小写形式的 <code>kind</code>。</p></li></ul></li><li><p><strong>conditions</strong> ([]CustomResourceDefinitionCondition)</p><p><strong>Map：合并时将保留 type 键的唯一值</strong></p><p>conditions 表示 CustomResourceDefinition 特定方面的状态</p><p><a name=CustomResourceDefinitionCondition></a></p><p><strong>CustomResourceDefinitionCondition 包含此 Pod 当前状况的详细信息。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>status 表示状况（Condition）的状态，取值为 True、False 或 Unknown 之一。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string)，必需</p><p>type 是状况的类型。类型包括：Established、NamesAccepted 和 Terminating。</p></li><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>lastTransitionTime 是上一次发生状况状态转换的时间。</p><p><a name=Time></a></p><p><strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。</strong></p></li><li><p><strong>conditions.message</strong> (string)</p><p>message 是有关上次转换的详细可读信息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>reason 表述状况上次转换原因的、驼峰格式命名的、唯一的一个词。</p></li></ul></li><li><p><strong>storedVersions</strong> ([]string)</p><p>storedVersions 列出了曾经被持久化的所有 CustomResources 版本。跟踪这些版本可以为 etcd 中的存储版本提供迁移路径。
该字段是可变的，因此迁移控制器可以完成到另一个版本的迁移（确保存储中没有遗留旧对象），然后从该列表中删除其余版本。
当版本在此列表中时，则不能从 <code>spec.versions</code> 中删除。</p></li></ul><h2 id=CustomResourceDefinitionList>CustomResourceDefinitionList</h2><p>CustomResourceDefinitionList 是 CustomResourceDefinition 对象的列表。</p><hr><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>)，必需</p><p>items 列出单个 CustomResourceDefinition 对象</p></li><li><p><strong>apiVersion</strong> (string)</p><p>apiVersion 定义对象表示的版本化模式。服务器应将已识别的模式转换为最新的内部值，并可能拒绝未识别的值。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p></li><li><p><strong>kind</strong> (string)</p><p>kind 是一个字符串值，表示该对象所表示的 REST 资源。服务器可以从客户端提交请求的端点推断出 REST 资源。不能被更新。驼峰命名。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><h2 id=Operations>Operations</h2><hr><h3 id=get-读取指定的-customresourcedefinition><code>get</code> 读取指定的 CustomResourceDefinition</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>CustomResourceDefinition 的名称</p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-customresourcedefinition-的状态><code>get</code> 读取指定 CustomResourceDefinition 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>CustomResourceDefinition 的名称</p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-customresourcedefinition-类型的对象><code>list</code> 列出或观察 CustomResourceDefinition 类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/apiextensions.k8s.io/v1/customresourcedefinitions</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinitionList>CustomResourceDefinitionList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-customresourcedefinition><code>create</code> 创建一个 CustomResourceDefinition</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/apiextensions.k8s.io/v1/customresourcedefinitions</p><h4 id=参数-3>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-customresourcedefinition><code>update</code> 替换指定的 CustomResourceDefinition</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>CustomResourceDefinition 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-customresourcedefinition-的状态><code>update</code> 替换指定 CustomResourceDefinition 的状态</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}/status</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>CustomResourceDefinition 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-customresourcedefinition><code>patch</code> 部分更新指定的 CustomResourceDefinition</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>CustomResourceDefinition 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong>（<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-customresourcedefinition-的状态><code>patch</code> 部分更新指定 CustomResourceDefinition 的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>CustomResourceDefinition 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-customresourcedefinition><code>delete</code> 删除一个 CustomResourceDefinition</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>CustomResourceDefinition 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-customresourcedefinition-的集合><code>deletecollection</code> 删除 CustomResourceDefinition 的集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/apiextensions.k8s.io/v1/customresourcedefinitions</p><h4 id=参数-9>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ad24d230da8fe5a5c54bc6bff4169d24>7.2 - MutatingWebhookConfiguration</h1><div class=lead>MutatingWebhookConfiguration 描述准入 Webhook 的配置，该 Webhook 可在更改对象的情况下接受或拒绝对象请求</div><p><code>apiVersion: admissionregistration.k8s.io/v1</code></p><p><code>import "k8s.io/api/admissionregistration/v1"</code></p><h2 id=MutatingWebhookConfiguration>MutatingWebhookConfiguration</h2><p>MutatingWebhookConfiguration 描述准入 Webhook 的配置，该 Webhook 可接受或拒绝对象请求，并且可能变更对象。</p><hr><ul><li><p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p></li><li><p><strong>kind</strong>: MutatingWebhookConfiguration</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>。</p></li></ul><ul><li><p><strong>webhooks</strong> ([]MutatingWebhook)</p><p><strong>补丁策略：根据 <code>name</code> 键执行合并操作</strong></p><p>webhooks 是 Webhook 及其所影响的资源和操作的列表。</p><p><a name=MutatingWebhook></a>
<strong>MutatingWebhook 描述了一个准入 Webhook 及其适用的资源和操作。</strong></p><ul><li><p><strong>webhooks.admissionReviewVersions</strong> ([]string), 必需</p><p>admissionReviewVersions 是 Webhook 期望的 <code>AdmissionReview</code> 版本的优选顺序列表。
API 服务器将尝试使用它所支持的版本列表中的第一个版本。如果 API 服务器不支持此列表中设置的任何版本，则此对象将验证失败。
如果持久化的 Webhook 配置指定了所允许的版本，但其中不包括 API 服务器所知道的任何版本，
则对 Webhook 的调用将失败并根据失败策略进行处理。</p></li></ul><ul><li><p><strong>webhooks.clientConfig</strong> (WebhookClientConfig), 必需</p><p>clientConfig 定义了如何与 Webhook 通信。必需。</p><p><a name=WebhookClientConfig></a>
<strong>WebhookClientConfig 包含与 Webhook 建立 TLS 连接的信息</strong></p><ul><li><p><strong>webhooks.clientConfig.caBundle</strong> ([]byte)</p><p><code>caBundle</code> 是一个 PEM 编码的 CA 包，将用于验证 Webhook 的服务证书。如果未指定，则使用 apiserver 上的系统信任根。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service</strong> (ServiceReference)</p><p><code>service</code> 是对此 Webhook 的服务的引用。必须指定 <code>service</code> 或 <code>url</code> 之一。</p><p>如果 Webhook 在集群中运行，那么你应该使用 <code>service</code>。</p><p><a name=ServiceReference></a>
<strong>ServiceReference 包含对 Service.legacy.k8s.io 的引用</strong></p><ul><li><p><strong>webhooks.clientConfig.service.name</strong> (string), 必需</p><p><code>name</code> 是服务的名称。必需。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service.namespace</strong> (string), 必需</p><p><code>namespace</code> 是服务的命名空间。必需。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service.path</strong> (string)</p><p><code>path</code> 是一个可选的 URL 路径，在针对此服务的所有请求中都会发送此路径。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service.port</strong> (int32)</p><p>如果指定了，则为托管 Webhook 的服务上的端口。默认为 443 以实现向后兼容。
<code>port</code> 应该是一个有效的端口号（包括 1-65535）。</p></li></ul></li></ul><ul><li><p><strong>webhooks.clientConfig.url</strong> (string)</p><p><code>url</code> 以标准 URL 形式（<code>scheme://host:port/path</code>）给出了 Webhook 的位置。必须指定 <code>url</code> 或 <code>service</code> 中的一个。</p><p><code>host</code> 不能用来引用集群中运行的服务；这种情况应改用 <code>service</code> 字段。在某些 API 服务器上，可能会通过外部 DNS 解析 <code>host</code> 值。
（例如，<code>kube-apiserver</code> 无法解析集群内 DNS，因为这会违反分层原理）。<code>host</code> 也可以是 IP 地址。</p><p>请注意，使用 <code>localhost</code> 或 <code>127.0.0.1</code> 作为 <code>host</code> 是有风险的，除非你非常小心地在运行 apiserver 的所有主机上运行此 Webhook，
而这些 API 服务器可能需要调用此 Webhook。此类部署可能是不可移植的，即不容易在新集群中重复安装。</p><p>该方案必须是 “https”；URL 必须以 “https://” 开头。</p><p>路径是可选的，如果存在，可以是 URL 中允许的任何字符串。你可以使用路径将任意字符串传递给 Webhook，例如集群标识符。</p><p>不允许使用用户或基本身份验证，例如不允许使用 “user:password@”。
不允许使用片段（“#...”）和查询参数（“?...”）。</p></li></ul></li></ul><ul><li><p><strong>webhooks.name</strong> (string), 必需</p><p>准入 Webhook 的名称。应该是完全限定的名称，例如 imagepolicy.kubernetes.io，其中 “imagepolicy” 是 Webhook 的名称，
kubernetes.io 是组织的名称。必需。</p></li></ul><ul><li><p><strong>webhooks.sideEffects</strong> (string), 必需</p><p>sideEffects 说明此 Webhook 是否有副作用。可接受的值为：None、NoneOnDryRun（通过 v1beta1 创建的 Webhook 也可以指定 Some 或 Unknown）。
具有副作用的 Webhook 必须实现协调系统，因为请求可能会被准入链中的未来步骤拒绝，因此需要能够撤消副作用。
如果请求与带有 sideEffects == Unknown 或 Some 的 Webhook 匹配，则带有 dryRun 属性的请求将被自动拒绝。</p></li></ul><ul><li><p><strong>webhooks.failurePolicy</strong> (string)</p><p>failurePolicy 定义如何处理来自准入端点的无法识别的错误 - 允许的值是 Ignore 或 Fail。默认为 Fail。</p></li></ul><ul><li><p><strong>webhooks.matchPolicy</strong> (string)</p><p>matchPolicy 定义了如何使用 “rules” 列表来匹配传入的请求。允许的值为 “Exact” 或 “Equivalent”。</p><ul><li><p>Exact: 仅当请求与指定规则完全匹配时才匹配请求。
例如，如果可以通过 apps/v1、apps/v1beta1 和 extensions/v1beta1 修改 deployments 资源，
但 “rules” 仅包含 <code>apiGroups:["apps"]、apiVersions:["v1"]、resources:["deployments"]</code>，
对 apps/v1beta1 或 extensions/v1beta1 的请求不会被发送到 Webhook。</p></li><li><p>Equivalent: 如果针对的资源包含在 “rules” 中，即使请求是通过另一个 API 组或版本提交，也会匹配。
例如，如果可以通过 apps/v1、apps/v1beta1 和 extensions/v1beta1 修改 deployments 资源，
并且 “rules” 仅包含 <code>apiGroups:["apps"]、apiVersions:["v1"]、resources:["deployments "]</code>，
对 apps/v1beta1 或 extensions/v1beta1 的请求将被转换为 apps/v1 并发送到 Webhook。</p></li></ul><p>默认为 “Equivalent”。</p></li><li><p><strong>webhooks.namespaceSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>namespaceSelector 根据对象的命名空间是否与 selector 匹配来决定是否在该对象上运行 Webhook。
如果对象本身是 Namespace，则针对 object.metadata.labels 执行匹配。
如果对象是其他集群作用域资源，则永远不会跳过 Webhook 的匹配动作。</p><p>例如，为了针对 “runlevel” 不为 “0” 或 “1” 的名字空间中的所有对象运行 Webhook；
你可以按如下方式设置 selector :</p><pre tabindex=0><code>&#34;namespaceSelector&#34;: {
  &#34;matchExpressions&#34;: [
    {
      &#34;key&#34;: &#34;runlevel&#34;,
      &#34;operator&#34;: &#34;NotIn&#34;,
      &#34;values&#34;: [
        &#34;0&#34;,
        &#34;1&#34;
      ]
    }
  ]
}
</code></pre><p>相反，如果你只想针对 “environment” 为 “prod” 或 “staging” 的名字空间中的对象运行 Webhook；
你可以按如下方式设置 selector:</p><pre tabindex=0><code>&#34;namespaceSelector&#34;: {
  &#34;matchExpressions&#34;: [
    {
      &#34;key&#34;: &#34;environment&#34;,
      &#34;operator&#34;: &#34;In&#34;,
      &#34;values&#34;: [
        &#34;prod&#34;,
        &#34;staging&#34;
      ]
    }
  ]
}
</code></pre><p>有关标签选择算符的更多示例，请参阅
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels</a>。</p><p>默认为空的 LabelSelector，匹配所有对象。</p></li></ul><ul><li><p><strong>webhooks.objectSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>objectSelector 根据对象是否具有匹配的标签来决定是否运行 Webhook。
objectSelector 针对将被发送到 Webhook 的 oldObject 和 newObject 进行评估，如果任一对象与选择器匹配，则视为匹配。
空对象（create 时为 oldObject，delete 时为 newObject）或不能有标签的对象（如 DeploymentRollback 或 PodProxyOptions 对象）
认为是不匹配的。
仅当 Webhook 支持时才能使用对象选择器，因为最终用户可以通过设置标签来跳过准入 Webhook。
默认为空的 LabelSelector，匹配所有内容。</p></li><li><p><strong>webhooks.reinvocationPolicy</strong> (string)</p><p>reinvocationPolicy 表示这个 Webhook 是否可以被多次调用，作为一次准入评估的一部分。可取值有 “Never” 和 “IfNeeded”。</p><ul><li>Never: 在一次录取评估中，Webhook 被调用的次数不会超过一次。</li><li>IfNeeded：如果被录取的对象在被最初的 Webhook 调用后又被其他录取插件修改，
那么该 Webhook 将至少被额外调用一次作为录取评估的一部分。
指定此选项的 Webhook <strong>必须</strong>是幂等的，能够处理它们之前承认的对象。
注意：<strong>不保证额外调用的次数正好为1。</strong>
如果额外的调用导致对对象的进一步修改，Webhook 不保证会再次被调用。
<strong>使用该选项的 Webhook 可能会被重新排序，以最小化额外调用的数量。</strong>
在保证所有的变更都完成后验证一个对象，使用验证性质的准入 Webhook 代替。</li></ul><p>默认值为 “Never” 。</p></li></ul><ul><li><p><strong>webhooks.rules</strong> ([]RuleWithOperations)</p><p>rules 描述了 Webhook 关心的资源/子资源上有哪些操作。Webhook 关心操作是否匹配<strong>任何</strong>rules。
但是，为了防止 ValidatingAdmissionWebhooks 和 ValidatingAdmissionWebhooks 将集群置于只能完全禁用插件才能恢复的状态，
ValidatingAdmissionWebhooks 和 ValidatingAdmissionWebhooks 永远不会在处理 ValidatingWebhookConfiguration
和 ValidatingWebhookConfiguration 对象的准入请求被调用。</p><p><a name=RuleWithOperations></a>
<strong>RuleWithOperations 是操作和资源的元组。建议确保所有元组组合都是有效的。</strong></p><ul><li><p><strong>webhooks.rules.apiGroups</strong> ([]string)</p><p>apiGroups 是资源所属的 API 组列表。<code>*</code> 是所有组。
如果存在 <code>*</code>，则列表的长度必须为 1。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.apiVersions</strong> ([]string)</p><p>apiVersions 是资源所属的 API 版本列表。<code>*</code> 是所有版本。
如果存在 <code>*</code>，则列表的长度必须为 1。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.operations</strong> ([]string)</p><p>operations 是准入 Webhook 所关心的操作 —— CREATE、UPDATE、DELETE、CONNECT
或用来指代所有已知操作以及将来可能添加的准入操作的 <code>*</code>。
如果存在 <code>*</code>，则列表的长度必须为 1。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.resources</strong> ([]string)</p><p>resources 是此规则适用的资源列表。</p><ul><li><code>pods</code> 表示 pods，'pods/log' 表示 pods 的日志子资源。<code>*</code> 表示所有资源，但不是子资源。</li><li><code>pods/*</code> 表示 pods 的所有子资源,</li><li><code>*/scale</code> 表示所有 scale 子资源,</li><li><code>*/*</code> 表示所有资源及其子资源。</li></ul><p>如果存在通配符，则验证规则将确保资源不会相互重叠。</p><p>根据所指定的对象，可能不允许使用子资源。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.scope</strong> (string)</p><p>scope 指定此规则的范围。有效值为 “Cluster”, “Namespaced” 和 “<em>”。
“Cluster” 表示只有集群范围的资源才会匹配此规则。
Namespace API 对象是集群范围的。
“Namespaced” 意味着只有命名空间作用域的资源会匹配此规则。
“</em>” 表示没有范围限制。
子资源与其父资源的作用域相同。默认为 “*”。</p></li></ul></li></ul><ul><li><p><strong>webhooks.timeoutSeconds</strong> (int32)</p><p>timeoutSeconds 指定此 Webhook 的超时时间。
超时后，Webhook 的调用将被忽略或 API 调用将根据失败策略失败。
超时值必须在 1 到 30 秒之间。默认为 10 秒。</p></li></ul></li></ul><h2 id=MutatingWebhookConfigurationList>MutatingWebhookConfigurationList</h2><p>MutatingWebhookConfigurationList 是 MutatingWebhookConfiguration 的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p></li><li><p><strong>kind</strong>: MutatingWebhookConfigurationList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a>。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>), 必需</p><p>MutatingWebhookConfiguration 列表。</p></li></ul><h2 id=operations>操作</h2><hr><h3 id=get-读取指定的-mutatingwebhookconfiguration><code>get</code> 读取指定的 MutatingWebhookConfiguration</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>MutatingWebhookConfiguration 的名称。</p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-mutatingwebhookconfiguration-类型的对象><code>list</code> 列出或观察 MutatingWebhookConfiguration 类型的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfigurationList>MutatingWebhookConfigurationList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-mutatingwebhookconfiguration><code>create</code> 创建一个 MutatingWebhookConfiguration</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations</p><h4 id=参数-2>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-mutatingwebhookconfiguration><code>update</code> 替换指定的 MutatingWebhookConfiguration</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>MutatingWebhookConfiguration 的名称。</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-mutatingwebhookconfiguration><code>patch</code> 部分更新指定的 MutatingWebhookConfiguration</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>MutatingWebhookConfiguration 的名称。</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-mutatingwebhookconfiguration><code>delete</code> 删除 MutatingWebhookConfiguration</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>MutatingWebhookConfiguration 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-mutatingwebhookconfiguration-的集合><code>deletecollection</code> 删除 MutatingWebhookConfiguration 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations</p><h4 id=参数-6>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ad9945bc57d13986240173bdc1448f1b>7.3 - ValidatingWebhookConfiguration</h1><div class=lead>ValidatingWebhookConfiguration 描述准入 Webhook 的配置，该 Webhook 可在不更改对象的情况下接受或拒绝对象请求</div><p><code>apiVersion: admissionregistration.k8s.io/v1</code></p><p><code>import "k8s.io/api/admissionregistration/v1"</code></p><h2 id=validatingWebhookConfiguration>ValidatingWebhookConfiguration</h2><p>ValidatingWebhookConfiguration 描述准入 Webhook 的配置，该 Webhook 可在不更改对象的情况下接受或拒绝对象请求。</p><hr><ul><li><p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p></li><li><p><strong>kind</strong>: ValidatingWebhookConfiguration</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>。</p></li></ul><ul><li><p><strong>webhooks</strong> ([]ValidatingWebhook)</p><p><strong>补丁策略：根据 <code>name</code> 键执行合并操作</strong></p><p>webhooks 是 Webhook 以及受影响的资源和操作的列表。</p><p><a name=ValidatingWebhook></a>
<strong>ValidatingWebhook 描述了一个准入 Webhook 及其适用的资源和操作。</strong></p><ul><li><p><strong>webhooks.admissionReviewVersions</strong> ([]string), 必需</p><p>admissionReviewVersions 是 Webhook 期望的首选 <code>AdmissionReview</code> 版本的有序列表。
API 服务器将尝试使用它支持的列表中的第一个版本。如果 API 服务器不支持此列表中指定的版本，则此对象将验证失败。
如果持久化的 Webhook 配置指定了允许的版本，并且不包括 API 服务器已知的任何版本，则对 Webhook 的调用将失败并受失败策略的约束。</p></li></ul><ul><li><p><strong>webhooks.clientConfig</strong> (WebhookClientConfig), 必需</p><p>clientConfig 定义了如何与 Webhook 通信。必需。</p><p><a name=WebhookClientConfig></a>
<strong>WebhookClientConfig 包含与 Webhook 建立 TLS 连接的信息</strong></p><ul><li><p><strong>webhooks.clientConfig.caBundle</strong> ([]byte)</p><p><code>caBundle</code> 是一个 PEM 编码的 CA 包，将用于验证 Webhook 的服务证书。如果未指定，则使用 apiserver 上的系统信任根。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service</strong> (ServiceReference)</p><p><code>service</code> 是对此 Webhook 服务的引用。必须指定 <code>service</code> 或 <code>url</code>。</p><p>如果 Webhook 在集群中运行，那么你应该使用 <code>service</code>。</p><p><a name=ServiceReference></a>
<strong>ServiceReference 持有对 Service.legacy.k8s.io 的引用</strong></p><ul><li><p><strong>webhooks.clientConfig.service.name</strong> (string), 必需</p><p><code>name</code> 是服务的名称。必需。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service.namespace</strong> (string), 必需</p><p><code>namespace</code> 是服务的命名空间。必需。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service.path</strong> (string)</p><p><code>path</code> 是一个可选的 URL 路径，它将发送任何请求到此服务。</p></li></ul><ul><li><p><strong>webhooks.clientConfig.service.port</strong> (int32)</p><p>如果指定，则为托管 Webhook 的服务上的端口。默认为 443 以实现向后兼容性。<code>port</code> 应该是一个有效的端口号（包括 1-65535）。</p></li></ul></li></ul><ul><li><p><strong>webhooks.clientConfig.url</strong> (string)</p><p><code>url</code> 以标准 URL 形式（<code>scheme://host:port/path</code>）给出了 Webhook 的位置。必须指定 <code>url</code> 或 <code>service</code> 中的一个。</p><p><code>host</code> 不应指代在集群中运行的服务；请改用 <code>service</code> 字段。在某些 apiserver 中，可能会通过外部 DNS 解析 <code>host</code>。
（例如，<code>kube-apiserver</code> 无法解析集群内 DNS，因为这会违反分层原理）。<code>host</code> 也可以是 IP 地址。</p><p>请注意，使用 <code>localhost</code> 或 <code>127.0.0.1</code> 作为 <code>host</code> 是有风险的，除非你非常小心地在运行 apiserver 的所有主机上运行此 Webhook，
而这些 API 服务器可能需要调用此 Webhook。此类部署可能是不可移植的，即不容易在新集群中重复安装。</p><p>该方案必须是 “https”；URL 必须以 “https://” 开头。</p><p>路径是可选的，如果存在，可以是 URL 中允许的任何字符串。你可以使用路径将任意字符串传递给 Webhook，例如集群标识符。</p><p>不允许使用用户或基本身份验证，例如不允许使用 “user:password@”。
不允许使用片段（“#...”）和查询参数（“?...”）。</p></li></ul></li></ul><ul><li><p><strong>webhooks.name</strong> (string), 必需</p><p>准入 Webhook 的名称。应该是完全限定的名称，例如 imagepolicy.kubernetes.io，其中 “imagepolicy” 是 Webhook 的名称，
kubernetes.io 是组织的名称。必需。</p></li></ul><ul><li><strong>webhooks.sideEffects</strong> (string), 必需</li></ul><p>sideEffects 说明此 Webhook 是否有副作用。可接受的值为：None、NoneOnDryRun（通过 v1beta1 创建的 Webhook 也可以指定 Some 或 Unknown）。
具有副作用的 Webhook 必须实现协调系统，因为请求可能会被准入链中的未来步骤拒绝，因此需要能够撤消副作用。
如果请求与带有 sideEffects == Unknown 或 Some 的 Webhook 匹配，则带有 dryRun 属性的请求将被自动拒绝。</p><ul><li><p><strong>webhooks.failurePolicy</strong> (string)</p><p>failurePolicy 定义了如何处理来自准入端点的无法识别的错误 - 允许的值是 Ignore 或 Fail。默认为 Fail。</p></li></ul><ul><li><p><strong>webhooks.matchPolicy</strong> (string)</p><p>matchPolicy 定义了如何使用 "rules" 列表来匹配传入的请求。允许的值为 "Exact" 或 "Equivalent"。</p><ul><li><p>Exact: 仅当请求与指定规则完全匹配时才匹配请求。
例如，如果可以通过 apps/v1、apps/v1beta1 和 extensions/v1beta1 修改 deployments 资源，
但 “rules” 仅包含 <code>apiGroups:["apps"]、apiVersions:["v1"]、resources:["deployments "]</code>，
对 apps/v1beta1 或 extensions/v1beta1 的请求不会被发送到 Webhook。</p></li><li><p>Equivalent: 如果针对的资源包含在 “rules” 中，即使是通过另一个 API 组或版本，也视作匹配请求。
例如，如果可以通过 apps/v1、apps/v1beta1 和 extensions/v1beta1 修改 deployments 资源，
并且 “rules” 仅包含 <code>apiGroups:["apps"]、apiVersions:["v1"]、resources:["deployments "]</code>，
对 apps/v1beta1 或 extensions/v1beta1 的请求将被转换为 apps/v1 并发送到 Webhook。</p></li></ul><p>默认为 “Equivalent”。</p></li><li><p><strong>webhooks.namespaceSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><pre><code>namespaceSelector 根据对象的命名空间是否与 selector 匹配来决定是否在该对象上运行 Webhook。 
</code></pre><p>如果对象本身是命名空间，则在 object.metadata.labels 上执行匹配。
如果对象是另一个集群范围的资源，则永远不会跳过 Webhook 执行匹配。</p><p>例如，在命名空间与 “0” 或 “1” 的 “runlevel” 不关联的任何对象上运行 Webhook；
你可以按如下方式设置 selector :</p><pre tabindex=0><code>&#34;namespaceSelector&#34;: {
  &#34;matchExpressions&#34;: [
    {
      &#34;key&#34;: &#34;runlevel&#34;,
      &#34;operator&#34;: &#34;NotIn&#34;,
      &#34;values&#34;: [
        &#34;0&#34;,
        &#34;1&#34;
      ]
    }
  ]
}
</code></pre><pre><code>相反，如果你只想在命名空间与 “prod” 或 “staging” 的 “environment” 相关联的对象上运行 Webhook；
</code></pre><p>你可以按如下方式设置 selector:</p><pre tabindex=0><code>&#34;namespaceSelector&#34;: {
  &#34;matchExpressions&#34;: [
    {
      &#34;key&#34;: &#34;environment&#34;,
      &#34;operator&#34;: &#34;In&#34;,
      &#34;values&#34;: [
        &#34;prod&#34;,
        &#34;staging&#34;
      ]
    }
  ]
}
</code></pre><pre><code>有关标签选择算符的更多示例，请参阅 
</code></pre><p><a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels</a>。</p><p>默认为空的 LabelSelector，匹配所有对象。</p></li></ul><ul><li><p><strong>webhooks.objectSelector</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p><p>objectSelector 根据对象是否具有匹配的标签来决定是否运行 Webhook。
objectSelector 针对将被发送到 Webhook 的 oldObject 和 newObject 进行评估，如果任一对象与选择器匹配，则视为匹配。
空对象（create 时为 oldObject，delete 时为 newObject）或不能有标签的对象（如 DeploymentRollback 或 PodProxyOptions 对象）
认为是不匹配的。
仅当 Webhook 支持时才能使用对象选择器，因为最终用户可以通过设置标签来跳过准入 webhook。
默认为空的 LabelSelector，匹配所有内容。</p></li></ul><ul><li><p><strong>webhooks.rules</strong> ([]RuleWithOperations)</p><p>rules 描述了 Webhook 关心的资源/子资源上有哪些操作。Webhook 关心操作是否匹配<strong>任何</strong>rules。
但是，为了防止 ValidatingAdmissionWebhooks 和 MutatingAdmissionWebhooks 将集群置于只能完全禁用插件才能恢复的状态，
ValidatingAdmissionWebhooks 和 MutatingAdmissionWebhooks 永远不会在处理 ValidatingWebhookConfiguration
和 MutatingWebhookConfiguration 对象的准入请求被调用。</p><p><a name=RuleWithOperations></a>
<strong>RuleWithOperations 是操作和资源的元组。建议确保所有元组组合都是有效的。</strong></p><ul><li><p><strong>webhooks.rules.apiGroups</strong> ([]string)</p><p>apiGroups 是资源所属的 API 组列表。'<em>' 是所有组。
如果存在 '</em>'，则列表的长度必须为 1。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.apiVersions</strong> ([]string)</p><p>apiVersions 是资源所属的 API 版本列表。'<em>' 是所有版本。
如果存在 '</em>'，则列表的长度必须为 1。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.operations</strong> ([]string)</p><p>operations 是准入 Webhook 所关心的操作 —— CREATE、UPDATE、DELETE、CONNECT
或用来指代所有已知操作以及将来可能添加的准入操作的 <code>*</code>。
如果存在 '*'，则列表的长度必须为 1。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.resources</strong> ([]string)</p><p>resources 是此规则适用的资源列表。</p><p>'pods' 表示 pods，'pods/log' 表示 pods 的日志子资源。'<em>' 表示所有资源，但不是子资源。
'pods/</em>' 表示 pods 的所有子资源,
'<em>/scale' 表示所有 scale 子资源,
'</em>/*' 表示所有资源及其子资源。</p><p>如果存在通配符，则验证规则将确保资源不会相互重叠。</p><p>根据所指定的对象，可能不允许使用子资源。必需。</p></li></ul><ul><li><p><strong>webhooks.rules.scope</strong> (string)</p><p>scope 指定此规则的范围。有效值为 "Cluster", "Namespaced" 和 "<em>"。
"Cluster" 表示只有集群范围的资源才会匹配此规则。
Namespace API 对象是集群范围的。
"Namespaced" 意味着只有命名空间作用域的资源会匹配此规则。
"</em>" 表示没有范围限制。
子资源与其父资源的作用域相同。默认为 "*"。</p></li></ul></li></ul><ul><li><p><strong>webhooks.timeoutSeconds</strong> (int32)</p><p>timeoutSeconds 指定此 Webhook 的超时时间。超时后，Webhook 的调用将被忽略或 API 调用将根据失败策略失败。
超时值必须在 1 到 30 秒之间。默认为 10 秒。</p></li></ul></li></ul><h2 id=ValidatingWebhookConfigurationList>ValidatingWebhookConfigurationList</h2><p>ValidatingWebhookConfigurationList 是 ValidatingWebhookConfiguration 的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p></li><li><p><strong>kind</strong>: ValidatingWebhookConfigurationList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据，更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a>。</p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>), 必需</p><p>ValidatingWebhookConfiguration 列表。</p></li></ul><h2 id=operations>操作</h2><hr><h3 id=get-读取指定的-validatingwebhookconfiguration><code>get</code> 读取指定的 ValidatingWebhookConfiguration</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>ValidatingWebhookConfiguration 的名称。</p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-validatingwebhookconfiguration-类型的对象><code>list</code> 列出或观察 ValidatingWebhookConfiguration 类型的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfigurationList>ValidatingWebhookConfigurationList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-validatingwebhookconfiguration><code>create</code> 创建一个 ValidatingWebhookConfiguration</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations</p><h4 id=参数-2>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-validatingwebhookconfiguration><code>update</code> 替换指定的 ValidatingWebhookConfiguration</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>ValidatingWebhookConfiguration 的名称。</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-validatingwebhookconfiguration><code>patch</code> 部分更新指定的 ValidatingWebhookConfiguration</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>ValidatingWebhookConfiguration 的名称。</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-validatingwebhookconfiguration><code>delete</code> 删除 ValidatingWebhookConfiguration</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>ValidatingWebhookConfiguration 的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-validatingwebhookconfiguration-的集合><code>deletecollection</code> 删除 ValidatingWebhookConfiguration 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations</p><h4 id=参数-6>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-692a25c0f0c88fc9b8c1e82cd0b0ee9e>8 - 集群资源</h1></div><div class=td-content><h1 id=pg-3ca7e8e10d76640701a022f9bac5e958>8.1 - Node</h1><div class=lead>Node 是 Kubernetes 中的工作节点。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=Node>Node</h2><p>Node 是 Kubernetes 中的工作节点。
每个节点在缓存中（即在 etcd 中）都有一个唯一的标识符。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Node</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#NodeSpec>NodeSpec</a>)</p><p>spec 定义节点的行为。
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#NodeStatus>NodeStatus</a>)</p><p>此节点的最近观测状态。由系统填充。只读。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=NodeSpec>NodeSpec</h2><p>NodeSpec 描述了创建节点时使用的属性。</p><hr><ul><li><p><strong>configSource</strong> (NodeConfigSource)</p><p>已弃用：以前用于为 DynamicKubeletConfig 功能指定节点配置的来源。
自 1.24 的版本起，此功能已从 Kubelets 中移除，并将在 1.26 的版本中完全移除。</p><p><a name=NodeConfigSource></a></p><p><strong>NodeConfigSource 指定节点配置的来源。指定一个子字段（不包括元数据）必须为非空。此 API 自 1.22的版本起已被弃用</strong></p><ul><li><p><strong>configSource.configMap</strong> (ConfigMapNodeConfigSource)</p><p>configMap 是对 Node 的 ConfigMap 的引用。</p><p><a name=ConfigMapNodeConfigSource></a></p><p>ConfigMapNodeConfigSource 包含引用某 ConfigMap 作为节点配置源的信息。
此 API 自 1.22 版本起已被弃用： <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></p><ul><li><p><strong>configSource.configMap.kubeletConfigKey</strong> (string), 必需</p><p>kubeletConfigKey 声明所引用的 ConfigMap 的哪个键对应于 KubeletConfiguration 结构体，
该字段在所有情况下都是必需的。</p></li></ul><ul><li><p><strong>configSource.configMap.name</strong> (string), 必需</p><p>name 是被引用的 ConfigMap 的 metadata.name。
此字段在所有情况下都是必需的。</p></li></ul><ul><li><p><strong>configSource.configMap.namespace</strong> (string), 必需</p><p>namespace 是所引用的 ConfigMap 的 metadata.namespace。
此字段在所有情况下都是必需的。</p></li><li><p><strong>configSource.configMap.resourceVersion</strong> (string)</p><p>resourceVersion 是所引用的 ConfigMap 的 metadata.resourceVersion。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li><li><p><strong>configSource.configMap.uid</strong> (string)</p><p>uid 是所引用的 ConfigMap 的 metadata.uid。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li></ul></li></ul></li><li><p><strong>externalID</strong> (string)</p><p>已弃用。并非所有 kubelet 都会设置此字段。
1.13 的版本之后会删除该字段。参见： <a href=https://issues.k8s.io/61966>https://issues.k8s.io/61966</a></p></li><li><p><strong>podCIDR</strong> (string)</p><p>podCIDR 表示分配给节点的 Pod IP 范围。</p></li><li><p><strong>podCIDRs</strong> ([]string)</p><p>podCIDRs 表示分配给节点以供该节点上的 Pod 使用的 IP 范围。
如果指定了该字段，则第 0 个条目必须与 podCIDR 字段匹配。
对于 IPv4 和 IPv6，它最多可以包含 1 个值。</p></li><li><p><strong>providerID</strong> (string)</p><p>云提供商分配的节点ID，格式为：&lt;ProviderName>://&lt;ProviderSpecificNodeID></p></li><li><p><strong>taints</strong> ([]Taint)</p><p>如果设置了，则为节点的污点。</p><p><a name=Taint></a></p><p><strong>此污点附加到的节点对任何不容忍污点的 Pod 都有 “影响”。</strong></p><ul><li><strong>taints.effect</strong> (string), 必需</li></ul><p>必需的。污点对不容忍污点的 Pod 的影响。合法的 effect 值有 NoSchedule、PreferNoSchedule 和 NoExecute。</p><ul><li><p><strong>taints.key</strong> (string), 必需</p><p>必需的。被应用到节点上的污点的键。</p></li><li><p><strong>taints.timeAdded</strong> (Time)</p><p>timeAdded 表示添加污点的时间。它仅适用于 NoExecute 的污点。</p><p><a name=Time></a></p><p>Time 是 time.Time 的包装器，它支持对 YAML 和 JSON 的正确编组。
time 包的许多工厂方法提供了包装器。</p></li><li><p><strong>taints.value</strong> (string)</p><p>与污点键对应的污点值。</p></li></ul></li><li><p><strong>unschedulable</strong> (boolean)</p><p>unschedulable 控制新 Pod 的节点可调度性。
默认情况下，节点是可调度的。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#manual-node-administration>https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#manual-node-administration</a></p></li></ul><h2 id=NodeStatus>NodeStatus</h2><p>NodeStatus 是有关节点当前状态的信息。</p><hr><ul><li><p><strong>addresses</strong> ([]NodeAddress)</p><p><strong>补丁策略：根据 <code>type</code> 键执行合并操作</strong></p><p>节点可到达的地址列表。从云提供商处查询（如果有）。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#addresses>https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#addresses</a></p><p>注意：该字段声明为可合并，但合并键不够唯一，合并时可能导致数据损坏。
调用者应改为使用完全替换性质的补丁操作。
有关示例，请参见 <a href=http://pr.k8s.io/79391>http://pr.k8s.io/79391</a>。</p><p><a name=NodeAddress></a></p><p><strong>NodeAddress 包含节点地址的信息。</strong></p><ul><li><p><strong>addresses.address</strong> (string), 必需</p><p>节点地址。</p></li></ul><ul><li><p><strong>addresses.type</strong> (string), 必需</p><p>节点地址类型，Hostname、ExternalIP 或 InternalIP 之一。</p></li></ul></li><li><p><strong>allocatable</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>allocatable 表示节点的可用于调度的资源。默认为容量。</p></li><li><p><strong>capacity</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>capacity 代表一个节点的总资源。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes/#capacity>https://kubernetes.io/zh-cn/docs/concepts/storage/persistent-volumes/#capacity</a></p></li><li><p><strong>conditions</strong> ([]NodeCondition)</p><p><strong>补丁策略：根据 <code>type</code> 键执行合并操作</strong></p><p>conditions 是当前观测到的节点状况的数组。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#condition>https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#condition</a></p><p><a name=NodeCondition></a></p><p><strong>NodeCondition 包含节点状况的信息。</strong></p><ul><li><p><strong>conditions.status</strong> (string), 必需</p><p>状况的状态为 True、False、Unknown 之一。</p></li></ul><ul><li><p><strong>conditions.type</strong> (string), 必需</p><p>节点状况的类型。</p></li><li><p><strong>conditions.lastHeartbeatTime</strong> (Time)</p><p>给定状况最近一次更新的时间。</p><p><a name=Time></a></p><p>Time 是 time.Time 的包装器，它支持对 YAML 和 JSON 的正确编组。
time 包的许多工厂方法提供了包装器。</p></li><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p>状况最近一次从一种状态转换到另一种状态的时间。</p><p><a name=Time></a></p><p>Time 是 time.Time 的包装器，它支持对 YAML 和 JSON 的正确编组。
time 包的许多工厂方法提供了包装器。</p></li><li><p><strong>conditions.message</strong> (string)</p><p>指示有关上次转换详细信息的人类可读消息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p>（简要）状况最后一次转换的原因。</p></li></ul></li><li><p><strong>config</strong> (NodeConfigStatus)</p><p>通过动态 Kubelet 配置功能分配给节点的配置状态。</p><p><a name=NodeConfigStatus></a></p><p><strong>NodeConfigStatus 描述了由 Node.spec.configSource 分配的配置的状态。</strong></p><ul><li><p><strong>config.active</strong> (NodeConfigSource)</p><p>active 报告节点正在使用的检查点配置。
active 将代表已分配配置的当前版本或当前 LastKnownGood 配置，具体取决于尝试使用已分配配置是否会导致错误。</p><p><a name=NodeConfigSource></a></p><p><strong>NodeConfigSource 指定节点配置的来源。指定一个子字段（不包括元数据）必须为非空。此 API 自 1.22 版本起已弃用</strong></p><ul><li><p><strong>config.active.configMap</strong> (ConfigMapNodeConfigSource)</p><p>configMap 是对 Node 的 ConfigMap 的引用。</p><p><a name=ConfigMapNodeConfigSource></a></p><p>ConfigMapNodeConfigSource 包含引用某 ConfigMap 作为节点配置源的信息。
此 API 自 1.22 版本起已被弃用： <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></p><ul><li><p><strong>config.active.configMap.kubeletConfigKey</strong> (string), 必需</p><p>kubeletConfigKey 声明所引用的 ConfigMap 的哪个键对应于 KubeletConfiguration 结构体，
该字段在所有情况下都是必需的。</p></li></ul><ul><li><p><strong>config.active.configMap.name</strong> (string), 必需</p><p>name 是所引用的 ConfigMap 的 metadata.name。
此字段在所有情况下都是必需的。</p></li></ul><ul><li><p><strong>config.active.configMap.namespace</strong> (string), 必需</p><p>namespace 是所引用的 ConfigMap 的 metadata.namespace。
此字段在所有情况下都是必需的。</p></li><li><p><strong>config.active.configMap.resourceVersion</strong> (string)</p><p>resourceVersion 是所引用的 ConfigMap 的 metadata.resourceVersion。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li><li><p><strong>config.active.configMap.uid</strong> (string)</p><p>uid 是所引用的 ConfigMap 的 metadata.uid。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li></ul></li></ul></li><li><p><strong>config.assigned</strong> (NodeConfigSource)</p><p>assigned 字段报告节点将尝试使用的检查点配置。
当 Node.spec.configSource 被更新时，节点将所关联的配置负载及指示预期配置的记录通过检查点操作加载到本地磁盘。
节点参考这条记录来选择它的配置检查点，并在 assigned 中报告这条记录。
仅在记录被保存到磁盘后才会更新 status 中的 assigned。
当 kubelet 重新启动时，它会尝试通过加载和验证由 assigned 标识的检查点有效负载来使 assigned 配置成为 active 配置。</p><p><a name=NodeConfigSource></a></p><p><strong>NodeConfigSource 指定节点配置的来源。指定一个子字段（不包括元数据）必须为非空。此 API 自 1.22 版本起已弃用</strong></p><ul><li><p><strong>config.assigned.configMap</strong> (ConfigMapNodeConfigSource)</p><p>configMap 是对 Node 的 ConfigMap 的引用。</p><p><a name=ConfigMapNodeConfigSource></a></p><p>ConfigMapNodeConfigSource 包含引用某 ConfigMap 为节点配置源的信息。
此 API 自 1.22 版本起已被弃用： <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></p><ul><li><p><strong>config.assigned.configMap.kubeletConfigKey</strong> (string), 必需</p><p>kubeletConfigKey 声明所引用的 ConfigMap 的哪个键对应于 KubeletConfiguration 结构体，
该字段在所有情况下都是必需的。</p></li></ul><ul><li><p><strong>config.assigned.configMap.name</strong> (string), 必需</p><p>name 是所引用的 ConfigMap 的 metadata.name。
此字段在所有情况下都是必需的。</p></li></ul><ul><li><p><strong>config.assigned.configMap.namespace</strong> (string), 必需</p><p>namespace 是所引用的 ConfigMap 的 metadata.namespace。
此字段在所有情况下都是必需的。</p></li><li><p><strong>config.assigned.configMap.resourceVersion</strong> (string)</p><p>resourceVersion 是所引用的 ConfigMap 的 metadata.resourceVersion。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li><li><p><strong>config.assigned.configMap.uid</strong> (string)</p><p>uid 是所引用的 ConfigMap 的 metadata.uid。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li></ul></li></ul></li><li><p><strong>config.error</strong> (string)</p><p>error 描述了在 spec.configSource 与活动配置间协调时发生的所有问题。
可能会发生的情况，例如，尝试将 spec.configSource 通过检查点操作复制到到本地 assigned 记录时，
尝试对与 spec.configSource 关联的有效负载执行检查点操作，尝试加​​载或验证 assigned 的配置时。
同步配置时可能会在不同位置发生错误，较早的错误（例如下载或检查点错误）不会导致回滚到 LastKnownGood，
并且可能会在 Kubelet 重试后解决。
后期发生的错误（例如加载或验证检查点配置）将导致回滚到 LastKnownGood。
在后一种情况下，通常可以通过修复 spec.sonfigSource 中 assigned 配置来解决错误。
你可以通过在 Kubelet 日志中搜索错误消息来找到更多的调试信息。
error 是错误状态的人类可读描述；机器可以检查 error 是否为空，但不应依赖跨 Kubelet 版本的 error 文本的稳定性。</p></li><li><p><strong>config.lastKnownGood</strong> (NodeConfigSource)</p><p>lastKnownGood 报告节点在尝试使用 assigned 配置时遇到错误时将回退到的检查点配置。
当节点确定 assigned 配置稳定且正确时，assigned 配置会成为 lastKnownGood 配置。
这当前实施为从更新分配配置的本地记录开始的 10 分钟浸泡期。
如果在此期间结束时分配的配置依旧处于活动状态，则它将成为 lastKnownGood。
请注意，如果 spec.configSource 重置为 nil（使用本地默认值），
LastKnownGood 也会立即重置为 nil，因为始终假定本地默认配置是好的。
你不应该对节点确定配置稳定性和正确性的方法做出假设，因为这可能会在将来发生变化或变得可配置。</p><p><a name=NodeConfigSource></a></p><p><strong>NodeConfigSource 指定节点配置的来源。指定一个子字段（不包括元数据）必须为非空。此 API 自 1.22 版本起已弃用</strong></p><ul><li><p><strong>config.lastKnownGood.configMap</strong> (ConfigMapNodeConfigSource)</p><p>configMap 是对 Node 的 ConfigMap 的引用。</p><p><a name=ConfigMapNodeConfigSource></a></p><p>ConfigMapNodeConfigSource 包含引用某 ConfigMap 作为节点配置源的信息。
此 API 自 1.22 版本起已被弃用： <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></p><ul><li><p><strong>config.lastKnownGood.configMap.kubeletConfigKey</strong> (string), 必需</p><p>kubeletConfigKey 声明所引用的 ConfigMap 的哪个键对应于 KubeletConfiguration 结构体，
该字段在所有情况下都是必需的。</p></li></ul><ul><li><p><strong>config.lastKnownGood.configMap.name</strong> (string), 必需</p><p>name 是所引用的 ConfigMap 的 metadata.name。
此字段在所有情况下都是必需的。</p></li></ul><ul><li><strong>config.lastKnownGood.configMap.namespace</strong> (string), 必需</li></ul><p>namespace 是所引用的 ConfigMap 的 metadata.namespace。
此字段在所有情况下都是必需的。</p><ul><li><p><strong>config.lastKnownGood.configMap.resourceVersion</strong> (string)</p><p>resourceVersion 是所引用的 ConfigMap 的 metadata.resourceVersion。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li><li><p><strong>config.lastKnownGood.configMap.uid</strong> (string)</p><p>uid 是所引用的 ConfigMap 的 metadata.uid。
该字段在 Node.spec 中是禁止的，在 Node.status 中是必需的。</p></li></ul></li></ul></li></ul></li><li><p><strong>daemonEndpoints</strong> (NodeDaemonEndpoints)</p><p>在节点上运行的守护进程的端点。</p><p><a name=NodeDaemonEndpoints></a></p><p><strong>NodeDaemonEndpoints 列出了节点上运行的守护进程打开的端口。</strong></p><ul><li><p><strong>daemonEndpoints.kubeletEndpoint</strong> (DaemonEndpoint)</p><p>Kubelet 正在侦听的端点。</p><p><a name=DaemonEndpoint></a></p><p><strong>DaemonEndpoint 包含有关单个 Daemon 端点的信息。</strong></p><ul><li><p><strong>daemonEndpoints.kubeletEndpoint.Port</strong> (int32), 必需</p><p>给定端点的端口号。</p></li></ul></li></ul></li><li><p><strong>images</strong> ([]ContainerImage)</p><p>该节点上的容器镜像列表。</p><p><a name=ContainerImage></a></p><p><strong>描述一个容器镜像</strong></p><ul><li><p><strong>images.names</strong> ([]string)</p><p>已知此镜像的名称。
例如 ["kubernetes.example/hyperkube:v1.0.7", "cloud-vendor.registry.example/cloud-vendor/hyperkube:v1.0.7"]</p></li><li><p><strong>images.sizeBytes</strong> (int64)</p><p>镜像的大小（以字节为单位）。</p></li></ul></li><li><p><strong>nodeInfo</strong> (NodeSystemInfo)</p><p>用于唯一标识节点的 ids/uuids 集。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#info>https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#info</a></p><p><a name=NodeSystemInfo></a></p><p><strong>NodeSystemInfo 是一组用于唯一标识节点的 ids/uuids。</strong></p><ul><li><p><strong>nodeInfo.architecture</strong> (string), 必需</p><p>节点报告的 architecture。</p></li></ul><ul><li><strong>nodeInfo.bootID</strong> (string), 必需</li></ul><p>节点报告的 bootID。</p><ul><li><p><strong>nodeInfo.containerRuntimeVersion</strong> (string), 必需</p><p>节点通过运行时远程 API 报告的 ContainerRuntime 版本（例如 containerd://1.4.2）。</p></li></ul><ul><li><p><strong>nodeInfo.kernelVersion</strong> (string), 必需</p><p>节点来自 “uname -r” 报告的内核版本（例如 3.16.0-0.bpo.4-amd64）。</p></li></ul><ul><li><p><strong>nodeInfo.kubeProxyVersion</strong> (string), 必需</p><p>节点报告的 KubeProxy 版本。</p></li></ul><ul><li><p><strong>nodeInfo.kubeletVersion</strong> (string), 必需</p><p>节点报告的 Kubelet 版本。</p></li></ul><ul><li><p><strong>nodeInfo.machineID</strong> (string), 必需</p><p>节点上报的 machineID。
对于集群中的唯一机器标识，此字段是首选。
从 man(5) machine-id 了解更多信息： <a href=http://man7.org/linux/man-pages/man5/machine-id.5.html>http://man7.org/linux/man-pages/man5/machine-id.5.html</a></p></li></ul><ul><li><strong>nodeInfo.operatingSystem</strong> (string), 必需</li></ul><p>节点上报的操作系统。</p><ul><li><p><strong>nodeInfo.osImage</strong> (string), 必需</p><p>节点从 /etc/os-release 报告的操作系统映像（例如 Debian GNU/Linux 7 (wheezy)）。</p></li></ul><ul><li><p><strong>nodeInfo.systemUUID</strong> (string), 必需</p><p>节点报告的 systemUUID。
对于唯一的机器标识 MachineID 是首选。
此字段特定于 Red Hat 主机 <a href=https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/rhsm/uuid>https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/rhsm/uuid</a></p></li></ul></li><li><p><strong>phase</strong> (string)</p><p>NodePhase 是最近观测到的节点的生命周期阶段。
更多信息： <a href=https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#phase>https://kubernetes.io/zh-cn/docs/concepts/architecture/nodes/#phase</a></p><p>该字段从未填充，现在已被弃用。</p></li><li><p><strong>volumesAttached</strong> ([]AttachedVolume)</p><p>附加到节点的卷的列表。</p><p><a name=AttachedVolume></a></p><p><strong>AttachedVolume 描述附加到节点的卷</strong></p><ul><li><strong>volumesAttached.devicePath</strong> (string), 必需</li></ul><p>devicePath 表示卷应该可用的设备路径。</p><ul><li><p><strong>volumesAttached.name</strong> (string), 必需</p><p>附加卷的名称。</p></li></ul></li><li><p><strong>volumesInUse</strong> ([]string)</p><p>节点正在使用（安装）的可附加卷的列表。</p></li></ul><h2 id=NodeList>NodeList</h2><p>NodeList 是已注册到 master 的所有节点的完整列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: NodeList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>), 必需</p><p>节点的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定节点><code>get</code> 读取指定节点</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/nodes/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>节点的名称。</p></li><li><p><strong>pretty</strong> (<strong>路径参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定节点的状态><code>get</code> 读取指定节点的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/nodes/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>节点的名称。</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视节点类型的对象><code>list</code> 列出或监视节点类型的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/nodes</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#NodeList>NodeList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个节点><code>create</code> 创建一个节点</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/nodes</p><h4 id=参数-3>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定节点><code>update</code> 替换指定节点</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/nodes/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>节点的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定节点的状态><code>update</code> 替换指定节点的状态</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /api/v1/nodes/{name}/status</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>节点的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定节点><code>patch</code> 部分更新指定节点</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /api/v1/nodes/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>节点的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定节点的状态><code>patch</code> 部分更新指定节点的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /api/v1/nodes/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>节点的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个节点><code>delete</code> 删除一个节点</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /api/v1/nodes/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>节点的名称。</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除节点的集合><code>deletecollection</code> 删除节点的集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /api/v1/nodes</p><h4 id=参数-9>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a96e40f7c68d5bb9604dcaa7f5b69d0b>8.2 - Namespace</h1><div class=lead>Namespace 为名字提供作用域。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=Namespace>Namespace</h2><p>Namespace 为名字提供作用域。使用多个命名空间是可选的。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Namespace</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#NamespaceSpec>NamespaceSpec</a>)</p><p>spec 定义了 Namespace 的行为。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#NamespaceStatus>NamespaceStatus</a>)</p><p>status 描述了当前 Namespace 的状态。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=NamespaceSpec>NamespaceSpec</h2><p>NamespaceSpec 用于描述 Namespace 的属性。</p><hr><ul><li><strong>finalizers</strong> ([]string)
finalizers 是一个不透明的值列表，只有此列表为空时才能从存储中永久删除对象。 更多信息： <a href=https://kubernetes.io/docs/tasks/administer-cluster/namespaces/>https://kubernetes.io/docs/tasks/administer-cluster/namespaces/</a></li></ul><h2 id=NamespaceStatus>NamespaceStatus</h2><p>NamespaceStatus 表示 Namespace 的当前状态信息。</p><hr><ul><li><p><strong>conditions</strong> ([]NamespaceCondition)</p><p><strong>补丁策略：基于 <code>type</code> 健合并</strong></p><p>表示命名空间当前状态的最新可用状况。</p><p><a name=NamespaceCondition></a></p><p><strong>NamespaceCondition 包含命名空间状态的详细信息。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>状况（condition）的状态，取值为 True、False 或 Unknown 之一。</p></li></ul><ul><li><strong>conditions.type</strong> (string), 必需</li></ul><p>命名空间控制器状况的类型。</p><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p><a name=Time></a></p><pre><code>**Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。**
</code></pre></li><li><p><strong>conditions.message</strong> (string)</p></li><li><p><strong>conditions.reason</strong> (string)</p></li></ul></li><li><p><strong>phase</strong> (string)</p><p>phase 是命名空间的当前生命周期阶段。更多信息： <a href=https://kubernetes.io/docs/tasks/administer-cluster/namespaces/>https://kubernetes.io/docs/tasks/administer-cluster/namespaces/</a></p></li></ul><h2 id=NamespaceList>NamespaceList</h2><p>NamespaceList 是一个命名空间列表。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: NamespaceList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)，必需</p><p>items 是列表中的 Namespace 对象列表。更多信息： <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/>https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/</a></p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-namespace><code>get</code> 读取指定的 Namespace</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/namespaces/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Namespace 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>401：Unauthorized</p><h3 id=get-读取指定-namespace-的状态><code>get</code> 读取指定 Namespace 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/namespaces/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Namespace 的名称</p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>401：Unauthorized</p><h3 id=list-列出或者检查类别为-namespace-的对象><code>list</code> 列出或者检查类别为 Namespace 的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /api/v1/namespaces</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#NamespaceList>NamespaceList</a>)：OK</p><p>401：Unauthorized</p><h3 id=create-创建一个-namespace><code>create</code> 创建一个 Namespace</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /api/v1/namespaces</p><h4 id=参数-3>参数</h4><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：Accepted</p><p>401：Unauthorized</p><h3 id=update-替换指定的-namespace><code>update</code> 替换指定的 Namespace</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /api/v1/namespaces/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Namespace 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>， 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：Created</p><p>401：Unauthorized</p><h3 id=update-替换指定-namespace-的终结器><code>update</code> 替换指定 Namespace 的终结器</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /api/v1/namespaces/{name}/finalize</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Namespace 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：Created</p><p>401：Unauthorized</p><h3 id=update-替换指定-namespace-的状态><code>update</code> 替换指定 Namespace 的状态</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PUT /api/v1/namespaces/{name}/status</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径阐述</strong>)：string，必需</p><p>Namespace 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>，必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-namespace><code>patch</code> 部分更新指定的 Namespace</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{name}</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Namespace 的名称</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-namespace-的状态><code>patch</code> 部分更新指定 Namespace 的状态</h3><h4 id=http-请求-8>HTTP 请求</h4><p>PATCH /api/v1/namespaces/{name}/status</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Namespace 的名称</p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>)：Created</p><p>401：Unauthorized</p><h3 id=delete-删除一个-namespace><code>delete</code> 删除一个 Namespace</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /api/v1/namespaces/{name}</p><h4 id=参数-9>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Namespace 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<em>查询参数</em>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>)：OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>)：Accepted</p><p>401：Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e034843297b0ae20140d70f0d6df2378>8.3 - Event</h1><div class=lead>Event 是集群中某个事件的报告。</div><p><code>apiVersion: events.k8s.io/v1</code></p><p><code>import "k8s.io/api/events/v1"</code></p><h2 id=Event>Event</h2><p>Event 是集群中某个事件的报告。它一般表示系统的某些状态变化。
Event 的保留时间有限，触发器和消息可能会随着时间的推移而演变。
事件消费者不应假定给定原因的事件的时间所反映的是一致的下层触发因素，或具有该原因的事件的持续存在。
Events 应被视为通知性质的、尽最大努力而提供的补充数据。</p><hr><ul><li><p><strong>apiVersion</strong>: events.k8s.io/v1</p></li><li><p><strong>kind</strong>: Event</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>eventTime</strong> (MicroTime)，必需</p><p>evenTime 是该事件首次被观察到的时间。它是必需的。</p><p><a name=MicroTime></a></p><p><strong>MicroTime 是微秒级精度的 Time 版本</strong></p></li><li><p><strong>action</strong> (string)</p><p>action 是针对相关对象所采取的或已失败的动作。字段值是机器可读的。对于新的 Event，此字段不能为空，
且最多为 128 个字符。</p></li><li><p><strong>deprecatedCount</strong> (int32)</p><p>deprecatedCount 是确保与 core.v1 Event 类型向后兼容的已弃用字段。</p></li><li><p><strong>deprecatedFirstTimestamp</strong> (Time)</p><p>deprecatedFirstTimestamp 是确保与 core.v1 Event 类型向后兼容的已弃用字段。</p><p><a name=Time></a></p><p><strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。</strong></p></li><li><p><strong>deprecatedLastTimestamp</strong> (Time)</p><p>deprecatedLastTimestamp 是确保与 core.v1 Event 类型向后兼容的已弃用字段。</p><p><a name=Time></a></p><p><strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。</strong></p></li><li><p><strong>deprecatedSource</strong> (EventSource)</p><p>deprecatedSource 是确保与 core.v1 Event 类型向后兼容的已弃用字段。</p><p><a name=EventSource></a></p><p><strong>EventSource 包含事件信息。</strong></p><ul><li><p><strong>deprecatedSource.component</strong> (string)</p><p>生成事件的组件。</p></li><li><p><strong>deprecatedSource.host</strong> (string)</p><p>产生事件的节点名称。</p></li></ul></li><li><p><strong>note</strong> (string)</p><p>node 是对该操作状态的可读描述。注释的最大长度是 1kB，但是库应该准备好处理最多 64kB 的值。</p></li><li><p><strong>reason</strong> (string)</p><p>reason 是采取行动的原因。它是人类可读的。对于新的 Event，此字段不能为空，且最多为128个字符。</p></li><li><p><strong>regarding</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p>关于包含此 Event 所涉及的对象。在大多数情况下，所指的是报告事件的控制器所实现的一个 Object。
例如 ReplicaSetController 实现了 ReplicaSet，这个事件被触发是因为控制器对 ReplicaSet 对象做了一些变化。</p></li><li><p><strong>related</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p><p>related 是用于更复杂操作的、可选的、从属性的对象。例如，当 regarding 对象触发 related 对象的创建或删除时。</p></li><li><p><strong>reportingController</strong> (string)</p><p>reportingController 是触发该事件的控制器的名称,例如 <code>kubernetes.io/kubelet</code>。对于新的　Event，此字段不能为空。</p></li><li><p><strong>reportingInstance</strong> (string)</p><p>reportingInstance 为控制器实例的 ID,例如 <code>kubelet-xyzf</code>。对于新的 Event，此字段不能为空，且最多为 128 个字符。</p></li><li><p><strong>series</strong> (EventSeries)</p><p>series 是该事件代表的事件系列的数据，如果是单事件，则为 nil。</p><p><a name=EventSeries></a></p><p>EventSeries 包含一系列事件的信息，即一段时间内持续发生的事情。
EventSeries 的更新频率由事件报告者决定。
默认事件报告程序在 "k8s.io/client-go/tools/events/event_broadcaster.go"
展示在发生心跳时该结构如何被更新，可以指导定制的报告者实现。</p><ul><li><p><strong>series.count</strong> (int32)，必需</p><p>count 是到最后一次心跳时间为止在该系列中出现的次数。</p></li></ul><ul><li><p><strong>series.lastObservedTime</strong> (MicroTime)，必需</p><p>lastObservedTime 是在最后一次心跳时间之前看到最后一个 Event 的时间。</p><p><a name=MicroTime></a></p><p><strong>MicroTime 是微秒级精度的 Time 版本。</strong></p></li></ul></li><li><p><strong>type</strong> (string)</p><p>type 是该事件的类型（Normal、Warning），未来可能会添加新的类型。字段值是机器可读的。
对于新的 Event，此字段不能为空。</p></li></ul><h2 id=EventList>EventList</h2><p>EventList 是一个 Event 对象列表。</p><hr><ul><li><p><strong>apiVersion</strong>: events.k8s.io/v1</p></li><li><p><strong>kind</strong>: EventList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>)，必需</p><p>items 是模式（Schema）对象的列表。</p></li></ul><h2 id=操作>操作</h2><hr><h3 id=get-读取特定-event><code>get</code> 读取特定 Event</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Event 名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>路径参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察事件类型对象><code>list</code> 列出或观察事件类型对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/events.k8s.io/v1/namespaces/{namespace}/events</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#EventList>EventList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察事件类型对象-1><code>list</code> 列出或观察事件类型对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/events.k8s.io/v1/events</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><ul><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#EventList>EventList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-event><code>create</code> 创建一个 Event</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/events.k8s.io/v1/namespaces/{namespace}/events</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>查询参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定-event><code>update</code> 替换指定 Event</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Event 名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-event><code>patch</code> 部分更新指定的 Event</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Event 名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li></ul><ul><li><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li></ul><ul><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-event><code>delete</code> 删除 Event</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>Event 名称</p></li></ul><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-event-集合><code>deletecollection</code> 删除 Event 集合</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /apis/events.k8s.io/v1/namespaces/{namespace}/events</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<em>in path</em>)：string，必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li></ul><ul><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li></ul><ul><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li></ul><ul><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li></ul><ul><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li></ul><ul><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><ul><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><ul><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li></ul><ul><li><p><strong>resourceVersionMatch</strong> (<em>查询参数</em>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li></ul><ul><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-311b31c9ea6c6923cab8e14e36e62fbe>8.4 - APIService</h1><div class=lead>APIService 是用来表示一个特定的 GroupVersion 的服务器</div><p><code>apiVersion: apiregistration.k8s.io/v1</code></p><p><code>import "k8s.io/kube-aggregator/pkg/apis/apiregistration/v1"</code></p><h2 id=APIService>APIService</h2><p>APIService 是用来表示一个特定的 GroupVersion 的服务器。名称必须为 "version.group"。</p><hr><ul><li><p><strong>apiVersion</strong>: apiregistration.k8s.io/v1</p></li><li><p><strong>kind</strong>: APIService</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIServiceSpec>APIServiceSpec</a>)</p><p>spec 包含用于定位和与服务器通信的信息</p></li><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIServiceStatus>APIServiceStatus</a>)</p><p>status 包含某 API 服务器的派生信息</p></li></ul><h2 id=APIServiceSpec>APIServiceSpec</h2><p>APIServiceSpec 包含用于定位和与服务器通信的信息。仅支持 HTTPS 协议，但是你可以禁用证书验证。</p><hr><ul><li><p><strong>groupPriorityMinimum</strong> (int32)， 必需</p><p>groupPriorityMininum 是这个组至少应该具有的优先级。优先级高表示客户端优先选择该组。
请注意，该组的其他版本可能会指定更高的 groupPriorityMininum 值，使得整个组获得更高的优先级。
主排序基于 groupPriorityMinimum 值，从高到低排序（20 在 10 之前）。
次要排序基于对象名称的字母顺序（v1.bar 在 v1.foo 之前）。
我们建议这样配置：<code>*.k8s.io</code>（扩展除外）值设置为 18000，PaaS（OpenShift、Deis）建议值为 2000 左右。</p></li><li><p><strong>versionPriority</strong> (int32)， 必需</p><p>versionPriority 控制该 API 版本在其组中的排序，必须大于零。主排序基于 versionPriority，
从高到低排序（20 在 10 之前）。因为在同一个组里，这个数字可以很小，可能是几十。
在版本优先级相等的情况下，版本字符串将被用来计算组内的顺序。如果版本字符串是与 Kubernetes 的版本号形式类似，
则它将排序在 Kubernetes 形式版本字符串之前。Kubernetes 的版本号字符串按字典顺序排列。
Kubernetes 版本号以 “v” 字符开头，后面是一个数字（主版本），然后是可选字符串 “alpha” 或 “beta” 和另一个数字（次要版本）。
它们首先按 GA > beta > alpha 排序（其中 GA 是没有 beta 或 alpha 等后缀的版本），然后比较主要版本，
最后是比较次要版本。版本排序列表示例：v10、v2、v1、v11beta2、v10beta3、v3beta1、v12alpha1、v11alpha2、foo1、foo10。</p></li><li><p><strong>caBundle</strong> ([]byte)</p><p><strong>原子性：将在合并期间被替换</strong></p><p>caBundle 是一个 PEM 编码的 CA 包，用于验证 API 服务器的服务证书。如果未指定，
则使用 API 服务器上的系统根证书。</p></li><li><p><strong>group</strong> (string)</p><p>group 是此服务器主机的 API 组名称。</p></li><li><p><strong>insecureSkipTLSVerify</strong> (boolean)</p><p>insecureSkipTLSVerify 代表在与此服务器通信时禁用 TLS 证书验证。强烈建议不要这样做。你应该使用 caBundle。</p></li><li><p><strong>service</strong> (ServiceReference)</p><p>service 是对该 API 服务器的服务的引用。它只能在端口 443 上通信。如果 service 是 nil，
则意味着 API groupversion 的处理是在当前服务器上本地处理的。服务调用被直接委托给正常的处理程序链来完成。</p><p><a name=ServiceReference></a></p><p><strong>ServiceReference 保存对 Service.legacy.k8s.io 的一个引用。</strong></p><ul><li><p><strong>service.name</strong> (string)</p><pre><code>name 是服务的名称
</code></pre></li><li><p><strong>service.namespace</strong> (string)</p><pre><code>namespace 是服务的命名空间
</code></pre></li><li><p><strong>service.port</strong> (int32)</p><pre><code>如果指定，则为托管 Webhook 的服务上的端口。为实现向后兼容，默认端口号为 443。
</code></pre><p><code>port</code> 应该是一个有效的端口号（1-65535，包含）。</p></li></ul></li><li><p><strong>version</strong> (string)</p><p>version 是此服务器的 API 版本。例如：“v1”。</p></li></ul><h2 id=APIServiceStatus>APIServiceStatus</h2><p>APIServiceStatus 包含有关 API 服务器的派生信息</p><hr><ul><li><p><strong>conditions</strong> ([]APIServiceCondition)</p><p><strong>补丁策略：基于键 <code>type</code> 合并</strong></p><p><strong>Map：合并时将保留 type 键的唯一值</strong></p><p>APIService 的当前服务状态。</p><p><a name=APIServiceCondition></a></p><p><strong>APIServiceCondition 描述 APIService 在特定点的状态</strong></p><ul><li><p><strong>conditions.status</strong> (string)， 必需</p><pre><code>status 表示状况（Condition）的状态，取值为 True、False 或 Unknown 之一。
</code></pre></li><li><p><strong>conditions.type</strong> (string)， 必需</p><pre><code>type 是状况的类型。
</code></pre></li><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><pre><code>上一次发生状况状态转换的时间。
</code></pre><p><a name=Time></a></p><pre><code>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。为 time 包的许多函数方法提供了封装器。
</code></pre></li><li><p><strong>conditions.message</strong> (string)</p><pre><code>指示上次转换的详细可读信息。  
</code></pre></li><li><p><strong>conditions.reason</strong> (string)</p><pre><code>表述状况上次转换原因的、驼峰格式命名的、唯一的一个词。
</code></pre></li></ul></li></ul><h2 id=APIServiceList>APIServiceList</h2><p>APIServiceList 是 APIService 对象的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: apiregistration.k8s.io/v1</p></li><li><p><strong>kind</strong>: APIServiceList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的列表元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>)， 必需</p><p>items 是 APIService 的列表</p></li></ul><h2 id=Operations>Operations</h2><hr><h3 id=get-读取指定的-apiservice><code>get</code> 读取指定的 APIService</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/apiregistration.k8s.io/v1/apiservices/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>APIService 名称</p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-apiservice-的状态><code>get</code> 读取指定 APIService 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/apiregistration.k8s.io/v1/apiservices/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string，必需</p><p>APIService 名称</p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或观察-apiservice-类的对象><code>list</code> 列出或观察 APIService 类的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/apiregistration.k8s.io/v1/apiservices</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIServiceList>APIServiceList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建一个-apiservice><code>create</code> 创建一个 APIService</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/apiregistration.k8s.io/v1/apiservices</p><h4 id=参数-3>参数</h4><ul><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>， 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-apiservice><code>update</code> 替换指定的 APIService</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/apiregistration.k8s.io/v1/apiservices/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> （<strong>路径参数</strong>）：string， 必需</p><p>APIService 名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>， 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定-apiservice-的-status><code>update</code> 替换指定 APIService 的 status</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/apiregistration.k8s.io/v1/apiservices/{name}/status</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string， 必需</p><p>APIService 名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>， 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-apiservice><code>patch</code> 部分更新指定的 APIService</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /apis/apiregistration.k8s.io/v1/apiservices/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string， 必需</p><p>APIService 名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>， 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定-apiservice-的-status><code>patch</code> 部分更新指定 APIService 的 status</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/apiregistration.k8s.io/v1/apiservices/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string， 必需</p><p>APIService 名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>， 必需</p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> （<strong>查询参数</strong>）：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-apiservice><code>delete</code> 删除一个 APIService</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /apis/apiregistration.k8s.io/v1/apiservices/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong>（<strong>路径参数</strong>）：string， 必需</p><p>APIService 名称</p></li><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-apiservice-集合><code>deletecollection</code> 删除 APIService 集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/apiregistration.k8s.io/v1/apiservices</p><h4 id=参数-9>参数</h4><ul><li><p><strong>body</strong>：<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> （<strong>查询参数</strong>）：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> （<strong>查询参数</strong>）：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-7ac923a0ef2a5ce2605b428b72f9e5eb>8.5 - Lease</h1><div class=lead>Lease 定义了租约的概念。</div><p><code>apiVersion: coordination.k8s.io/v1</code></p><p><code>import "k8s.io/api/coordination/v1"</code></p><h2 id=Lease>Lease</h2><p>Lease 定义了租约的概念。</p><hr><ul><li><p><strong>apiVersion</strong>: coordination.k8s.io/v1</p></li><li><p><strong>kind</strong>: Lease</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p></li></ul><p>更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p><ul><li><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#LeaseSpec>LeaseSpec</a>)</li></ul><p>Lease 规范。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p><h2 id=LeaseSpec>LeaseSpec</h2><p>LeaseSpec 是一个 Lease 的规范。</p><hr><ul><li><p><strong>acquireTime</strong> (MicroTime)</p><p>acquireTime 是当前租约被获取的时间。</p><p><a name=MicroTime></a>
<strong>MicroTime 是微秒级精确时间的版本。</strong></p></li><li><p><strong>holderIdentity</strong> (string)</p><p>holderIdentity 包含当前租约持有人的身份。</p></li><li><p><strong>leaseDurationSeconds</strong> (int32)</p><p>leaseDurationSeconds 是租约候选人需要等待强制获取租约的持续时间。这是相对于上次观察到的更新时间的度量。</p></li><li><p><strong>leaseTransitions</strong> (int32)</p><p>LeasetTransitions 是租约持有人之间的转换次数。</p></li><li><p><strong>renewTime</strong> (MicroTime)</p><p>renewTime 是当前租约持有人上次更新租约的时间。</p><p><a name=MicroTime></a>
<strong>MicroTime 是具有微秒级精度的时间版本。</strong></p></li></ul><h2 id=LeaseList>LeaseList</h2><p>LeaseList 是 Lease 对象的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: coordination.k8s.io/v1</p></li><li><p><strong>kind</strong>: LeaseList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p></li></ul><p>标准列表元数据。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p><ul><li><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>), required</li></ul><p>Items 是架构对象的列表。</p><h2 id=operations>操作</h2><hr><h3 id=get-读取指定的租赁><code>get</code> 读取指定的租赁</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Lease 名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-lease-类对象><code>list</code> 列出或监视 Lease 类对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases</p><h4 id=参数-1>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#LeaseList>LeaseList</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-lease-类对象-1><code>list</code> 列出或监视 Lease 类对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/coordination.k8s.io/v1/leases</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#LeaseList>LeaseList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-lease><code>create</code> 创建 Lease</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases</p><h4 id=参数-3>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-lease><code>update</code> 替换指定的 Lease</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>租贷名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-lease><code>patch</code> 部分更新指定的 Lease</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PATCH /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>租贷名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, 必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除一个-lease><code>delete</code> 删除一个 Lease</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>租贷的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-lease-收款><code>deletecollection</code> 删除 Lease 收款</h3><h4 id=http-请求-7>HTTP 请求</h4><p>DELETE /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases</p><h4 id=参数-7>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-d1a53525d01a18b0dc630fcbc2411a03>8.6 - RuntimeClass</h1><div class=lead>RuntimeClass 定义集群中支持的容器运行时类。</div><p><code>apiVersion: node.k8s.io/v1</code></p><p><code>import "k8s.io/api/node/v1"</code></p><h2 id=RuntimeClass>RuntimeClass</h2><p>RuntimeClass 定义集群中支持的容器运行时类。
RuntimeClass 用于确定哪个容器运行时用于运行某 Pod 中的所有容器。
RuntimeClass 由用户或集群制备程序手动定义，并在 PodSpec 中引用。
Kubelet 负责在运行 Pod 之前解析 RuntimeClassName 引用。
有关更多详细信息，请参阅
<a href=https://kubernetes.io/zh-cn/docs/concepts/containers/runtime-class/>https://kubernetes.io/zh-cn/docs/concepts/containers/runtime-class/</a></p><hr><ul><li><p><strong>apiVersion</strong>: node.k8s.io/v1</p></li><li><p><strong>kind</strong>: RuntimeClass</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>handler</strong> (string)，必需</p><p>handler 指定底层运行时和配置，在 CRI 实现过程中将使用这些运行时和配置来处理这个类的 Pod。
可能的值特定于节点和 CRI 配置。
假定所有 handler 可用于每个节点上，且同一名称的 handler 在所有节点上是等效的。
例如，一个名为 “runc” 的 handler 可能指定 runc OCI 运行时将（使用原生 Linux 容器）
用于运行 Pod 中的容器。该 handler 必须采用小写，遵从 DNS Label (RFC 1123) 要求，且是不可变更的。</p></li></ul><ul><li><p><strong>overhead</strong> (Overhead)</p><p>overhead 表示运行给定 RuntimeClass 的 Pod 时所关联的资源开销。有关更多详细信息，请参阅
<a href=https://kubernetes.io/zh-cn/docs/concepts/scheduling-eviction/pod-overhead/>https://kubernetes.io/zh-cn/docs/concepts/scheduling-eviction/pod-overhead/</a></p><p><a name=Overhead></a>
<strong>Overhead 结构表示运行一个 Pod 所关联的资源开销。</strong></p><ul><li><p><strong>overhead.podFixed</strong> (map[string]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>podFixed 表示与运行一个 Pod 所关联的资源开销。</p></li></ul></li></ul><ul><li><p><strong>scheduling</strong> (Scheduling)</p><p>scheduling 包含调度约束，这些约束用来确保以这个 RuntimeClass 运行的 Pod 被调度到支持此运行时类的节点。
如果 scheduling 设为空，则假定所有节点支持此 RuntimeClass。</p><p><a name=Scheduling></a>
<strong>Scheduling 指定支持 RuntimeClass 的节点的调度约束。</strong></p><ul><li><p><strong>scheduling.nodeSelector</strong> (map[string]string)</p><p>nodeSelector 列出支持此 RuntimeClass 的节点上必须存在的标签。
使用此 RuntimeClass 的 Pod 只能调度到与这个选择算符匹配的节点上。
RuntimeClass nodeSelector 与 Pod 现有的 nodeSelector 合并。
任何冲突均会使得该 Pod 在准入时被拒绝。</p></li></ul><ul><li><p><strong>scheduling.tolerations</strong> ([]Toleration)</p><p><strong>原子性：将在合并期间被替换</strong></p><p>tolerations 在准入期间追加到以此 RuntimeClass 运行的 Pod（不包括重复项）上，
本质上是求取 Pod 和 RuntimeClass 所容忍的节点并集。</p><p><a name=Toleration></a>
<strong>附加此容忍度的 Pod 将容忍用匹配运算符 <code>operator</code> 运算后与三元组
<code>&lt;key,value,effect></code> 匹配的任何污点。</strong></p><ul><li><p><strong>scheduling.tolerations.key</strong> (string)</p><p>key 是容忍度所应用到的污点键。空意味着匹配所有污点键。
如果键为空，则运算符必须为 Exists；这个组合意味着匹配所有值和所有键。</p></li><li><p><strong>scheduling.tolerations.operator</strong> (string)</p><p>operator 表示一个键与值的关系。有效的运算符为 Exists 和 Equal。默认为 Equal。
Exists 等价于将值设置为通配符的情况，因此一个 Pod 可以容忍特定类别的所有污点。</p></li></ul><ul><li><p><strong>scheduling.tolerations.value</strong> (string)</p><p>value 是容忍度匹配到的污点值。如果运算符为 Exists，则值应为空，否则就是一个普通字符串。</p></li><li><p><strong>scheduling.tolerations.effect</strong> (string)</p><p>effect 表示匹配度污点效果。空意味着匹配所有污点效果。
当指定值时，允许的值为 NoSchedule、PreferNoSchedule 或 NoExecute。</p></li><li><p><strong>scheduling.tolerations.tolerationSeconds</strong> (int64)</p><p>tolerationSeconds 表示容忍度容忍污点的时间段（必须是 NoExecute 的效果，否则忽略此字段）。
默认情况下，不设置此字段，这意味着永远容忍污点（不驱逐）。零和负值将被系统视为 0（立即驱逐）。</p></li></ul></li></ul></li></ul><h2 id=RuntimeClassList>RuntimeClassList</h2><p>RuntimeClassList 是 RuntimeClass 对象的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: node.k8s.io/v1</p></li><li><p><strong>kind</strong>: RuntimeClassList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>)，必需</p><p>items 是 schema 对象的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-runtimeclass><code>get</code> 读取指定的 RuntimeClass</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/node.k8s.io/v1/runtimeclasses/{name}</p><h5 id=参数>参数</h5><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RuntimeClass 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-runtimeclass-类别的对象><code>list</code> 列出或监视 RuntimeClass 类别的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/node.k8s.io/v1/runtimeclasses</p><h5 id=参数-1>参数</h5><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClassList>RuntimeClassList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-runtimeclass><code>create</code> 创建 RuntimeClass</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/node.k8s.io/v1/runtimeclasses</p><h5 id=参数-2>参数</h5><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-runtimeclass><code>update</code> 替换指定的 RuntimeClass</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/node.k8s.io/v1/runtimeclasses/{name}</p><h5 id=参数-3>参数</h5><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RuntimeClass 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-runtimeclass><code>patch</code> 部分更新指定的 RuntimeClass</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/node.k8s.io/v1/runtimeclasses/{name}</p><h5 id=参数-4>参数</h5><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RuntimeClass 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-runtimeclass><code>delete</code> 删除 RuntimeClass</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/node.k8s.io/v1/runtimeclasses/{name}</p><h5 id=参数-5>参数</h5><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>RuntimeClass 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-runtimeclass-的集合><code>deletecollection</code> 删除 RuntimeClass 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/node.k8s.io/v1/runtimeclasses</p><h5 id=参数-6>参数</h5><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-cc77aabf4911a7fe383b866580449685>8.7 - FlowSchema v1beta2</h1><div class=lead>FlowSchema 定义一组流的模式。</div><p><code>apiVersion: flowcontrol.apiserver.k8s.io/v1beta2</code></p><p><code>import "k8s.io/api/flowcontrol/v1beta2"</code></p><h2 id=FlowSchema>FlowSchema</h2><p>FlowSchema 定义一组流的模式。请注意，一个流由属性类似的一组入站 API 请求组成，
用一对字符串进行标识：FlowSchema 的名称和一个 “流区分项”。</p><hr><ul><li><p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta2</p></li><li><p><strong>kind</strong>: FlowSchema</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p><code>metadata</code> 是标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchemaSpec>FlowSchemaSpec</a>)</p><p><code>spec</code> 是 FlowSchema 预期行为的规约。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchemaStatus>FlowSchemaStatus</a>)</p><p><code>status</code> 是 FlowSchema 的当前状态。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=FlowSchemaSpec>FlowSchemaSpec</h2><p>FlowSchemaSpec 描述 FlowSchema 的规约看起来是怎样的。</p><hr><ul><li><p><strong>priorityLevelConfiguration</strong> (PriorityLevelConfigurationReference)，必需</p><p><code>priorityLevelConfiguration</code> 应引用集群中的 PriorityLevelConfiguration。
如果此应用无法被解析，则忽略此 FlowSchema，并在其状态中将其标记为无效。必需。</p><p><a name=PriorityLevelConfigurationReference></a>
<strong>PriorityLevelConfigurationReference 包含指向正被使用的 “request-priority” 的信息。</strong></p><ul><li><p><strong>priorityLevelConfiguration.name</strong> (string)，必需</p><p><code>name</code> 是正被引用的优先级配置的名称。必需。</p></li></ul></li></ul><ul><li><p><strong>distinguisherMethod</strong> (FlowDistinguisherMethod)</p><p><code>distinguisherMethod</code> 定义如何为匹配此模式的请求来计算流区分项。
<code>nil</code> 表示该区分项被禁用，且因此将始终为空字符串。</p><p><a name=FlowDistinguisherMethod></a>
<strong>FlowDistinguisherMethod 指定流区分项的方法。</strong></p><ul><li><p><strong>distinguisherMethod.type</strong> (string)，必需</p><p><code>type</code> 是流区分项的类型。支持的类型为 “ByUser” 和 “ByNamespace”。必需。</p></li></ul></li></ul><ul><li><p><strong>matchingPrecedence</strong> (int32)</p><p><code>matchingPrecedence</code> 用于选择与给定请求匹配的一个 FlowSchema。
选中的 FlowSchema 是某个 MatchingPrecedence 数值最小（我们视其为逻辑上最大）的 FlowSchema。
每个 MatchingPrecedence 值必须在 [1,10000] 的范围内。
请注意，如果未指定优先顺序，则其默认设为 1000。</p></li></ul><ul><li><p><strong>rules</strong> ([]PolicyRulesWithSubjects)</p><p><strong>原子性：将在合并期间被替换</strong></p><p><code>rules</code> 描述哪些请求将与这个流模式匹配。只有当至少一条规则与请求匹配时，
才视为此 FlowSchema 与该请求匹配。如果字段值为空表，则 FlowSchema 不会与任何请求匹配。</p><p><a name=PolicyRulesWithSubjects></a>
<strong>PolicyRulesWithSubjects 给出针对 API 服务器请求的一个测试。
该测试将检查发出请求的主体、所请求的动作和要操作的资源。
只有同时满足以下两个条件时，才表示此 PolicyRulesWithSubjects 与请求匹配：
(a) 至少一个主体成员与请求匹配且
(b) 至少 resourceRules 或 nonResourceRules 的一个成员与请求匹配。</strong></p><ul><li><p><strong>rules.subjects</strong> ([]Subject)，必需</p><p><strong>原子性：将在合并期间被替换</strong></p><p>subjects 是此规则相关的普通用户、服务账号或组的列表。在这个列表中必须至少有一个成员。
同时包含 system:authenticated 和 system:unauthenticated 用户组的列表会与每个请求匹配。
此字段为必需。</p><p><a name=Subject></a>
<strong>Subject 用来与匹配请求的发起方，请求的发起方由请求身份认证系统识别出来。
有三种方式来匹配一个发起方：按用户、按组或按服务账号。</strong></p><ul><li><p><strong>rules.subjects.kind</strong> (string)，必需</p><p><code>kind</code> 标示其他字段中的哪个字段必须非空。必需。</p></li><li><p><strong>rules.subjects.group</strong> (GroupSubject)</p><p><code>group</code> 根据用户组名称进行匹配。</p><p><a name=GroupSubject></a>
<strong>GroupSubject 保存组类别主体的详细信息。</strong></p><ul><li><p><strong>rules.subjects.group.name</strong> (string)，必需</p><p>name 是要匹配的用户组，或使用 <code>*</code> 匹配所有用户组。有关一些广为人知的组名，请参阅
<a href=https://github.com/kubernetes/apiserver/blob/master/pkg/authentication/user/user.go>https://github.com/kubernetes/apiserver/blob/master/pkg/authentication/user/user.go</a>。必需。</p></li></ul></li></ul><ul><li><p><strong>rules.subjects.serviceAccount</strong> (ServiceAccountSubject)</p><p><code>serviceAccount</code> 与 ServiceAccount 对象进行匹配。</p><p><a name=ServiceAccountSubject></a>
<strong>ServiceAccountSubject 保存服务账号类别主体的详细信息。</strong></p><ul><li><p><strong>rules.subjects.serviceAccount.name</strong> (string)，必需</p><p><code>name</code> 是要匹配的 ServiceAccount 对象的名称，可使用 <code>*</code> 匹配所有名称。必需。</p></li><li><p><strong>rules.subjects.serviceAccount.namespace</strong> (string)，必需</p><p><code>namespace</code> 是要匹配的 ServiceAccount 对象的名字空间。必需。</p></li></ul></li></ul><ul><li><p><strong>rules.subjects.user</strong> (UserSubject)</p><p><code>user</code> 根据用户名进行匹配。</p><p><a name=UserSubject></a>
<strong>UserSubject 保存用户类别主体的详细信息。</strong></p><ul><li><p><strong>rules.subjects.user.name</strong> (string)，必需</p><p><code>name</code> 是要匹配的用户名，可使用 <code>*</code> 匹配所有用户名。必需。</p></li></ul></li></ul></li></ul><ul><li><p><strong>rules.nonResourceRules</strong> ([]NonResourcePolicyRule)</p><p><strong>原子性：将在合并期间被替换</strong></p><p><code>nonResourceRules</code> 是由 NonResourcePolicyRule 对象构成的列表，
根据请求的动作和目标非资源 URL 来识别匹配的请求。</p><p><a name=NonResourcePolicyRule></a>
<strong>NonResourcePolicyRule 是根据请求的动作和目标非资源 URL 来匹配非资源请求的一种规则。
只有满足以下两个条件时，NonResourcePolicyRule 才会匹配一个请求：
(a) 至少 verbs 的一个成员与请求匹配且 (b) 至少 nonResourceURLs 的一个成员与请求匹配。</strong></p><ul><li><p><strong>rules.nonResourceRules.nonResourceURLs</strong> ([]string)，必需</p><p><strong>集合：合并期间保留唯一值</strong></p><p><code>nonResourceURLs</code> 是用户有权访问的一组 URL 前缀，不可以为空。
此字段为必需设置的字段。例如：</p><ul><li>"/healthz" 是合法的</li><li>"/hea*" 是不合法的</li><li>"/hea" 是合法的但不会与任何项匹配</li><li>"/hea/*" 也不会与任何项匹配</li><li>"/healthz/*" 与所有组件自身的的健康检查路径匹配。
<code>*</code> 与所有非资源 URL 匹配。如果存在此字符，则必须是唯一的输入项。
必需。</li></ul></li></ul><ul><li><p><strong>rules.nonResourceRules.verbs</strong> ([]string)，必需</p><p><strong>集合：在合并期间保留唯一值</strong></p><p><code>verbs</code> 是与动作匹配的列表，不可以为空。<code>*</code> 与所有动作匹配。
如果存在此字符，则必须是唯一的输入项。必需。</p></li></ul></li></ul><ul><li><p><strong>rules.resourceRules</strong> ([]ResourcePolicyRule)</p><p><strong>原子性：将在合并期间被替换</strong></p><p><code>resourceRules</code> 是 ResourcePolicyRule 对象的列表，根据请求的动作和目标资源识别匹配的请求。
<code>resourceRules</code> 和 <code>nonResourceRules</code> 两者必须至少有一个非空。</p><p><a name=ResourcePolicyRule></a>
<strong>ResourcePolicyRule 是用来匹配资源请求的规则，对请求的动作和目标资源进行测试。
只有满足以下条件时，ResourcePolicyRule 才会与某个资源请求匹配：
(a) 至少 verbs 的一个成员与请求的动作匹配，
(b) 至少 apiGroups 的一个成员与请求的 API 组匹配，
(c) 至少 resources 的一个成员与请求的资源匹配，
(d) 要么 (d1) 请求未指定一个名字空间（即，<code>namespace==""</code>）且 clusterScope 为 true，
要么 (d2) 请求指定了一个名字空间，且至少 namespaces 的一个成员与请求的名字空间匹配。</strong></p><ul><li><p><strong>rules.resourceRules.apiGroups</strong> ([]string)，必需</p><p><strong>集合：合并期间保留唯一值</strong></p><p><code>apiGroups</code> 是与 API 组匹配的列表，不可以为空。<code>*</code> 表示与所有 API 组匹配。
如果存在此字符，则其必须是唯一的条目。必需。</p></li><li><p><strong>rules.resourceRules.resources</strong> ([]string)，必需</p><p><strong>集合：合并期间保留唯一值</strong></p><p><code>resources</code> 是匹配的资源（即小写和复数）的列表，如果需要的话，还可以包括子资源。
例如 [ "services", "nodes/status" ]。此列表不可以为空。
<code>*</code> 表示与所有资源匹配。如果存在此字符，则必须是唯一的条目。必需。</p></li></ul><ul><li><p><strong>rules.resourceRules.verbs</strong> ([]string)，必需</p><p><strong>集合：合并期间保留唯一值</strong></p><p><code>verbs</code> 是匹配的动作的列表，不可以为空。<code>*</code> 表示与所有动作匹配。
如果存在此字符，则必须是唯一的条目。必需。</p></li><li><p><strong>rules.resourceRules.clusterScope</strong> (boolean)</p><p><code>clusterScope</code> 表示是否与未指定名字空间
（出现这种情况的原因是该资源没有名字空间或请求目标面向所有名字空间）的请求匹配。
如果此字段被省略或为 false，则 <code>namespaces</code> 字段必须包含一个非空的列表。</p></li></ul><ul><li><p><strong>rules.resourceRules.namespaces</strong> ([]string)</p><p><strong>集合：合并期间保留唯一值</strong></p><p><code>namespaces</code> 是限制匹配的目标的名字空间的列表。
指定一个目标名字空间的请求只会在以下某一个情况满足时进行匹配：
(a) 此列表包含该目标名字空间或 (b) 此列表包含 <code>*</code>。
请注意，<code>*</code> 与所指定的任何名字空间匹配，但不会与<strong>未指定</strong> 名字空间的请求匹配
（请参阅 <code>clusterScope</code> 字段）。此列表可以为空，但前提是 <code>clusterScope</code> 为 true。</p></li></ul></li></ul></li></ul><h2 id=FlowSchemaStatus>FlowSchemaStatus</h2><p>FlowSchemaStatus 表示 FlowSchema 的当前状态。</p><hr><ul><li><p><strong>conditions</strong> ([]FlowSchemaCondition)</p><p><strong>Map：合并期间保留根据键 type 保留其唯一值</strong></p><p><code>conditions</code> 是 FlowSchema 当前状况的列表。</p><p><a name=FlowSchemaCondition></a>
<strong>FlowSchemaCondition 描述 FlowSchema 的状况。</strong></p><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p><code>lastTransitionTime</code> 是状况上一次从一个状态转换为另一个状态的时间。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。
为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p><code>message</code> 是一条人类可读的消息，表示上一次转换有关的详细信息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p><code>reason</code> 是状况上次转换原因的、驼峰格式命名的、唯一的一个词。</p></li></ul><ul><li><p><strong>conditions.status</strong> (string)</p><p><code>status</code> 是状况的状态。可以是 True、False、Unknown。必需。</p></li><li><p><strong>conditions.type</strong> (string)</p><p><code>type</code> 是状况的类型。必需。</p></li></ul></li></ul><h2 id=FlowSchemaList>FlowSchemaList</h2><p>FlowSchemaList 是 FlowSchema 对象的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta2</p></li><li><p><strong>kind</strong>: FlowSchemaList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p><code>metadata</code> 是标准的列表元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>)，必需</p><p><code>items</code> 是 FlowSchemas 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-flowschema><code>get</code> 读取指定的 FlowSchema</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>FlowSchema 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定-flowschema-的状态><code>get</code> 读取指定 FlowSchema 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>FlowSchema 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-flowschema-类别的对象><code>list</code> 列出或监视 FlowSchema 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchemaList>FlowSchemaList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-flowschema><code>create</code> 创建 FlowSchema</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas</p><h4 id=参数-3>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-flowschema><code>update</code> 替换指定的 FlowSchema</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>FlowSchema 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-flowschema-的状态><code>update</code> 替换指定的 FlowSchema 的状态</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas/{name}/status</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>FlowSchema 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-flowschema><code>patch</code> 部分更新指定的 FlowSchema</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>FlowSchema 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-flowschema-的状态><code>patch</code> 部分更新指定的 FlowSchema 的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>FlowSchema 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta2/#FlowSchema>FlowSchema</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-flowschema><code>delete</code> 删除 FlowSchema</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>FlowSchema 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-flowschema-的集合><code>deletecollection</code> 删除 FlowSchema 的集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta2/flowschemas</p><h4 id=参数-9>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-932c37c6ce5aabcbced985d8caa835fe>8.8 - PriorityLevelConfiguration v1beta2</h1><div class=lead>PriorityLevelConfiguration 表示一个优先级的配置。</div><p><code>apiVersion: flowcontrol.apiserver.k8s.io/v1beta2</code></p><p><code>import "k8s.io/api/flowcontrol/v1beta2"</code></p><h2 id=PriorityLevelConfiguration>PriorityLevelConfiguration</h2><p>PriorityLevelConfiguration 表示一个优先级的配置。</p><hr><ul><li><p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta2</p></li><li><p><strong>kind</strong>: PriorityLevelConfiguration</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p><code>metadata</code> 是标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfigurationSpec>PriorityLevelConfigurationSpec</a>)</p><p><code>spec</code> 是 “request-priority” 预期行为的规约。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><ul><li><p><strong>status</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfigurationStatus>PriorityLevelConfigurationStatus</a>)</p><p><code>status</code> 是 “请求优先级” 的当前状况。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=PriorityLevelConfigurationSpec>PriorityLevelConfigurationSpec</h2><p>PriorityLevelConfigurationSpec 指定一个优先级的配置。</p><hr><ul><li><p><strong>type</strong> (string)，必需</p><p><code>type</code> 指示此优先级是否遵从有关请求执行的限制。
取值为 <code>"Exempt"</code> 意味着此优先级的请求不遵从某个限制（且因此从不排队）且不会减损其他优先级可用的容量。
取值为 <code>"Limited"</code> 意味着 (a) 此优先级的请求遵从这些限制且
(b) 服务器某些受限的容量仅可用于此优先级。必需。</p></li></ul><ul><li><p><strong>limited</strong> (LimitedPriorityLevelConfiguration)</p><p><code>limited</code> 指定如何为某个受限的优先级处理请求。
当且仅当 <code>type</code> 是 <code>"Limited"</code> 时，此字段必须为非空。</p><p><a name=LimitedPriorityLevelConfiguration></a>
LimitedPriorityLevelConfiguration 指定如何处理需要被限制的请求。它解决两个问题：</p><ul><li>如何限制此优先级的请求？</li><li>应如何处理超出此限制的请求？</li></ul><ul><li><p><strong>limited.assuredConcurrencyShares</strong> (int32)</p><p><code>assuredConcurrencyShares</code> (ACS) 配置执行限制，这是在给定时间可以执行的、此优先级的请求数量的限制。
ACS 必须是一个正数。服务器的并发限制（SCL）数量按其保证的并发份额划分到并发能力受限的各个优先级中。
这一计算会为所有这种优先级分别生成其确定的并发值（ACV），即一次可以执行的请求数量：</p><pre tabindex=0><code>ACV(l) = ceil( SCL * ACS(l) / ( sum[priority levels k] ACS(k) ) )
</code></pre><p>较大的 ACS 值意味着（以影响所有其他优先级为代价）保留更多的并发请求。此字段的默认值为 30。</p></li></ul><ul><li><p><strong>limited.limitResponse</strong> (LimitResponse)</p><p><code>limitResponse</code> 指示如何处理当前无法立即执行的请求。</p><p><a name=LimitResponse></a>
<strong>LimitResponse 定义如何处理当前无法立即执行的请求。</strong></p><ul><li><p><strong>limited.limitResponse.type</strong> (string)，必需</p><p><code>type</code> 是 “Queue” 或 “Reject”。此字段必须设置。
“Queue” 意味着在到达时无法被执行的请求可以被放到队列中，直到它们被执行或者队列长度超出限制为止。
“Reject” 意味着到达时无法执行的请求将被拒绝。</p></li></ul><ul><li><p><strong>limited.limitResponse.queuing</strong> (QueuingConfiguration)</p><p><code>queuing</code> 包含排队所用的配置参数。只有 <code>type</code> 是 <code>"Queue"</code> 时，此字段才可以为非空。</p><p><a name=QueuingConfiguration></a>
<strong>QueuingConfiguration 保存排队所用的配置参数。</strong></p><ul><li><p><strong>limited.limitResponse.queuing.handSize</strong> (int32)</p><p><code>handSize</code> 是一个小的正数，用于配置如何将请求随机分片到队列中。
当以该优先级将请求排队时，将对请求的流标识符（字符串对）进行哈希计算，
该哈希值用于打乱队列队列的列表，并处理此处指定的一批请求。
请求被放入这一批次中最短的队列中。
<code>handSize</code> 不得大于 <code>queues</code>，并且应该明显更小（以便几个大的流量不会使大多数队列饱和）。
有关设置此字段的更多详细指导，请参阅面向用户的文档。此字段的默认值为 8。</p></li></ul><ul><li><p><strong>limited.limitResponse.queuing.queueLengthLimit</strong> (int32)</p><p><code>queueLengthLimit</code> 是任意时刻允许在此优先级的给定队列中等待的请求数上限；
额外的请求将被拒绝。
此值必须是正数。如果未指定，则默认为 50。</p></li><li><p><strong>limited.limitResponse.queuing.queues</strong> (int32)</p><p><code>queues</code> 是这个优先级的队列数。此队列在每个 API 服务器上独立存在。此值必须是正数。
将其设置为 1 相当于禁止了混洗分片操作，进而使得对相关流模式的区分方法不再有意义。
此字段的默认值为 64。</p></li></ul></li></ul></li></ul></li></ul><h2 id=PriorityLevelConfigurationStatus>PriorityLevelConfigurationStatus</h2><p>PriorityLevelConfigurationStatus 表示 “请求优先级” 的当前状况。</p><hr><ul><li><p><strong>conditions</strong> ([]PriorityLevelConfigurationCondition)</p><p><strong>Map：合并期间保留根据键 type 保留其唯一值</strong></p><p><code>conditions</code> 是 “请求优先级” 的当前状况。</p><p><a name=PriorityLevelConfigurationCondition></a>
<strong>PriorityLevelConfigurationCondition 定义优先级的状况。</strong></p><ul><li><p><strong>conditions.lastTransitionTime</strong> (Time)</p><p><code>lastTransitionTime</code> 是状况上次从一个状态转换为另一个状态的时间。</p><p><a name=Time></a>
<strong>Time 是对 time.Time 的封装。Time 支持对 YAML 和 JSON 进行正确封包。
为 time 包的许多函数方法提供了封装器。</strong></p></li></ul><ul><li><p><strong>conditions.message</strong> (string)</p><p><code>message</code> 是人类可读的消息，指示有关上次转换的详细信息。</p></li><li><p><strong>conditions.reason</strong> (string)</p><p><code>reason</code> 是状况上次转换原因的、驼峰格式命名的、唯一的一个词。</p></li></ul><ul><li><p><strong>conditions.status</strong> (string)</p><p><code>status</code> 表示状况的状态，取值为 True、False 或 Unknown 之一。必需。</p></li><li><p><strong>conditions.type</strong> (string)</p><p><code>type</code> 表示状况的类型，必需。</p></li></ul></li></ul><h2 id=PriorityLevelConfigurationList>PriorityLevelConfigurationList</h2><p>PriorityLevelConfigurationList 是 PriorityLevelConfiguration 对象的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta2</p></li><li><p><strong>kind</strong>: PriorityLevelConfigurationList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p><code>metadata</code> 是标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>)，必需</p><p><code>items</code> 是请求优先级设置的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-prioritylevelconfiguration><code>get</code> 读取指定的 PriorityLevelConfiguration</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PriorityLevelConfiguration 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p><p>401: Unauthorized</p><h3 id=get-读取指定的-prioritylevelconfiguration-的状态><code>get</code> 读取指定的 PriorityLevelConfiguration 的状态</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations/{name}/status</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PriorityLevelConfiguration 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-prioritylevelconfiguration-类别的对象><code>list</code> 列出或监视 PriorityLevelConfiguration 类别的对象</h3><h4 id=http-请求-2>HTTP 请求</h4><p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations</p><h4 id=参数-2>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfigurationList>PriorityLevelConfigurationList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-prioritylevelconfiguration><code>create</code> 创建 PriorityLevelConfiguration</h3><h4 id=http-请求-3>HTTP 请求</h4><p>POST /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations</p><h4 id=参数-3>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-prioritylevelconfiguration><code>update</code> 替换指定的 PriorityLevelConfiguration</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PriorityLevelConfiguration 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=update-替换指定的-prioritylevelconfiguration-的状态><code>update</code> 替换指定的 PriorityLevelConfiguration 的状态</h3><h4 id=http-请求-5>HTTP 请求</h4><p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations/{name}/status</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PriorityLevelConfiguration 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-prioritylevelconfiguration><code>patch</code> 部分更新指定的 PriorityLevelConfiguration</h3><h4 id=http-请求-6>HTTP 请求</h4><p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations/{name}</p><h4 id=参数-6>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PriorityLevelConfiguration 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-prioritylevelconfiguration-的状态><code>patch</code> 部分更新指定的 PriorityLevelConfiguration 的状态</h3><h4 id=http-请求-7>HTTP 请求</h4><p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations/{name}/status</p><h4 id=参数-7>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PriorityLevelConfiguration 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-7>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta2/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-prioritylevelconfiguration><code>delete</code> 删除 PriorityLevelConfiguration</h3><h4 id=http-请求-8>HTTP 请求</h4><p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations/{name}</p><h4 id=参数-8>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>PriorityLevelConfiguration 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-8>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-prioritylevelconfiguration-的集合><code>deletecollection</code> 删除 PriorityLevelConfiguration 的集合</h3><h4 id=http-请求-9>HTTP 请求</h4><p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations</p><h4 id=参数-9>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-9>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-76c59f2971e8baa82f76c4bea291baa5>8.9 - Binding</h1><div class=lead>Binding 将一个对象与另一个对象联系起来; 例如，一个 Pod 被调度程序绑定到一个节点。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=Binding>Binding</h2><p>Binding 将一个对象与另一个对象联系起来; 例如，一个 Pod 被调度程序绑定到一个节点。
已在 1.7 版本弃用，请使用 Pod 的 binding 子资源。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: Binding</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p></li></ul><p>标准对象的元数据， 更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p><ul><li><p><strong>target</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)， 必需</p><p>要绑定到标准对象的目标对象。</p></li></ul><h2 id=operations>操作</h2><hr><h3 id=create-创建一个-binding><code>create</code> 创建一个 Binding</h3><h4 id=http-请求>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/bindings</p><h4 id=参数>参数</h4><ul><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li></ul><ul><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Accepted</p><p>401: Unauthorized</p><h3 id=create-创建-pod-的绑定><code>create</code> 创建 Pod 的绑定</h3><h4 id=http-请求-1>HTTP 请求</h4><p>POST /api/v1/namespaces/{namespace}/pods/{name}/binding</p><h4 id=参数-1>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string, 必需</p><p>Binding 的名称</p></li><li><p><strong>namespace</strong> (<strong>路径参数</strong>): string, 必需</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>, 必需</p></li></ul><ul><li><p><strong>dryRun</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Accepted</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4fd67a09c76a0614445c034348adc0a7>8.10 - ComponentStatus</h1><div class=lead>ComponentStatus（和 ComponentStatusList）保存集群检验信息。</div><p><code>apiVersion: v1</code></p><p><code>import "k8s.io/api/core/v1"</code></p><h2 id=ComponentStatus>ComponentStatus</h2><p>ComponentStatus（和 ComponentStatusList）保存集群检验信息。
已废弃：该 API 在 v1.19 及更高版本中废弃。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ComponentStatus</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>conditions</strong> ([]ComponentCondition)</p><p><strong>补丁策略：基于键 <code>type</code> 合并</strong></p><p>观测到的组件状况的列表。</p><p><a name=ComponentCondition></a>
<strong>组件状况相关信息。</strong></p><ul><li><p><strong>conditions.status</strong> (string)，必需</p><p>组件状况的状态。“Healthy” 的有效值为：“True”、“False” 或 “Unknown”。</p></li></ul><ul><li><strong>conditions.type</strong> (string)，必需</li></ul><p>组件状况的类型。有效值：“Healthy”</p><ul><li><p><strong>conditions.error</strong> (string)</p><p>组件状况的错误码。例如，一个健康检查错误码。</p></li><li><p><strong>conditions.message</strong> (string)</p><p>组件状况相关消息。例如，有关健康检查的信息。</p></li></ul></li></ul><h2 id=ComponentStatusList>ComponentStatusList</h2><p>作为 ComponentStatus 对象列表，所有组件状况的状态。
已废弃：该 API 在 v1.19 及更高版本中废弃。</p><hr><ul><li><p><strong>apiVersion</strong>: v1</p></li><li><p><strong>kind</strong>: ComponentStatusList</p></li></ul><ul><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/component-status-v1/#ComponentStatus>ComponentStatus</a>)，必需</p><p>ComponentStatus 对象的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-componentstatus><code>get</code> 读取指定的 ComponentStatus</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /api/v1/componentstatuses/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>): string，必需</p><p>ComponentStatus 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/component-status-v1/#ComponentStatus>ComponentStatus</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出-componentstatus-类别的对象><code>list</code> 列出 ComponentStatus 类别的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /api/v1/componentstatuses</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>): string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>): integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>): boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/component-status-v1/#ComponentStatusList>ComponentStatusList</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4f0da62de12505b9423be81272c12759>8.11 - ClusterCIDR v1alpha1</h1><div class=lead>ClusterCIDR 表示启用 MultiCIDRRangeAllocator 时针对每个节点 Pod CIDR 分配进行的单个配置（参阅针对 kube-controller-manager 的配置）。</div><p><code>apiVersion: networking.k8s.io/v1alpha1</code></p><p><code>import "k8s.io/api/networking/v1alpha1"</code></p><h2 id=ClusterCIDR>ClusterCIDR</h2><p>ClusterCIDR 表示启用 MultiCIDRRangeAllocator 时针对每个节点 Pod CIDR 分配进行的单个配置
（参阅针对 kube-controller-manager 的配置）。
一个集群可能有任意数量的 ClusterCIDR 资源，在为节点分配 CIDR 时将考虑所有这些资源。
当节点选择算符与相关节点匹配并且有空闲 CIDR 可供分配时，ClusterCIDR 才能有资格用于给定的节点。
在存在多个匹配的 ClusterCIDR 资源的情况下，分配器将尝试使用内部启发式算法来解决这一问题，
但可以使用节点选择算符与该节点匹配的任何 ClusterCIDR。</p><hr><ul><li><p><strong>apiVersion</strong>: networking.k8s.io/v1alpha1</p></li><li><p><strong>kind</strong>: ClusterCIDR</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li><li><p><strong>spec</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDRSpec>ClusterCIDRSpec</a>)</p><p>spec 是 ClusterCIDR 的预期状态。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul><h2 id=ClusterCIDRSpec>ClusterCIDRSpec</h2><p>ClusterCIDRSpec 定义 ClusterCIDR 的预期状态。</p><hr><ul><li><p><strong>perNodeHostBits</strong> (int32)，必需</p><p>perNodeHostBits 定义每个节点要配置的主机位数。
子网掩码决定有多少地址用于网络位和主机位。
例如 IPv4 地址 192.168.0.0/24 将该地址拆分为 24 位用于网络部分和 8 位用于主机部分。
要分配 256 个 IP，需将此字段设置为 8（针对 IPv4 的掩码为 /24，针对 IPv6 的掩码为 /120）。
最小值为 4（16 个 IP）。此字段是不可变的。</p></li><li><p><strong>ipv4</strong> (string)</p><p>ipv4 以 CIDR 表示法定义 IPv4 IP 块（例如 “10.0.0.0/8”）。
必须至少指定 ipv4 和 ipv6 之一。该字段是不可变的。</p></li><li><p><strong>ipv6</strong> (string)</p><p>ipv6 以 CIDR 表示法定义 IPv6 IP 块（例如 “fd12:3456:789a:1::/64”）。
必须至少指定 ipv4 和 ipv6 之一。 该字段是不可变的。</p></li><li><p><strong>nodeSelector</strong> (NodeSelector)</p><p>nodeSelector 定义该配置适用于哪些节点。
空白或值为 nil 的 nodeSelector 选择所有节点。该字段是不可变的。</p><p><a name=NodeSelector></a>
<strong>节点选择算符表示在一组节点上一个或多个标签查询结果的并集；
也就是说，它表示由节点选择算符条件表示的选择算符的逻辑或计算结果。</strong></p><ul><li><p><strong>nodeSelector.nodeSelectorTerms</strong> ([]NodeSelectorTerm)，必需</p><p>必需。节点选择算符条件的列表。这些条件以逻辑与进行计算。</p><p><a name=NodeSelectorTerm></a>
<strong>一个 null 或空的节点选择算符条件不会与任何对象匹配。这些要求会按逻辑与的关系来计算。
TopologySelectorTerm 类别实现了 NodeSelectorTerm 的子集。</strong></p><ul><li><p><strong>nodeSelector.nodeSelectorTerms.matchExpressions</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p><p>基于节点标签所设置的节点选择算符要求的列表。</p></li><li><p><strong>nodeSelector.nodeSelectorTerms.matchFields</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p><p>基于节点字段所设置的节点选择算符要求的列表。</p></li></ul></li></ul></li></ul><h2 id=ClusterCIDRList>ClusterCIDRList</h2><p>ClusterCIDRList 包含 ClusterCIDR 的列表。</p><hr><ul><li><p><strong>apiVersion</strong>: networking.k8s.io/v1alpha1</p></li><li><p><strong>kind</strong>: ClusterCIDRList</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准的对象元数据。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p></li></ul><ul><li><p><strong>items</strong> ([]<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>)，必需</p><p>items 是 ClusterCIDRs 的列表。</p></li></ul><h2 id=Operations>操作</h2><hr><h3 id=get-读取指定的-clustercidr><code>get</code> 读取指定的 ClusterCIDR</h3><h4 id=http-请求>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1alpha1/clustercidrs/{name}</p><h4 id=参数>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>ClusterCIDR 的名称</p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): OK</p><p>401: Unauthorized</p><h3 id=list-列出或监视-clustercidr-类别的对象><code>list</code> 列出或监视 ClusterCIDR 类别的对象</h3><h4 id=http-请求-1>HTTP 请求</h4><p>GET /apis/networking.k8s.io/v1alpha1/clustercidrs</p><h4 id=参数-1>参数</h4><ul><li><p><strong>allowWatchBookmarks</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li><li><p><strong>watch</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p></li></ul><h4 id=响应-1>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDRList>ClusterCIDRList</a>): OK</p><p>401: Unauthorized</p><h3 id=create-创建-clustercidr><code>create</code> 创建 ClusterCIDR</h3><h4 id=http-请求-2>HTTP 请求</h4><p>POST /apis/networking.k8s.io/v1alpha1/clustercidrs</p><h4 id=参数-2>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-2>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): Created</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): Accepted</p><p>401: Unauthorized</p><h3 id=update-替换指定的-clustercidr><code>update</code> 替换指定的 ClusterCIDR</h3><h4 id=http-请求-3>HTTP 请求</h4><p>PUT /apis/networking.k8s.io/v1alpha1/clustercidrs/{name}</p><h4 id=参数-3>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>ClusterCIDR 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-3>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): Created</p><p>401: Unauthorized</p><h3 id=patch-部分更新指定的-clustercidr><code>patch</code> 部分更新指定的 ClusterCIDR</h3><h4 id=http-请求-4>HTTP 请求</h4><p>PATCH /apis/networking.k8s.io/v1alpha1/clustercidrs/{name}</p><h4 id=参数-4>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>ClusterCIDR 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>，必需</p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldManager</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p></li><li><p><strong>fieldValidation</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldValidation>fieldValidation</a></p></li><li><p><strong>force</strong> (<strong>查询参数</strong>)：boolean</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li></ul><h4 id=响应-4>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): OK</p><p>201 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/cluster-resources/cluster-cidr-v1alpha1/#ClusterCIDR>ClusterCIDR</a>): Created</p><p>401: Unauthorized</p><h3 id=delete-删除-clustercidr><code>delete</code> 删除 ClusterCIDR</h3><h4 id=http-请求-5>HTTP 请求</h4><p>DELETE /apis/networking.k8s.io/v1alpha1/clustercidrs/{name}</p><h4 id=参数-5>参数</h4><ul><li><p><strong>name</strong> (<strong>路径参数</strong>)：string，必需</p><p>ClusterCIDR 的名称</p></li><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li></ul><h4 id=响应-5>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>202 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p><p>401: Unauthorized</p><h3 id=deletecollection-删除-clustercidr-的集合><code>deletecollection</code> 删除 ClusterCIDR 的集合</h3><h4 id=http-请求-6>HTTP 请求</h4><p>DELETE /apis/networking.k8s.io/v1alpha1/clustercidrs</p><h4 id=参数-6>参数</h4><ul><li><p><strong>body</strong>: <a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p></li><li><p><strong>continue</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p></li><li><p><strong>dryRun</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p></li><li><p><strong>fieldSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p></li><li><p><strong>gracePeriodSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p></li><li><p><strong>labelSelector</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p></li><li><p><strong>limit</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p></li><li><p><strong>pretty</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p></li><li><p><strong>propagationPolicy</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p></li><li><p><strong>resourceVersion</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p></li><li><p><strong>resourceVersionMatch</strong> (<strong>查询参数</strong>)：string</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p></li><li><p><strong>timeoutSeconds</strong> (<strong>查询参数</strong>)：integer</p><p><a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p></li></ul><h4 id=响应-6>响应</h4><p>200 (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p><p>401: Unauthorized</p></div><div class=td-content style=page-break-before:always><h1 id=pg-0a260d85a5da2504fce8c56b77c45024>9 - 公共定义</h1></div><div class=td-content><h1 id=pg-9eba5edb3c1d93f9a74827e3a71014dd>9.1 - DeleteOptions</h1><div class=lead>删除 API 对象时可以提供 DeleteOptions。</div><p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p><p>删除 API 对象时可以提供 DeleteOptions。</p><hr><ul><li><p><strong>apiVersion</strong> (string)</p><p><code>APIVersion</code> 定义对象表示的版本化模式。
服务器应将已识别的模式转换为最新的内部值，并可能拒绝无法识别的值。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p></li></ul><ul><li><p><strong>dryRun</strong> ([]string)</p><p>该值如果存在，则表示不应保留修改。
无效或无法识别的 <code>dryRun</code> 指令将导致错误响应并且不会进一步处理请求。有效值为：</p><ul><li><code>All</code>：处理所有试运行阶段（Dry Run Stages）</li></ul></li></ul><ul><li><p><strong>gracePeriodSeconds</strong> (int64)</p><p>表示对象被删除之前的持续时间（以秒为单位）。
值必须是非负整数。零值表示立即删除。如果此值为 <code>nil</code>，则将使用指定类型的默认宽限期。如果未指定，则为每个对象的默认值。</p></li></ul><ul><li><p><strong>kind</strong> (string)</p><p><code>kind</code> 是一个字符串值，表示此对象代表的 REST 资源。
服务器可以从客户端提交请求的端点推断出此值。此值无法更新，是驼峰的格式。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a> 。</p></li></ul><ul><li><p><strong>orphanDependents</strong> (boolean)</p><p>已弃用：该字段将在 1.7 中弃用，请使用 <code>propagationPolicy</code> 字段。
该字段表示依赖对象是否应该是孤儿。如果为 true/false，对象的 finalizers 列表中会被添加上或者移除掉 “orphan” 终结器（Finalizer）。
可以设置此字段或者设置 <code>propagationPolicy</code> 字段，但不能同时设置以上两个字段。</p></li></ul><ul><li><p><strong>preconditions</strong> (Preconditions)</p><p>先决条件必须在执行删除之前完成。如果无法满足这些条件，将返回 409（冲突）状态。</p><p><a name=Preconditions></a>
<em>执行操作（更新、删除等）之前必须满足先决条件。</em></p><ul><li><p><strong>preconditions.resourceVersion</strong> (string)</p><p>指定目标资源版本（resourceVersion）。</p></li><li><p><strong>preconditions.uid</strong> (string)</p><p>指定目标 UID。</p></li></ul></li></ul><ul><li><p><strong>propagationPolicy</strong> (string)</p><p>表示是否以及如何执行垃圾收集。可以设置此字段或 <code>orphanDependents</code> 字段，但不能同时设置二者。
默认策略由 <code>metadata.finalizers</code> 中现有终结器（Finalizer）集合和特定资源的默认策略决定。
可接受的值为：<code>Orphan</code> - 令依赖对象成为孤儿对象；<code>Background</code> - 允许垃圾收集器在后台删除依赖项；<code>Foreground</code> - 一个级联策略，前台删除所有依赖项。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-26234b02eb0546f7a178da9c373cb197>9.2 - LabelSelector</h1><div class=lead>标签选择器是对一组资源的标签查询。</div><p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p><p>标签选择器是对一组资源的标签查询。</p><p><code>matchLabels</code> 和 <code>matchExpressions</code> 的结果按逻辑与的关系组合。
一个 <code>empty</code> 标签选择器匹配所有对象。一个 <code>null</code> 标签选择器不匹配任何对象。</p><hr><ul><li><p><strong>matchExpressions</strong> ([]LabelSelectorRequirement)</p><p><code>matchExpressions</code> 是标签选择器要求的列表，这些要求的结果按逻辑与的关系来计算。</p><p><a name=LabelSelectorRequirement></a>
<em>标签选择器要求是包含值、键和关联键和值的运算符的选择器。</em></p><ul><li><p><strong>matchExpressions.key</strong> (string)， 必填</p><p><em>补丁策略：按照键 <code>key</code> 合并</em></p><p><code>key</code> 是选择器应用的标签键。</p></li></ul><ul><li><p><strong>matchExpressions.operator</strong> (string)，必填</p><p><code>operator</code> 表示键与一组值的关系。有效的运算符包括 <code>In</code>、<code>NotIn</code>、<code>Exists</code> 和 <code>DoesNotExist</code>。</p></li></ul><ul><li><p><strong>matchExpressions.values</strong> ([]string)</p><p><code>values</code> 是一个字符串值数组。如果运算符为 <code>In</code> 或 <code>NotIn</code>，则 <code>values</code> 数组必须为非空。</p><p>如果运算符是 <code>Exists</code> 或 <code>DoesNotExist</code>，则 <code>values</code> 数组必须为空。</p><p>该数组在策略性合并补丁（Strategic Merge Patch）期间被替换。</p></li></ul></li></ul><ul><li><p><strong>matchLabels</strong> (map[string]string)</p><p><code>matchLabels</code> 是 {<code>key</code>,<code>value</code>} 键值对的映射。</p><p><code>matchLabels</code> 映射中的单个 {<code>key</code>,<code>value</code>} 键值对相当于 <code>matchExpressions</code> 的一个元素，其键字段为 <code>key</code>，运算符为 <code>In</code>，<code>values</code> 数组仅包含 <code>value</code>。</p><p>所表达的需求最终要按逻辑与的关系组合。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-dbe3b11fb1cfde0aac65f945d84b11d6>9.3 - ListMeta</h1><div class=lead>ListMeta 描述了合成资源必须具有的元数据，包括列表和各种状态对象。</div><p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p><p><code>ListMeta</code> 描述了合成资源必须具有的元数据，包括列表和各种状态对象。
一个资源仅能有 <code>{ObjectMeta, ListMeta}</code> 中的一个。</p><hr><ul><li><p><strong>continue</strong> (string)</p><p>如果用户对返回的条目数量设置了限制，则 <code>continue</code> 可能被设置，表示服务器有更多可用的数据。
该值是不透明的，可用于向提供此列表服务的端点发出另一个请求，以检索下一组可用的对象。
如果服务器配置已更改或时间已过去几分钟，则可能无法继续提供一致的列表。
除非你在错误消息中收到此令牌（token），否则使用此 <code>continue</code> 值时返回的 <code>resourceVersion</code>
字段应该和第一个响应中的值是相同的。</p></li></ul><ul><li><p><strong>remainingItemCount</strong> (int64)</p><p><code>remainingItemCount</code> 是列表中未包含在此列表响应中的后续项目的数量。
如果列表请求包含标签或字段选择器，则剩余项目的数量是未知的，并且在序列化期间该字段将保持未设置和省略。
如果列表是完整的（因为它没有分块或者这是最后一个块），那么就没有剩余的项目，并且在序列化过程中该字段将保持未设置和省略。
早于 v1.15 的服务器不设置此字段。<code>remainingItemCount</code> 的预期用途是<em>估计</em>集合的大小。
客户端不应依赖于设置准确的 <code>remainingItemCount</code>。</p></li></ul><ul><li><p><strong>resourceVersion</strong> (string)</p><p>标识该对象的服务器内部版本的字符串，客户端可以用该字段来确定对象何时被更改。
该值对客户端是不透明的，并且应该原样传回给服务器。该值由系统填充，只读。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency</a> 。</p></li></ul><ul><li><p><strong>selfLink</strong> (string)</p><p>selfLink 表示此对象的 URL，由系统填充，只读。</p><p>已弃用：selfLink 是一个遗留的只读字段，不再由系统填充。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-026383e0b43a68744a8b27a82bb4926d>9.4 - LocalObjectReference</h1><div class=lead>LocalObjectReference 包含足够的信息，可以让你在同一命名空间内找到引用的对象。</div><p><code>import "k8s.io/api/core/v1"</code></p><p>LocalObjectReference 包含足够的信息，可以让你在同一命名空间（namespace）内找到引用的对象。</p><hr><ul><li><p><strong>name</strong> (string)</p><p>被引用者的名称。
更多信息: <a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/#names</a>。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-deb2d19043a047688f72480af2f1b1e0>9.5 - NodeSelectorRequirement</h1><div class=lead>节点选择算符需求是一个选择算符，其中包含值集、主键以及一个将键和值集关联起来的操作符。</div><p><code>import "k8s.io/api/core/v1"</code></p><p>节点选择算符需求是一个选择算符，其中包含值集、主键以及一个将键和值集关联起来的操作符。</p><hr><ul><li><p><strong>key</strong> (string)，必需</p><p>选择算符所适用的标签主键。</p></li><li><p><strong>operator</strong> (string)，必需</p><p>代表主键与值集之间的关系。合法的 operator 值包括 <code>In</code>、<code>NotIn</code>、<code>Exists</code>、<code>DoesNotExist</code>、<code>Gt</code> 和 <code>Lt</code>。</p></li></ul><ul><li><p><strong>values</strong> ([]string)</p><p>一个由字符串值组成的数组。如果 operator 是 <code>In</code> 或 <code>NotIn</code>，则 values 数组不能为空。
如果 operator 为 <code>Exists</code> 或 <code>DoesNotExist</code>，则 values 数组只能为空。
如果 operator 为 <code>Gt</code> 或 <code>Lt</code>，则 values 数组只能包含一个元素，并且该元素会被解释为整数。
在执行策略性合并补丁操作时，此数组会被整体替换。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-47b6e1916665dd55bbeb2b33847653ed>9.6 - ObjectFieldSelector</h1><div class=lead>ObjectFieldSelector 选择对象的 APIVersioned 字段。</div><p><code>import "k8s.io/api/core/v1"</code></p><p>ObjectFieldSelector 选择对象的 APIVersioned 字段。</p><hr><ul><li><p><strong>fieldPath</strong> (string)，必需的</p><p>在指定 API 版本中要选择的字段的路径。</p></li><li><p><strong>apiVersion</strong> (string)</p><p><code>fieldPath</code> 写入时所使用的模式版本，默认为 "v1"。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-77f040b7d1c00efcedc11902ed78fc08>9.7 - ObjectMeta</h1><div class=lead>ObjectMeta 是所有持久化资源必须具有的元数据，其中包括用户必须创建的所有对象。</div><p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p><p>ObjectMeta 是所有持久化资源必须具有的元数据，其中包括用户必须创建的所有对象。</p><hr><ul><li><p><strong>name</strong> (string)</p><p>name 在命名空间内必须是唯一的。创建资源时需要，尽管某些资源可能允许客户端请求自动地生成适当的名称。
名称主要用于创建幂等性和配置定义。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/</a></p></li><li><p><strong>generateName</strong> (string)</p><p>generateName 是一个可选前缀，由服务器使用，<strong>仅在</strong>未提供 name 字段时生成唯一名称。
如果使用此字段，则返回给客户端的名称将与传递的名称不同。该值还将与唯一的后缀组合。
提供的值与 name 字段具有相同的验证规则，并且可能会根据所需的后缀长度被截断，以使该值在服务器上唯一。</p><p>如果指定了此字段并且生成的名称存在，则服务器将不会返回 409 ——相反，它将返回 201 Created 或 500，
原因是 ServerTimeout 指示在分配的时间内找不到唯一名称，客户端应重试（可选，在 Retry-After 标头中指定的时间之后）。</p><p>仅在未指定 name 时应用。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency</a></p></li><li><p><strong>namespace</strong> (string)</p><p>namespace 定义了一个值空间，其中每个名称必须唯一。空命名空间相当于 “default” 命名空间，但 “default” 是规范表示。
并非所有对象都需要限定在命名空间中——这些对象的此字段的值将为空。</p><p>必须是 DNS_LABEL。无法更新。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/namespaces/>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/namespaces/</a></p></li><li><p><strong>labels</strong> (map[string]string)</p><p>可用于组织和分类（确定范围和选择）对象的字符串键和值的映射。
可以匹配 ReplicationController 和 Service 的选择算符。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/labels/</a></p></li><li><p><strong>annotations</strong> (map[string]string)</p><p>annotations 是一个非结构化的键值映射，存储在资源中，可以由外部工具设置以存储和检索任意元数据。
它们不可查询，在修改对象时应保留。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/annotations/>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/annotations/</a></p></li></ul><h3 id=System>系统字段</h3><ul><li><p><strong>finalizers</strong> ([]string)</p><p>在从注册表中删除对象之前该字段必须为空。
每个条目都是负责的组件的标识符，各组件将从列表中删除自己对应的条目。
如果对象的 deletionTimestamp 非空，则只能删除此列表中的条目。
终结器可以按任何顺序处理和删除。<strong>没有</strong>按照顺序执行，
因为它引入了终结器卡住的重大风险。finalizers 是一个共享字段，
任何有权限的参与者都可以对其进行重新排序。如果按顺序处理终结器列表，
那么这可能导致列表中第一个负责终结器的组件正在等待列表中靠后负责终结器的组件产生的信号（字段值、外部系统或其他），
从而导致死锁。在没有强制排序的情况下，终结者可以在它们之间自由排序，
并且不容易受到列表中排序更改的影响。</p></li><li><p><strong>managedFields</strong> ([]ManagedFieldsEntry)</p><p>managedFields 将 workflow-id 和版本映射到由该工作流管理的字段集。
这主要用于内部管理，用户通常不需要设置或理解该字段。
工作流可以是用户名、控制器名或特定应用路径的名称，如 “ci-cd”。
字段集始终存在于修改对象时工作流使用的版本。</p><p><a name=ManagedFieldsEntry></a>
<strong>ManagedFieldsEntry 是一个 workflow-id，一个 FieldSet，也是该字段集适用的资源的组版本。</strong></p><ul><li><p><strong>managedFields.apiVersion</strong> (string)</p><p>apiVersion 定义此字段集适用的资源的版本。
格式是 “group/version”，就像顶级 apiVersion 字段一样。
必须跟踪字段集的版本，因为它不能自动转换。</p></li><li><p><strong>managedFields.fieldsType</strong> (string)</p><p>FieldsType 是不同字段格式和版本的鉴别器。
目前只有一个可能的值：“FieldsV1”</p></li><li><p><strong>managedFields.fieldsV1</strong> (FieldsV1)</p><p>FieldsV1 包含类型 “FieldsV1” 中描述的第一个 JSON 版本格式。</p><p><a name=FieldsV1></a>
FieldsV1 以 JSON 格式将一组字段存储在像 Trie 这样的数据结构中。</p><p>每个键或是 <code>.</code> 表示字段本身，并且始终映射到一个空集，
或是一个表示子字段或元素的字符串。该字符串将遵循以下四种格式之一：</p><ol><li><code>f:&lt;name></code>，其中 <code>&lt;name></code> 是结构中字段的名称，或映射中的键</li><li><code>v:&lt;value></code>，其中 <code>&lt;value></code> 是列表项的精确 json 格式值</li><li><code>i:&lt;index></code>，其中 <code>&lt;index></code> 是列表中项目的位置</li><li><code>k:&lt;keys></code>，其中 <code>&lt;keys></code> 是列表项的关键字段到其唯一值的映射。
如果一个键映射到一个空的 Fields 值，则该键表示的字段是集合的一部分。</li></ol><p>确切的格式在 sigs.k8s.io/structured-merge-diff 中定义。</p></li><li><p><strong>managedFields.manager</strong> (string)</p><p>manager 是管理这些字段的工作流的标识符。</p></li><li><p><strong>managedFields.operation</strong> (string)</p><p>operation 是导致创建此 managedFields 表项的操作类型。
此字段的仅有合法值是 “Apply” 和 “Update”。</p></li><li><p><strong>managedFields.subresource</strong> (string)</p><p>subresource 是用于更新该对象的子资源的名称，如果对象是通过主资源更新的，则为空字符串。
该字段的值用于区分管理者，即使他们共享相同的名称。例如，状态更新将不同于使用相同管理者名称的常规更新。
请注意，apiVersion 字段与 subresource 字段无关，它始终对应于主资源的版本。</p></li><li><p><strong>managedFields.time</strong> (Time)</p><p>time 是添加 managedFields 条目时的时间戳。
如果一个字段被添加、管理器更新任一所属字段值或移除一个字段，该时间戳也会更新。
从此条目中移除一个字段时该时间戳不会更新，因为另一个管理器将它接管了。</p><p><a name=Time></a>
<strong>time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li></ul></li><li><p><strong>ownerReferences</strong> ([]OwnerReference)</p><p><strong>补丁策略：根据 <code>uid</code> 键执行合并操作</strong></p><p>此对象所依赖的对象列表。如果列表中的所有对象都已被删除，则该对象将被垃圾回收。
如果此对象由控制器管理，则此列表中的条目将指向此控制器，controller 字段设置为 true。
管理控制器不能超过一个。</p><p><a name=OwnerReference></a>
<strong>OwnerReference 包含足够可以让你识别属主对象的信息。
属主对象必须与依赖对象位于同一命名空间中，或者是集群作用域的，因此没有命名空间字段。</strong></p><ul><li><p><strong>ownerReferences.apiVersion</strong> (string)，必选</p><p>被引用资源的 API 版本。</p></li><li><p><strong>ownerReferences.kind</strong> (string)，必选</p><p>被引用资源的类别。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>ownerReferences.name</strong> (string)，必选</p><p>被引用资源的名称。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names/</a></p></li><li><p><strong>ownerReferences.uid</strong> (string)，必选</p><p>被引用资源的 uid。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names#uids>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names#uids</a></p></li><li><p><strong>ownerReferences.blockOwnerDeletion</strong> (boolean)</p><pre><code>如果为 true，**并且** 如果属主具有 “foregroundDeletion” 终结器，
</code></pre><p>则在删除此引用之前，无法从键值存储中删除属主。
默认为 false。要设置此字段，用户需要属主的 “delete” 权限，
否则将返回 422 (Unprocessable Entity)。</p></li><li><p><strong>ownerReferences.controller</strong> (boolean)</p><p>如果为 true，则此引用指向管理的控制器。</p></li></ul></li></ul><h3 id=Read-only>只读字段</h3><ul><li><p><strong>creationTimestamp</strong> (Time)</p><p>creationTimestamp 是一个时间戳，表示创建此对象时的服务器时间。
不能保证在单独的操作中按发生前的顺序设置。
客户端不得设置此值。它以 RFC3339 形式表示，并采用 UTC。</p><p>由系统填充。只读。列表为空。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p><p><a name=Time></a>
<strong>time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li><li><p><strong>deletionGracePeriodSeconds</strong> (int64)</p><p>此对象从系统中删除之前允许正常终止的秒数。
仅当设置了 deletionTimestamp 时才设置。
只能缩短。只读。</p></li><li><p><strong>deletionTimestamp</strong> (Time)</p><p>deletionTimestamp 是删除此资源的 RFC 3339 日期和时间。
该字段在用户请求体面删除时由服务器设置，客户端不能直接设置。
一旦 finalizers 列表为空，该资源预计将在此字段中的时间之后被删除
（不再从资源列表中可见，并且无法通过名称访问）。
只要 finalizers 列表包含项目，就阻止删除。一旦设置了 deletionTimestamp，
该值可能不会被取消设置或在未来进一步设置，尽管它可能会缩短或在此时间之前可能会删除资源。
例如，用户可能要求在 30 秒内删除一个 Pod。
Kubelet 将通过向 Pod 中的容器发送体面的终止信号来做出反应。
30 秒后，Kubelet 将向容器发送硬终止信号（SIGKILL），
并在清理后从 API 中删除 Pod。在网络存在分区的情况下，
此对象可能在此时间戳之后仍然存在，直到管理员或自动化进程可以确定资源已完全终止。
如果未设置，则未请求体面删除该对象。</p><p>请求体面删除时由系统填充。只读。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p><p><a name=Time></a>
<strong>Time 是 time.Time 的包装类，支持正确地序列化为 YAML 和 JSON。
为 time 包提供的许多工厂方法提供了包装类。</strong></p></li><li><p><strong>generation</strong> (int64)</p><p>表示期望状态的特定生成的序列号。由系统填充。只读。</p></li><li><p><strong>resourceVersion</strong> (string)</p><p>一个不透明的值，表示此对象的内部版本，客户端可以使用该值来确定对象是否已被更改。
可用于乐观并发、变更检测以及对资源或资源集的监听操作。
客户端必须将这些值视为不透明的，且未更改地传回服务器。
它们可能仅对特定资源或一组资源有效。</p><p>由系统填充。只读。客户端必须将值视为不透明。更多信息：
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency</a></p></li><li><p><strong>selfLink</strong> (string)</p><p>selfLink 是表示此对象的 URL。由系统填充。只读。</p><p><strong>已弃用</strong>。Kubernetes 将在 1.20 版本中停止传播该字段，并计划在 1.21 版本中删除该字段。</p></li><li><p><strong>uid</strong> (string)</p><p>UID 是该对象在时间和空间上的唯一值。它通常由服务器在成功创建资源时生成，并且不允许使用 PUT 操作更改。</p><p>由系统填充。只读。更多信息：
<a href=https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names#uids>https://kubernetes.io/zh-cn/docs/concepts/overview/working-with-objects/names#uids</a></p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-cf854f859540243f660c2798d641498c>9.8 - ObjectReference</h1><div class=lead>ObjectReference 包含足够的信息，可以让你检查或修改引用的对象。</div><p><code>import "k8s.io/api/core/v1"</code></p><p>ObjectReference包含足够的信息，允许你检查或修改引用的对象。</p><hr><ul><li><p><strong>apiVersion</strong> (string)</p><p>被引用者的 API 版本。</p></li><li><p><strong>fieldPath</strong> (string)</p><p>如果引用的是对象的某个对象是整个对象，则该字符串而不是应包含的 JSON/Go 字段有效访问语句，
例如 <code>desiredState.manifest.containers[ 2 ]</code>。例如，如果对象引用针对的是 Pod 中的一个容器，
此字段取值类似于：<code>spec.containers{name}</code>（<code>name</code> 指触发的容器的名称），
或者如果没有指定容器名称，<code>spec.containers[ 2 ]</code>（此 Pod 中索引为 2 的容器）。
选择这种只是为了有一些定义好的语法来引用对象的部分。</p></li><li><p><strong>kind</strong> (string)</p><p>被引用者的类别（kind）。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>name</strong> (string)</p><p>被引用对象的名称。更多信息： <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p></li><li><p><strong>namespace</strong> (string)</p><p>被引用对象的名字空间。更多信息： <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/>https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/</a></p></li><li><p><strong>resourceVersion</strong> (string)</p><p>被引用对象的特定资源版本（如果有）。更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency</a></p></li><li><p><strong>uid</strong> (string)</p><p>被引用对象的UID。更多信息： <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids</a></p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-1997570a6710a3eaf78270f2e2535167>9.9 - Patch</h1><div class=lead>提供 Patch 是为了给 Kubernetes PATCH 请求正文提供一个具体的名称和类型。</div><p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p><p>提供 Patch 是为了给 Kubernetes PATCH 请求正文提供一个具体的名称和类型。</p><hr></div><div class=td-content style=page-break-before:always><h1 id=pg-51b0e3fdb6e89030bd9e49dbb990918c>9.10 - Quantity</h1><div class=lead>数量（Quantity）是数字的定点表示。</div><p><code>import "k8s.io/apimachinery/pkg/api/resource"</code></p><p>数量（Quantity）是数字的定点表示。
除了 String() 和 AsInt64() 的访问接口之外，
它以 JSON 和 YAML 形式提供方便的打包和解包方法。</p><p>序列化格式如下：</p><pre tabindex=0><code>&lt;quantity&gt;        ::= &lt;signedNumber&gt;&lt;suffix&gt;
  (注意 &lt;suffix&gt; 可能为空，例如 &lt;decimalSI&gt; 的 &#34;&#34; 情形。) &lt;/br&gt;
&lt;digit&gt;           ::= 0 | 1 | ... | 9 &lt;/br&gt;
&lt;digits&gt;          ::= &lt;digit&gt; | &lt;digit&gt;&lt;digits&gt; &lt;/br&gt;
&lt;number&gt;          ::= &lt;digits&gt; | &lt;digits&gt;.&lt;digits&gt; | &lt;digits&gt;. | .&lt;digits&gt; &lt;/br&gt;
&lt;sign&gt;            ::= &#34;+&#34; | &#34;-&#34; &lt;/br&gt;
&lt;signedNumber&gt;    ::= &lt;number&gt; | &lt;sign&gt;&lt;number&gt; &lt;/br&gt;
&lt;suffix&gt;          ::= &lt;binarySI&gt; | &lt;decimalExponent&gt; | &lt;decimalSI&gt; &lt;/br&gt;
&lt;binarySI&gt;        ::= Ki | Mi | Gi | Ti | Pi | Ei 
  (国际单位制度；查阅： http://physics.nist.gov/cuu/Units/binary.html)&lt;/br&gt;
&lt;decimalSI&gt;       ::= m | &#34;&#34; | k | M | G | T | P | E 
  (注意，1024 = 1ki 但 1000 = 1k；我没有选择大写。) &lt;/br&gt;
&lt;decimalExponent&gt; ::= &#34;e&#34; &lt;signedNumber&gt; | &#34;E&#34; &lt;signedNumber&gt; &lt;/br&gt;
</code></pre><p>无论使用三种指数形式中哪一种，没有数量可以表示大于 2<sup>63</sup>-1 的数，也不可能超过 3 个小数位。
更大或更精确的数字将被截断或向上取整（例如：0.1m 将向上取整为 1m）。
如果将来我们需要更大或更小的数量，可能会扩展。</p><p>当从字符串解析数量时，它将记住它具有的后缀类型，并且在序列化时将再次使用相同类型。</p><p>在序列化之前，数量将以“规范形式”放置。这意味着指数或者后缀将被向上或向下调整（尾数相应增加或减少），并确保：</p><ul><li>没有精度丢失</li><li>不会输出小数数字</li><li>指数（或后缀）尽可能大。</li></ul><p>除非数量是负数，否则将省略正负号。</p><p>例如：</p><ul><li>1.5 将会被序列化成 “1500m”</li><li>1.5Gi 将会被序列化成 “1536Mi”</li></ul><p>请注意，数量永远<strong>不会</strong>在内部以浮点数表示。这是本设计的重中之重。</p><p>只要它们格式正确，非规范值仍将解析，但将以其规范形式重新输出（所以应该总是使用规范形式，否则不要执行 diff 比较）。</p><p>这种格式旨在使得很难在不撰写某种特殊处理代码的情况下使用这些数字，进而希望实现者也使用定点实现。</p><hr></div><div class=td-content style=page-break-before:always><h1 id=pg-406fd6938a5a3283ee7a816347603389>9.11 - ResourceFieldSelector</h1><div class=lead>ResourceFieldSelector 表示容器资源（CPU，内存）及其输出格式。</div><p><code>import "k8s.io/api/core/v1"</code></p><p>ResourceFieldSelector 表示容器资源（CPU，内存）及其输出格式。</p><hr><ul><li><p><strong>resource</strong> (string)，必选</p><p>必选：选择的资源</p></li><li><p><strong>containerName</strong> (string)</p><p>容器名称：对卷必选，对环境变量可选</p></li><li><p><strong>divisor</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p><p>指定所曝光资源的输出格式，默认值为“1”</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-b86f72d0a9c9625228b55ff79c154b63>9.12 - Status</h1><div class=lead>状态（Status）是不返回其他对象的调用的返回值。</div><p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p><p>状态（Status）是不返回其他对象的调用的返回值。</p><hr><ul><li><p><strong>apiVersion</strong> (string)</p><p>APIVersion 定义对象表示的版本化模式。
服务器应将已识别的模式转换为最新的内部值，并可能拒绝无法识别的值。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p></li><li><p><strong>code</strong> (int32)</p><p>此状态的建议 HTTP 返回代码，如果未设置，则为 0。</p></li><li><p><strong>details</strong> (StatusDetails)</p><p>与原因（Reason）相关的扩展数据。每个原因都可以定义自己的扩展细节。
此字段是可选的，并且不保证返回的数据符合任何模式，除非由原因类型定义。</p><p><a name=StatusDetails></a></p><p><em>StatusDetails 是一组附加属性，可以由服务器设置以提供有关响应的附加信息。</em>
<em>状态对象的原因字段定义将设置哪些属性。</em>
<em>客户端必须忽略与每个属性的定义类型不匹配的字段，并且应该假定任何属性可能为空、无效或未定义。</em></p><ul><li><p><strong>details.causes</strong> ([]StatusCause)</p><pre><code>Causes 数组包含与 StatusReason 故障相关的更多详细信息。
</code></pre><p>并非所有 StatusReasons 都可以提供详细的原因。</p><p><a name=StatusCause></a></p><pre><code>*StatusCause 提供有关 api.Status 失败的更多信息，包括遇到多个错误的情况。*
</code></pre><ul><li><p><strong>details.causes.field</strong> (string)</p><pre><code>  导致此错误的资源字段，由其 JSON 序列化命名。
</code></pre><p>可能包括嵌套属性的点和后缀表示法。数组是从零开始索引的。
由于字段有多个错误，字段可能会在一系列原因中出现多次。可选。</p><pre><code>  示例：
</code></pre><ul><li>“name”：当前资源上的字段 “name”</li><li>“items[0].name”：“items” 中第一个数组条目上的字段 “name”</li></ul></li><li><p><strong>details.causes.message</strong> (string)</p><p>对错误原因的可读描述。该字段可以按原样呈现给读者。</p></li><li><p><strong>details.causes.reason</strong> (string)</p><p>错误原因的机器可读描述。如果此值为空，则没有可用信息。</p></li></ul></li><li><p><strong>details.group</strong> (string)</p><p>与状态 StatusReason 关联的资源的组属性。</p></li><li><p><strong>details.kind</strong> (string)</p><pre><code>与状态 StatusReason 关联的资源的种类属性。
</code></pre><p>在某些操作上可能与请求的资源种类不同。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>details.name</strong> (string)</p><p>与状态 StatusReason 关联的资源的名称属性（当有一个可以描述的名称时）。</p></li><li><p><strong>details.retryAfterSeconds</strong> (int32)</p><pre><code>如果指定，则应重试操作前的时间（以秒为单位）。
</code></pre><p>一些错误可能表明客户端必须采取替代操作——对于这些错误，此字段可能指示在采取替代操作之前等待多长时间。</p></li><li><p><strong>details.uid</strong> (string)</p><pre><code>资源的 UID（当有单个可以描述的资源时）。
</code></pre><p>更多信息： <a href=http://kubernetes.io/docs/user-guide/identifiers#uids>http://kubernetes.io/docs/user-guide/identifiers#uids</a></p></li></ul></li><li><p><strong>kind</strong> (string)</p><p>Kind 是一个字符串值，表示此对象表示的 REST 资源。
服务器可以从客户端提交请求的端点推断出这一点。
无法更新。驼峰式规则。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>message</strong> (string)</p><p>此操作状态的人类可读描述。</p></li><li><p><strong>metadata</strong> (<a href=https://kubernetes.io/zh-cn/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p><p>标准列表元数据。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p></li><li><p><strong>reason</strong> (string)</p><p>机器可读的说明，说明此操作为何处于“失败”状态。
如果此值为空，则没有可用信息。
Reason 澄清了 HTTP 状态代码，但不会覆盖它。</p></li><li><p><strong>status</strong> (string)</p><p>操作状态。“Success”或“Failure” 之一。
更多信息： <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-ad5a39cd0d4233c0afb2a1daf17b95b3>9.13 - TypedLocalObjectReference</h1><div class=lead>TypedLocalObjectReference 包含足够的信息，可以让你在同一个名称空间中定位指定类型的引用对象。</div><p><code>import "k8s.io/api/core/v1"</code></p><p>TypedLocalObjectReference 包含足够的信息，可以让你在同一个名称空间中定位特定类型的引用对象。</p><hr><ul><li><p><strong>kind</strong> (string)，必需</p><p>Kind 是被引用的资源的类型</p></li><li><p><strong>name</strong> (string)，必需</p><p>Name 是被引用的资源的名称</p></li><li><p><strong>apiGroup</strong> (string)</p><p>APIGroup 是被引用资源的组。如果不指定 APIGroup，则指定的 Kind 必须在核心 API 组中。对于任何其它第三方类型，都需要 APIGroup。</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6fbe4a9bf41cfee30909689bd978c45f>10 - 常用参数</h1><h2 id=allowWatchBookmarks>allowWatchBookmarks</h2><p>allowWatchBookmarks 字段请求类型为 BOOKMARK 的监视事件。
没有实现书签的服务器可能会忽略这个标志，并根据服务器的判断发送书签。
客户端不应该假设书签会在任何特定的时间间隔返回，也不应该假设服务器会在会话期间发送任何书签事件。
如果当前请求不是 watch 请求，则忽略该字段。</p><hr><h2 id=continue>continue</h2><p>当需要从服务器检索更多结果时，应该设置 continue 选项。由于这个值是服务器定义的，
客户端只能使用先前查询结果中具有相同查询参数的 continue 值(continue值除外)，
服务器可能拒绝它识别不到的 continue 值。
如果指定的 continue 值不再有效，无论是由于过期(通常是 5 到 15 分钟)
还是服务器上的配置更改，服务器将响应 "410 ResourceExpired" 错误和一个 continue 令牌。</p><p>如果客户端需要一个一致的列表，它必须在没有 continue 字段的情况下重新发起 list 请求。
否则，客户端可能会发送另一个带有 410 错误令牌的 list 请求，服务器将响应从下一个键开始的列表，
但列表数据来自最新的快照，这与之前
的列表结果不一致。第一个列表请求之后的对象创建，修改，或删除的对象将被包含在响应中，
只要他们的键是在“下一个键”之后。</p><p>当 watch 字段为 true 时，不支持此字段。客户端可以从服务器返回的最后一个 resourceVersion 值开始监视，就不会错过任何修改。</p><hr><h2 id=dryRun>dryRun</h2><p>表示不应该持久化所请求的修改。无效或无法识别的 dryRun 指令将导致错误响应，
并且服务器不再对请求进行进一步处理。有效值为:</p><ul><li>All: 将处理所有的演练阶段</li></ul><hr><h2 id=fieldManager>fieldManager</h2><p>fieldManager 是与进行这些更改的参与者或实体相关联的名称。
长度小于或128个字符且仅包含可打印字符，如 <a href=https://golang.org/pkg/unicode/#IsPrint>https://golang.org/pkg/unicode/#IsPrint</a> 所定义。</p><hr><h2 id=fieldSelector>fieldSelector</h2><p>限制所返回对象的字段的选择器。默认为返回所有字段。</p><hr><h2 id=fieldValidation>fieldValidation</h2><p>fieldValidation 指示服务器如何处理请求（POST/PUT/PATCH）中包含未知或重复字段的对象，
前提是 <code>ServerSideFieldValidation</code> 特性门控也已启用。</p><p>有效值为：</p><ul><li>Ignore：这将忽略从对象中默默删除的所有未知字段，并将忽略除解码器遇到的最后一个重复字段之外的所有字段。
这是在 v1.23 之前的默认行为，也是当 <code>ServerSideFieldValidation</code> 特性门控被禁用时的默认行为。</li></ul><ul><li>Warn：这将针对从对象中删除的各个未知字段以及所遇到的各个重复字段，分别通过标准警告响应头发出警告。
如果没有其他错误，请求仍然会成功，并且只会保留所有重复字段中的最后一个。
这是启用 <code>ServerSideFieldValidation</code> 特性门控时的默认值。</li></ul><ul><li>Strict：如果从对象中删除任何未知字段，或者存在任何重复字段，将使请求失败并返回 BadRequest 错误。</li></ul><hr><h2 id=force>force</h2><p>Force 将“强制”应用请求。这意味着用户将重新获得他人拥有的冲突领域。
对于非应用补丁请求，Force 标志必须不设置。</p><hr><h2 id=gracePeriodSeconds>gracePeriodSeconds</h2><p>删除对象前的持续时间(秒数)。值必须为非负整数。取值为 0 表示立即删除。
如果该值为 nil，将使用指定类型的默认宽限期。如果没有指定，默认为每个对象的设置值。0 表示立即删除。</p><hr><h2 id=labelSelector>labelSelector</h2><p>通过标签限制返回对象列表的选择器。默认为返回所有对象。</p><hr><h2 id=limit>limit</h2><p>limit 是一个列表调用返回的最大响应数。如果有更多的条目，服务器会将列表元数据上的
'continue' 字段设置为一个值，该值可以用于相同的初始查询来检索下一组结果。</p><p>设置 limit 可能会在所有请求的对象被过滤掉的情况下返回少于请求的条目数量(下限为零)，
并且客户端应该只根据 continue 字段是否存在来确定是否有更多的结果可用。
服务器可能选择不支持 limit 参数，并将返回所有可用的结果。
如果指定了 limit 并且 continue 字段为空，客户端可能会认为没有更多的结果可用。
如果 watch 为 true，则不支持此字段。</p><p>服务器保证在使用 continue 时返回的对象将与不带 limit 的列表调用相同，——
也就是说，在发出第一个请求后所创建、修改或删除的对象将不包含在任何后续的继续请求中。</p><p>这有时被称为一致性快照，确保使用 limit 的客户端在分块接收非常大的结果的客户端能够看到所有可能的对象。
如果对象在分块列表期间被更新，则返回计算第一个列表结果时存在的对象版本。</p><hr><h2 id=namespace>namespace</h2><p>对象名称和身份验证范围，例如用于团队和项目。</p><hr><h2 id=pretty>pretty</h2><p>如果设置为 'true' ，那么输出是规范的打印。</p><hr><h2 id=propagationPolicy>propagationPolicy</h2><p>该字段决定是否以及如何执行垃圾收集。可以设置此字段或 OrphanDependents，但不能同时设置。
默认策略由 metadata.finalizers 和特定资源的默认策略设置决定。可接受的值是：</p><ul><li>'Orphan'：孤立依赖项；</li><li>'Background'：允许垃圾回收器后台删除依赖；</li><li>'Foreground'：一个级联策略，前台删除所有依赖项。</li></ul><hr><h2 id=resourceVersion>resourceVersion</h2><p>resourceVersion 对请求所针对的资源版本设置约束。
详情请参见 <a href=https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions>https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions</a>。</p><p>默认不设置</p><hr><h2 id=resourceVersionMatch>resourceVersionMatch</h2><p>resourceVersionMatch 字段决定如何将 resourceVersion 应用于列表调用。
强烈建议对设置了 resourceVersion 的列表调用设置 resourceVersion 匹配，
具体请参见 <a href=https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions>https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions</a>。</p><p>默认不设置</p><hr><h2 id=timeoutSeconds>timeoutSeconds</h2><p>list/watch 调用的超时秒数。这选项限制调用的持续时间，无论是否有活动。</p><hr><h2 id=watch>watch</h2><p>监视对所述资源的更改，并将其这类变更以添加、更新和删除通知流的形式返回。指定 resourceVersion。</p><hr></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/zh-cn/docs/home/>主页</a>
<a class=text-white href=/zh-cn/blog/>博客</a>
<a class=text-white href=/zh-cn/training/>培训</a>
<a class=text-white href=/zh-cn/partners/>合作伙伴</a>
<a class=text-white href=/zh-cn/community/>社区</a>
<a class=text-white href=/zh-cn/case-studies/>案例分析</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 The Kubernetes 作者 | 文档发布基于 <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a> 授权许可</small><br><small class=text-white>Copyright &copy; 2023 Linux 基金会&reg;。保留所有权利。Linux 基金会已注册并使用商标。如需了解 Linux 基金会的商标列表，请访问<a href=https://www.linuxfoundation.org/trademark-usage class=light-text>商标使用页面</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>