<!doctype html><html lang=zh-cn class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/blog/2020/09/03/warnings/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>警告: 有用的预警 | Kubernetes</title><meta property="og:title" content="警告: 有用的预警"><meta property="og:description" content="作者: Jordan Liggitt (Google)
作为 Kubernetes 维护者，我们一直在寻找在保持兼容性的同时提高可用性的方法。 在开发功能、分类 Bug、和回答支持问题的过程中，我们积累了有助于 Kubernetes 用户了解的信息。 过去，共享这些信息仅限于发布说明、公告电子邮件、文档和博客文章等带外方法。 除非有人知道需要寻找这些信息并成功找到它们，否则他们不会从中受益。
在 Kubernetes v1.19 中，我们添加了一个功能，允许 Kubernetes API 服务器向 API 客户端发送警告。 警告信息使用标准 Warning 响应头发送， 因此它不会以任何方式更改状态代码或响应体。 这一设计使得服务能够发送任何 API 客户端都可以轻松读取的警告，同时保持与以前的客户端版本兼容。
警告在 kubectl v1.19+ 的 stderr 输出中和 k8s.io/client-go v0.19.0+ 客户端库的日志中出现。 k8s.io/client-go 行为可以在进程或客户端层面重载。
弃用警告 我们第一次使用此新功能是针对已弃用的 API 调用发送警告。
Kubernetes 是一个大型、快速发展的项目。 跟上每个版本的变更可能是令人生畏的， 即使对于全职从事该项目的人来说也是如此。一种重要的变更是 API 弃用。 随着 Kubernetes 中的 API 升级到 GA 版本，预发布的 API 版本会被弃用并最终被删除。
即使有延长的弃用期， 并且在发布说明中也包含了弃用信息， 他们仍然很难被追踪。在弃用期内，预发布 API 仍然有效， 允许多个版本过渡到稳定的 API 版本。 然而，我们发现用户往往甚至没有意识到他们依赖于已弃用的 API 版本， 直到升级到不再提供相应服务的新版本。"><meta property="og:type" content="article"><meta property="og:url" content="https://kubernetes.io/zh-cn/blog/2020/09/03/warnings/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-09-03T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-11T03:33:22+00:00"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="警告: 有用的预警"><meta itemprop=description content="作者: Jordan Liggitt (Google)
作为 Kubernetes 维护者，我们一直在寻找在保持兼容性的同时提高可用性的方法。 在开发功能、分类 Bug、和回答支持问题的过程中，我们积累了有助于 Kubernetes 用户了解的信息。 过去，共享这些信息仅限于发布说明、公告电子邮件、文档和博客文章等带外方法。 除非有人知道需要寻找这些信息并成功找到它们，否则他们不会从中受益。
在 Kubernetes v1.19 中，我们添加了一个功能，允许 Kubernetes API 服务器向 API 客户端发送警告。 警告信息使用标准 Warning 响应头发送， 因此它不会以任何方式更改状态代码或响应体。 这一设计使得服务能够发送任何 API 客户端都可以轻松读取的警告，同时保持与以前的客户端版本兼容。
警告在 kubectl v1.19+ 的 stderr 输出中和 k8s.io/client-go v0.19.0+ 客户端库的日志中出现。 k8s.io/client-go 行为可以在进程或客户端层面重载。
弃用警告 我们第一次使用此新功能是针对已弃用的 API 调用发送警告。
Kubernetes 是一个大型、快速发展的项目。 跟上每个版本的变更可能是令人生畏的， 即使对于全职从事该项目的人来说也是如此。一种重要的变更是 API 弃用。 随着 Kubernetes 中的 API 升级到 GA 版本，预发布的 API 版本会被弃用并最终被删除。
即使有延长的弃用期， 并且在发布说明中也包含了弃用信息， 他们仍然很难被追踪。在弃用期内，预发布 API 仍然有效， 允许多个版本过渡到稳定的 API 版本。 然而，我们发现用户往往甚至没有意识到他们依赖于已弃用的 API 版本， 直到升级到不再提供相应服务的新版本。"><meta itemprop=datePublished content="2020-09-03T00:00:00+00:00"><meta itemprop=dateModified content="2022-11-11T03:33:22+00:00"><meta itemprop=wordCount content="651"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="警告: 有用的预警"><meta name=twitter:description content="作者: Jordan Liggitt (Google)
作为 Kubernetes 维护者，我们一直在寻找在保持兼容性的同时提高可用性的方法。 在开发功能、分类 Bug、和回答支持问题的过程中，我们积累了有助于 Kubernetes 用户了解的信息。 过去，共享这些信息仅限于发布说明、公告电子邮件、文档和博客文章等带外方法。 除非有人知道需要寻找这些信息并成功找到它们，否则他们不会从中受益。
在 Kubernetes v1.19 中，我们添加了一个功能，允许 Kubernetes API 服务器向 API 客户端发送警告。 警告信息使用标准 Warning 响应头发送， 因此它不会以任何方式更改状态代码或响应体。 这一设计使得服务能够发送任何 API 客户端都可以轻松读取的警告，同时保持与以前的客户端版本兼容。
警告在 kubectl v1.19+ 的 stderr 输出中和 k8s.io/client-go v0.19.0+ 客户端库的日志中出现。 k8s.io/client-go 行为可以在进程或客户端层面重载。
弃用警告 我们第一次使用此新功能是针对已弃用的 API 调用发送警告。
Kubernetes 是一个大型、快速发展的项目。 跟上每个版本的变更可能是令人生畏的， 即使对于全职从事该项目的人来说也是如此。一种重要的变更是 API 弃用。 随着 Kubernetes 中的 API 升级到 GA 版本，预发布的 API 版本会被弃用并最终被删除。
即使有延长的弃用期， 并且在发布说明中也包含了弃用信息， 他们仍然很难被追踪。在弃用期内，预发布 API 仍然有效， 允许多个版本过渡到稳定的 API 版本。 然而，我们发现用户往往甚至没有意识到他们依赖于已弃用的 API 版本， 直到升级到不再提供相应服务的新版本。"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="作者: Jordan Liggitt (Google)
作为 Kubernetes 维护者，我们一直在寻找在保持兼容性的同时提高可用性的方法。 在开发功能、分类 Bug、和回答支持问题的过程中，我们积累了有助于 Kubernetes 用户了解的信息。 过去，共享这些信息仅限于发布说明、公告电子邮件、文档和博客文章等带外方法。 除非有人知道需要寻找这些信息并成功找到它们，否则他们不会从中受益。
在 Kubernetes v1.19 中，我们添加了一个功能，允许 Kubernetes API 服务器向 API 客户端发送警告。 警告信息使用标准 Warning 响应头发送， 因此它不会以任何方式更改状态代码或响应体。 这一设计使得服务能够发送任何 API 客户端都可以轻松读取的警告，同时保持与以前的客户端版本兼容。
警告在 kubectl v1.19+ 的 stderr 输出中和 k8s.io/client-go v0.19.0+ 客户端库的日志中出现。 k8s.io/client-go 行为可以在进程或客户端层面重载。
弃用警告 我们第一次使用此新功能是针对已弃用的 API 调用发送警告。
Kubernetes 是一个大型、快速发展的项目。 跟上每个版本的变更可能是令人生畏的， 即使对于全职从事该项目的人来说也是如此。一种重要的变更是 API 弃用。 随着 Kubernetes 中的 API 升级到 GA 版本，预发布的 API 版本会被弃用并最终被删除。
即使有延长的弃用期， 并且在发布说明中也包含了弃用信息， 他们仍然很难被追踪。在弃用期内，预发布 API 仍然有效， 允许多个版本过渡到稳定的 API 版本。 然而，我们发现用户往往甚至没有意识到他们依赖于已弃用的 API 版本， 直到升级到不再提供相应服务的新版本。"><meta property="og:description" content="作者: Jordan Liggitt (Google)
作为 Kubernetes 维护者，我们一直在寻找在保持兼容性的同时提高可用性的方法。 在开发功能、分类 Bug、和回答支持问题的过程中，我们积累了有助于 Kubernetes 用户了解的信息。 过去，共享这些信息仅限于发布说明、公告电子邮件、文档和博客文章等带外方法。 除非有人知道需要寻找这些信息并成功找到它们，否则他们不会从中受益。
在 Kubernetes v1.19 中，我们添加了一个功能，允许 Kubernetes API 服务器向 API 客户端发送警告。 警告信息使用标准 Warning 响应头发送， 因此它不会以任何方式更改状态代码或响应体。 这一设计使得服务能够发送任何 API 客户端都可以轻松读取的警告，同时保持与以前的客户端版本兼容。
警告在 kubectl v1.19+ 的 stderr 输出中和 k8s.io/client-go v0.19.0+ 客户端库的日志中出现。 k8s.io/client-go 行为可以在进程或客户端层面重载。
弃用警告 我们第一次使用此新功能是针对已弃用的 API 调用发送警告。
Kubernetes 是一个大型、快速发展的项目。 跟上每个版本的变更可能是令人生畏的， 即使对于全职从事该项目的人来说也是如此。一种重要的变更是 API 弃用。 随着 Kubernetes 中的 API 升级到 GA 版本，预发布的 API 版本会被弃用并最终被删除。
即使有延长的弃用期， 并且在发布说明中也包含了弃用信息， 他们仍然很难被追踪。在弃用期内，预发布 API 仍然有效， 允许多个版本过渡到稳定的 API 版本。 然而，我们发现用户往往甚至没有意识到他们依赖于已弃用的 API 版本， 直到升级到不再提供相应服务的新版本。"><meta name=twitter:description content="作者: Jordan Liggitt (Google)
作为 Kubernetes 维护者，我们一直在寻找在保持兼容性的同时提高可用性的方法。 在开发功能、分类 Bug、和回答支持问题的过程中，我们积累了有助于 Kubernetes 用户了解的信息。 过去，共享这些信息仅限于发布说明、公告电子邮件、文档和博客文章等带外方法。 除非有人知道需要寻找这些信息并成功找到它们，否则他们不会从中受益。
在 Kubernetes v1.19 中，我们添加了一个功能，允许 Kubernetes API 服务器向 API 客户端发送警告。 警告信息使用标准 Warning 响应头发送， 因此它不会以任何方式更改状态代码或响应体。 这一设计使得服务能够发送任何 API 客户端都可以轻松读取的警告，同时保持与以前的客户端版本兼容。
警告在 kubectl v1.19+ 的 stderr 输出中和 k8s.io/client-go v0.19.0+ 客户端库的日志中出现。 k8s.io/client-go 行为可以在进程或客户端层面重载。
弃用警告 我们第一次使用此新功能是针对已弃用的 API 调用发送警告。
Kubernetes 是一个大型、快速发展的项目。 跟上每个版本的变更可能是令人生畏的， 即使对于全职从事该项目的人来说也是如此。一种重要的变更是 API 弃用。 随着 Kubernetes 中的 API 升级到 GA 版本，预发布的 API 版本会被弃用并最终被删除。
即使有延长的弃用期， 并且在发布说明中也包含了弃用信息， 他们仍然很难被追踪。在弃用期内，预发布 API 仍然有效， 允许多个版本过渡到稳定的 API 版本。 然而，我们发现用户往往甚至没有意识到他们依赖于已弃用的 API 版本， 直到升级到不再提供相应服务的新版本。"><meta property="og:url" content="https://kubernetes.io/zh-cn/blog/2020/09/03/warnings/"><meta property="og:title" content="警告: 有用的预警"><meta name=twitter:title content="警告: 有用的预警"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><title>警告: 有用的预警 | Kubernetes</title><script defer src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script></head><body class="td-page td-blog"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/zh-cn/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/docs/>文档</a></li><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/zh-cn/blog/>Kubernetes 博客</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/training/>培训</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/partners/>合作伙伴</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/community/>社区</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/case-studies/>案例分析</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>版本列表</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh-cn/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/zh-cn/blog/2020/09/03/warnings/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/zh-cn/blog/2020/09/03/warnings/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/zh-cn/blog/2020/09/03/warnings/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/zh-cn/blog/2020/09/03/warnings/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/zh-cn/blog/2020/09/03/warnings/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文 (Chinese)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/blog/2020/09/03/warnings/>English</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav><section class="header-hero text-center text-white font-bold pb-4"><h1>Kubernetes 博客</h1></section></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" name=q placeholder="&#xf002 搜索" aria-label=搜索 autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2022/10/03/userns-alpha/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2022</a></li><ul><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-10-03-userns-alpha href=/zh-cn/blog/2022/10/03/userns-alpha/>“Kubernetes 1.25：对使用用户名字空间运行 Pod 提供 Alpha 支持”</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-15-app-rollout-features-reach-stable href=/zh-cn/blog/2022/09/15/app-rollout-features-reach-stable/>Kubernetes 1.25：应用滚动上线所用的两个特性进入稳定阶段</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-14-pod-has-network-condition href=/zh-cn/blog/2022/09/14/pod-has-network-condition/>Kubernetes 1.25：Pod 新增 PodHasNetwork 状况</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-12-k8s-cve-feed-alpha href=/zh-cn/blog/2022/09/12/k8s-cve-feed-alpha/>宣布自动刷新官方 Kubernetes CVE 订阅源</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-02-cosi-kubernetes-object-storage-management href=/zh-cn/blog/2022/09/02/cosi-kubernetes-object-storage-management/>COSI 简介：使用 Kubernetes API 管理对象存储</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-31-cgroupv2-ga-1-25 href=/zh-cn/blog/2022/08/31/cgroupv2-ga-1-25/>Kubernetes 1.25: cgroup v2 升级到 GA</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-29-csi-inline-volumes-ga href=/zh-cn/blog/2022/08/29/csi-inline-volumes-ga/>Kubernetes 1.25：CSI 内联存储卷正式发布</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-23-podsecuritypolicy-the-historical-context href=/zh-cn/blog/2022/08/23/podsecuritypolicy-the-historical-context/>PodSecurityPolicy：历史背景</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-23-kubernetes-v1-25-release href=/zh-cn/blog/2022/08/23/kubernetes-v1-25-release/>Kubernetes v1.25: Combiner</a></li><li class="blog-post collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-22-sig-storage-spotlight href=/zh-cn/blog/2022/08/22/sig-storage-spotlight/>聚焦 SIG Storage</a></li><li class="more-posts collapse" data-year=2022><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-15-meet-our-contributors-china-ep-03 href=/zh-cn/blog/2022/08/15/meet-our-contributors-china-ep-03/>认识我们的贡献者 - 亚太地区（中国地区）</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-11-enhancing-kubernetes-one-kep-at-a-time href=/zh-cn/blog/2022/08/11/enhancing-kubernetes-one-kep-at-a-time/>逐个 KEP 地增强 Kubernetes</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-04-upcoming-changes-in-kubernetes-1-25 href=/zh-cn/blog/2022/08/04/upcoming-changes-in-kubernetes-1-25/>Kubernetes 1.25 的移除说明和主要变更</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-02-sig-docs-spotlight-2022 href=/zh-cn/blog/2022/08/02/sig-docs-spotlight-2022/>聚光灯下的 SIG Docs</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-07-13-gateway-api-graduates-to-beta href=/zh-cn/blog/2022/07/13/gateway-api-graduates-to-beta/>Kubernetes Gateway API 进入 Beta 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-06-01-annual-report-summary-2021 href=/zh-cn/blog/2022/06/01/annual-report-summary-2021/>2021 年度总结报告</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-27-maxunavailable-for-statefulset href=/zh-cn/blog/2022/05/27/maxunavailable-for-statefulset/>Kubernetes 1.24: StatefulSet 的最大不可用副本数</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-25-contextual-logging href=/zh-cn/blog/2022/05/25/contextual-logging/>Kubernetes 1.24 中的上下文日志记录</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-23-service-ip-dynamic-and-static-allocation href=/zh-cn/blog/2022/05/23/service-ip-dynamic-and-static-allocation/>Kubernetes 1.24: 避免为 Services 分配 IP 地址时发生冲突</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-20-kubernetes-1-24-non-graceful-node-shutdown-alpha href=/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-18-prevent-unauthorised-volume-mode-conversion-alpha href=/zh-cn/blog/2022/05/18/prevent-unauthorised-volume-mode-conversion-alpha/>Kubernetes 1.24: 防止未经授权的卷模式转换</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-16-volume-populators-beta href=/zh-cn/blog/2022/05/16/volume-populators-beta/>Kubernetes 1.24: 卷填充器功能进入 Beta 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-13-grpc-probes-now-in-beta href=/zh-cn/blog/2022/05/13/grpc-probes-now-in-beta/>Kubernetes 1.24：gRPC 容器探针功能进入 Beta 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-06-storage-capacity-ga href=/zh-cn/blog/2022/05/06/storage-capacity-ga/>Kubernetes 1.24 版本中存储容量跟踪特性进入 GA 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-05-volume-expansion-ga href=/zh-cn/blog/2022/05/05/volume-expansion-ga/>Kubernetes 1.24：卷扩充现在成为稳定功能</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-03-kubernetes-1-24-release-announcement href=/zh-cn/blog/2022/05/03/kubernetes-1-24-release-announcement/>Kubernetes 1.24: 观星者</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-03-dockershim-historical-context href=/zh-cn/blog/2022/05/03/dockershim-historical-context/>Dockershim：历史背景</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-04-29-frontiers-fsgroups-and-frogs-kubernetes-1-23-e5-8f-91-e5-b8-83-e9-87-87-e8-ae-bf href=/zh-cn/blog/2022/04/29/frontiers-fsgroups-and-frogs-kubernetes-1.23-%E5%8F%91%E5%B8%83%E9%87%87%E8%AE%BF/>Frontiers, fsGroups and frogs: Kubernetes 1.23 发布采访</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-04-28-ingress-nginx-1-2-0 href=/zh-cn/blog/2022/04/28/ingress-nginx-1-2-0/>在 Ingress-NGINX v1.2.0 中提高安全标准</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-04-07-upcoming-changes-in-kubernetes-1-24 href=/zh-cn/blog/2022/04/07/upcoming-changes-in-kubernetes-1-24/>Kubernetes 1.24 中的移除和弃用</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-03-31-ready-for-dockershim-removal href=/zh-cn/blog/2022/03/31/ready-for-dockershim-removal/>你的集群准备好使用 v1.24 版本了吗？</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-03-16-meet-our-contributors-au-nz-ep-02 href=/zh-cn/blog/2022/03/16/meet-our-contributors-au-nz-ep-02/>认识我们的贡献者 - 亚太地区（澳大利亚-新西兰地区）</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-02-17-dockershim-faq href=/zh-cn/blog/2022/02/17/dockershim-faq/>移除 Dockershim 的常见问题</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-02-16-sig-node-ci-subproject-celebrates href=/zh-cn/blog/2022/02/16/sig-node-ci-subproject-celebrates/>SIG Node CI 子项目庆祝测试改进两周年</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-02-07-sig-multicluster-spotlight-2022 href=/zh-cn/blog/2022/02/07/sig-multicluster-spotlight-2022/>关注 SIG Multicluster</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-01-19-secure-your-admission-controllers-and-webhooks href=/zh-cn/blog/2022/01/19/secure-your-admission-controllers-and-webhooks/>确保准入控制器的安全</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-01-10-meet-our-contributors-india-ep-01 href=/zh-cn/blog/2022/01/10/meet-our-contributors-india-ep-01/>认识我们的贡献者 - 亚太地区（印度地区）</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-01-07-kubernetes-is-moving-on-from-dockershim href=/zh-cn/blog/2022/01/07/kubernetes-is-moving-on-from-dockershim/>Kubernetes 即将移除 Dockershim：承诺和下一步</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2021/12/17/security-profiles-operator/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2021</a></li><ul><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-17-security-profiles-operator href=/zh-cn/blog/2021/12/17/security-profiles-operator/>Security Profiles Operator v0.4.0 中的新功能</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-16-kubernetes-1-23-statefulset-pvc-auto-deletion href=/zh-cn/blog/2021/12/16/kubernetes-1-23-statefulset-pvc-auto-deletion/>Kubernetes 1.23: StatefulSet PVC 自动删除 (alpha)</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-10-storage-in-tree-to-csi-migration-status-update href=/zh-cn/blog/2021/12/10/storage-in-tree-to-csi-migration-status-update/>Kubernetes 1.23：树内存储向 CSI 卷迁移工作的进展更新</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-08-dual-stack-networking-ga href=/zh-cn/blog/2021/12/08/dual-stack-networking-ga/>Kubernetes 1.23：IPv4/IPv6 双协议栈网络达到 GA</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-11-08-steering-committee-results-2021 href=/zh-cn/blog/2021/11/08/steering-committee-results-2021/>公布 2021 年指导委员会选举结果</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-09-27-sig-node-spotlight-2021 href=/zh-cn/blog/2021/09/27/sig-node-spotlight-2021/>关注 SIG Node</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-07-26-update-with-ingress-nginx href=/zh-cn/blog/2021/07/26/update-with-ingress-nginx/>更新 NGINX-Ingress 以使用稳定的 Ingress API</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-07-15-sig-usability-spotlight-2021 href=/zh-cn/blog/2021/07/15/sig-usability-spotlight-2021/>聚焦 SIG Usability</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-04-16-volume-health-monitoring-alpha-update href=/zh-cn/blog/2021/04/16/volume-health-monitoring-alpha-update/>卷健康监控的 Alpha 更新</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-04-06-podsecuritypolicy-deprecation-past-present-and-future href=/zh-cn/blog/2021/04/06/podsecuritypolicy-deprecation-past-present-and-future/>弃用 PodSecurityPolicy：过去、现在、未来</a></li><li class="more-posts collapse" data-year=2021><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2020/12/21/writing-crl-scheduler/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">2020</a></li><ul><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-21-writing-crl-scheduler href=/zh-cn/blog/2020/12/21/writing-crl-scheduler/>一个编排高可用应用的 Kubernetes 自定义调度器</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-18-kubernetes-1-20-pod-impersonation-short-lived-volumes-in-csi href=/zh-cn/blog/2020/12/18/kubernetes-1.20-pod-impersonation-short-lived-volumes-in-csi/>Kubernetes 1.20：CSI 驱动程序中的 Pod 身份假扮和短时卷</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-08-kubernetes-1-20-release-announcement href=/zh-cn/blog/2020/12/08/kubernetes-1-20-release-announcement/>Kubernetes 1.20: 最新版本</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-02-dockershim-faq href=/zh-cn/blog/2020/12/02/dockershim-faq/>弃用 Dockershim 的常见问题</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-02-dont-panic-kubernetes-and-docker href=/zh-cn/blog/2020/12/02/dont-panic-kubernetes-and-docker/>别慌: Kubernetes 和 Docker</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-10-01-e4-b8-ba-e5-bc-80-e5-8f-91-e6-8c-87-e5-8d-97-e5-81-9a-e8-b4-a1-e7-8c-ae href=/zh-cn/blog/2020/10/01/%E4%B8%BA%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97%E5%81%9A%E8%B4%A1%E7%8C%AE/>为开发指南做贡献</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-09-04-kubernetes-1-19-introducing-structured-logs href=/zh-cn/blog/2020/09/04/kubernetes-1-19-introducing-structured-logs/>结构化日志介绍</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page active" id=m-zh-cn-blog-2020-09-03-warnings href=/zh-cn/blog/2020/09/03/warnings/>警告: 有用的预警</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-06-better-docs-ux-with-docsy href=/zh-cn/blog/2020/06/better-docs-ux-with-docsy/>Docsy 带来更好的 Docs UX</a></li><li class="blog-post collapse show" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-03-25-kubernetes-1-18-release-announcement href=/zh-cn/blog/2020/03/25/kubernetes-1-18-release-announcement/>Kubernetes 1.18: Fit & Finish</a></li><li class="more-posts collapse show" data-year=2020><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-01-15-kubernetes-on-mips href=/zh-cn/blog/2020/01/15/kubernetes-on-mips/>基于 MIPS 架构的 Kubernetes 方案</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2019/12/09/kubernetes-1-17-release-announcement/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2019</a></li><ul><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-12-09-kubernetes-1-17-release-announcement href=/zh-cn/blog/2019/12/09/kubernetes-1-17-release-announcement/>Kubernetes 1.17：稳定</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-11-26-running-kubernetes-locally-on-linux-with-microk8s href=/zh-cn/blog/2019/11/26/running-kubernetes-locally-on-linux-with-microk8s/>使用 Microk8s 在 Linux 上本地运行 Kubernetes</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-11-26-develop-a-kubernetes-controller-in-java href=/zh-cn/blog/2019/11/26/develop-a-kubernetes-controller-in-java/>使用 Java 开发一个 Kubernetes controller</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-10-29-kubernetes-documentation-end-user-survey href=/zh-cn/blog/2019/10/29/kubernetes-documentation-end-user-survey/>Kubernetes 文档最终用户调研</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-10-10-contributor-summit-san-diego-schedule href=/zh-cn/blog/2019/10/10/contributor-summit-san-diego-schedule/>圣迭戈贡献者峰会日程公布！</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-10-03-2019-steering-committee-election-results href=/zh-cn/blog/2019/10/03/2019-steering-committee-election-results/>2019 指导委员会选举结果</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-09-24-san-diego-contributor-summit href=/zh-cn/blog/2019/09/24/san-diego-contributor-summit/>San Diego 贡献者峰会开放注册！</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-08-29-the-machines-can-do-the-work-a-story-of-kubernetes-testing-ci-and-automating-the-contributor-experience href=/zh-cn/blog/2019/08/29/the-machines-can-do-the-work-a-story-of-kubernetes-testing-ci-and-automating-the-contributor-experience/>机器可以完成这项工作，一个关于 kubernetes 测试、CI 和自动化贡献者体验的故事</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-08-06-opa-gatekeeper-policy-and-governance-for-kubernetes href=/zh-cn/blog/2019/08/06/opa-gatekeeper-policy-and-governance-for-kubernetes/>OPA Gatekeeper：Kubernetes 的策略和管理</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-06-11-join-us-at-the-contributor-summit-in-shanghai href=/zh-cn/blog/2019/06/11/join-us-at-the-contributor-summit-in-shanghai/>欢迎参加在上海举行的贡献者峰会</a></li><li class="more-posts collapse" data-year=2019><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-05-14-expanding-our-contributor-workshops href=/zh-cn/blog/2019/05/14/expanding-our-contributor-workshops/>壮大我们的贡献者研讨会</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-04-26-how-you-can-help-localize-kubernetes-docs href=/zh-cn/blog/2019/04/26/how-you-can-help-localize-kubernetes-docs/>如何参与 Kubernetes 文档的本地化工作</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-04-15-process-id-limiting-for-stability-improvements-in-kubernetes-1-14 href=/zh-cn/blog/2019/04/15/process-id-limiting-for-stability-improvements-in-kubernetes-1.14/>Kubernetes 1.14 稳定性改进中的进程ID限制</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-03-07-raw-block-volume-support-to-beta href=/zh-cn/blog/2019/03/07/raw-block-volume-support-to-beta/>Raw Block Volume 支持进入 Beta</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2018/12/05/new-contributor-workshop-shanghai/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2018</a></li><ul><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-12-05-new-contributor-workshop-shanghai href=/zh-cn/blog/2018/12/05/new-contributor-workshop-shanghai/>新贡献者工作坊上海站</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-11-08-kubernetes-docs-updates-international-edition href=/zh-cn/blog/2018/11/08/kubernetes-docs-updates-international-edition/>Kubernetes 文档更新，国际版</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-16-kubernetes-2018-north-american-contributor-summit href=/zh-cn/blog/2018/10/16/kubernetes-2018-north-american-contributor-summit/>Kubernetes 2018 年北美贡献者峰会</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-15-2018-steering-committee-election-results href=/zh-cn/blog/2018/10/15/2018-steering-committee-election-results/>2018 年督导委员会选举结果</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-11-topology-aware-volume-provisioning-in-kubernetes href=/zh-cn/blog/2018/10/11/topology-aware-volume-provisioning-in-kubernetes/>Kubernetes 中的拓扑感知数据卷供应</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-10-kubernetes-v1-12-introducing-runtimeclass href=/zh-cn/blog/2018/10/10/kubernetes-v1.12-introducing-runtimeclass/>Kubernetes v1.12: RuntimeClass 简介</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-03-kubedirector-the-easy-way-to-run-complex-stateful-applications-on-kubernetes href=/zh-cn/blog/2018/10/03/kubedirector-the-easy-way-to-run-complex-stateful-applications-on-kubernetes/>KubeDirector：在 Kubernetes 上运行复杂状态应用程序的简单方法</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-01-health-checking-grpc-servers-on-kubernetes href=/zh-cn/blog/2018/10/01/health-checking-grpc-servers-on-kubernetes/>在 Kubernetes 上对 gRPC 服务器进行健康检查</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-08-02-dynamically-expand-volume-with-csi-and-kubernetes href=/zh-cn/blog/2018/08/02/dynamically-expand-volume-with-csi-and-kubernetes/>使用 CSI 和 Kubernetes 实现卷的动态扩容</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-12-resize-pv-using-k8s href=/zh-cn/blog/2018/07/12/resize-pv-using-k8s/>使用 Kubernetes 调整 PersistentVolume 的大小</a></li><li class="more-posts collapse" data-year=2018><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-11-dynamic-kubelet-configuration href=/zh-cn/blog/2018/07/11/dynamic-kubelet-configuration/>动态 Kubelet 配置</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-10-coredns-ga-for-kubernetes-cluster-dns href=/zh-cn/blog/2018/07/10/coredns-ga-for-kubernetes-cluster-dns/>用于 Kubernetes 集群 DNS 的 CoreDNS GA 正式发布</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-09-ipvs-based-in-cluster-load-balancing-deep-dive href=/zh-cn/blog/2018/07/09/ipvs-based-in-cluster-load-balancing-deep-dive/>基于 IPVS 的集群内部负载均衡</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-06-28-airflow-on-kubernetes-part-1-a-different-kind-of-operator href=/zh-cn/blog/2018/06/28/airflow-on-kubernetes-part-1-a-different-kind-of-operator/>Airflow 在 Kubernetes 中的使用（第一部分）：一种不同的操作器</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-06-07-dynamic-ingress-in-kubernetes href=/zh-cn/blog/2018/06/07/dynamic-ingress-in-kubernetes/>Kubernetes 的动态 Ingress</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-06-06-4-years-of-k8s href=/zh-cn/blog/2018/06/06/4-years-of-k8s/>Kubernetes 这四年</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-05-30-say-hello-to-discuss-kubernetes href=/zh-cn/blog/2018/05/30/say-hello-to-discuss-kubernetes/>向 Discuss Kubernetes 问好</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-05-01-developing-on-kubernetes href=/zh-cn/blog/2018/05/01/developing-on-kubernetes/>在 Kubernetes 上开发</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-04-25-open-source-charts-2017 href=/zh-cn/blog/2018/04/25/open-source-charts-2017/>Kubernetes 社区 - 2017 年开源排行榜榜首</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-03-15-principles-of-container-app-design href=/zh-cn/blog/2018/03/15/principles-of-container-app-design/>“基于容器的应用程序设计原理”</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-01-09-kubernetes-v19-beta-windows-support href=/zh-cn/blog/2018/01/09/kubernetes-v19-beta-windows-support/>Kubernetes 1.9 对 Windows Server 容器提供 Beta 版本支持</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2017/11/17/autoscaling-in-kubernetes/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2017</a></li><ul><li class="blog-post collapse" data-year=2017><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2017-11-17-autoscaling-in-kubernetes href=/zh-cn/blog/2017/11/17/autoscaling-in-kubernetes/>Kubernetes 中自动缩放</a></li><li class="blog-post collapse" data-year=2017><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2017-10-24-five-days-of-kubernetes-18 href=/zh-cn/blog/2017/10/24/five-days-of-kubernetes-18/>Kubernetes 1.8 的五天</a></li><li class="blog-post collapse" data-year=2017><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2017-10-05-kubernetes-community-steering-committee-election-results href=/zh-cn/blog/2017/10/05/kubernetes-community-steering-committee-election-results/>Kubernetes 社区指导委员会选举结果</a></li><li class="more-posts collapse" data-year=2017><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2016/08/29/stateful-applications-using-kubernetes-datera/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2016</a></li><ul><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-08-29-stateful-applications-using-kubernetes-datera href=/zh-cn/blog/2016/08/29/stateful-applications-using-kubernetes-datera/>使用 Kubernetes Pet Sets 和 Datera Elastic Data Fabric 的 FlexVolume 扩展有状态的应用程序</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-08-16-sig-apps-running-apps-in-kubernetes href=/zh-cn/blog/2016/08/16/sig-apps-running-apps-in-kubernetes/>SIG Apps: 为 Kubernetes 构建应用并在 Kubernetes 中进行运维</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-21-oh-the-places-you-will-go href=/zh-cn/blog/2016/07/21/oh-the-places-you-will-go/>Kubernetes 生日快乐。哦，这是你要去的地方！</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-18-bringing-end-to-end-kubernetes-testing-to-azure-2 href=/zh-cn/blog/2016/07/18/bringing-end-to-end-kubernetes-testing-to-azure-2/>将端到端的 Kubernetes 测试引入 Azure （第二部分）</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-15-dashboard-web-interface-for-kubernetes href=/zh-cn/blog/2016/07/15/dashboard-web-interface-for-kubernetes/>Dashboard - Kubernetes 的全功能 Web 界面</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-14-citrix-netscaler-and-kubernetes href=/zh-cn/blog/2016/07/14/citrix-netscaler-and-kubernetes/>Citrix + Kubernetes = 全垒打</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-13-stateful-applications-in-containers-kubernetes href=/zh-cn/blog/2016/07/13/stateful-applications-in-containers-kubernetes/>容器中运行有状态的应用！？ Kubernetes 1.3 说 “是！”</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-05-03-coreosfest2016-kubernetes-community href=/zh-cn/blog/2016/05/03/coreosfest2016-kubernetes-community/>CoreOS Fest 2016: CoreOS 和 Kubernetes 在柏林（和旧金山）社区见面会</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-04-19-sig-clusterops-promote-operability-and-interoperability-of-k8s-clusters href=/zh-cn/blog/2016/04/19/sig-clusterops-promote-operability-and-interoperability-of-k8s-clusters/>SIG-ClusterOps: 提升 Kubernetes 集群的可操作性和互操作性</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-04-18-kubernetes-network-policy-apis href=/zh-cn/blog/2016/04/18/kubernetes-network-policy-apis/>“SIG-Networking：1.3 版本引入 Kubernetes 网络策略 API”</a></li><li class="more-posts collapse" data-year=2016><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-04-08-adding-support-for-kubernetes-in-rancher href=/zh-cn/blog/2016/04/08/adding-support-for-kubernetes-in-rancher/>在 Rancher 中添加对 Kuernetes 的支持</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-24-kubecon-eu-2016-kubernetes-community-in href=/zh-cn/blog/2016/02/24/kubecon-eu-2016-kubernetes-community-in/>KubeCon EU 2016：伦敦 Kubernetes 社区</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-23-kubernetes-community-meeting-notes-23 href=/zh-cn/blog/2016/02/23/kubernetes-community-meeting-notes_23/>Kubernetes 社区会议记录 - 20160218</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-09-kubernetes-community-meeting-notes href=/zh-cn/blog/2016/02/09/kubernetes-community-meeting-notes/>Kubernetes 社区会议记录 - 20160204</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-01-state-of-container-world-january-2016 href=/zh-cn/blog/2016/02/01/state-of-container-world-january-2016/>容器世界现状，2016 年 1 月</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-01-28-kubernetes-community-meeting-notes href=/zh-cn/blog/2016/01/28/kubernetes-community-meeting-notes/>Kubernetes 社区会议记录 - 20160114</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-01-14-why-kubernetes-doesnt-use-libnetwork href=/zh-cn/blog/2016/01/14/why-kubernetes-doesnt-use-libnetwork/>为什么 Kubernetes 不用 libnetwork</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-01-11-simple-leader-election-with-kubernetes href=/zh-cn/blog/2016/01/11/simple-leader-election-with-kubernetes/>Kubernetes 和 Docker 简单的 leader election</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2015/12/17/managing-kubernetes-pods-services-and-replication-controllers-with-puppet/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2015</a></li><ul><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-12-17-managing-kubernetes-pods-services-and-replication-controllers-with-puppet href=/zh-cn/blog/2015/12/17/managing-kubernetes-pods-services-and-replication-controllers-with-puppet/>使用 Puppet 管理 Kubernetes Pod、Service 和 Replication Controller</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-11-09-kubernetes-1-1-performance-upgrades-improved-tooling-and-a-growing-community href=/zh-cn/blog/2015/11/09/kubernetes-1-1-performance-upgrades-improved-tooling-and-a-growing-community/>Kubernetes 1.1 性能升级，工具改进和社区不断壮大</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-08-04-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/08/04/weekly-kubernetes-community-hangout/>Kubernetes 社区每周环聊笔记——2015 年 7 月 31 日</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-07-08-announcing-first-kubernetes-enterprise href=/zh-cn/blog/2015/07/08/announcing-first-kubernetes-enterprise/>宣布首个Kubernetes企业培训课程</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-06-26-slides-cluster-management-with href=/zh-cn/blog/2015/06/26/slides-cluster-management-with/>幻灯片：Kubernetes 集群管理，爱丁堡大学演讲</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-05-19-kubernetes-on-openstack href=/zh-cn/blog/2015/05/19/kubernetes-on-openstack/>OpenStack 上的 Kubernetes</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-05-11-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/05/11/weekly-kubernetes-community-hangout/>Kubernetes 社区每周聚会笔记- 2015年5月1日</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-05-04-appc-support-for-kubernetes-through-rkt href=/zh-cn/blog/2015/05/04/appc-support-for-kubernetes-through-rkt/>通过 RKT 对 Kubernetes 的 AppC 支持</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-30-weekly-kubernetes-community-hangout-29 href=/zh-cn/blog/2015/04/30/weekly-kubernetes-community-hangout_29/>Kubernetes 社区每周聚会笔记- 2015年4月24日</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-23-borg-predecessor-to-kubernetes href=/zh-cn/blog/2015/04/23/borg-predecessor-to-kubernetes/>Borg: Kubernetes 的前身</a></li><li class="more-posts collapse" data-year=2015><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-17-weekly-kubernetes-community-hangout-17 href=/zh-cn/blog/2015/04/17/weekly-kubernetes-community-hangout_17/>Kubernetes 社区每周聚会笔记- 2015年4月17日</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-16-kubernetes-release-0150 href=/zh-cn/blog/2015/04/16/kubernetes-release-0150/>Kubernetes Release: 0.15.0</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-04-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/04/04/weekly-kubernetes-community-hangout/>每周 Kubernetes 社区例会笔记 - 2015 年 4 月 3 日</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-03-28-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/03/28/weekly-kubernetes-community-hangout/>Kubernetes 社区每周聚会笔记 - 2015 年 3 月 27 日</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-03-23-kubernetes-gathering-videos href=/zh-cn/blog/2015/03/23/kubernetes-gathering-videos/>Kubernetes 采集视频</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-03-20-welcome-to-kubernetes-blog href=/zh-cn/blog/2015/03/20/welcome-to-kubernetes-blog/>欢迎来到 Kubernetes 博客!</a></li></ul></ul></nav></div><script>let morePosts=document.querySelectorAll(".more-posts"),year="";morePosts.forEach(e=>{e.onclick=t=>{t.preventDefault(),year=e.dataset.year,console.log(year);let n=document.querySelectorAll(`.blog-post.hidden[data-year="${year}"]`);console.log(n),n.forEach(e=>{e.classList.add("show"),e.classList.remove("hidden")}),e.style.display="none"}})</script></div><main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role=main><div class=td-content><h1>警告: 有用的预警</h1><div class="td-byline mb-4"><time datetime=2020-09-03 class=text-muted>2020.09.03</time></div><header class=article-meta></header><p><strong>作者</strong>: <a href=https://github.com/liggitt>Jordan Liggitt</a> (Google)</p><p>作为 Kubernetes 维护者，我们一直在寻找在保持兼容性的同时提高可用性的方法。
在开发功能、分类 Bug、和回答支持问题的过程中，我们积累了有助于 Kubernetes 用户了解的信息。
过去，共享这些信息仅限于发布说明、公告电子邮件、文档和博客文章等带外方法。
除非有人知道需要寻找这些信息并成功找到它们，否则他们不会从中受益。</p><p>在 Kubernetes v1.19 中，我们添加了一个功能，允许 Kubernetes API
服务器<a href=https://github.com/kubernetes/enhancements/tree/master/keps/sig-api-machinery/1693-warnings>向 API 客户端发送警告</a>。
警告信息使用<a href=https://tools.ietf.org/html/rfc7234#section-5.5>标准 <code>Warning</code> 响应头</a>发送，
因此它不会以任何方式更改状态代码或响应体。
这一设计使得服务能够发送任何 API 客户端都可以轻松读取的警告，同时保持与以前的客户端版本兼容。</p><p>警告在 <code>kubectl</code> v1.19+ 的 <code>stderr</code> 输出中和 <code>k8s.io/client-go</code> v0.19.0+ 客户端库的日志中出现。
<code>k8s.io/client-go</code> 行为可以<a href=#customize-client-handling>在进程或客户端层面重载</a>。</p><h2 id=deprecation-warnings>弃用警告</h2><p>我们第一次使用此新功能是针对已弃用的 API 调用发送警告。</p><p>Kubernetes 是一个<a href=https://www.cncf.io/cncf-kubernetes-project-journey/#development-velocity>大型、快速发展的项目</a>。
跟上每个版本的<a href=https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.19.md#changelog-since-v1180>变更</a>可能是令人生畏的，
即使对于全职从事该项目的人来说也是如此。一种重要的变更是 API 弃用。
随着 Kubernetes 中的 API 升级到 GA 版本，预发布的 API 版本会被弃用并最终被删除。</p><p>即使有<a href=/zh-cn/docs/reference/using-api/deprecation-policy/>延长的弃用期</a>，
并且<a href=https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.19.md#deprecation>在发布说明中</a>也包含了弃用信息，
他们仍然很难被追踪。在弃用期内，预发布 API 仍然有效，
允许多个版本过渡到稳定的 API 版本。
然而，我们发现用户往往甚至没有意识到他们依赖于已弃用的 API 版本，
直到升级到不再提供相应服务的新版本。</p><p>从 v1.19 开始，系统每当收到针对已弃用的 REST API 的请求时，都会返回警告以及 API 响应。
此警告包括有关 API 将不再可用的版本以及替换 API 版本的详细信息。</p><p>因为警告源自服务器端，并在客户端层级被拦截，所以它适用于所有 kubectl 命令，
包括像 <code>kubectl apply</code> 这样的高级命令，以及像 <code>kubectl get --raw</code> 这样的低级命令：</p><p><img alt="kubectl 执行一个清单文件, 然后显示警告信息 'networking.k8s.io/v1beta1 Ingress is deprecated in v1.19+, unavailable in v1.22+; use networking.k8s.io/v1 Ingress'。" src=kubectl-warnings.png style=width:637px;max-width:100%></p><p>这有助于受弃用影响的人们知道他们所请求的API已被弃用，
他们有多长时间来解决这个问题，以及他们应该使用什么 API。
这在用户应用不是由他们创建的清单文件时特别有用，
所以他们有时间联系作者要一个更新的版本。</p><p>我们还意识到<strong>使用</strong>已弃用的 API 的人通常不是负责升级集群的人，
因此，我们添加了两个面向管理员的工具来帮助跟踪已弃用的 API 的使用情况并确定何时升级安全。</p><h3 id=metrics>度量指标</h3><p>从 Kubernetes v1.19 开始，当向已弃用的 REST API 端点发出请求时，
在 kube-apiserver 进程中，<code>apiserver_requested_deprecated_apis</code> 度量指标会被设置为 <code>1</code>。
该指标具有 API <code>group</code>、<code>version</code>、<code>resource</code> 和 <code>subresource</code> 的标签，
和一个 <code>removed_release</code> 标签，表明不再提供 API 的 Kubernetes 版本。</p><p>下面是一个使用 <code>kubectl</code> 的查询示例，<a href=https://github.com/prometheus/prom2json>prom2json</a>
和 <a href=https://stedolan.github.io/jq/>jq</a> 用来确定当前 API
服务器实例上收到了哪些对已弃用的 API 请求：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>kubectl get --raw /metrics | prom2json | jq <span style=color:#b44>&#39;
</span></span></span><span style=display:flex><span><span style=color:#b44>  .[] | select(.name==&#34;apiserver_requested_deprecated_apis&#34;).metrics[].labels
</span></span></span><span style=display:flex><span><span style=color:#b44>&#39;</span>
</span></span></code></pre></div><p>输出：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;extensions&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;removed_release&#34;</span>: <span style=color:#b44>&#34;1.22&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;ingresses&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;subresource&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;version&#34;</span>: <span style=color:#b44>&#34;v1beta1&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;rbac.authorization.k8s.io&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;removed_release&#34;</span>: <span style=color:#b44>&#34;1.22&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;clusterroles&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;subresource&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;version&#34;</span>: <span style=color:#b44>&#34;v1beta1&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>输出展示在此服务器上请求了已弃用的 <code>extensions/v1beta1</code> Ingress 和 <code>rbac.authorization.k8s.io/v1beta1</code>
ClusterRole API，这两个 API 都将在 v1.22 中被删除。</p><p>我们可以将该信息与 <code>apiserver_request_total</code> 指标结合起来，以获取有关这些 API 请求的更多详细信息：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>kubectl get --raw /metrics | prom2json | jq <span style=color:#b44>&#39;
</span></span></span><span style=display:flex><span><span style=color:#b44>  # set $deprecated to a list of deprecated APIs
</span></span></span><span style=display:flex><span><span style=color:#b44>  [
</span></span></span><span style=display:flex><span><span style=color:#b44>    .[] | 
</span></span></span><span style=display:flex><span><span style=color:#b44>    select(.name==&#34;apiserver_requested_deprecated_apis&#34;).metrics[].labels |
</span></span></span><span style=display:flex><span><span style=color:#b44>    {group,version,resource}
</span></span></span><span style=display:flex><span><span style=color:#b44>  ] as $deprecated 
</span></span></span><span style=display:flex><span><span style=color:#b44>  
</span></span></span><span style=display:flex><span><span style=color:#b44>  |
</span></span></span><span style=display:flex><span><span style=color:#b44>  
</span></span></span><span style=display:flex><span><span style=color:#b44>  # select apiserver_request_total metrics which are deprecated
</span></span></span><span style=display:flex><span><span style=color:#b44>  .[] | select(.name==&#34;apiserver_request_total&#34;).metrics[] |
</span></span></span><span style=display:flex><span><span style=color:#b44>  select(.labels | {group,version,resource} as $key | $deprecated | index($key))
</span></span></span><span style=display:flex><span><span style=color:#b44>&#39;</span>
</span></span></code></pre></div><p>输出：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;labels&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;code&#34;</span>: <span style=color:#b44>&#34;0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;component&#34;</span>: <span style=color:#b44>&#34;apiserver&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;contentType&#34;</span>: <span style=color:#b44>&#34;application/vnd.kubernetes.protobuf;stream=watch&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;dry_run&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;extensions&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;ingresses&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;scope&#34;</span>: <span style=color:#b44>&#34;cluster&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;subresource&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;verb&#34;</span>: <span style=color:#b44>&#34;WATCH&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;version&#34;</span>: <span style=color:#b44>&#34;v1beta1&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;value&#34;</span>: <span style=color:#b44>&#34;21&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;labels&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;code&#34;</span>: <span style=color:#b44>&#34;200&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;component&#34;</span>: <span style=color:#b44>&#34;apiserver&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;contentType&#34;</span>: <span style=color:#b44>&#34;application/vnd.kubernetes.protobuf&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;dry_run&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;extensions&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;ingresses&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;scope&#34;</span>: <span style=color:#b44>&#34;cluster&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;subresource&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;verb&#34;</span>: <span style=color:#b44>&#34;LIST&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;version&#34;</span>: <span style=color:#b44>&#34;v1beta1&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;value&#34;</span>: <span style=color:#b44>&#34;1&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;labels&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;code&#34;</span>: <span style=color:#b44>&#34;200&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;component&#34;</span>: <span style=color:#b44>&#34;apiserver&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;contentType&#34;</span>: <span style=color:#b44>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;dry_run&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;rbac.authorization.k8s.io&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;clusterroles&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;scope&#34;</span>: <span style=color:#b44>&#34;cluster&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;subresource&#34;</span>: <span style=color:#b44>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;verb&#34;</span>: <span style=color:#b44>&#34;LIST&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;version&#34;</span>: <span style=color:#b44>&#34;v1beta1&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;value&#34;</span>: <span style=color:#b44>&#34;1&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>上面的输出展示，对这些 API 发出的都只是读请求，并且大多数请求都用来监测已弃用的 Ingress API。</p><p>你还可以通过以下 Prometheus 查询获取这一信息，
该查询返回关于已弃用的、将在 v1.22 中删除的 API 请求的信息：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-promql data-lang=promql><span style=display:flex><span><span style=color:#b8860b>apiserver_requested_deprecated_apis</span>{<span style=color:#a0a000>removed_release</span><span style=color:#666>=</span>&#34;<span style=color:#b44>1.22</span>&#34;}<span style=color:#bbb> </span><span style=color:#666>*</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>on</span><span style=color:#666>(</span><span style=color:#a2f;font-weight:700>group</span>,<span style=color:#b8860b>version</span>,<span style=color:#b8860b>resource</span>,<span style=color:#b8860b>subresource</span><span style=color:#666>)</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#a2f;font-weight:700>group_right</span><span style=color:#666>()</span><span style=color:#bbb> </span><span style=color:#b8860b>apiserver_request_total</span><span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=audit-annotations>审计注解</h3><p>度量指标是检查是否正在使用已弃用的 API 以及使用率如何的快速方法，
但它们没有包含足够的信息来识别特定的客户端或 API 对象。
从 Kubernetes v1.19 开始，
对已弃用的 API 的请求进行审计时，<a href=/zh-cn/docs/tasks/debug/debug-cluster/audit/>审计事件</a>中会包括
审计注解 <code>"k8s.io/deprecated":"true"</code>。
管理员可以使用这些审计事件来识别需要更新的特定客户端或对象。</p><h2 id=custom-resource-definitions>自定义资源定义</h2><p>除了 API 服务器对已弃用的 API 使用发出警告的能力外，从 v1.19 开始，CustomResourceDefinition
可以指示<a href=/zh-cn/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definition-versioning/#version-deprecation>它定义的资源的特定版本已被弃用</a>。
当对自定义资源的已弃用的版本发出 API 请求时，将返回一条警告消息，与内置 API 的行为相匹配。</p><p>CustomResourceDefinition 的作者还可以根据需要自定义每个版本的警告。
这允许他们在需要时提供指向迁移指南的信息或其他信息。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiextensions.k8s.io/v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>CustomResourceDefinition<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>crontabs.example.com<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>versions</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>v1alpha1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># 这表示 v1alpha1 版本的自定义资源已经废弃了。</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># 对此版本的 API 请求会在服务器响应中收到警告。</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>deprecated</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># 这会把返回给发出 v1alpha1 API 请求的客户端的默认警告覆盖。</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>deprecationWarning</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example.com/v1alpha1 CronTab is deprecated; use example.com/v1 CronTab (see http://example.com/v1alpha1-v1)&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>v1beta1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># 这表示 v1beta1 版本的自定义资源已经废弃了。</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># 对此版本的 API 请求会在服务器响应中收到警告。</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># 此版本返回默认警告消息。</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>deprecated</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=admission-webhooks>准入 Webhook</h2><p><a href=/zh-cn/docs/reference/access-authn-authz/extensible-admission-controllers>准入 Webhook</a>是将自定义策略或验证与
Kubernetes 集成的主要方式。
从 v1.19 开始，Admission Webhook 可以<a href=/zh-cn/docs/reference/access-authn-authz/extensible-admission-controllers/#response>返回警告消息</a>，
传递给发送请求的 API 客户端。警告可以与允许或拒绝的响应一起返回。</p><p>例如，允许请求但警告已知某个配置无法正常运行时，准入 Webhook 可以发送以下响应：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;warnings&#34;</span>: [
</span></span><span style=display:flex><span>      <span style=color:#b44>&#34;.spec.memory: requests &gt;1GB do not work on Fridays&#34;</span>
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>如果你在实现一个返回警告消息的 Webhook，这里有一些提示：</p><ul><li>不要在消息中包含 “Warning:” 前缀（由客户端在输出时添加）</li><li>使用警告消息来正确描述能被发出 API 请求的客户端纠正或了解的问题</li><li>保持简洁；如果可能，将警告限制为 120 个字符以内</li></ul><p>准入 Webhook 可以通过多种方式使用这个新功能，我期待看到大家想出来的方法。
这里有一些想法可以帮助你入门：</p><ul><li>添加 “complain” 模式的 Webhook 实现，它们返回警告而不是拒绝，
允许在开始执行之前尝试策略以验证它是否按预期工作</li><li>“lint” 或 “vet” 风格的 Webhook，检查对象并在未遵循最佳实践时显示警告</li></ul><h2 id=customize-client-handling>自定义客户端处理方式</h2><p>使用 <code>k8s.io/client-go</code> 库发出 API 请求的应用程序可以定制如何处理从服务器返回的警告。
默认情况下，收到的警告会以日志形式输出到 stderr，
但<a href=https://godoc.org/k8s.io/client-go/rest#SetDefaultWarningHandler>在进程层面</a>或[客户端层面]
(<a href=https://godoc.org/k8s.io/client-go/rest#Config>https://godoc.org/k8s.io/client-go/rest#Config</a>)均可定制这一行为。</p><p>这个例子展示了如何让你的应用程序表现得像 <code>kubectl</code>，
在进程层面重载整个消息处理逻辑以删除重复的警告，
并在支持的情况下使用彩色输出突出显示消息：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a2f;font-weight:700>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#b44>&#34;os&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#b44>&#34;k8s.io/client-go/rest&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#b44>&#34;k8s.io/kubectl/pkg/util/term&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#666>...</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f;font-weight:700>func</span> <span style=color:#00a000>main</span>() {
</span></span><span style=display:flex><span>  rest.<span style=color:#00a000>SetDefaultWarningHandler</span>(
</span></span><span style=display:flex><span>    rest.<span style=color:#00a000>NewWarningWriter</span>(os.Stderr, rest.WarningWriterOptions{
</span></span><span style=display:flex><span>        <span style=color:#080;font-style:italic>// only print a given warning the first time we receive it
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        Deduplicate: <span style=color:#a2f;font-weight:700>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#080;font-style:italic>// highlight the output with color when the output supports it
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        Color: term.<span style=color:#00a000>AllowsColorOutput</span>(os.Stderr),
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>    ),
</span></span><span style=display:flex><span>  )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#666>...</span>
</span></span></code></pre></div><p>下一个示例展示如何构建一个忽略警告的客户端。
这对于那些操作所有资源类型（使用发现 API 在运行时动态发现）
的元数据并且不会从已弃用的特定资源的警告中受益的客户端很有用。
对于需要使用特定 API 的客户端，不建议抑制弃用警告。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a2f;font-weight:700>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#b44>&#34;k8s.io/client-go/rest&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#b44>&#34;k8s.io/client-go/kubernetes&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f;font-weight:700>func</span> <span style=color:#00a000>getClientWithoutWarnings</span>(config <span style=color:#666>*</span>rest.Config) (kubernetes.Interface, <span style=color:#0b0;font-weight:700>error</span>) {
</span></span><span style=display:flex><span>  <span style=color:#080;font-style:italic>// copy to avoid mutating the passed-in config
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>  config = rest.<span style=color:#00a000>CopyConfig</span>(config)
</span></span><span style=display:flex><span>  <span style=color:#080;font-style:italic>// set the warning handler for this client to ignore warnings
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>  config.WarningHandler = rest.NoWarnings{}
</span></span><span style=display:flex><span>  <span style=color:#080;font-style:italic>// construct and return the client
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>  <span style=color:#a2f;font-weight:700>return</span> kubernetes.<span style=color:#00a000>NewForConfig</span>(config)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=kubectl-strict-mode>Kubectl 强制模式</h2><p>如果你想确保及时注意到弃用问题并立即着手解决它们，
<code>kubectl</code> 在 v1.19 中添加了 <code>--warnings-as-errors</code> 选项。使用此选项调用时，
<code>kubectl</code> 将从服务器收到的所有警告视为错误，并以非零码退出：</p><p><img alt="kubectl 在设置 --warnings-as-errors 标记的情况下执行一个清单文件, 返回警告消息和非零退出码。" src=kubectl-warnings-as-errors.png style=width:637px;max-width:100%></p><p>这可以在 CI 作业中用于将清单文件应用到当前服务器，
其中要求通过零退出码才能使 CI 作业成功。</p><h2 id=future-possibilities>未来的可能性</h2><p>现在我们有了一种在上下文中向用户传达有用信息的方法，
我们已经在考虑使用其他方法来改善人们使用 Kubernetes 的体验。
我们接下来要研究的几个领域是关于<a href=http://issue.k8s.io/64841#issuecomment-395141013>已知有问题的值</a>的警告。
出于兼容性原因，我们不能直接拒绝，而应就使用已弃用的字段或字段值
（例如使用 beta os/arch 节点标签的选择器，
<a href=/zh-cn/docs/reference/labels-annotations-taints/#beta-kubernetes-io-arch-deprecated>在 v1.14 中已弃用</a>）
给出警告。
我很高兴看到这方面的进展，继续让 Kubernetes 更容易使用。</p><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/zh-cn/blog/2020/06/better-docs-ux-with-docsy/ aria-label="上一页 - Docsy 带来更好的 Docs UX" class="btn btn-primary"><span class=mr-1>←</span>上一页</a></li><a href=/zh-cn/blog/2020/09/04/kubernetes-1-19-introducing-structured-logs/ aria-label="下一页 - 结构化日志介绍" class="btn btn-primary">下一页<span class=ml-1>→</span></a></li></ul></div></main><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-blog-meta ml-2 pb-1 pt-2 mb-4"><link rel=alternate type=application/rss+xml href=https://kubernetes.io/zh-cn/feed.xml title=Kubernetes><a class=widget-link href=https://kubernetes.io/zh-cn/feed.xml><div><i class="fas fa-rss fab-icon"></i><span class=widget-link-text>RSS Feed</span></div></a><a class=widget-link href=https://kubernetes.io/docs/contribute/new-content/blogs-case-studies/><div><i class="fa fa-edit fab-icon"></i> <span class=widget-link-text>Submit a Post</span></div></a><a class=widget-link href=https://twitter.com/kubernetesio><div><i class="fab fa-twitter-square fab-icon"></i><span class=widget-link-text>@Kubernetesio</span></div></a><a class=widget-link href=https://github.com/kubernetes/kubernetes><div><i class="fab fa-github-square fab-icon"></i> <span class=widget-link-text>on GitHub</span></div></a><a class=widget-link href=http://slack.k8s.io><div><i class="fab fa-slack fab-icon"></i><span class=widget-link-text>#kubernetes-users</span></div></a><a class=widget-link href=https://stackoverflow.com/questions/tagged/kubernetes><div><i class="fab fa-stack-overflow fab-icon"></i> <span class=widget-link-text>Overflow</span></div></a><a class=widget-link href=https://discuss.kubernetes.io><div><i class="fab fa-discourse fab-icon"></i><span class=widget-link-text> Forum</span></div></a><a class=widget-link href=https://kubernetes.io/docs/setup><div><i class="fa fa-download fab-icon"></i> <span class=widget-link-text>Kubernetes</span></div></a></div></div></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/zh-cn/docs/home/>主页</a>
<a class=text-white href=/zh-cn/blog/>博客</a>
<a class=text-white href=/zh-cn/training/>培训</a>
<a class=text-white href=/zh-cn/partners/>合作伙伴</a>
<a class=text-white href=/zh-cn/community/>社区</a>
<a class=text-white href=/zh-cn/case-studies/>案例分析</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 The Kubernetes 作者 | 文档发布基于 <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a> 授权许可</small><br><small class=text-white>Copyright &copy; 2023 Linux 基金会&reg;。保留所有权利。Linux 基金会已注册并使用商标。如需了解 Linux 基金会的商标列表，请访问<a href=https://www.linuxfoundation.org/trademark-usage class=light-text>商标使用页面</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>