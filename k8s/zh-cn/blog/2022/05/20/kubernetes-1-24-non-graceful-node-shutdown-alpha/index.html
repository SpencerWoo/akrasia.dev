<!doctype html><html lang=zh-cn class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段 | Kubernetes</title><meta property="og:title" content="Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段"><meta property="og:description" content="作者：Xing Yang 和 Yassine Tijani (VMware)
Kubernetes v1.24 引入了对节点非体面关闭 （Non-Graceful Node Shutdown）的 Alpha 支持。 此特性允许有状态工作负载在原节点关闭或处于不可恢复状态（如硬件故障或操作系统损坏）后，故障转移到不同的节点。
这与节点体面关闭有何不同 你可能听说过 Kubernetes 的节点体面关闭特性， 并且想知道节点非体面关闭特性与之有何不同。节点体面关闭允许 Kubernetes 检测节点何时完全关闭，并适当地处理这种情况。 只有当 kubelet 在实际关闭之前检测到节点关闭动作时，节点关闭才是“体面（graceful）”的。 但是，在某些情况下，kubelet 可能检测不到节点关闭操作。 这可能是因为 shutdown 命令没有触发 kubelet 所依赖的 systemd 抑制锁机制， 或者是因为配置错误（ShutdownGracePeriod 和 ShutdownGracePeriodCriticalPods 配置不正确）。
节点体面关闭依赖于特定 Linux 的支持。 kubelet 不监视 Windows 节点上即将关闭的情况（这可能在未来的 Kubernetes 版本中会有所改变）。
当一个节点被关闭但 kubelet 没有检测到时，该节点上的 Pod 也会非体面地关闭。 对于无状态应用程序，这通常不是问题（一旦集群检测到受影响的节点或 Pod 出现故障，ReplicaSet 就会添加一个新的 Pod）。 对于有状态的应用程序，情况要复杂得多。如果你使用一个 StatefulSet， 并且该 StatefulSet 中的一个 Pod 在某个节点上发生了不干净故障，则该受影响的 Pod 将被标记为终止（Terminating）； StatefulSet 无法创建替换 Pod，因为该 Pod 仍存在于集群中。 因此，在 StatefulSet 上运行的应用程序可能会降级甚至离线。 如果已关闭的原节点再次出现，该节点上的 kubelet 会执行报到操作，删除现有的 Pod， 并且控制平面会在不同的运行节点上为该 StatefulSet 生成一个替换 Pod。 如果原节点出现故障并且没有恢复，这些有状态的 Pod 将处于终止状态且无限期地停留在该故障节点上。"><meta property="og:type" content="article"><meta property="og:url" content="https://kubernetes.io/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-05-20T00:00:00+00:00"><meta property="article:modified_time" content="2022-08-08T15:37:25+08:00"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段"><meta itemprop=description content="作者：Xing Yang 和 Yassine Tijani (VMware)
Kubernetes v1.24 引入了对节点非体面关闭 （Non-Graceful Node Shutdown）的 Alpha 支持。 此特性允许有状态工作负载在原节点关闭或处于不可恢复状态（如硬件故障或操作系统损坏）后，故障转移到不同的节点。
这与节点体面关闭有何不同 你可能听说过 Kubernetes 的节点体面关闭特性， 并且想知道节点非体面关闭特性与之有何不同。节点体面关闭允许 Kubernetes 检测节点何时完全关闭，并适当地处理这种情况。 只有当 kubelet 在实际关闭之前检测到节点关闭动作时，节点关闭才是“体面（graceful）”的。 但是，在某些情况下，kubelet 可能检测不到节点关闭操作。 这可能是因为 shutdown 命令没有触发 kubelet 所依赖的 systemd 抑制锁机制， 或者是因为配置错误（ShutdownGracePeriod 和 ShutdownGracePeriodCriticalPods 配置不正确）。
节点体面关闭依赖于特定 Linux 的支持。 kubelet 不监视 Windows 节点上即将关闭的情况（这可能在未来的 Kubernetes 版本中会有所改变）。
当一个节点被关闭但 kubelet 没有检测到时，该节点上的 Pod 也会非体面地关闭。 对于无状态应用程序，这通常不是问题（一旦集群检测到受影响的节点或 Pod 出现故障，ReplicaSet 就会添加一个新的 Pod）。 对于有状态的应用程序，情况要复杂得多。如果你使用一个 StatefulSet， 并且该 StatefulSet 中的一个 Pod 在某个节点上发生了不干净故障，则该受影响的 Pod 将被标记为终止（Terminating）； StatefulSet 无法创建替换 Pod，因为该 Pod 仍存在于集群中。 因此，在 StatefulSet 上运行的应用程序可能会降级甚至离线。 如果已关闭的原节点再次出现，该节点上的 kubelet 会执行报到操作，删除现有的 Pod， 并且控制平面会在不同的运行节点上为该 StatefulSet 生成一个替换 Pod。 如果原节点出现故障并且没有恢复，这些有状态的 Pod 将处于终止状态且无限期地停留在该故障节点上。"><meta itemprop=datePublished content="2022-05-20T00:00:00+00:00"><meta itemprop=dateModified content="2022-08-08T15:37:25+08:00"><meta itemprop=wordCount content="279"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段"><meta name=twitter:description content="作者：Xing Yang 和 Yassine Tijani (VMware)
Kubernetes v1.24 引入了对节点非体面关闭 （Non-Graceful Node Shutdown）的 Alpha 支持。 此特性允许有状态工作负载在原节点关闭或处于不可恢复状态（如硬件故障或操作系统损坏）后，故障转移到不同的节点。
这与节点体面关闭有何不同 你可能听说过 Kubernetes 的节点体面关闭特性， 并且想知道节点非体面关闭特性与之有何不同。节点体面关闭允许 Kubernetes 检测节点何时完全关闭，并适当地处理这种情况。 只有当 kubelet 在实际关闭之前检测到节点关闭动作时，节点关闭才是“体面（graceful）”的。 但是，在某些情况下，kubelet 可能检测不到节点关闭操作。 这可能是因为 shutdown 命令没有触发 kubelet 所依赖的 systemd 抑制锁机制， 或者是因为配置错误（ShutdownGracePeriod 和 ShutdownGracePeriodCriticalPods 配置不正确）。
节点体面关闭依赖于特定 Linux 的支持。 kubelet 不监视 Windows 节点上即将关闭的情况（这可能在未来的 Kubernetes 版本中会有所改变）。
当一个节点被关闭但 kubelet 没有检测到时，该节点上的 Pod 也会非体面地关闭。 对于无状态应用程序，这通常不是问题（一旦集群检测到受影响的节点或 Pod 出现故障，ReplicaSet 就会添加一个新的 Pod）。 对于有状态的应用程序，情况要复杂得多。如果你使用一个 StatefulSet， 并且该 StatefulSet 中的一个 Pod 在某个节点上发生了不干净故障，则该受影响的 Pod 将被标记为终止（Terminating）； StatefulSet 无法创建替换 Pod，因为该 Pod 仍存在于集群中。 因此，在 StatefulSet 上运行的应用程序可能会降级甚至离线。 如果已关闭的原节点再次出现，该节点上的 kubelet 会执行报到操作，删除现有的 Pod， 并且控制平面会在不同的运行节点上为该 StatefulSet 生成一个替换 Pod。 如果原节点出现故障并且没有恢复，这些有状态的 Pod 将处于终止状态且无限期地停留在该故障节点上。"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="作者：Xing Yang 和 Yassine Tijani (VMware)
Kubernetes v1.24 引入了对节点非体面关闭 （Non-Graceful Node Shutdown）的 Alpha 支持。 此特性允许有状态工作负载在原节点关闭或处于不可恢复状态（如硬件故障或操作系统损坏）后，故障转移到不同的节点。
这与节点体面关闭有何不同 你可能听说过 Kubernetes 的节点体面关闭特性， 并且想知道节点非体面关闭特性与之有何不同。节点体面关闭允许 Kubernetes 检测节点何时完全关闭，并适当地处理这种情况。 只有当 kubelet 在实际关闭之前检测到节点关闭动作时，节点关闭才是“体面（graceful）”的。 但是，在某些情况下，kubelet 可能检测不到节点关闭操作。 这可能是因为 shutdown 命令没有触发 kubelet 所依赖的 systemd 抑制锁机制， 或者是因为配置错误（ShutdownGracePeriod 和 ShutdownGracePeriodCriticalPods 配置不正确）。
节点体面关闭依赖于特定 Linux 的支持。 kubelet 不监视 Windows 节点上即将关闭的情况（这可能在未来的 Kubernetes 版本中会有所改变）。
当一个节点被关闭但 kubelet 没有检测到时，该节点上的 Pod 也会非体面地关闭。 对于无状态应用程序，这通常不是问题（一旦集群检测到受影响的节点或 Pod 出现故障，ReplicaSet 就会添加一个新的 Pod）。 对于有状态的应用程序，情况要复杂得多。如果你使用一个 StatefulSet， 并且该 StatefulSet 中的一个 Pod 在某个节点上发生了不干净故障，则该受影响的 Pod 将被标记为终止（Terminating）； StatefulSet 无法创建替换 Pod，因为该 Pod 仍存在于集群中。 因此，在 StatefulSet 上运行的应用程序可能会降级甚至离线。 如果已关闭的原节点再次出现，该节点上的 kubelet 会执行报到操作，删除现有的 Pod， 并且控制平面会在不同的运行节点上为该 StatefulSet 生成一个替换 Pod。 如果原节点出现故障并且没有恢复，这些有状态的 Pod 将处于终止状态且无限期地停留在该故障节点上。"><meta property="og:description" content="作者：Xing Yang 和 Yassine Tijani (VMware)
Kubernetes v1.24 引入了对节点非体面关闭 （Non-Graceful Node Shutdown）的 Alpha 支持。 此特性允许有状态工作负载在原节点关闭或处于不可恢复状态（如硬件故障或操作系统损坏）后，故障转移到不同的节点。
这与节点体面关闭有何不同 你可能听说过 Kubernetes 的节点体面关闭特性， 并且想知道节点非体面关闭特性与之有何不同。节点体面关闭允许 Kubernetes 检测节点何时完全关闭，并适当地处理这种情况。 只有当 kubelet 在实际关闭之前检测到节点关闭动作时，节点关闭才是“体面（graceful）”的。 但是，在某些情况下，kubelet 可能检测不到节点关闭操作。 这可能是因为 shutdown 命令没有触发 kubelet 所依赖的 systemd 抑制锁机制， 或者是因为配置错误（ShutdownGracePeriod 和 ShutdownGracePeriodCriticalPods 配置不正确）。
节点体面关闭依赖于特定 Linux 的支持。 kubelet 不监视 Windows 节点上即将关闭的情况（这可能在未来的 Kubernetes 版本中会有所改变）。
当一个节点被关闭但 kubelet 没有检测到时，该节点上的 Pod 也会非体面地关闭。 对于无状态应用程序，这通常不是问题（一旦集群检测到受影响的节点或 Pod 出现故障，ReplicaSet 就会添加一个新的 Pod）。 对于有状态的应用程序，情况要复杂得多。如果你使用一个 StatefulSet， 并且该 StatefulSet 中的一个 Pod 在某个节点上发生了不干净故障，则该受影响的 Pod 将被标记为终止（Terminating）； StatefulSet 无法创建替换 Pod，因为该 Pod 仍存在于集群中。 因此，在 StatefulSet 上运行的应用程序可能会降级甚至离线。 如果已关闭的原节点再次出现，该节点上的 kubelet 会执行报到操作，删除现有的 Pod， 并且控制平面会在不同的运行节点上为该 StatefulSet 生成一个替换 Pod。 如果原节点出现故障并且没有恢复，这些有状态的 Pod 将处于终止状态且无限期地停留在该故障节点上。"><meta name=twitter:description content="作者：Xing Yang 和 Yassine Tijani (VMware)
Kubernetes v1.24 引入了对节点非体面关闭 （Non-Graceful Node Shutdown）的 Alpha 支持。 此特性允许有状态工作负载在原节点关闭或处于不可恢复状态（如硬件故障或操作系统损坏）后，故障转移到不同的节点。
这与节点体面关闭有何不同 你可能听说过 Kubernetes 的节点体面关闭特性， 并且想知道节点非体面关闭特性与之有何不同。节点体面关闭允许 Kubernetes 检测节点何时完全关闭，并适当地处理这种情况。 只有当 kubelet 在实际关闭之前检测到节点关闭动作时，节点关闭才是“体面（graceful）”的。 但是，在某些情况下，kubelet 可能检测不到节点关闭操作。 这可能是因为 shutdown 命令没有触发 kubelet 所依赖的 systemd 抑制锁机制， 或者是因为配置错误（ShutdownGracePeriod 和 ShutdownGracePeriodCriticalPods 配置不正确）。
节点体面关闭依赖于特定 Linux 的支持。 kubelet 不监视 Windows 节点上即将关闭的情况（这可能在未来的 Kubernetes 版本中会有所改变）。
当一个节点被关闭但 kubelet 没有检测到时，该节点上的 Pod 也会非体面地关闭。 对于无状态应用程序，这通常不是问题（一旦集群检测到受影响的节点或 Pod 出现故障，ReplicaSet 就会添加一个新的 Pod）。 对于有状态的应用程序，情况要复杂得多。如果你使用一个 StatefulSet， 并且该 StatefulSet 中的一个 Pod 在某个节点上发生了不干净故障，则该受影响的 Pod 将被标记为终止（Terminating）； StatefulSet 无法创建替换 Pod，因为该 Pod 仍存在于集群中。 因此，在 StatefulSet 上运行的应用程序可能会降级甚至离线。 如果已关闭的原节点再次出现，该节点上的 kubelet 会执行报到操作，删除现有的 Pod， 并且控制平面会在不同的运行节点上为该 StatefulSet 生成一个替换 Pod。 如果原节点出现故障并且没有恢复，这些有状态的 Pod 将处于终止状态且无限期地停留在该故障节点上。"><meta property="og:url" content="https://kubernetes.io/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/"><meta property="og:title" content="Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段"><meta name=twitter:title content="Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><title>Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段 | Kubernetes</title><script defer src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script></head><body class="td-page td-blog"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/zh-cn/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/docs/>文档</a></li><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/zh-cn/blog/>Kubernetes 博客</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/training/>培训</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/partners/>合作伙伴</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/community/>社区</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/zh-cn/case-studies/>案例分析</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>版本列表</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh-cn/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>中文 (Chinese)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>English</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav><section class="header-hero text-center text-white font-bold pb-4"><h1>Kubernetes 博客</h1></section></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" name=q placeholder="&#xf002 搜索" aria-label=搜索 autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2022/10/03/userns-alpha/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">2022</a></li><ul><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-10-03-userns-alpha href=/zh-cn/blog/2022/10/03/userns-alpha/>“Kubernetes 1.25：对使用用户名字空间运行 Pod 提供 Alpha 支持”</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-15-app-rollout-features-reach-stable href=/zh-cn/blog/2022/09/15/app-rollout-features-reach-stable/>Kubernetes 1.25：应用滚动上线所用的两个特性进入稳定阶段</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-14-pod-has-network-condition href=/zh-cn/blog/2022/09/14/pod-has-network-condition/>Kubernetes 1.25：Pod 新增 PodHasNetwork 状况</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-12-k8s-cve-feed-alpha href=/zh-cn/blog/2022/09/12/k8s-cve-feed-alpha/>宣布自动刷新官方 Kubernetes CVE 订阅源</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-09-02-cosi-kubernetes-object-storage-management href=/zh-cn/blog/2022/09/02/cosi-kubernetes-object-storage-management/>COSI 简介：使用 Kubernetes API 管理对象存储</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-31-cgroupv2-ga-1-25 href=/zh-cn/blog/2022/08/31/cgroupv2-ga-1-25/>Kubernetes 1.25: cgroup v2 升级到 GA</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-29-csi-inline-volumes-ga href=/zh-cn/blog/2022/08/29/csi-inline-volumes-ga/>Kubernetes 1.25：CSI 内联存储卷正式发布</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-23-podsecuritypolicy-the-historical-context href=/zh-cn/blog/2022/08/23/podsecuritypolicy-the-historical-context/>PodSecurityPolicy：历史背景</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-23-kubernetes-v1-25-release href=/zh-cn/blog/2022/08/23/kubernetes-v1-25-release/>Kubernetes v1.25: Combiner</a></li><li class="blog-post collapse show" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-22-sig-storage-spotlight href=/zh-cn/blog/2022/08/22/sig-storage-spotlight/>聚焦 SIG Storage</a></li><li class="more-posts collapse show" data-year=2022><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-15-meet-our-contributors-china-ep-03 href=/zh-cn/blog/2022/08/15/meet-our-contributors-china-ep-03/>认识我们的贡献者 - 亚太地区（中国地区）</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-11-enhancing-kubernetes-one-kep-at-a-time href=/zh-cn/blog/2022/08/11/enhancing-kubernetes-one-kep-at-a-time/>逐个 KEP 地增强 Kubernetes</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-04-upcoming-changes-in-kubernetes-1-25 href=/zh-cn/blog/2022/08/04/upcoming-changes-in-kubernetes-1-25/>Kubernetes 1.25 的移除说明和主要变更</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-08-02-sig-docs-spotlight-2022 href=/zh-cn/blog/2022/08/02/sig-docs-spotlight-2022/>聚光灯下的 SIG Docs</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-07-13-gateway-api-graduates-to-beta href=/zh-cn/blog/2022/07/13/gateway-api-graduates-to-beta/>Kubernetes Gateway API 进入 Beta 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-06-01-annual-report-summary-2021 href=/zh-cn/blog/2022/06/01/annual-report-summary-2021/>2021 年度总结报告</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-27-maxunavailable-for-statefulset href=/zh-cn/blog/2022/05/27/maxunavailable-for-statefulset/>Kubernetes 1.24: StatefulSet 的最大不可用副本数</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-25-contextual-logging href=/zh-cn/blog/2022/05/25/contextual-logging/>Kubernetes 1.24 中的上下文日志记录</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-23-service-ip-dynamic-and-static-allocation href=/zh-cn/blog/2022/05/23/service-ip-dynamic-and-static-allocation/>Kubernetes 1.24: 避免为 Services 分配 IP 地址时发生冲突</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page active" id=m-zh-cn-blog-2022-05-20-kubernetes-1-24-non-graceful-node-shutdown-alpha href=/zh-cn/blog/2022/05/20/kubernetes-1-24-non-graceful-node-shutdown-alpha/>Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-18-prevent-unauthorised-volume-mode-conversion-alpha href=/zh-cn/blog/2022/05/18/prevent-unauthorised-volume-mode-conversion-alpha/>Kubernetes 1.24: 防止未经授权的卷模式转换</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-16-volume-populators-beta href=/zh-cn/blog/2022/05/16/volume-populators-beta/>Kubernetes 1.24: 卷填充器功能进入 Beta 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-13-grpc-probes-now-in-beta href=/zh-cn/blog/2022/05/13/grpc-probes-now-in-beta/>Kubernetes 1.24：gRPC 容器探针功能进入 Beta 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-06-storage-capacity-ga href=/zh-cn/blog/2022/05/06/storage-capacity-ga/>Kubernetes 1.24 版本中存储容量跟踪特性进入 GA 阶段</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-05-volume-expansion-ga href=/zh-cn/blog/2022/05/05/volume-expansion-ga/>Kubernetes 1.24：卷扩充现在成为稳定功能</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-03-kubernetes-1-24-release-announcement href=/zh-cn/blog/2022/05/03/kubernetes-1-24-release-announcement/>Kubernetes 1.24: 观星者</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-05-03-dockershim-historical-context href=/zh-cn/blog/2022/05/03/dockershim-historical-context/>Dockershim：历史背景</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-04-29-frontiers-fsgroups-and-frogs-kubernetes-1-23-e5-8f-91-e5-b8-83-e9-87-87-e8-ae-bf href=/zh-cn/blog/2022/04/29/frontiers-fsgroups-and-frogs-kubernetes-1.23-%E5%8F%91%E5%B8%83%E9%87%87%E8%AE%BF/>Frontiers, fsGroups and frogs: Kubernetes 1.23 发布采访</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-04-28-ingress-nginx-1-2-0 href=/zh-cn/blog/2022/04/28/ingress-nginx-1-2-0/>在 Ingress-NGINX v1.2.0 中提高安全标准</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-04-07-upcoming-changes-in-kubernetes-1-24 href=/zh-cn/blog/2022/04/07/upcoming-changes-in-kubernetes-1-24/>Kubernetes 1.24 中的移除和弃用</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-03-31-ready-for-dockershim-removal href=/zh-cn/blog/2022/03/31/ready-for-dockershim-removal/>你的集群准备好使用 v1.24 版本了吗？</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-03-16-meet-our-contributors-au-nz-ep-02 href=/zh-cn/blog/2022/03/16/meet-our-contributors-au-nz-ep-02/>认识我们的贡献者 - 亚太地区（澳大利亚-新西兰地区）</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-02-17-dockershim-faq href=/zh-cn/blog/2022/02/17/dockershim-faq/>移除 Dockershim 的常见问题</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-02-16-sig-node-ci-subproject-celebrates href=/zh-cn/blog/2022/02/16/sig-node-ci-subproject-celebrates/>SIG Node CI 子项目庆祝测试改进两周年</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-02-07-sig-multicluster-spotlight-2022 href=/zh-cn/blog/2022/02/07/sig-multicluster-spotlight-2022/>关注 SIG Multicluster</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-01-19-secure-your-admission-controllers-and-webhooks href=/zh-cn/blog/2022/01/19/secure-your-admission-controllers-and-webhooks/>确保准入控制器的安全</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-01-10-meet-our-contributors-india-ep-01 href=/zh-cn/blog/2022/01/10/meet-our-contributors-india-ep-01/>认识我们的贡献者 - 亚太地区（印度地区）</a></li><li class="blog-post hidden collapse" data-year=2022><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2022-01-07-kubernetes-is-moving-on-from-dockershim href=/zh-cn/blog/2022/01/07/kubernetes-is-moving-on-from-dockershim/>Kubernetes 即将移除 Dockershim：承诺和下一步</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2021/12/17/security-profiles-operator/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2021</a></li><ul><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-17-security-profiles-operator href=/zh-cn/blog/2021/12/17/security-profiles-operator/>Security Profiles Operator v0.4.0 中的新功能</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-16-kubernetes-1-23-statefulset-pvc-auto-deletion href=/zh-cn/blog/2021/12/16/kubernetes-1-23-statefulset-pvc-auto-deletion/>Kubernetes 1.23: StatefulSet PVC 自动删除 (alpha)</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-10-storage-in-tree-to-csi-migration-status-update href=/zh-cn/blog/2021/12/10/storage-in-tree-to-csi-migration-status-update/>Kubernetes 1.23：树内存储向 CSI 卷迁移工作的进展更新</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-12-08-dual-stack-networking-ga href=/zh-cn/blog/2021/12/08/dual-stack-networking-ga/>Kubernetes 1.23：IPv4/IPv6 双协议栈网络达到 GA</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-11-08-steering-committee-results-2021 href=/zh-cn/blog/2021/11/08/steering-committee-results-2021/>公布 2021 年指导委员会选举结果</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-09-27-sig-node-spotlight-2021 href=/zh-cn/blog/2021/09/27/sig-node-spotlight-2021/>关注 SIG Node</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-07-26-update-with-ingress-nginx href=/zh-cn/blog/2021/07/26/update-with-ingress-nginx/>更新 NGINX-Ingress 以使用稳定的 Ingress API</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-07-15-sig-usability-spotlight-2021 href=/zh-cn/blog/2021/07/15/sig-usability-spotlight-2021/>聚焦 SIG Usability</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-04-16-volume-health-monitoring-alpha-update href=/zh-cn/blog/2021/04/16/volume-health-monitoring-alpha-update/>卷健康监控的 Alpha 更新</a></li><li class="blog-post collapse" data-year=2021><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2021-04-06-podsecuritypolicy-deprecation-past-present-and-future href=/zh-cn/blog/2021/04/06/podsecuritypolicy-deprecation-past-present-and-future/>弃用 PodSecurityPolicy：过去、现在、未来</a></li><li class="more-posts collapse" data-year=2021><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2020/12/21/writing-crl-scheduler/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2020</a></li><ul><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-21-writing-crl-scheduler href=/zh-cn/blog/2020/12/21/writing-crl-scheduler/>一个编排高可用应用的 Kubernetes 自定义调度器</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-18-kubernetes-1-20-pod-impersonation-short-lived-volumes-in-csi href=/zh-cn/blog/2020/12/18/kubernetes-1.20-pod-impersonation-short-lived-volumes-in-csi/>Kubernetes 1.20：CSI 驱动程序中的 Pod 身份假扮和短时卷</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-08-kubernetes-1-20-release-announcement href=/zh-cn/blog/2020/12/08/kubernetes-1-20-release-announcement/>Kubernetes 1.20: 最新版本</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-02-dockershim-faq href=/zh-cn/blog/2020/12/02/dockershim-faq/>弃用 Dockershim 的常见问题</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-12-02-dont-panic-kubernetes-and-docker href=/zh-cn/blog/2020/12/02/dont-panic-kubernetes-and-docker/>别慌: Kubernetes 和 Docker</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-10-01-e4-b8-ba-e5-bc-80-e5-8f-91-e6-8c-87-e5-8d-97-e5-81-9a-e8-b4-a1-e7-8c-ae href=/zh-cn/blog/2020/10/01/%E4%B8%BA%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97%E5%81%9A%E8%B4%A1%E7%8C%AE/>为开发指南做贡献</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-09-04-kubernetes-1-19-introducing-structured-logs href=/zh-cn/blog/2020/09/04/kubernetes-1-19-introducing-structured-logs/>结构化日志介绍</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-09-03-warnings href=/zh-cn/blog/2020/09/03/warnings/>警告: 有用的预警</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-06-better-docs-ux-with-docsy href=/zh-cn/blog/2020/06/better-docs-ux-with-docsy/>Docsy 带来更好的 Docs UX</a></li><li class="blog-post collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-03-25-kubernetes-1-18-release-announcement href=/zh-cn/blog/2020/03/25/kubernetes-1-18-release-announcement/>Kubernetes 1.18: Fit & Finish</a></li><li class="more-posts collapse" data-year=2020><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2020><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2020-01-15-kubernetes-on-mips href=/zh-cn/blog/2020/01/15/kubernetes-on-mips/>基于 MIPS 架构的 Kubernetes 方案</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2019/12/09/kubernetes-1-17-release-announcement/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2019</a></li><ul><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-12-09-kubernetes-1-17-release-announcement href=/zh-cn/blog/2019/12/09/kubernetes-1-17-release-announcement/>Kubernetes 1.17：稳定</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-11-26-running-kubernetes-locally-on-linux-with-microk8s href=/zh-cn/blog/2019/11/26/running-kubernetes-locally-on-linux-with-microk8s/>使用 Microk8s 在 Linux 上本地运行 Kubernetes</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-11-26-develop-a-kubernetes-controller-in-java href=/zh-cn/blog/2019/11/26/develop-a-kubernetes-controller-in-java/>使用 Java 开发一个 Kubernetes controller</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-10-29-kubernetes-documentation-end-user-survey href=/zh-cn/blog/2019/10/29/kubernetes-documentation-end-user-survey/>Kubernetes 文档最终用户调研</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-10-10-contributor-summit-san-diego-schedule href=/zh-cn/blog/2019/10/10/contributor-summit-san-diego-schedule/>圣迭戈贡献者峰会日程公布！</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-10-03-2019-steering-committee-election-results href=/zh-cn/blog/2019/10/03/2019-steering-committee-election-results/>2019 指导委员会选举结果</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-09-24-san-diego-contributor-summit href=/zh-cn/blog/2019/09/24/san-diego-contributor-summit/>San Diego 贡献者峰会开放注册！</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-08-29-the-machines-can-do-the-work-a-story-of-kubernetes-testing-ci-and-automating-the-contributor-experience href=/zh-cn/blog/2019/08/29/the-machines-can-do-the-work-a-story-of-kubernetes-testing-ci-and-automating-the-contributor-experience/>机器可以完成这项工作，一个关于 kubernetes 测试、CI 和自动化贡献者体验的故事</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-08-06-opa-gatekeeper-policy-and-governance-for-kubernetes href=/zh-cn/blog/2019/08/06/opa-gatekeeper-policy-and-governance-for-kubernetes/>OPA Gatekeeper：Kubernetes 的策略和管理</a></li><li class="blog-post collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-06-11-join-us-at-the-contributor-summit-in-shanghai href=/zh-cn/blog/2019/06/11/join-us-at-the-contributor-summit-in-shanghai/>欢迎参加在上海举行的贡献者峰会</a></li><li class="more-posts collapse" data-year=2019><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-05-14-expanding-our-contributor-workshops href=/zh-cn/blog/2019/05/14/expanding-our-contributor-workshops/>壮大我们的贡献者研讨会</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-04-26-how-you-can-help-localize-kubernetes-docs href=/zh-cn/blog/2019/04/26/how-you-can-help-localize-kubernetes-docs/>如何参与 Kubernetes 文档的本地化工作</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-04-15-process-id-limiting-for-stability-improvements-in-kubernetes-1-14 href=/zh-cn/blog/2019/04/15/process-id-limiting-for-stability-improvements-in-kubernetes-1.14/>Kubernetes 1.14 稳定性改进中的进程ID限制</a></li><li class="blog-post hidden collapse" data-year=2019><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2019-03-07-raw-block-volume-support-to-beta href=/zh-cn/blog/2019/03/07/raw-block-volume-support-to-beta/>Raw Block Volume 支持进入 Beta</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2018/12/05/new-contributor-workshop-shanghai/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2018</a></li><ul><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-12-05-new-contributor-workshop-shanghai href=/zh-cn/blog/2018/12/05/new-contributor-workshop-shanghai/>新贡献者工作坊上海站</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-11-08-kubernetes-docs-updates-international-edition href=/zh-cn/blog/2018/11/08/kubernetes-docs-updates-international-edition/>Kubernetes 文档更新，国际版</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-16-kubernetes-2018-north-american-contributor-summit href=/zh-cn/blog/2018/10/16/kubernetes-2018-north-american-contributor-summit/>Kubernetes 2018 年北美贡献者峰会</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-15-2018-steering-committee-election-results href=/zh-cn/blog/2018/10/15/2018-steering-committee-election-results/>2018 年督导委员会选举结果</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-11-topology-aware-volume-provisioning-in-kubernetes href=/zh-cn/blog/2018/10/11/topology-aware-volume-provisioning-in-kubernetes/>Kubernetes 中的拓扑感知数据卷供应</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-10-kubernetes-v1-12-introducing-runtimeclass href=/zh-cn/blog/2018/10/10/kubernetes-v1.12-introducing-runtimeclass/>Kubernetes v1.12: RuntimeClass 简介</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-03-kubedirector-the-easy-way-to-run-complex-stateful-applications-on-kubernetes href=/zh-cn/blog/2018/10/03/kubedirector-the-easy-way-to-run-complex-stateful-applications-on-kubernetes/>KubeDirector：在 Kubernetes 上运行复杂状态应用程序的简单方法</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-10-01-health-checking-grpc-servers-on-kubernetes href=/zh-cn/blog/2018/10/01/health-checking-grpc-servers-on-kubernetes/>在 Kubernetes 上对 gRPC 服务器进行健康检查</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-08-02-dynamically-expand-volume-with-csi-and-kubernetes href=/zh-cn/blog/2018/08/02/dynamically-expand-volume-with-csi-and-kubernetes/>使用 CSI 和 Kubernetes 实现卷的动态扩容</a></li><li class="blog-post collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-12-resize-pv-using-k8s href=/zh-cn/blog/2018/07/12/resize-pv-using-k8s/>使用 Kubernetes 调整 PersistentVolume 的大小</a></li><li class="more-posts collapse" data-year=2018><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-11-dynamic-kubelet-configuration href=/zh-cn/blog/2018/07/11/dynamic-kubelet-configuration/>动态 Kubelet 配置</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-10-coredns-ga-for-kubernetes-cluster-dns href=/zh-cn/blog/2018/07/10/coredns-ga-for-kubernetes-cluster-dns/>用于 Kubernetes 集群 DNS 的 CoreDNS GA 正式发布</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-07-09-ipvs-based-in-cluster-load-balancing-deep-dive href=/zh-cn/blog/2018/07/09/ipvs-based-in-cluster-load-balancing-deep-dive/>基于 IPVS 的集群内部负载均衡</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-06-28-airflow-on-kubernetes-part-1-a-different-kind-of-operator href=/zh-cn/blog/2018/06/28/airflow-on-kubernetes-part-1-a-different-kind-of-operator/>Airflow 在 Kubernetes 中的使用（第一部分）：一种不同的操作器</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-06-07-dynamic-ingress-in-kubernetes href=/zh-cn/blog/2018/06/07/dynamic-ingress-in-kubernetes/>Kubernetes 的动态 Ingress</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-06-06-4-years-of-k8s href=/zh-cn/blog/2018/06/06/4-years-of-k8s/>Kubernetes 这四年</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-05-30-say-hello-to-discuss-kubernetes href=/zh-cn/blog/2018/05/30/say-hello-to-discuss-kubernetes/>向 Discuss Kubernetes 问好</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-05-01-developing-on-kubernetes href=/zh-cn/blog/2018/05/01/developing-on-kubernetes/>在 Kubernetes 上开发</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-04-25-open-source-charts-2017 href=/zh-cn/blog/2018/04/25/open-source-charts-2017/>Kubernetes 社区 - 2017 年开源排行榜榜首</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-03-15-principles-of-container-app-design href=/zh-cn/blog/2018/03/15/principles-of-container-app-design/>“基于容器的应用程序设计原理”</a></li><li class="blog-post hidden collapse" data-year=2018><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2018-01-09-kubernetes-v19-beta-windows-support href=/zh-cn/blog/2018/01/09/kubernetes-v19-beta-windows-support/>Kubernetes 1.9 对 Windows Server 容器提供 Beta 版本支持</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2017/11/17/autoscaling-in-kubernetes/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2017</a></li><ul><li class="blog-post collapse" data-year=2017><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2017-11-17-autoscaling-in-kubernetes href=/zh-cn/blog/2017/11/17/autoscaling-in-kubernetes/>Kubernetes 中自动缩放</a></li><li class="blog-post collapse" data-year=2017><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2017-10-24-five-days-of-kubernetes-18 href=/zh-cn/blog/2017/10/24/five-days-of-kubernetes-18/>Kubernetes 1.8 的五天</a></li><li class="blog-post collapse" data-year=2017><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2017-10-05-kubernetes-community-steering-committee-election-results href=/zh-cn/blog/2017/10/05/kubernetes-community-steering-committee-election-results/>Kubernetes 社区指导委员会选举结果</a></li><li class="more-posts collapse" data-year=2017><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2016/08/29/stateful-applications-using-kubernetes-datera/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2016</a></li><ul><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-08-29-stateful-applications-using-kubernetes-datera href=/zh-cn/blog/2016/08/29/stateful-applications-using-kubernetes-datera/>使用 Kubernetes Pet Sets 和 Datera Elastic Data Fabric 的 FlexVolume 扩展有状态的应用程序</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-08-16-sig-apps-running-apps-in-kubernetes href=/zh-cn/blog/2016/08/16/sig-apps-running-apps-in-kubernetes/>SIG Apps: 为 Kubernetes 构建应用并在 Kubernetes 中进行运维</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-21-oh-the-places-you-will-go href=/zh-cn/blog/2016/07/21/oh-the-places-you-will-go/>Kubernetes 生日快乐。哦，这是你要去的地方！</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-18-bringing-end-to-end-kubernetes-testing-to-azure-2 href=/zh-cn/blog/2016/07/18/bringing-end-to-end-kubernetes-testing-to-azure-2/>将端到端的 Kubernetes 测试引入 Azure （第二部分）</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-15-dashboard-web-interface-for-kubernetes href=/zh-cn/blog/2016/07/15/dashboard-web-interface-for-kubernetes/>Dashboard - Kubernetes 的全功能 Web 界面</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-14-citrix-netscaler-and-kubernetes href=/zh-cn/blog/2016/07/14/citrix-netscaler-and-kubernetes/>Citrix + Kubernetes = 全垒打</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-07-13-stateful-applications-in-containers-kubernetes href=/zh-cn/blog/2016/07/13/stateful-applications-in-containers-kubernetes/>容器中运行有状态的应用！？ Kubernetes 1.3 说 “是！”</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-05-03-coreosfest2016-kubernetes-community href=/zh-cn/blog/2016/05/03/coreosfest2016-kubernetes-community/>CoreOS Fest 2016: CoreOS 和 Kubernetes 在柏林（和旧金山）社区见面会</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-04-19-sig-clusterops-promote-operability-and-interoperability-of-k8s-clusters href=/zh-cn/blog/2016/04/19/sig-clusterops-promote-operability-and-interoperability-of-k8s-clusters/>SIG-ClusterOps: 提升 Kubernetes 集群的可操作性和互操作性</a></li><li class="blog-post collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-04-18-kubernetes-network-policy-apis href=/zh-cn/blog/2016/04/18/kubernetes-network-policy-apis/>“SIG-Networking：1.3 版本引入 Kubernetes 网络策略 API”</a></li><li class="more-posts collapse" data-year=2016><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-04-08-adding-support-for-kubernetes-in-rancher href=/zh-cn/blog/2016/04/08/adding-support-for-kubernetes-in-rancher/>在 Rancher 中添加对 Kuernetes 的支持</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-24-kubecon-eu-2016-kubernetes-community-in href=/zh-cn/blog/2016/02/24/kubecon-eu-2016-kubernetes-community-in/>KubeCon EU 2016：伦敦 Kubernetes 社区</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-23-kubernetes-community-meeting-notes-23 href=/zh-cn/blog/2016/02/23/kubernetes-community-meeting-notes_23/>Kubernetes 社区会议记录 - 20160218</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-09-kubernetes-community-meeting-notes href=/zh-cn/blog/2016/02/09/kubernetes-community-meeting-notes/>Kubernetes 社区会议记录 - 20160204</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-02-01-state-of-container-world-january-2016 href=/zh-cn/blog/2016/02/01/state-of-container-world-january-2016/>容器世界现状，2016 年 1 月</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-01-28-kubernetes-community-meeting-notes href=/zh-cn/blog/2016/01/28/kubernetes-community-meeting-notes/>Kubernetes 社区会议记录 - 20160114</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-01-14-why-kubernetes-doesnt-use-libnetwork href=/zh-cn/blog/2016/01/14/why-kubernetes-doesnt-use-libnetwork/>为什么 Kubernetes 不用 libnetwork</a></li><li class="blog-post hidden collapse" data-year=2016><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2016-01-11-simple-leader-election-with-kubernetes href=/zh-cn/blog/2016/01/11/simple-leader-election-with-kubernetes/>Kubernetes 和 Docker 简单的 leader election</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/zh-cn/blog/2015/12/17/managing-kubernetes-pods-services-and-replication-controllers-with-puppet/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">2015</a></li><ul><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-12-17-managing-kubernetes-pods-services-and-replication-controllers-with-puppet href=/zh-cn/blog/2015/12/17/managing-kubernetes-pods-services-and-replication-controllers-with-puppet/>使用 Puppet 管理 Kubernetes Pod、Service 和 Replication Controller</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-11-09-kubernetes-1-1-performance-upgrades-improved-tooling-and-a-growing-community href=/zh-cn/blog/2015/11/09/kubernetes-1-1-performance-upgrades-improved-tooling-and-a-growing-community/>Kubernetes 1.1 性能升级，工具改进和社区不断壮大</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-08-04-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/08/04/weekly-kubernetes-community-hangout/>Kubernetes 社区每周环聊笔记——2015 年 7 月 31 日</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-07-08-announcing-first-kubernetes-enterprise href=/zh-cn/blog/2015/07/08/announcing-first-kubernetes-enterprise/>宣布首个Kubernetes企业培训课程</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-06-26-slides-cluster-management-with href=/zh-cn/blog/2015/06/26/slides-cluster-management-with/>幻灯片：Kubernetes 集群管理，爱丁堡大学演讲</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-05-19-kubernetes-on-openstack href=/zh-cn/blog/2015/05/19/kubernetes-on-openstack/>OpenStack 上的 Kubernetes</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-05-11-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/05/11/weekly-kubernetes-community-hangout/>Kubernetes 社区每周聚会笔记- 2015年5月1日</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-05-04-appc-support-for-kubernetes-through-rkt href=/zh-cn/blog/2015/05/04/appc-support-for-kubernetes-through-rkt/>通过 RKT 对 Kubernetes 的 AppC 支持</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-30-weekly-kubernetes-community-hangout-29 href=/zh-cn/blog/2015/04/30/weekly-kubernetes-community-hangout_29/>Kubernetes 社区每周聚会笔记- 2015年4月24日</a></li><li class="blog-post collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-23-borg-predecessor-to-kubernetes href=/zh-cn/blog/2015/04/23/borg-predecessor-to-kubernetes/>Borg: Kubernetes 的前身</a></li><li class="more-posts collapse" data-year=2015><a class=td-sidebar-link id=more-posts href>Show More Posts...</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-17-weekly-kubernetes-community-hangout-17 href=/zh-cn/blog/2015/04/17/weekly-kubernetes-community-hangout_17/>Kubernetes 社区每周聚会笔记- 2015年4月17日</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-16-kubernetes-release-0150 href=/zh-cn/blog/2015/04/16/kubernetes-release-0150/>Kubernetes Release: 0.15.0</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-04-04-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/04/04/weekly-kubernetes-community-hangout/>每周 Kubernetes 社区例会笔记 - 2015 年 4 月 3 日</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-03-28-weekly-kubernetes-community-hangout href=/zh-cn/blog/2015/03/28/weekly-kubernetes-community-hangout/>Kubernetes 社区每周聚会笔记 - 2015 年 3 月 27 日</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-03-23-kubernetes-gathering-videos href=/zh-cn/blog/2015/03/23/kubernetes-gathering-videos/>Kubernetes 采集视频</a></li><li class="blog-post hidden collapse" data-year=2015><a class="td-sidebar-link td-sidebar-link__page" id=m-zh-cn-blog-2015-03-20-welcome-to-kubernetes-blog href=/zh-cn/blog/2015/03/20/welcome-to-kubernetes-blog/>欢迎来到 Kubernetes 博客!</a></li></ul></ul></nav></div><script>let morePosts=document.querySelectorAll(".more-posts"),year="";morePosts.forEach(e=>{e.onclick=t=>{t.preventDefault(),year=e.dataset.year,console.log(year);let n=document.querySelectorAll(`.blog-post.hidden[data-year="${year}"]`);console.log(n),n.forEach(e=>{e.classList.add("show"),e.classList.remove("hidden")}),e.style.display="none"}})</script></div><main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role=main><div class=td-content><h1>Kubernetes 1.24: 节点非体面关闭特性进入 Alpha 阶段</h1><div class="td-byline mb-4"><time datetime=2022-05-20 class=text-muted>2022.05.20</time></div><header class=article-meta></header><p><strong>作者</strong>：Xing Yang 和 Yassine Tijani (VMware)</p><p>Kubernetes v1.24 引入了对<a href=https://github.com/kubernetes/enhancements/tree/master/keps/sig-storage/2268-non-graceful-shutdown>节点非体面关闭</a>
（Non-Graceful Node Shutdown）的 Alpha 支持。
此特性允许有状态工作负载在原节点关闭或处于不可恢复状态（如硬件故障或操作系统损坏）后，故障转移到不同的节点。</p><h2 id=这与节点体面关闭有何不同>这与节点体面关闭有何不同</h2><p>你可能听说过 Kubernetes 的<a href=/zh-cn/docs/concepts/architecture/nodes/#graceful-node-shutdown>节点体面关闭</a>特性，
并且想知道节点非体面关闭特性与之有何不同。节点体面关闭允许 Kubernetes 检测节点何时完全关闭，并适当地处理这种情况。
只有当 kubelet 在实际关闭之前检测到节点关闭动作时，节点关闭才是“体面（graceful）”的。
但是，在某些情况下，kubelet 可能检测不到节点关闭操作。
这可能是因为 shutdown 命令没有触发 kubelet 所依赖的 systemd 抑制锁机制，
或者是因为配置错误（<code>ShutdownGracePeriod</code> 和 <code>ShutdownGracePeriodCriticalPods</code> 配置不正确）。</p><p>节点体面关闭依赖于特定 Linux 的支持。
kubelet 不监视 Windows 节点上即将关闭的情况（这可能在未来的 Kubernetes 版本中会有所改变）。</p><p>当一个节点被关闭但 kubelet 没有检测到时，该节点上的 Pod 也会非体面地关闭。
对于无状态应用程序，这通常不是问题（一旦集群检测到受影响的节点或 Pod 出现故障，ReplicaSet 就会添加一个新的 Pod）。
对于有状态的应用程序，情况要复杂得多。如果你使用一个 StatefulSet，
并且该 StatefulSet 中的一个 Pod 在某个节点上发生了不干净故障，则该受影响的 Pod 将被标记为终止（Terminating）；
StatefulSet 无法创建替换 Pod，因为该 Pod 仍存在于集群中。
因此，在 StatefulSet 上运行的应用程序可能会降级甚至离线。
如果已关闭的原节点再次出现，该节点上的 kubelet 会执行报到操作，删除现有的 Pod，
并且控制平面会在不同的运行节点上为该 StatefulSet 生成一个替换 Pod。
如果原节点出现故障并且没有恢复，这些有状态的 Pod 将处于终止状态且无限期地停留在该故障节点上。</p><pre tabindex=0><code>$ kubectl get pod -o wide
NAME    READY   STATUS        RESTARTS   AGE   IP           NODE                      NOMINATED NODE   READINESS GATES
web-0   1/1     Running       0          100m   10.244.2.4   k8s-node-876-1639279816   &lt;none&gt;           &lt;none&gt;
web-1   1/1     Terminating   0          100m   10.244.1.3   k8s-node-433-1639279804   &lt;none&gt;           &lt;none&gt;
</code></pre><h2 id=尝试新的非体面关闭处理>尝试新的非体面关闭处理</h2><p>要使用节点非体面关闭处理，你必须为 <code>kube-controller-manager</code> 组件启用
<code>NodeOutOfServiceVolumeDetach</code> <a href=/zh-cn/docs/reference/command-line-tools-reference/feature-gates/>特性门控</a>。</p><p>在节点关闭的情况下，你可以手动为该节点标记污点，标示其已停止服务。
在添加污点之前，你应该确保节点确实关闭了（不是在重启过程中）。
你可以在发生了节点关闭事件，且该事件没有被 kubelet 提前检测和处理的情况下，在节点关闭之后添加污点；
你可以使用该污点的另一种情况是当节点由于硬件故障或操作系统损坏而处于不可恢复状态时。
你可以为该污点设置的值是 <code>node.kubernetes.io/out-of-service=nodeshutdown: "NoExecute"</code> 或
<code>node.kubernetes.io/out-of-service=nodeshutdown: "NoSchedule"</code>。
如果你已经启用了前面提到的特性门控，在节点上设置 out-of-service 污点意味着节点上的 Pod 将被删除，
除非 Pod 上设置有与之匹配的容忍度。原来挂接到已关闭节点的持久卷（Persistent volume）将被解除挂接，
对于 StatefulSet，系统将在不同的运行节点上成功创建替换 Pod。</p><pre tabindex=0><code>$ kubectl taint nodes &lt;node-name&gt; node.kubernetes.io/out-of-service=nodeshutdown:NoExecute

$ kubectl get pod -o wide
NAME    READY   STATUS    RESTARTS   AGE    IP           NODE                      NOMINATED NODE   READINESS GATES
web-0   1/1     Running   0          150m   10.244.2.4   k8s-node-876-1639279816   &lt;none&gt;           &lt;none&gt;
web-1   1/1     Running   0          10m    10.244.1.7   k8s-node-433-1639279804   &lt;none&gt;           &lt;none&gt;
</code></pre><p>注意：在应用 out-of-service 污点之前，你<strong>必须</strong>确认节点是否已经处于关闭或断电状态（不是在重新启动过程中），
节点关闭的原因可能是用户有意将其关闭，也可能是节点由于硬件故障、操作系统问题等而关闭。</p><p>一旦关联到无法提供服务的节点的所有工作负载 Pod 都被移动到新的运行中的节点，并且关闭了的节点也已恢复，
你应该在节点恢复后删除受影响节点上的污点。如果你知道该节点不会恢复服务，则可以改为从集群中删除该节点。</p><h2 id=下一步是什么>下一步是什么？</h2><p>根据反馈和采用情况，Kubernetes 团队计划在 1.25 或 1.26 版本中将节点非体面关闭实现推送到 Beta 阶段。</p><p>此功能需要用户手动向节点添加污点以触发工作负载故障转移，并要求用户在节点恢复后移除污点。
未来，我们计划寻找方法来自动检测和隔离已关闭的或已失败的节点，并自动将工作负载故障转移到另一个节点。</p><h2 id=怎样才能了解更多>怎样才能了解更多？</h2><p>查看节点非体面关闭相关<a href=/zh-cn/docs/concepts/architecture/nodes/#non-graceful-node-shutdown>文档</a>。</p><h2 id=如何参与>如何参与？</h2><p>此功能特性由来已久。Yassine Tijani（<a href=https://github.com/yastij>yastij</a>）在两年多前启动了这个 KEP。
Xing Yang（<a href=https://github.com/xing-yang>xing-yang</a>）继续推动这项工作。
SIG-Storage、SIG-Node 和 API 评审人员们进行了多次讨论，以确定设计细节。
Ashutosh Kumar（<a href=https://github.com/sonasingh46>sonasingh46</a>）
完成了大部分实现并在 Kubernetes 1.24 版本中将其引进到 Alpha 阶段。</p><p>我们要感谢以下人员的评审：Tim Hockin（<a href=https://github.com/thockin>thockin</a>）对设计的指导；
来自 SIG-Storage 的 Jing Xu（<a href=https://github.com/jingxu97>jingxu97</a>）、
Hemant Kumar（<a href=https://github.com/gnufied>gnufied</a>）
和 Michelle Au（<a href=https://github.com/msau42>msau42</a>）的评论；
以及 Mrunal Patel（<a href=https://github.com/mrunalp>mrunalp</a>）、
David Porter（<a href=https://github.com/bobbypage>bobbypage</a>）、
Derek Carr（<a href=https://github.com/derekwaynecarr>derekwaynecarr</a>）
和 Danielle Endocrimes（<a href=https://github.com/endocrimes>endocrimes</a>）来自 SIG-Node 方面的评论。</p><p>在此过程中，有很多人帮助审查了设计和实现。我们要感谢所有为此做出贡献的人，
包括在过去几年中审核 <a href=https://github.com/kubernetes/enhancements/pull/1116>KEP</a> 和实现的大约 30 人。</p><p>此特性是 SIG-Storage 和 SIG-Node 之间的协作。
对于那些有兴趣参与 Kubernetes Storage 系统任何部分的设计和开发的人，
请加入 <a href=https://github.com/kubernetes/community/tree/master/sig-storage>Kubernetes 存储特别兴趣小组</a>（SIG-Storage）。
对于那些有兴趣参与支持 Pod 和主机资源之间受控交互的组件的设计和开发的人，
请加入 <a href=https://github.com/kubernetes/community/tree/master/sig-node>Kubernetes Node SIG</a>。</p><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/zh-cn/blog/2022/05/18/prevent-unauthorised-volume-mode-conversion-alpha/ aria-label="上一页 - Kubernetes 1.24: 防止未经授权的卷模式转换" class="btn btn-primary"><span class=mr-1>←</span>上一页</a></li><a href=/zh-cn/blog/2022/05/23/service-ip-dynamic-and-static-allocation/ aria-label="下一页 - Kubernetes 1.24: 避免为 Services 分配 IP 地址时发生冲突" class="btn btn-primary">下一页<span class=ml-1>→</span></a></li></ul></div></main><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-blog-meta ml-2 pb-1 pt-2 mb-4"><link rel=alternate type=application/rss+xml href=https://kubernetes.io/zh-cn/feed.xml title=Kubernetes><a class=widget-link href=https://kubernetes.io/zh-cn/feed.xml><div><i class="fas fa-rss fab-icon"></i><span class=widget-link-text>RSS Feed</span></div></a><a class=widget-link href=https://kubernetes.io/docs/contribute/new-content/blogs-case-studies/><div><i class="fa fa-edit fab-icon"></i> <span class=widget-link-text>Submit a Post</span></div></a><a class=widget-link href=https://twitter.com/kubernetesio><div><i class="fab fa-twitter-square fab-icon"></i><span class=widget-link-text>@Kubernetesio</span></div></a><a class=widget-link href=https://github.com/kubernetes/kubernetes><div><i class="fab fa-github-square fab-icon"></i> <span class=widget-link-text>on GitHub</span></div></a><a class=widget-link href=http://slack.k8s.io><div><i class="fab fa-slack fab-icon"></i><span class=widget-link-text>#kubernetes-users</span></div></a><a class=widget-link href=https://stackoverflow.com/questions/tagged/kubernetes><div><i class="fab fa-stack-overflow fab-icon"></i> <span class=widget-link-text>Overflow</span></div></a><a class=widget-link href=https://discuss.kubernetes.io><div><i class="fab fa-discourse fab-icon"></i><span class=widget-link-text> Forum</span></div></a><a class=widget-link href=https://kubernetes.io/docs/setup><div><i class="fa fa-download fab-icon"></i> <span class=widget-link-text>Kubernetes</span></div></a></div></div></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/zh-cn/docs/home/>主页</a>
<a class=text-white href=/zh-cn/blog/>博客</a>
<a class=text-white href=/zh-cn/training/>培训</a>
<a class=text-white href=/zh-cn/partners/>合作伙伴</a>
<a class=text-white href=/zh-cn/community/>社区</a>
<a class=text-white href=/zh-cn/case-studies/>案例分析</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 The Kubernetes 作者 | 文档发布基于 <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a> 授权许可</small><br><small class=text-white>Copyright &copy; 2023 Linux 基金会&reg;。保留所有权利。Linux 基金会已注册并使用商标。如需了解 Linux 基金会的商标列表，请访问<a href=https://www.linuxfoundation.org/trademark-usage class=light-text>商标使用页面</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>