<!doctype html><html lang=id class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/concepts/policy/><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/concepts/policy/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/concepts/policy/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/concepts/policy/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/concepts/policy/><link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/concepts/policy/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/concepts/policy/><link rel=alternate hreflang=pt-br href=https://kubernetes.io/pt-br/docs/concepts/policy/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/id/docs/concepts/policy/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Policies | Kubernetes</title><meta property="og:title" content="Policies"><meta property="og:description" content="Orkestrasi Kontainer dengan Skala Produksi"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/id/docs/concepts/policy/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Policies"><meta itemprop=description content="Orkestrasi Kontainer dengan Skala Produksi"><meta name=twitter:card content="summary"><meta name=twitter:title content="Policies"><meta name=twitter:description content="Orkestrasi Kontainer dengan Skala Produksi"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:url" content="https://kubernetes.io/id/docs/concepts/policy/"><meta property="og:title" content="Policies"><meta name=twitter:title content="Policies"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/id/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/id/docs/>Dokumentasi</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/id/community/>Komunitas</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/id/case-studies/>Studi kasus</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versi</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/id/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/id/docs/concepts/policy/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/id/docs/concepts/policy/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/id/docs/concepts/policy/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/id/docs/concepts/policy/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/id/docs/concepts/policy/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Bahasa Indonesia</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/concepts/policy/>English</a>
<a class=dropdown-item href=/zh-cn/docs/concepts/policy/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/concepts/policy/>한국어 (Korean)</a>
<a class=dropdown-item href=/ja/docs/concepts/policy/>日本語 (Japanese)</a>
<a class=dropdown-item href=/fr/docs/concepts/policy/>Français (French)</a>
<a class=dropdown-item href=/de/docs/concepts/policy/>Deutsch (German)</a>
<a class=dropdown-item href=/es/docs/concepts/policy/>Español (Spanish)</a>
<a class=dropdown-item href=/pt-br/docs/concepts/policy/>Português (Portuguese)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/id/docs/concepts/policy/>Return to the regular view of this page</a>.</p></div><h1 class=title>Policies</h1><ul><li>1: <a href=#pg-a935ff8c59eb116b43494255cc67f69a>LimitRange</a></li><li>2: <a href=#pg-94ddc6e901c30f256138db11d09f05a3>Resource Quota</a></li><li>3: <a href=#pg-59977cbac423e20437db079757cb03df>Pod Security Policy</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-a935ff8c59eb116b43494255cc67f69a>1 - LimitRange</h1><p>Secara bawaan, Container berjalan dengan <a href=/id/docs/user-guide/compute-resources>sumber daya komputasi</a> tanpa batas pada klaster Kubernetes.
Dengan ResourceQuota (kuota sumber daya), administrator klaster dapat membatasi konsumsi dan pembuatan sumber daya berbasis <a class=glossary-tooltip title='Sebuah abstraksi yang digunakan oleh Kubernetes untuk mendukung multipel klaster virtual pada klaster fisik yang sama.' data-toggle=tooltip data-placement=top href=/id/docs/concepts/overview/working-with-objects/namespaces target=_blank aria-label=Namespace>Namespace</a>.
Di dalam Namespace, Pod atau Container dapat mengkonsumsi CPU dan memori sesuai dengan yang ditentukan oleh ResourceQuota pada Namespace tersebut.
Ada kekhawatiran bahwa satu Pod atau Container dapat memonopoli semua sumber daya yang tersedia.
LimitRange (Batas Rentang) adalah kebijakan untuk membatasi alokasi sumber daya (bagi Pod atau Container) pada Namespace.</p><p>LimitRange memberikan batasan (<em>limit</em>) yang dapat:</p><ul><li>Menerapkan penggunaan sumber daya komputasi minimum dan maksimum untuk setiap Pod atau Container dalam Namespace.</li><li>Menerapkan permintaan (<em>request</em>) tempat penyimpanan minimum dan maksimum untuk setiap PersistentVolumeClaim dalam Namespace.</li><li>Menerapkan rasio antara permintaan dan batas untuk sumber daya dalam Namespace.</li><li>Menetapkan permintaan/batas bawaan untuk menghitung sumber daya dalam Namespace dan memasukkannya secara otomatis ke Container pada <em>runtime</em>.</li></ul><h2 id=mengaktifkan-limitrange>Mengaktifkan LimitRange</h2><p>Dukungan LimitRange diaktifkan secara bawaan untuk banyak distribusi Kubernetes. Hal ini
diaktifkan ketika tanda <code>--enable-admission-plugins=</code> pada apiserver memiliki <em>admission controller</em> <code>LimitRanger</code> sebagai
salah satu argumennya.</p><p>LimitRange diberlakukan pada Namespace tertentu ketika ada sebuah objek LimitRange pada Namespace tersebut.</p><p>Nama dari objek LimitRange harus merupakan sebuah <a href=/id/docs/concepts/overview/working-with-objects/names#nama>nama subdomain DNS</a>.</p><h3 id=gambaran-umum-limitrange>Gambaran Umum LimitRange</h3><ul><li>Administrator membuat sebuah LimitRange dalam sebuah Namespace.</li><li>Pengguna membuat sumber daya seperti Pod, Container, dan PersistentVolumeClaim pada namespace.</li><li><em>Admission controller</em> <code>LimitRanger</code> memberlakukan bawaan dan batas untuk semua Pod dan Container yang tidak menetapkan persyaratan sumber daya komputasi dan melacak penggunaannya untuk memastikan agar tidak melebihi minimum, maksimum dan rasio sumber daya yang ditentukan dalam LimitRange yang ada pada Namespace.</li><li>Apabila permintaan membuat atau memperbarui sumber daya (Pod, Container, PersistentVolumeClaim) yang melanggar batasan LimitRange, maka permintaan ke server API akan gagal dengan kode status HTTP <code>403 FORBIDDEN</code> dan sebuah pesan yang menjelaskan batasan yang telah dilanggar.</li><li>Apabila LimitRange diaktifkan pada Namespace untuk menghitung sumber daya seperti <code>cpu</code> dan <code>memory</code>, pengguna harus menentukan permintaan atau batasan untuk nilai-nilai itu. Jika tidak, sistem dapat menolak pembuatan Pod.</li><li>Pelanggaran terhadap LimitRange hanya terjadi pada tahap penerimaan Pod, bukan pada saat Pod sedang berjalan.</li></ul><p>Contoh dari kebijakan yang dapat dibuat dengan menggunakan LimitRange yaitu:</p><ul><li>Dalam klaster dua Node dengan kapasitas 8 GiB RAM dan 16 <em>core</em>, batasan Pod dalam Namespace meminta 100m untuk CPU dengan batas maksimum 500m untuk CPU dan minta 200Mi untuk Memori dengan batas maksimum 600Mi untuk Memori.</li><li>Tetapkan batas bawaan dan permintaan pada 150m untuk CPU dan permintaan standar memori pada 300Mi untuk Container yang dimulai tanpa cpu dan permintaan memori dalam spesifikasi mereka.</li></ul><p>Dalam kasus di mana batas total Namespace kurang dari jumlah batas Pod/Container,
mungkin akan ada perebutan untuk sumber daya. Dalam hal ini, maka Container atau Pod tidak akan dibuat.</p><p>Baik perebutan maupun perubahan pada LimitRange tidak akan mempengaruhi sumber daya yang sudah dibuat.</p><h2 id=selanjutnya>Selanjutnya</h2><p>Silahkan merujuk pada <a href=https://git.k8s.io/community/contributors/design-proposals/resource-management/admission_control_limit_range.md>Dokumen perancangan LimitRanger</a> untuk informasi lebih lanjut.</p><p>Untuk contoh tentang penggunaan batas, lihatlah:</p><ul><li><a href=/docs/tasks/administer-cluster/manage-resources/cpu-constraint-namespace/>Bagaimana cara mengonfigurasi batasan CPU minimum dan maksimum untuk setiap Namespace</a>.</li><li><a href=/docs/tasks/administer-cluster/manage-resources/memory-constraint-namespace/>Bagaimana cara mengonfigurasi batasan memori minimum dan maksimum untuk setiap Namespace</a>.</li><li><a href=/docs/tasks/administer-cluster/manage-resources/cpu-default-namespace/>Bagaimana cara mengonfigurasi permintaan dan batas bawaan CPU untuk setiap Namespace</a>.</li><li><a href=/docs/tasks/administer-cluster/manage-resources/memory-default-namespace/>Bagaimana cara mengonfigurasi permintaan dan batas bawaan memori untuk setiap Namespace</a>.</li><li><a href=/docs/tasks/administer-cluster/limit-storage-consumption/#limitrange-to-limit-requests-for-storage>Bagaimana cara mengonfigurasi konsumsi tempat penyimpanan minimum dan maksimum untuk setiap Namespace</a>.</li><li><a href=/docs/tasks/administer-cluster/quota-memory-cpu-namespace/>Contoh terperinci tentang mengonfigurasi kuota untuk setiap Namespace</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-94ddc6e901c30f256138db11d09f05a3>2 - Resource Quota</h1><p>Saat beberapa pengguna atau tim berbagi sebuah klaster dengan jumlah Node yang tetap,
ada satu hal yang perlu diperhatikan yaitu suatu tim dapat menggunakan sumber daya
lebih dari jatah yang mereka perlukan.</p><p><em>Resource Quota</em> (kuota sumber daya) adalah sebuah alat yang dapat digunakan oleh
administrator untuk mengatasi hal ini.</p><p>Sebuah Resource Quota, didefinisikan oleh objek API <code>ResourceQuota</code>, menyediakan batasan-batasan
yang membatasi konsumsi gabungan sumber daya komputasi untuk tiap Namespace. Resource Quota dapat
membatasi jumlah objek yang dapat dibuat dalam sebuah Namespace berdasarkan tipenya, maupun jumlah
seluruh sumber daya komputasi yang dapat dipakai oleh sumber daya API (misalnya Pod) di Namespace
tersebut.</p><p>Resource Quota bekerja sebagai berikut:</p><ul><li>Tim-tim berbeda bekerja pada Namespace yang berbeda pula. Sekarang hal ini belum diwajibkan,
tetapi dukungan untuk mewajibkannya melalui ACL sedang direncanakan.</li><li>Administrator membuat sebuah <code>ResourceQuota</code> untuk setiap Namespace.</li><li>Para pengguna membuat sumber daya (Pod, Service, dll.) di dalam Namespace tersebut, kemudian
sistem kuota memantau penggunaan untuk memastikan bahwa penggunaannya tidak melebihi batas
sumber daya yang ditentukan di <code>ResourceQuota</code>.</li><li>Jika pembuatan atau pembaruan sebuah sumber daya melanggar sebuah batasan kuota, maka permintaan
tersebut akan gagal dengan kode status <code>403 FORBIDDEN</code> dengan sebuah pesan yang menjelaskan batasan
yang akan dilanggar.</li><li>Jika kuota diaktifkan di sebuah Namespace untuk sumber daya komputasi seperti <code>cpu</code> dan <code>memory</code>,
pengguna-pengguna harus menentukan <code>requests</code> atau <code>limits</code> untuk sumber daya tersebut; atau sistem
kuota akan menolak pembuatan Pod tersebut. Petunjuk: Gunakan Admission Controller <code>LimitRanger</code> untuk
memaksa nilai-nilai bawaan untuk Pod-Pod yang tidak menentukan kebutuhan sumber daya komputasi.
Lihat <a href=/docs/tasks/administer-cluster/quota-memory-cpu-namespace/>petunjuknya</a> untuk contoh bagaimana
cara menghindari masalah ini.</li></ul><p>Contoh-contoh kebijakan yang dapat dibuat menggunakan Namespace dan kuota adalah:</p><ul><li>Dalam sebuah klaster dengan kapasitas RAM 32 GiB, dan CPU 16 <em>core</em>, misalkan tim A menggunakan 20GiB
dan 10 <em>core</em>, dan tim B menggunakan 10GiB dan 4 <em>core</em>, dan menyimpan 2GiB dan 2 <em>core</em> untuk cadangan
penggunaan di masa depan.</li><li>Batasi Namespace "testing" dengan batas 1 <em>core</em> dan RAM 1GiB. Biarkan Namespace "production" menggunakan
berapapun jumlah yang diinginkan.</li></ul><p>Pada kasus di mana total kapasitas klaster lebih sedikit dari jumlah seluruh kuota di seluruh Namespace,
dapat terjadi perebutan sumber daya komputasi. Masalah ini akan ditangani dengan cara siapa-cepat-dia-dapat.</p><p>Perebutan sumber daya komputasi maupun perubahan kuota tidak akan memengaruhi sumber daya yang sudah dibuat
sebelumnya.</p><h2 id=mengaktifkan-resource-quota>Mengaktifkan Resource Quota</h2><p>Dukungan untuk Resource Quota diaktifkan secara bawaan pada banyak distribusi Kubernetes. Resource Quota
diaktifkan saat <em>flag</em> <code>--enable-admission-plugins=</code> pada apiserver memiliki <code>ResourceQuota</code> sebagai
salah satu nilainya.</p><p>Sebuah Resource Quota akan dipaksakan pada sebuah Namespace tertentu saat ada sebuah objek <code>ResourceQuota</code>
di dalam Namespace tersebut.</p><h2 id=resource-quota-komputasi>Resource Quota Komputasi</h2><p>Kamu dapat membatasi jumlah total <a href=/docs/user-guide/compute-resources>sumber daya komputasi</a> yang dapat
diminta di dalam sebuah Namespace.</p><p>Berikut jenis-jenis sumber daya yang didukung:</p><table><thead><tr><th>Nama Sumber Daya</th><th>Deskripsi</th></tr></thead><tbody><tr><td><code>limits.cpu</code></td><td>Pada seluruh Pod yang berada pada kondisi non-terminal, jumlah <code>limits</code> CPU tidak dapat melebihi nilai ini.</td></tr><tr><td><code>limits.memory</code></td><td>Pada seluruh Pod yang berada pada kondisi non-terminal, jumlah <code>limits</code> memori tidak dapat melebihi nilai ini.</td></tr><tr><td><code>limits.cpu</code></td><td>Pada seluruh Pod yang berada pada kondisi non-terminal, jumlah <code>requests</code> CPU tidak dapat melebihi nilai ini.</td></tr><tr><td><code>limits.memory</code></td><td>Pada seluruh Pod yang berada pada kondisi non-terminal, jumlah <code>requests</code> memori tidak dapat melebihi nilai ini.</td></tr></tbody></table><h3 id=resource-quota-untuk-sumber-daya-yang-diperluas>Resource Quota untuk sumber daya yang diperluas</h3><p>Sebagai tambahan untuk sumber daya yang disebutkan di atas, pada rilis 1.10, dukungan kuota untuk
<a href=/id/docs/concepts/configuration/manage-compute-resources-container/#extended-resources>sumber daya yang diperluas</a> ditambahkan.</p><p>Karena <em>overcommit</em> tidak diperbolehkan untuk sumber daya yang diperluas, tidak masuk akal untuk menentukan
keduanya; <code>requests</code> dan <code>limits</code> untuk sumber daya yang diperluas yang sama pada sebuah kuota. Jadi, untuk
sumber daya yang diperluas, hanya kuota dengan prefiks <code>requests.</code> saja yang diperbolehkan untuk sekarang.</p><p>Mari kita ambil contoh sumber daya GPU. Jika nama sumber dayanya adalah <code>nvidia.com/gpu</code>, dan kamu ingin
membatasi jumlah total GPU yang diminta pada sebuah Namespace menjadi 4, kamu dapat menentukan sebuah kuota
sebagai berikut:</p><ul><li><code>requests.nvidia.com/gpu: 4</code></li></ul><p>Lihat <a href=#melihat-dan-menyetel-kuota>Melihat dan Menyetel Kuota</a> untuk informasi lebih lanjut.</p><h2 id=resource-quota-untuk-penyimpanan>Resource Quota untuk penyimpanan</h2><p>Kamu dapat membatasi jumlah total <a href=/id/docs/concepts/storage/persistent-volumes/>sumber daya penyimpanan</a> yang dapat
diminta pada sebuah Namespace.</p><p>Sebagai tambahan, kamu dapat membatasi penggunaan sumber daya penyimpanan berdasarkan <em>storage class</em>
sumber daya penyimpanan tersebut.</p><table><thead><tr><th>Nama Sumber Daya</th><th>Deskripsi</th></tr></thead><tbody><tr><td><code>requests.storage</code></td><td>Pada seluruh Persistent Volume Claim, jumlah <code>requests</code> penyimpanan tidak dapat melebihi nilai ini.</td></tr><tr><td><code>persistentvolumeclaims</code></td><td>Jumlah kuantitas <a href=/id/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims>Persistent Volume Claim</a> yang dapat ada di dalam sebuah Namespace.</td></tr><tr><td><code>&lt;storage-class-name>.storageclass.storage.k8s.io/requests.storage</code></td><td>Pada seluruh Persistent Volume Claim yang dikaitkan dengan sebuah nama <em>storage-class</em> (melalui kolom <code>storageClassName</code>), jumlah permintaan penyimpanan tidak dapat melebihi nilai ini.</td></tr><tr><td><code>&lt;storage-class-name>.storageclass.storage.k8s.io/persistentvolumeclaims</code></td><td>Pada seluruh Persistent Volume Claim yang dikaitkan dengan sebuah nama <em>storage-class</em> (melalui kolom <code>storageClassName</code>), jumlah kuantitas <a href=/id/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims>Persistent Volume Claim</a> yang dapat ada di dalam sebuah Namespace.</td></tr></tbody></table><p>Sebagai contoh, jika sebuah operator ingin membatasi penyimpanan dengan Storage Class <code>gold</code> yang berbeda dengan Storage Class <code>bronze</code>, maka operator tersebut dapat menentukan kuota sebagai berikut:</p><ul><li><code>gold.storageclass.storage.k8s.io/requests.storage: 500Gi</code></li><li><code>bronze.storageclass.storage.k8s.io/requests.storage: 100Gi</code></li></ul><p>Pada rilis 1.8, dukungan kuota untuk penyimpanan lokal sementara (<em>local ephemeral storage</em>) ditambahkan sebagai
sebuah fitur <em>alpha</em>:</p><table><thead><tr><th>Nama Sumber Daya</th><th>Deskripsi</th></tr></thead><tbody><tr><td><code>requests.ephemeral-storage</code></td><td>Pada seluruh Pod di sebuah Namespace, jumlah <code>requests</code> penyimpanan lokal sementara tidak dapat melebihi nilai ini.</td></tr><tr><td><code>limits.ephemeral-storage</code></td><td>Pada seluruh Pod di sebuah Namespace, jumlah <code>limits</code> penyimpanan lokal sementara tidak dapat melebihi nilai ini.</td></tr></tbody></table><h2 id=kuota-kuantitas-objek>Kuota Kuantitas Objek</h2><p>Rilis 1.9 menambahkan dukungan untuk membatasi semua jenis sumber daya standar yang berada pada sebuah Namespace dengan sintaksis sebagai berikut:</p><ul><li><code>count/&lt;sumber-daya>.&lt;grup></code></li></ul><p>Berikut contoh-contoh sumber daya yang dapat ditentukan pengguna pada kuota kuantitas objek:</p><ul><li><code>count/persistentvolumeclaims</code></li><li><code>count/services</code></li><li><code>count/secrets</code></li><li><code>count/configmaps</code></li><li><code>count/replicationcontrollers</code></li><li><code>count/deployments.apps</code></li><li><code>count/replicasets.apps</code></li><li><code>count/statefulsets.apps</code></li><li><code>count/jobs.batch</code></li><li><code>count/cronjobs.batch</code></li><li><code>count/deployments.extensions</code></li></ul><p>Rilis 1.15 menambahkan dukungan untuk sumber daya <em>custom</em> menggunakan sintaksis yang sama.
Contohnya, untuk membuat kuota pada sumber daya <em>custom</em> <code>widgets</code> pada grup API <code>example.com</code>, gunakan
<code>count/widgets.example.com</code>.</p><p>Saat menggunakan Resource Quota <code>count/*</code>, sebuah objek akan menggunakan kuotanya jika ia berada pada penyimpanan Apiserver.
Tipe-tipe kuota ini berguna untuk menjaga dari kehabisan sumber daya penyimpanan. Misalnya, kamu mungkin
ingin membatasi kuantitas objek Secret pada sebuah Apiserver karena ukuran mereka yang besar. Terlalu banyak
Secret pada sebuah klaster bahkan dapat membuat Server dan Controller tidak dapat dijalankan! Kamu dapat membatasi
jumlah Job untuk menjaga dari CronJob yang salah dikonfigurasi sehingga membuat terlalu banyak Job pada sebuah
Namespace yang mengakibatkan <em>denial of service</em>.</p><p>Sebelum rilis 1.9, kita tidak dapat melakukan pembatasan kuantitas objek generik pada kumpulan sumber daya yang terbatas.
Sebagai tambahan, kita dapat membatasi lebih lanjut sumber daya tertentu dengan kuota berdasarkan jenis mereka.</p><p>Berikut jenis-jenis yang telah didukung:</p><table><thead><tr><th>Nama Sumber Daya</th><th>Deskripsi</th></tr></thead><tbody><tr><td><code>configmaps</code></td><td>Jumlah total ConfigMap yang dapat berada pada suatu Namespace.</td></tr><tr><td><code>persistentvolumeclaims</code></td><td>Jumlah total PersistentVolumeClaim<a href=/id/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims>persistent volume claims</a> yang dapat berada pada suatu Namespace.</td></tr><tr><td><code>pods</code></td><td>Jumlah total Pod yang berada pada kondisi non-terminal yang dapat berada pada suatu Namespace. Sebuah Pod berada kondisi terminal yaitu jika <code>.status.phase in (Failed, Succeded)</code> adalah <code>true</code>.</td></tr><tr><td><code>replicationcontrollers</code></td><td>Jumlah total ReplicationController yang dapat berada pada suatu Namespace.</td></tr><tr><td><code>resourcequotas</code></td><td>Jumlah total <a href=/docs/reference/access-authn-authz/admission-controllers/#resourcequota>ResourceQuota</a> yang dapat berada pada suatu Namespace.</td></tr><tr><td><code>services</code></td><td>Jumlah total Service yang dapat berada pada suatu Namespace.</td></tr><tr><td><code>services.loadbalancers</code></td><td>Jumlah total Service dengan tipe LoadBalancer yang dapat berada pada suatu Namespace.</td></tr><tr><td><code>services.nodeports</code></td><td>Jumlah total Service dengan tipe NodePort yang dapat berada pada suatu Namespace.</td></tr><tr><td><code>secrets</code></td><td>Jumlah total Secret yang dapat berada pada suatu Namespace.</td></tr></tbody></table><p>Sebagai contoh, <code>pods</code> membatasi kuantitas dan memaksa kuantitas maksimum <code>pods</code> yang
berada pada kondisi non-terminal yang dibuat pada sebuah Namespace. Kamu mungkin ingin
menyetel kuota <code>pods</code> pada sebuah Namespace untuk menghindari kasus di mana pengguna membuat
banyak Pod kecil dan menghabiskan persediaan alamat IP Pod pada klaster.</p><h2 id=lingkup-kuota>Lingkup Kuota</h2><p>Setiap kuota dapat memiliki kumpulan lingkup yang dikaitkan. Sebuah kuota hanya akan mengukur penggunaan sebuah
sumber daya jika sumber daya tersebut cocok dengan irisan dari lingkup-lingkup yang ditentukan.</p><p>Saat sebuah lingkup ditambahkan kepada kuota, lingkup itu akan membatasi kuantitas sumber daya yang didukung menjadi yang berkaitan dengan lingkup tersebut.
Sumber daya yang ditentukan pada kuota di luar kumpulan yang diizinkan akan menghasilkan kesalahan validasi.</p><table><thead><tr><th>Lingkup</th><th>Deskripsi</th></tr></thead><tbody><tr><td><code>Terminating</code></td><td>Mencocokkan dengan Pod-Pod yang memiliki <code>.spec.activeDeadlineSeconds >= 0</code></td></tr><tr><td><code>NotTerminating</code></td><td>Mencocokkan dengan Pod-Pod yang memiliki <code>.spec.activeDeadlineSeconds is nil</code></td></tr><tr><td><code>BestEffort</code></td><td>Mencocokkan dengan Pod-Pod yang memiliki <em>quality of service</em> bertipe <em>best effort</em>.</td></tr><tr><td><code>NotBestEffort</code></td><td>Mencocokkan dengan Pod-Pod yang tidak memiliki <em>quality of service</em> bertipe <em>best effort</em>.</td></tr></tbody></table><p>Lingkup <code>BestEffort</code> membatasi sebuah kuota untuk memantau sumber daya berikut: <code>pods</code></p><p>Lingkup <code>Terminating</code>, <code>NotTerminating</code>, dan <code>NotBestEffort</code> membatasi sebuah kuota untuk memantau sumber daya berikut:</p><ul><li><code>cpu</code></li><li><code>limits.cpu</code></li><li><code>limits.memory</code></li><li><code>memory</code></li><li><code>pods</code></li><li><code>requests.cpu</code></li><li><code>requests.memory</code></li></ul><h3 id=resource-quota-per-priorityclass>Resource Quota Per PriorityClass</h3><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes 1.12 [beta]</code></div><p>Pod-Pod dapat dibuat dengan sebuah <a href=/id/docs/concepts/configuration/pod-priority-preemption/#pod-priority>Priority (prioritas)</a> tertentu.
Kamu dapat mengontrol konsumsi sumber daya sistem sebuah Pod berdasarkan Priority Pod tersebut, menggunakan
kolom <code>scopeSelector</code> pada spesifikasi kuota tersebut.</p><p>Sebuah kuota dicocokkan dan digunakan hanya jika <code>scopeSelector</code> pada spesifikasi kuota tersebut memilih Pod tersebut.</p><p>Contoh ini membuat sebuah objek kuota dan mencocokkannya dengan Pod-Pod pada Priority tertentu. Contoh tersebut
bekerja sebagai berikut:</p><ul><li>Pod-Pod di dalam klaster memiliki satu dari tiga Priority Class, "low", "medium", "high".</li><li>Satu objek kuota dibuat untuk setiap Priority.</li></ul><p>Simpan YAML berikut ke sebuah berkas bernama <code>quota.yml</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>List<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>items</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ResourceQuota<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>pods-high<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>hard</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>cpu</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;1000&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>memory</span>:<span style=color:#bbb> </span>200Gi<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>pods</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scopeSelector</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>operator </span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>scopeName</span>:<span style=color:#bbb> </span>PriorityClass<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;high&#34;</span>]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ResourceQuota<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>pods-medium<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>hard</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>cpu</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>memory</span>:<span style=color:#bbb> </span>20Gi<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>pods</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scopeSelector</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>operator </span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>scopeName</span>:<span style=color:#bbb> </span>PriorityClass<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;medium&#34;</span>]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ResourceQuota<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>pods-low<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>hard</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>cpu</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;5&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>memory</span>:<span style=color:#bbb> </span>10Gi<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>pods</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scopeSelector</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>operator </span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>scopeName</span>:<span style=color:#bbb> </span>PriorityClass<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;low&#34;</span>]<span style=color:#bbb>
</span></span></span></code></pre></div><p>Terapkan YAML tersebut dengan <code>kubectl create</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create -f ./quota.yml
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>resourcequota/pods-high created
</span></span><span style=display:flex><span>resourcequota/pods-medium created
</span></span><span style=display:flex><span>resourcequota/pods-low created
</span></span></code></pre></div><p>Pastikan bahwa kuota <code>Used</code> adalah <code>0</code> dengan <code>kubectl describe quota</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl describe quota
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Name:       pods-high
</span></span><span style=display:flex><span>Namespace:  default
</span></span><span style=display:flex><span>Resource    Used  Hard
</span></span><span style=display:flex><span>--------    ----  ----
</span></span><span style=display:flex><span>cpu         <span style=color:#666>0</span>     1k
</span></span><span style=display:flex><span>memory      <span style=color:#666>0</span>     200Gi
</span></span><span style=display:flex><span>pods        <span style=color:#666>0</span>     <span style=color:#666>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Name:       pods-low
</span></span><span style=display:flex><span>Namespace:  default
</span></span><span style=display:flex><span>Resource    Used  Hard
</span></span><span style=display:flex><span>--------    ----  ----
</span></span><span style=display:flex><span>cpu         <span style=color:#666>0</span>     <span style=color:#666>5</span>
</span></span><span style=display:flex><span>memory      <span style=color:#666>0</span>     10Gi
</span></span><span style=display:flex><span>pods        <span style=color:#666>0</span>     <span style=color:#666>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Name:       pods-medium
</span></span><span style=display:flex><span>Namespace:  default
</span></span><span style=display:flex><span>Resource    Used  Hard
</span></span><span style=display:flex><span>--------    ----  ----
</span></span><span style=display:flex><span>cpu         <span style=color:#666>0</span>     <span style=color:#666>10</span>
</span></span><span style=display:flex><span>memory      <span style=color:#666>0</span>     20Gi
</span></span><span style=display:flex><span>pods        <span style=color:#666>0</span>     <span style=color:#666>10</span>
</span></span></code></pre></div><p>Buat sebuah Pod dengan Priority "high". Simpan YAML berikut ke sebuah
berkas bernama <code>high-priority-pod.yml</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Pod<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>high-priority<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>containers</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>high-priority<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>image</span>:<span style=color:#bbb> </span>ubuntu<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>command</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;/bin/sh&#34;</span>]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>args</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;-c&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;while true; do echo hello; sleep 10;done&#34;</span>]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>requests</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>memory</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10Gi&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>cpu</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;500m&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>limits</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>memory</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10Gi&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>cpu</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;500m&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>priorityClassName</span>:<span style=color:#bbb> </span>high<span style=color:#bbb>
</span></span></span></code></pre></div><p>Terapkan dengan <code>kubectl create</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create -f ./high-priority-pod.yml
</span></span></code></pre></div><p>Pastikan bahwa status "Used" untuk kuota dengan Priority "high", <code>pods-high</code>, telah berubah
dan dua kuota lainnya tidak berubah.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl describe quota
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Name:       pods-high
</span></span><span style=display:flex><span>Namespace:  default
</span></span><span style=display:flex><span>Resource    Used  Hard
</span></span><span style=display:flex><span>--------    ----  ----
</span></span><span style=display:flex><span>cpu         500m  1k
</span></span><span style=display:flex><span>memory      10Gi  200Gi
</span></span><span style=display:flex><span>pods        <span style=color:#666>1</span>     <span style=color:#666>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Name:       pods-low
</span></span><span style=display:flex><span>Namespace:  default
</span></span><span style=display:flex><span>Resource    Used  Hard
</span></span><span style=display:flex><span>--------    ----  ----
</span></span><span style=display:flex><span>cpu         <span style=color:#666>0</span>     <span style=color:#666>5</span>
</span></span><span style=display:flex><span>memory      <span style=color:#666>0</span>     10Gi
</span></span><span style=display:flex><span>pods        <span style=color:#666>0</span>     <span style=color:#666>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Name:       pods-medium
</span></span><span style=display:flex><span>Namespace:  default
</span></span><span style=display:flex><span>Resource    Used  Hard
</span></span><span style=display:flex><span>--------    ----  ----
</span></span><span style=display:flex><span>cpu         <span style=color:#666>0</span>     <span style=color:#666>10</span>
</span></span><span style=display:flex><span>memory      <span style=color:#666>0</span>     20Gi
</span></span><span style=display:flex><span>pods        <span style=color:#666>0</span>     <span style=color:#666>10</span>
</span></span></code></pre></div><p><code>scopeSelector</code> mendukung nilai-nilai berikut pada kolom <code>operator</code>:</p><ul><li><code>In</code></li><li><code>NotIn</code></li><li><code>Exist</code></li><li><code>DoesNotExist</code></li></ul><h2 id=request-vs-limit><em>Request</em> vs Limit</h2><p>Saat mengalokasikan sumber daya komputasi, setiap Container dapat menentukan sebuah nilai <em>request</em> (permintaan) dan limit untuk CPU atau memori.
Kuota tersebut dapat dikonfigurasi untuk membatasi nilai salah satunya.</p><p>Jika kuota tersebut memiliki sebuah nilai yang ditentukan untuk <code>requests.cpu</code> atau <code>requests.memory</code>, maka kuota
tersebut mengharuskan setiap Container yang akan dibuat untuk menentukan request eksplisit untuk sumber daya tersebut.
Jika kuota tersebut memiliki sebuah nilai yang ditentukan untuk <code>limits.cpu</code> atau <code>limits.memory</code>, maka kuota tersebut
mengharuskan setiap Container yang akan dibuat untuk menentukan limit eksplisit untuk sumber daya tersebut.</p><h2 id=melihat-dan-menyetel-kuota>Melihat dan Menyetel kuota</h2><p>Kubectl mendukung membuat, membarui, dan melihat kuota:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create namespace myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cat <span style=color:#b44>&lt;&lt;EOF &gt; compute-resources.yaml
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: ResourceQuota
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name: compute-resources
</span></span></span><span style=display:flex><span><span style=color:#b44>spec:
</span></span></span><span style=display:flex><span><span style=color:#b44>  hard:
</span></span></span><span style=display:flex><span><span style=color:#b44>    requests.cpu: &#34;1&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    requests.memory: 1Gi
</span></span></span><span style=display:flex><span><span style=color:#b44>    limits.cpu: &#34;2&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    limits.memory: 2Gi
</span></span></span><span style=display:flex><span><span style=color:#b44>    requests.nvidia.com/gpu: 4
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create -f ./compute-resources.yaml --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cat <span style=color:#b44>&lt;&lt;EOF &gt; object-counts.yaml
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: ResourceQuota
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name: object-counts
</span></span></span><span style=display:flex><span><span style=color:#b44>spec:
</span></span></span><span style=display:flex><span><span style=color:#b44>  hard:
</span></span></span><span style=display:flex><span><span style=color:#b44>    configmaps: &#34;10&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    persistentvolumeclaims: &#34;4&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    pods: &#34;4&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    replicationcontrollers: &#34;20&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    secrets: &#34;10&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    services: &#34;10&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>    services.loadbalancers: &#34;2&#34;
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create -f ./object-counts.yaml --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get quota --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>NAME                    AGE
</span></span><span style=display:flex><span>compute-resources       30s
</span></span><span style=display:flex><span>object-counts           32s
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl describe quota compute-resources --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Name:                    compute-resources
</span></span><span style=display:flex><span>Namespace:               myspace
</span></span><span style=display:flex><span>Resource                 Used  Hard
</span></span><span style=display:flex><span>--------                 ----  ----
</span></span><span style=display:flex><span>limits.cpu               <span style=color:#666>0</span>     <span style=color:#666>2</span>
</span></span><span style=display:flex><span>limits.memory            <span style=color:#666>0</span>     2Gi
</span></span><span style=display:flex><span>requests.cpu             <span style=color:#666>0</span>     <span style=color:#666>1</span>
</span></span><span style=display:flex><span>requests.memory          <span style=color:#666>0</span>     1Gi
</span></span><span style=display:flex><span>requests.nvidia.com/gpu  <span style=color:#666>0</span>     <span style=color:#666>4</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl describe quota object-counts --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Name:                   object-counts
</span></span><span style=display:flex><span>Namespace:              myspace
</span></span><span style=display:flex><span>Resource                Used    Hard
</span></span><span style=display:flex><span>--------                ----    ----
</span></span><span style=display:flex><span>configmaps              <span style=color:#666>0</span>       <span style=color:#666>10</span>
</span></span><span style=display:flex><span>persistentvolumeclaims  <span style=color:#666>0</span>       <span style=color:#666>4</span>
</span></span><span style=display:flex><span>pods                    <span style=color:#666>0</span>       <span style=color:#666>4</span>
</span></span><span style=display:flex><span>replicationcontrollers  <span style=color:#666>0</span>       <span style=color:#666>20</span>
</span></span><span style=display:flex><span>secrets                 <span style=color:#666>1</span>       <span style=color:#666>10</span>
</span></span><span style=display:flex><span>services                <span style=color:#666>0</span>       <span style=color:#666>10</span>
</span></span><span style=display:flex><span>services.loadbalancers  <span style=color:#666>0</span>       <span style=color:#666>2</span>
</span></span></code></pre></div><p>Kubectl juga mendukung kuota kuantitas objek untuk semua sumber daya standar yang berada pada Namespace
menggunakan sintaksis <code>count/&lt;resource>.&lt;group></code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create namespace myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create quota <span style=color:#a2f>test</span> --hard<span style=color:#666>=</span>count/deployments.extensions<span style=color:#666>=</span>2,count/replicasets.extensions<span style=color:#666>=</span>4,count/pods<span style=color:#666>=</span>3,count/secrets<span style=color:#666>=</span><span style=color:#666>4</span> --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl run nginx --image<span style=color:#666>=</span>nginx --replicas<span style=color:#666>=</span><span style=color:#666>2</span> --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl describe quota --namespace<span style=color:#666>=</span>myspace
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Name:                         <span style=color:#a2f>test</span>
</span></span><span style=display:flex><span>Namespace:                    myspace
</span></span><span style=display:flex><span>Resource                      Used  Hard
</span></span><span style=display:flex><span>--------                      ----  ----
</span></span><span style=display:flex><span>count/deployments.extensions  <span style=color:#666>1</span>     <span style=color:#666>2</span>
</span></span><span style=display:flex><span>count/pods                    <span style=color:#666>2</span>     <span style=color:#666>3</span>
</span></span><span style=display:flex><span>count/replicasets.extensions  <span style=color:#666>1</span>     <span style=color:#666>4</span>
</span></span><span style=display:flex><span>count/secrets                 <span style=color:#666>1</span>     <span style=color:#666>4</span>
</span></span></code></pre></div><h2 id=kuota-dan-kapasitas-klaster>Kuota dan Kapasitas Klaster</h2><p><code>ResourceQuota</code> tidak tergantung pada kapasitas klaster. <code>ResourceQuota</code> ditentukan dalam
satuan-satuan absolut. Jadi, jika kamu menambahkan Node ke klaster kamu, penambahan ini
<strong>bukan</strong> berarti secara otomatis memberikan setiap Namespace kemampuan untuk menggunakan
lebih banyak sumber daya.</p><p>Terkadang kebijakan yang lebih kompleks mungkin lebih diinginkan, seperti:</p><ul><li>Secara proporsional membagi sumber daya total klaster untuk beberapa tim.</li><li>Mengizinkan setiap tim untuk meningkatkan penggunaan sumber daya sesuai kebutuhan,
tetapi tetap memiliki batas yang cukup besar untuk menghindari kehabisan sumber daya.</li><li>Mendeteksi permintaan dari sebuah Namespace, menambah Node, kemudian menambah kuota.</li></ul><p>Kebijakan-kebijakan seperti itu dapat diterapkan dengan <code>ResourceQuota</code> sebagai dasarnya,
dengan membuat sebuah "pengontrol" yang memantau penggunaan kuota dan menyesuaikan batas
keras kuota untuk setiap Namespace berdasarkan sinyal-sinyal lainnya.</p><p>Perlu dicatat bahwa Resource Quota membagi agregat sumber daya klaster, tapi Resource Quota
tidak membuat batasan-batasan terhadap Node: Pod-Pod dari beberapa Namespace boleh berjalan
di Node yang sama.</p><h2 id=membatasi-konsumsi-priority-class-secara-bawaan>Membatasi konsumsi Priority Class secara bawaan</h2><p>Mungkin saja diinginkan untuk Pod-Pod pada kelas prioritas tertentu, misalnya "cluster-services", sebaiknya diizinkan pada sebuah Namespace, jika dan hanya jika terdapat sebuah objek kuota yang cocok.</p><p>Dengan mekanisme ini, operator-operator dapat membatasi penggunaan Priority Class dengan prioritas tinggi pada Namespace-Namespace tertentu saja dan tidak semua Namespace dapat menggunakan Priority Class tersebut secara bawaan.</p><p>Untuk memaksa aturan ini, <em>flag</em> kube-apiserver <code>--admission-control-config-file</code> sebaiknya digunakan untuk memberikan <em>path</em> menuju berkas konfigurasi berikut:</p><ul class="nav nav-tabs" id=example1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#example1-0 role=tab aria-controls=example1-0 aria-selected=true>apiserver.config.k8s.io/v1</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#example1-1 role=tab aria-controls=example1-1>apiserver.k8s.io/v1alpha1</a></li></ul><div class=tab-content id=example1><div id=example1-0 class="tab-pane show active" role=tabpanel aria-labelledby=example1-0><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;ResourceQuota&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ResourceQuotaConfiguration<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>limitedResources</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>resource</span>:<span style=color:#bbb> </span>pods<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>matchScopes</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>scopeName</span>:<span style=color:#bbb> </span>PriorityClass<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>operator</span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;cluster-services&#34;</span>]<span style=color:#bbb>
</span></span></span></code></pre></div></div><div id=example1-1 class=tab-pane role=tabpanel aria-labelledby=example1-1><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#080;font-style:italic># Kedaluwarsa pada v1.17 digantikan oleh apiserver.config.k8s.io/v1</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.k8s.io/v1alpha1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;ResourceQuota&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Kedaluwarsa pada v1.17 digantikan oleh apiserver.config.k8s.io/v1, ResourceQuotaConfiguration</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>resourcequota.admission.k8s.io/v1beta1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Configuration<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>limitedResources</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>resource</span>:<span style=color:#bbb> </span>pods<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>matchScopes</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>scopeName</span>:<span style=color:#bbb> </span>PriorityClass<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>operator</span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;cluster-services&#34;</span>]<span style=color:#bbb>
</span></span></span></code></pre></div></div></div><p>Sekarang, Pod-Pod "cluster-services" akan diizinkan hanya pada Namespace di mana ada sebuah objek kuota dengan sebuah <code>scopeSelector</code> yang cocok.</p><p>Contohnya:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scopeSelector</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>scopeName</span>:<span style=color:#bbb> </span>PriorityClass<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>operator</span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;cluster-services&#34;</span>]<span style=color:#bbb>
</span></span></span></code></pre></div><p>Lihat <a href=https://github.com/kubernetes/kubernetes/pull/36765>LimitedResources</a> dan <a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/scheduling/pod-priority-resourcequota.md>dokumen desain dukungan Quota untuk Priority Class</a> untuk informasi lebih lanjut.</p><h2 id=contoh>Contoh</h2><p>Lihat <a href=/docs/tasks/administer-cluster/quota-api-object/>contoh detail cara menggunakan sebuah Resource Quota</a>.</p><h2 id=selanjutnya>Selanjutnya</h2><p>Lihat <a href=https://git.k8s.io/community/contributors/design-proposals/resource-management/admission_control_resource_quota.md>dokumen desain ResourceQuota</a> untuk informasi lebih lanjut.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-59977cbac423e20437db079757cb03df>3 - Pod Security Policy</h1><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.25 [beta]</code></div><p>Pod Security Policies (kebijakan keamanan Pod) memungkinkan otorisasi secara detil dari pembuatan dan pembaruan Pod.</p><h2 id=apa-itu-pod-security-policy>Apa itu Pod Security Policy?</h2><p><em>Pod Security Policy</em> adalah sebuah sumber daya pada tingkat klaster yang mengatur aspek-aspek spesifikasi Pod yang sensitif terhadap keamanan. Objek-objek <code>PodSecurityPolicy</code> mendefinisikan sebuah kumpulan kondisi yang harus dijalankan oleh Pod untuk dapat diterima oleh sistem, dan juga sebagai nilai-nilai bawaan untuk kolom-kolom yang bersangkutan. Mereka memungkinkan administrator untuk mengatur hal-hal berikut:</p><table><thead><tr><th>Aspek yang diatur</th><th>Nama Kolom</th></tr></thead><tbody><tr><td>Menjalankan Container-container yang <em>privileged</em></td><td><a href=#privileged><code>privileged</code></a></td></tr><tr><td>Penggunaan <em>namespace-namespace</em> milik <em>host</em></td><td><a href=#host-namespaces><code>hostPID</code>, <code>hostIPC</code></a></td></tr><tr><td>Penggunaan jaringan dan <em>port</em> milik <em>host</em></td><td><a href=#host-namespaces><code>hostNetwork</code>, <code>hostPorts</code></a></td></tr><tr><td>Penggunaan jenis-jenis Volume</td><td><a href=#volumes-and-file-systems><code>volumes</code></a></td></tr><tr><td>Penggunaan <em>filesystem</em> milik <em>host</em></td><td><a href=#volumes-and-file-systems><code>allowedHostPaths</code></a></td></tr><tr><td>Daftar putih untuk <em>driver-driver</em> Flexvolume</td><td><a href=#flexvolume-drivers><code>allowedFlexVolumes</code></a></td></tr><tr><td>Mengalokasi FSGroup yang memiliki Volume milik Pod</td><td><a href=#volumes-and-file-systems><code>fsGroup</code></a></td></tr><tr><td>Mengharuskan penggunaan <em>read-only root filesystem</em></td><td><a href=#volumes-and-file-systems><code>readOnlyRootFilesystem</code></a></td></tr><tr><td>User dan Grop ID dari Container</td><td><a href=#users-and-groups><code>runAsUser</code>, <code>runAsGroup</code>, <code>supplementalGroups</code></a></td></tr><tr><td>Membatasi eskalasi ke kemampuan <em>root</em></td><td><a href=#privilege-escalation><code>allowPrivilegeEscalation</code>, <code>defaultAllowPrivilegeEscalation</code></a></td></tr><tr><td>Kemampuan-kemampuan Linux</td><td><a href=#capabilities><code>defaultAddCapabilities</code>, <code>requiredDropCapabilities</code>, <code>allowedCapabilities</code></a></td></tr><tr><td>Konteks SELinux dari Container ainer</td><td><a href=#selinux><code>seLinux</code></a></td></tr><tr><td>Jenis tambatan Proc yang diizinkan untuk Container</td><td><a href=#allowedprocmounttypes><code>allowedProcMountTypes</code></a></td></tr><tr><td>Profil AppArmor yang digunakan oleh Container</td><td><a href=#apparmor>annotations</a></td></tr><tr><td>Profil seccomp yang digubakan oleh Container</td><td><a href=#seccomp>annotations</a></td></tr><tr><td>Profil sysctl yang digunakan oleh Container</td><td><a href=#sysctl><code>forbiddenSysctls</code>,<code>allowedUnsafeSysctls</code></a></td></tr></tbody></table><h2 id=mengaktifkan-pod-security-policy>Mengaktifkan Pod Security Policy</h2><p>Pengaturan Pod Security Policy diimplementasi sebagai sebuah opsi (tapi direkomendasikan untuk digunakan) dari <a href=/docs/reference/access-authn-authz/admission-controllers/#podsecuritypolicy><em>admission controller</em></a>. PodSecurityPolicy dilaksanakan dengan <a href=/docs/reference/access-authn-authz/admission-controllers/#how-do-i-turn-on-an-admission-control-plug-in>mengaktifkan <em>admission controller</em>-nya</a>, tetapi melakukan hal ini tanpa mengizinkan kebijakan apapun <strong>akan menghalangi Pod apapun untuk dibuat</strong> di dalam klaster.</p><p>Sejak API dari Pod Security Policy (<code>policy/v1beta1/podsecuritypolicy</code>) diaktifkan secara independen dari <em>admission controller</em>, untuk klaster-klaster yang sudah ada direkomendasikan untuk menambahkan dan mengizinkan kebijakan yang bersangkutan sebelum mengaktifkan <em>admission controller</em> tersebut.</p><h2 id=mengizinkan-kebijakan>Mengizinkan Kebijakan</h2><p>Saat sebuah sumber daya PodSecurityPolicy dibuat, ia tidak melakukan apa-apa. Untuk menggunakannya, <a href=/id/docs/tasks/configure-pod-container/configure-service-account/>Service Account</a> dari pengguna yang memintanya atau target Pod-nya harus diizinkan terlebih dahulu untuk menggunakan kebijakan tersebut, dengan membolehkan kata kerja <code>use</code> terhadap kebijakan tersebut.</p><p>Kebanyakan Pod Kubernetes tidak dibuat secara langsung oleh pengguna. Sebagai gantinya, mereka biasanya dibuat secara tidak langsung sebagai bagian dari sebuah <a href=/id/docs/concepts/workloads/controllers/deployment/>Deployment</a>, <a href=/id/docs/concepts/workloads/controllers/replicaset/>ReplicaSet</a>, atau pengontrol yang sudah ditemplat lainnya melalui Controller Manager. Memberikan akses untuk pengontrol terhadap kebijakan tersebut akan mengizinkan akses untuk <em>semua</em> Pod yang dibuat oleh pengontrol tersebut, sehingga metode yang lebih baik untuk mengizinkan kebijakan adalah dengan memberikan akses pada Service Account milik Pod (lihat <a href=#run-another-pod>contohnya</a>).</p><h3 id=melalui-rbac>Melalui RBAC</h3><p><a href=/id/docs/reference/access-authn-authz/rbac/>RBAC</a> adalah mode otorisasi standar Kubernetes, dan dapat digunakan dengan mudah untuk mengotorisasi penggunaan kebijakan-kebijakan.</p><p>Pertama-tama, sebuah <code>Role</code> atau <code>ClusterRole</code> perlu memberikan akses pada kata kerja <code>use</code> terhadap kebijakan-kebijakan yang diinginkan. <code>rules</code> yang digunakan untuk memberikan akses tersebut terlihat seperti berikut:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>&lt;role name&gt;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#39;policy&#39;</span>]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#39;podsecuritypolicies&#39;</span>]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>     </span>[<span style=color:#b44>&#39;use&#39;</span>]<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- &lt;list of policies to authorize&gt;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Kemudian, <code>Role</code> atau <code>ClusterRole</code> tersebut diikat ke pengguna-pengguna yang diberikan otoritas.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>&lt;binding name&gt;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>&lt;role name&gt;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Mengotorisasi ServiceAccount spesifik</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ServiceAccount<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>&lt;authorized service account name&gt;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>&lt;authorized pod namespace&gt;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Mengotorisasi User spesifik (tidak direkomendasikan)</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>User<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>&lt;authorized user name&gt;<span style=color:#bbb>
</span></span></span></code></pre></div><p>Jika sebuah <code>RoleBinding</code> (bukan <code>ClusterRoleBinding</code>) digunakan, maka ia hanya akan memberi akses penggunaan untuk Pod-Pod yang dijalankan pada Namespace yang sama dengan <code>RoleBinding</code> tersebut. Hal ini dapat dipasangkan dengan grup sistem untuk memberi akses pada semua Pod yang berjalan di Namespace tersebut:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#080;font-style:italic># Mengotorisasi semua ServiceAccount di dalam sebuah Namespace</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:serviceaccounts<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Atau secara ekuivalen, semua pengguna yang telah terotentikasi pada sebuah Namespace</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:authenticated<span style=color:#bbb>
</span></span></span></code></pre></div><p>Untuk lebih banyak contoh pengikatan RBAC, lihat <a href=/id/docs/reference/access-authn-authz/rbac#role-binding-examples>Contoh Role Binding</a>.
Untuk contoh lengkap untuk mengotorisasi sebuah PodSecurityPolicy, lihat <a href=#contoh>di bawah</a>.</p><h3 id=mengatasi-masalah>Mengatasi Masalah</h3><ul><li><a href=/docs/admin/kube-controller-manager/>Controller Manager</a> harus dijalankan terhadap <a href=/docs/reference/access-authn-authz/controlling-access/>port API yang telah diamankan</a>, dan tidak boleh memiliki izin <em>superuser</em>, atau semua permintaan akan melewati modul-modul otentikasi dan otorisasi, semua objek PodSecurityPolicy tidak akan diizinkan, dan semua pengguna dapat membuat Container-container yang <em>privileged</em>. Untuk lebih detil tentang mengkonfigurasi otorisasi Controller Manager, lihat <a href=/id/docs/reference/access-authn-authz/rbac/#controller-roles>Controller Roles</a>.</li></ul><h2 id=urutan-kebijakan>Urutan Kebijakan</h2><p>Sebagai tambahan terhadap membatasi pembuatan dan pembaruan Pod, Pod Security Policy dapat digunakan juga untuk menyediakan nilai-nilai bawaan untuk banyak kolom yang dikontrol olehnya. Saat banyak kebijakan tersedia, pengatur Pod Security Policy memilih kebijakan-kebijakan berdasarkan kriteria berikut:</p><ol><li>PodSecurityPolicy yang mengizinkan Pod apa adanya, tanpa mengganti nilai-nilai bawaan atau memutasi Pod tersebut, akan lebih dipilih. Urutan PodSecurityPolicy yang tidak mengubah Pod ini tidak dipermasalahkan.</li><li>Jika Pod-nya harus diberi nilai bawaan atau dimutasi, maka PodSecurityPolicy pertama (diurutkan berdasarkan namanya) untuk mengizinkan Pod tersebut akan dipilih.</li></ol><div class="alert alert-info note callout" role=alert><strong>Catatan:</strong> Saat operasi pembaruan (saat ini mutasi terhadap spesifikasi Pod tidak diizinkan) hanya PodSecurityPolicy yang tidak mengubah Pod yang akan digunakan untuk melakukan validasi terhadap Pod tersebut.</div><h2 id=contoh>Contoh</h2><p><em>Contoh ini mengasumsikan kamu telah memiliki klaster yang berjalan dengan <em>admission controller</em> PodSecurityPolicy diaktifkan, dan kamu mempunyai akses admin.</em></p><h3 id=persiapan>Persiapan</h3><p>Mempersiapkan sebuah Namespace dan ServiceAccount untuk digunakan pada contoh ini. Kita akan menggunakan ServiceAccount ini untuk meniru sebuah pengguna bukan admin.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl create namespace psp-example
</span></span><span style=display:flex><span>kubectl create serviceaccount -n psp-example fake-user
</span></span><span style=display:flex><span>kubectl create rolebinding -n psp-example fake-editor --clusterrole<span style=color:#666>=</span>edit --serviceaccount<span style=color:#666>=</span>psp-example:fake-user
</span></span></code></pre></div><p>Untuk memperjelas kita bertindak sebagai pengguna yang mana dan mempersingkat ketikan, kita akan membuat 2 alias:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>alias</span> kubectl-admin<span style=color:#666>=</span><span style=color:#b44>&#39;kubectl -n psp-example&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a2f>alias</span> kubectl-user<span style=color:#666>=</span><span style=color:#b44>&#39;kubectl --as=system:serviceaccount:psp-example:fake-user -n psp-example&#39;</span>
</span></span></code></pre></div><h3 id=membuat-sebuah-kebijakan-dan-sebuah-pod>Membuat sebuah kebijakan dan sebuah Pod</h3><p>Beri definisi objek contoh PodSecurityPolicy dalam sebuah berkas. Ini adalah kebijakan yang mencegah pembuatan Pod-Pod yang <em>privileged</em>.</p><div class=highlight><div class=copy-code-icon style=text-align:right><a href=https://raw.githubusercontent.com/kubernetes/website/main/content/id/examples/policy/example-psp.yaml download=policy/example-psp.yaml><code>policy/example-psp.yaml</code></a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick='copyCode("policy-example-psp-yaml")' title="Copy policy/example-psp.yaml to clipboard"></img></div><div class=includecode id=policy-example-psp-yaml><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>policy/v1beta1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>PodSecurityPolicy<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>example<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>privileged</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Jangan izinkan Pod-Pod yang _privileged_!</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Sisanya isi kolom-kolom yang dibutuhkan</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>seLinux</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span>RunAsAny<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>supplementalGroups</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span>RunAsAny<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>runAsUser</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span>RunAsAny<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>fsGroup</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span>RunAsAny<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>volumes</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:#b44>&#39;*&#39;</span><span style=color:#bbb>
</span></span></span></code></pre></div></div></div><p>Dan buatlah PodSecurityPolicy tersebut dengan <code>kubectl</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-admin create -f example-psp.yaml
</span></span></code></pre></div><p>Sekarang, sebagai pengguna bukan admin, cobalah membuat Pod sederhana:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-user create -f- <span style=color:#b44>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: Pod
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name:      pause
</span></span></span><span style=display:flex><span><span style=color:#b44>spec:
</span></span></span><span style=display:flex><span><span style=color:#b44>  containers:
</span></span></span><span style=display:flex><span><span style=color:#b44>    - name:  pause
</span></span></span><span style=display:flex><span><span style=color:#b44>      image: k8s.gcr.io/pause
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span><span style=display:flex><span>Error from server <span style=color:#666>(</span>Forbidden<span style=color:#666>)</span>: error when creating <span style=color:#b44>&#34;STDIN&#34;</span>: pods <span style=color:#b44>&#34;pause&#34;</span> is forbidden: unable to validate against any pod security policy: <span style=color:#666>[]</span>
</span></span></code></pre></div><p><strong>Apa yang terjadi?</strong> Walaupun PodSecurityPolicy tersebut telah dibuat, ServiceAccount dari Pod tersebut maupun <code>fake-user</code> tidak memikiki izin untuk menggunakan kebijakan tersebut:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-user auth can-i use podsecuritypolicy/example
</span></span><span style=display:flex><span>no
</span></span></code></pre></div><p>Membuat RoleBinding untuk memberikan <code>fake-user</code> akses terhadap kata kerja <code>use</code> pada kebijakan contoh kita:</p><div class="alert alert-info note callout" role=alert><strong>Catatan:</strong> Ini bukan cara yang direkomendasikan! Lihat <a href=#menjalankan-pod-lainnya>bagian selanjutnya</a> untuk cara yang lebih baik.</div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-admin create role psp:unprivileged <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>    --verb<span style=color:#666>=</span>use <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>    --resource<span style=color:#666>=</span>podsecuritypolicy <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>    --resource-name<span style=color:#666>=</span>example
</span></span><span style=display:flex><span>role <span style=color:#b44>&#34;psp:unprivileged&#34;</span> created
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl-admin create rolebinding fake-user:psp:unprivileged <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>    --role<span style=color:#666>=</span>psp:unprivileged <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>    --serviceaccount<span style=color:#666>=</span>psp-example:fake-user
</span></span><span style=display:flex><span>rolebinding <span style=color:#b44>&#34;fake-user:psp:unprivileged&#34;</span> created
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl-user auth can-i use podsecuritypolicy/example
</span></span><span style=display:flex><span>yes
</span></span></code></pre></div><p>Sekarang, ulangi membuat Pod tersebut</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-user create -f- <span style=color:#b44>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: Pod
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name:      pause
</span></span></span><span style=display:flex><span><span style=color:#b44>spec:
</span></span></span><span style=display:flex><span><span style=color:#b44>  containers:
</span></span></span><span style=display:flex><span><span style=color:#b44>    - name:  pause
</span></span></span><span style=display:flex><span><span style=color:#b44>      image: k8s.gcr.io/pause
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span><span style=display:flex><span>pod <span style=color:#b44>&#34;pause&#34;</span> created
</span></span></code></pre></div><p>Bekerja seperti yang diharapkan! Tapi percobaan apapun untuk membuat Pod yang <em>privileged</em> seharusnya masih ditolak:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-user create -f- <span style=color:#b44>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#b44>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#b44>kind: Pod
</span></span></span><span style=display:flex><span><span style=color:#b44>metadata:
</span></span></span><span style=display:flex><span><span style=color:#b44>  name:      privileged
</span></span></span><span style=display:flex><span><span style=color:#b44>spec:
</span></span></span><span style=display:flex><span><span style=color:#b44>  containers:
</span></span></span><span style=display:flex><span><span style=color:#b44>    - name:  pause
</span></span></span><span style=display:flex><span><span style=color:#b44>      image: k8s.gcr.io/pause
</span></span></span><span style=display:flex><span><span style=color:#b44>      securityContext:
</span></span></span><span style=display:flex><span><span style=color:#b44>        privileged: true
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span><span style=display:flex><span>Error from server <span style=color:#666>(</span>Forbidden<span style=color:#666>)</span>: error when creating <span style=color:#b44>&#34;STDIN&#34;</span>: pods <span style=color:#b44>&#34;privileged&#34;</span> is forbidden: unable to validate against any pod security policy: <span style=color:#666>[</span>spec.containers<span style=color:#666>[</span>0<span style=color:#666>]</span>.securityContext.privileged: Invalid value: true: Privileged containers are not allowed<span style=color:#666>]</span>
</span></span></code></pre></div><p>Hapus Pod tersebut sebelum melanjutkan:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-user delete pod pause
</span></span></code></pre></div><h3 id=menjalankan-pod-lainnya>Menjalankan Pod lainnya</h3><p>Mari coba lagi, dengan cara yang sedikit berbeda:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-user run pause --image<span style=color:#666>=</span>k8s.gcr.io/pause
</span></span><span style=display:flex><span>deployment <span style=color:#b44>&#34;pause&#34;</span> created
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl-user get pods
</span></span><span style=display:flex><span>No resources found.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl-user get events | head -n <span style=color:#666>2</span>
</span></span><span style=display:flex><span>LASTSEEN   FIRSTSEEN   COUNT     NAME              KIND         SUBOBJECT                TYPE      REASON                  SOURCE                                  MESSAGE
</span></span><span style=display:flex><span>1m         2m          <span style=color:#666>15</span>        pause-7774d79b5   ReplicaSet                            Warning   FailedCreate            replicaset-controller                   Error creating: pods <span style=color:#b44>&#34;pause-7774d79b5-&#34;</span> is forbidden: no providers available to validate pod request
</span></span></code></pre></div><p><strong>Apa yang terjadi?</strong> Kita telah mengikat Role <code>psp:unprivileged</code> untuk <code>fake-user</code> kita, kenapa kita mendapatkan kesalahan <code>Error creating: pods "pause-7774d79b5-" is forbidden: no providers available to validate pod request</code>? Jawabannya berada pada sumbernya - <code>replicaset-controller</code>. Fake-user berhasil membuat Deployment tersebut (yang berhasil membuat sebuah ReplicaSet), tetapi saat ReplicaSet tersebut akan membuat Pod, ia tidak terotorisasi untuk menggunakan PodSecurityPolicy contoh tersebut.</p><p>Untuk memperbaikinya, ikatlah Role <code>psp:unprivileged</code> pada ServiceAccount Pod tersebut. Pada kasus ini (karena kita tidak menspesifikasikannya) ServiceAccount-nya adalah <code>default</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-admin create rolebinding default:psp:unprivileged <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>    --role<span style=color:#666>=</span>psp:unprivileged <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>    --serviceaccount<span style=color:#666>=</span>psp-example:default
</span></span><span style=display:flex><span>rolebinding <span style=color:#b44>&#34;default:psp:unprivileged&#34;</span> created
</span></span></code></pre></div><p>Sekarang, jika kamu memberi waktu ReplicaSet-nya untuk mencoba kembali, pengatur ReplicaSet tersebut seharusnya akan berhasil membuat Pod tersebut.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-user get pods --watch
</span></span><span style=display:flex><span>NAME                    READY     STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>pause-7774d79b5-qrgcb   0/1       Pending   <span style=color:#666>0</span>         1s
</span></span><span style=display:flex><span>pause-7774d79b5-qrgcb   0/1       Pending   <span style=color:#666>0</span>         1s
</span></span><span style=display:flex><span>pause-7774d79b5-qrgcb   0/1       ContainerCreating   <span style=color:#666>0</span>         1s
</span></span><span style=display:flex><span>pause-7774d79b5-qrgcb   1/1       Running   <span style=color:#666>0</span>         2s
</span></span></code></pre></div><h3 id=membersihkan>Membersihkan</h3><p>Hapus Namespace tersebut untuk membersihkan sebagian besar sumber daya yang digunakan dalam contoh ini:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-admin delete ns psp-example
</span></span><span style=display:flex><span>namespace <span style=color:#b44>&#34;psp-example&#34;</span> deleted
</span></span></code></pre></div><p>Perlu diperhatikan bahwa sumber daya <code>PodSecurityPolicy</code> tidak diberi Namespace, dan harus dibersihkan secara terpisah:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl-admin delete psp example
</span></span><span style=display:flex><span>podsecuritypolicy <span style=color:#b44>&#34;example&#34;</span> deleted
</span></span></code></pre></div><h3 id=contoh-contoh-kebijakan>Contoh-contoh Kebijakan</h3><p>Berikut adalah kebijakan dengan batasan paling sedikit yang dapat kamu buat, ekuivalen dengan tidak menggunakan <em>admission controller</em> Pod Security Policy:</p><div class=highlight><div class=copy-code-icon style=text-align:right><a href=https://raw.githubusercontent.com/kubernetes/website/main/content/id/examples/policy/privileged-psp.yaml download=policy/privileged-psp.yaml><code>policy/privileged-psp.yaml</code></a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick='copyCode("policy-privileged-psp-yaml")' title="Copy policy/privileged-psp.yaml to clipboard"></img></div><div class=includecode id=policy-privileged-psp-yaml><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>policy/v1beta1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>PodSecurityPolicy<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>privileged<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>annotations</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>seccomp.security.alpha.kubernetes.io/allowedProfileNames</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;*&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>privileged</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>allowPrivilegeEscalation</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>allowedCapabilities</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:#b44>&#39;*&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>volumes</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:#b44>&#39;*&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>hostNetwork</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>hostPorts</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>min</span>:<span style=color:#bbb> </span><span style=color:#666>0</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>max</span>:<span style=color:#bbb> </span><span style=color:#666>65535</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>hostIPC</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>hostPID</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>runAsUser</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;RunAsAny&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>seLinux</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;RunAsAny&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>supplementalGroups</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;RunAsAny&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>fsGroup</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;RunAsAny&#39;</span><span style=color:#bbb>
</span></span></span></code></pre></div></div></div><p>Berikut adalah sebuah contoh kebijakan yang restriktif yang mengharuskan pengguna-pengguna untuk berjalan sebagai pengguna yang <em>unprivileged</em>, memblokir kemungkinan eskalasi menjadi <em>root</em>, dan mengharuskan penggunaan beberapa mekanisme keamanan.</p><div class=highlight><div class=copy-code-icon style=text-align:right><a href=https://raw.githubusercontent.com/kubernetes/website/main/content/id/examples/policy/restricted-psp.yaml download=policy/restricted-psp.yaml><code>policy/restricted-psp.yaml</code></a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick='copyCode("policy-restricted-psp-yaml")' title="Copy policy/restricted-psp.yaml to clipboard"></img></div><div class=includecode id=policy-restricted-psp-yaml><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>policy/v1beta1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>PodSecurityPolicy<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>restricted<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>annotations</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>seccomp.security.alpha.kubernetes.io/allowedProfileNames</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;docker/default,runtime/default&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apparmor.security.beta.kubernetes.io/allowedProfileNames</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;runtime/default&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>seccomp.security.alpha.kubernetes.io/defaultProfileName</span>:<span style=color:#bbb>  </span><span style=color:#b44>&#39;runtime/default&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apparmor.security.beta.kubernetes.io/defaultProfileName</span>:<span style=color:#bbb>  </span><span style=color:#b44>&#39;runtime/default&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>privileged</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Dibutuhkan untuk menghindari eskalasi ke _root_.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>allowPrivilegeEscalation</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Hal ini berlebihan dengan _non-root_ + melarang eskalasi _privilege_,</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># tetapi kita dapat menyediakannya untuk _defense in depth_</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>requiredDropCapabilities</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- ALL<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Izinkan tipe-tipe volume inti.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>volumes</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:#b44>&#39;configMap&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:#b44>&#39;emptyDir&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:#b44>&#39;projected&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:#b44>&#39;secret&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:#b44>&#39;downwardAPI&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Berasumsi bahwa persistentVolumes yang disetel oleh admin klaster aman untuk digunakan.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:#b44>&#39;persistentVolumeClaim&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>hostNetwork</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>hostIPC</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>hostPID</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>runAsUser</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Mengharuskan container untuk berjalan tanpa hak sebagai _root_.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;MustRunAsNonRoot&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>seLinux</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Kebijakan ini mengasumsikan bahwa node-node menggunakan AppArmor daripada SELinux.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;RunAsAny&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>supplementalGroups</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;MustRunAs&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>ranges</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Larang menambahkan grup _root_.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>min</span>:<span style=color:#bbb> </span><span style=color:#666>1</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>max</span>:<span style=color:#bbb> </span><span style=color:#666>65535</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>fsGroup</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rule</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;MustRunAs&#39;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>ranges</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Larang menambahkan grup _root_.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>min</span>:<span style=color:#bbb> </span><span style=color:#666>1</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>max</span>:<span style=color:#bbb> </span><span style=color:#666>65535</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>readOnlyRootFilesystem</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span></span></span></code></pre></div></div></div><h2 id=referensi-kebijakan>Referensi Kebijakan</h2><h3 id=privileged>Privileged</h3><p><strong>Privileged</strong> - menentukan bila Container manapun di dalam sebuah Pod dapat mengaktifkan mode <em>privileged</em>. Secara bawaan, sebuah Container tidak diizinkan untuk mengakses perangkat apapun pada <em>host</em>-nya, tapi sebuah Container yang "<em>privileged</em>" akan diberikan akses untuk semua perangkat pada <em>host</em>-nya. Hal ini mengizinkan hampir semua akses yang sama dengan proses yang berjalan pada <em>host</em> kepada Container tersebut. Hal ini berfungsi untuk Container-container yang ingin menggunakan kemampuan Linux seperti memanipulasi <em>network stack</em> atau mengakses perangkat-perangkat.
determines if any container in a pod can enable privileged mode.</p><h3 id=namespace-host>Namespace Host</h3><p><strong>HostPID</strong> - Mengatur jika Container-container pada Pod dapat berbagi <em>namespace process ID</em> pada <em>host</em>. Catatlah bahwa saat dipasangkan dengan ptrace, hal ini dapat digunakan untuk eskalasi <em>privilege</em> di luar kontainer (ptrace secara bawaan tidak diizinkan).</p><p><strong>HostIPC</strong> - Mengatur jika container-container pada Pod dapat berbagi <em>namespace IPC</em> pada <em>host</em>.</p><p><strong>HostNetwork</strong> - Mengatur jika Pod dapat menggunakan <em>namespace</em> jaringan pada <em>host</em>. Melakukan hal ini akan memberikan Pod akses pada perangkat <em>loopback</em>, <em>service</em> yang sedang <em>listening</em> pada <em>localhost</em>, dan dapat digunakan untuk mengintai aktivitas jaringan pada Pod-Pod lain pada Node yang sama.</p><p><strong>HostPorts</strong> - Memberikan daftar putih dari berbagai <em>port</em> yang diizinkan pada <em>namespace</em> jaringan pada <em>host</em>. Hal ini didefinisikan sebagai sebuah daftar <code>HostPortRange</code>, dengan <code>min</code>(inklusif) dan <code>max</code>(inklusif). Nilai bawaannya adalah tidak ada <em>host port</em> yang diizinkan.</p><p><strong>AllowedHostPaths</strong> - Lihat <a href=#volumes-dan-file-systems>Volume dan <em>file systems</em></a>.</p><h3 id=volume-dan-file-system>Volume dan <em>file system</em></h3><p><strong>Volume</strong> - Menyediakan sebuah daftar putih dari tipe-tipe Volume yang diizinkan. Nilai-nilai yang diizinkan sesuai dengan sumber Volume yang didefinisikan saat membuat sebuah Volume. Untuk daftar lengkap tipe-tipe Volume, lihat <a href=/id/docs/concepts/storage/volumes/#tipe-tipe-volume>tipe-tipe Volume</a>. Sebagai tambahan, <code>*</code> dapat digunakan untuk mengizinkan semua tipe Volume.</p><p><strong>Kumpulan Volume-volume minimal yang direkomendasikan</strong> untuk PodSecurityPolicy baru adalah sebagai berikut:</p><ul><li>configMap</li><li>downwardAPI</li><li>emptyDir</li><li>persistentVolumeClaim</li><li>secret</li><li>projected</li></ul><div class="alert alert-danger warning callout" role=alert><strong>Peringatan:</strong> PodSecurityPolicy tidak membatasi tipe-tipe objek <code>PersistentVolume</code> yang dapat direferensikan oleh <code>PersistentVolumeClaim</code>. Hanya pengguna-pengguna yang dipercaya yang boleh diberikan izin untuk membuat objek-objek <code>PersistentVolume</code>.</div><p><strong>FSGroup</strong> - Mengatur grup tambahan yang dipasang ke beberapa volume.</p><ul><li><em>MustRunAs</em> - Membutuhkan setidaknya satu <code>range</code> untuk dapat ditentukan. Menggunakan semua nilai minimum dari <code>range</code> yang pertama sebagai nilai bawaannya. Memvalidasikan terhadap semua <code>range</code>.</li><li><em>MayRunAs</em> - Membutuhkan setidaknya satu <code>range</code> untuk dapat ditentukan. Mengizinkan <code>FSGroups</code> dibiarkan kosong tanpa memberikan nilai bawaan. Memvalidasikan terhadap semua <code>range</code> jika nilai <code>FSGroups</code> disetel.</li><li><em>RunAsAny</em> - Tidak ada nilai bawaan yang diberikan. Mengizinkan ID <code>fsGroup</code> apapun untuk digunakan.</li></ul><p><strong>AllowedHostPaths</strong> - Memperinci sebuah daftar putih dari <em>host path</em> yang diizinkan untuk digunakan oleh volume-volume <code>hostPath</code>. Sebuah daftar kosong berarti tidak ada pembatasan pada <em>host path</em> yang digunakan. Hal ini didefinisikan sebagai sebuah daftar objek-objek dengan sebuah kolom <code>pathPrefix</code>, yang mengizinkan volume-volume <code>hostPath</code> untuk menambatkan sebuah <em>path</em> yang dimulai dengan sebuah prefiks yang diizinkan, dan sebuah kolom <code>readOnly</code> yang menunjukkan bahwa ia harus ditambatkan sebagai <em>read-only</em>.
Misalnya:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>allowedHostPaths</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Hal ini mengizinkan &#34;/foo&#34;, &#34;/foo/&#34;, &#34;/foo/bar&#34; dll., tetapi</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># melarang &#34;/fool&#34;, &#34;/etc/foo&#34; dll.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># &#34;/foo/../&#34; tidak sah.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>pathPrefix</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/foo&#34;</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>readOnly</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb> </span><span style=color:#080;font-style:italic># Izinkan hanya tambatan _read-only_</span><span style=color:#bbb>
</span></span></span></code></pre></div><div class="alert alert-danger warning callout" role=alert><strong>Peringatan:</strong><p>Ada banyak cara bagi sebuah Container dengan akses yang tidak dibatasi terhadap <em>host filesystem</em>-nya untuk dapat melakukan eskalasi <em>privilege</em>, termasuk membaca data dari Container-container lain, dan menyalahgunakan kredensial dari <em>service-service</em> sistem, misalnya Kubelet.</p><p>Direktori volume <code>hostPath</code> yang dapat ditulis mengizinkan container-container untuk menulis ke <em>filesystem</em> melalui cara-cara yang membiarkan mereka melintasi <em>host filesystem</em> di luar <code>pathPrefix</code> yang bersangkutan.
<code>readOnly: true</code>, tersedia pada Kubernetes 1.11 ke atas, harus digunakan pada <strong>semua</strong> <code>allowedHostPaths</code> untuk secara efektif membatasi akses terhadap <code>pathPrefix</code> yang diperinci.</p></div><p><strong>ReadOnlyRootFilesystem</strong> - Mengharuskan container-container berjalan dengan sebuah <em>root filesystem</em> yang bersifat <em>read-only</em> (yaitu, tanpa lapisan yang dapat ditulis)</p><h3 id=driver-driver-flexvolume><em>Driver-driver</em> Flexvolume</h3><p>Hal ini memperinci sebuah daftar putih dari <em>driver-driver</em> Flexvolume yang diizinkan untuk digunakan oleh Flexvolume. Sebuah daftar kosong atau <code>nil</code> berarti tidak ada batasan terhadap <em>driver-driver</em> tersebut.
Pastikan kolom <a href=#volume-dan-file-system><code>volumes</code></a> berisi tipe volumenya; Jika tidak, tidak ada <em>driver</em> Flexvolume yang diizinkan.</p><p>Misalnya:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>policy/v1beta1<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>PodSecurityPolicy<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>allow-flex-volumes<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># ... kolom kolom lainnya</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>volumes</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- flexVolume<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>allowedFlexVolumes</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>driver</span>:<span style=color:#bbb> </span>example/lvm<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>driver</span>:<span style=color:#bbb> </span>example/cifs<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=pengguna-dan-grup>Pengguna dan Grup</h3><p><strong>RunAsUser</strong> - Mengatur ID pengguna mana yang digunakan untuk menjalankan container-container.</p><ul><li><em>MustRunAs</em> - Membutuhkan setidaknya satu <code>range</code> untuk dapat ditentukan. Menggunakan semua nilai minimum dari <code>range</code> yang pertama sebagai nilai bawaannya. Memvalidasikan terhadap semua <code>range</code>.</li><li><em>MustRunAsNonRoot</em> - Mengharuskan Pod diajukan dengan nilai <code>runAsUser</code> yang bukan nol, atau memiliki petunjuk <code>USER</code> didefinisikan (dengan UID numerik) di dalam <em>image</em>. Pod-Pod yang belum memperinci <code>runAsNonRoot</code> atau <code>runAsUser</code> akan dimutasikan untuk menyetel <code>runAsNonRoot=true</code> sehingga membutuhkan petunjuk <code>USER</code> dengan nilai numerik bukan nol di dalam Container. Tidak ada nilai bawaan yang diberikan. Menyetel <code>allowPrivilegeEscalation=false</code> sangat disarankan dengan strategi ini.</li><li><em>RunAsAny</em> - Tidak ada nilai bawaan yang diberikan. Mengizinkan <code>runAsUser</code> apapun untuk digunakan.</li></ul><p><strong>RunAsGroup</strong> - Mengatur ID grup primer mana yang digunakan untuk menjalankan Container-container.</p><ul><li><em>MustRunAs</em> - Membutuhkan setidaknya satu <code>range</code> untuk dapat ditentukan. Menggunakan semua nilai minimum dari <code>range</code> yang pertama sebagai nilai bawaannya. Memvalidasikan terhadap semua <code>range</code>.</li><li><em>MayRunAs</em> - Tidak memerlukan <code>RunAsGroup</code> untuk diperinci. Tetapi, saat <code>RunAsGroup</code> diperinci, mereka harus berada pada <code>range</code> yang didefinisikan.</li><li><em>RunAsAny</em> - Tidak ada nilai bawaan yang diberikan. Mengizinkan <code>runAsGroup</code> apapun untuk digunakan.</li></ul><p><strong>SupplementalGroups</strong> - Mengatur ID grup mana saja yang ditambah ke Container-container.</p><ul><li><em>MustRunAs</em> - Membutuhkan setidaknya satu <code>range</code> untuk dapat ditentukan. Menggunakan semua nilai minimum dari <code>range</code> yang pertama sebagai nilai bawaannya. Memvalidasikan terhadap semua <code>range</code>.</li><li><em>MayRunAs</em> - Membutuhkan setidaknya satu <code>range</code> untuk dapat ditentukan. Mengizinkan <code>supplementalGroups</code> dibiarkan kosong tanpa memberikan nilai bawaan. Memvalidasikan terhadap semua <code>range</code> jika nilai <code>supplementalGroup</code> disetel.</li><li><em>RunAsAny</em> - Tidak ada nilai bawaan yang diberikan. Mengizinkan ID <code>supplementalGroups</code> apapun untuk digunakan.</li></ul><h3 id=eskalasi-privilege>Eskalasi <em>Privilege</em></h3><p>Opsi ini mengatur opsi Container <code>allowPrivilegeEscalation</code>. Nilai <code>bool</code> ini secara langsung mengatur apakah <em>flag</em> <a href=https://www.kernel.org/doc/Documentation/prctl/no_new_privs.txt><code>no_new_privs</code></a> disetel pada proses Container tersebut. <em>Flag</em> ini akan mencegah program <code>setuid</code> mengganti ID pengguna efektif, dan mencegah berkas-berkas untuk memungkinkan kemampuan tambahan (misalnya, ini akan mencagah penggunaan peralatan <code>ping</code>). Perilaku ini dibutuhkan untuk memaksakan <code>MustRunAsNonRoot</code>.</p><p><strong>AllowPrivilegeEscalation</strong> - Membatasi apakah seorang pengguna diizinkan untuk menyetel konteks keamanan dari sebuah Container menjadi <code>allowPrivilegeEscalation=true</code>. Hal ini memiliki nilai bawaan untuk diizinkan, agar tidak merusak program <code>setuid</code>. Menyetel ini menjadi <code>false</code> memastikan bahwa tidak ada proses <em>child</em> dari sebuah Container dapat memperoleh lebih banyak <em>privilege</em> dari <em>parent</em>-nya.</p><p><strong>DefaultAllowPrivilegeEscalation</strong> - Menyetel nilai bawaan untuk opsi <code>allowPrivilegeEscalation</code>. Perilaku bawaan tanpa hal ini adalah untuk mengizinkan eskalasi <em>privilege</em> agar tidak merusak program <code>setuid</code>. Jika perilaku ini tidak diinginkan, kolom ini dapat digunakan untuk menyetel nilai bawaan <code>allowPrivilegeEscalation</code> agar melarang eskalasi, sementara masih mengizinkan Pod-Pod untuk meminta <code>allowPrivilegeEscalation</code> secara eksplisit.</p><h3 id=kemampuan-kemampuan>Kemampuan-kemampuan</h3><p>Kemampuan-kemampuan Linux menyediakan perincian yang detail dari <em>privilege-privilege</em> yang biasa dikaitkan dengan <code>superuser</code>. Beberapa dari kemampuan-kemampuan ini dapat digunakan untuk mengeskalasi <em>privilege-privilege</em> atau untuk <em>container breakout</em>, dan dapat dibatasi oleh PodSecurityPolicy. Untuk lebih lanjut tentang kemampuan-kemampuan Linux, lihat <a href=http://man7.org/linux/man-pages/man7/capabilities.7.html>capabilities(7)</a>.</p><p>Kolom-kolom berikut mengambil daftar kemampuan-kemampuan, diperincikan sebagai nama kemampuannya dalam ALL_CAPS tanpa awalan <code>CAP_</code>.</p><p><strong>AllowedCapabilities</strong> - Menyediakan sebuah daftar putih dari kemampuan-kemampuan yang dapat ditambahkan pada sebuah Container. Kumpulan kemampuan bawaan secara implisit diizinkan. Kumpulan kosong berarti tidak ada kemampuan tambahan yang dapat ditambahkan selain bawaannya. <code>*</code> dapat digunakan untuk mengizinkan semua kemampuan.</p><p><strong>RequiredDropCapabilities</strong> - Kemampuan-kemampuan yang harus dihapus dari Container-container. Kemampuan-kemampuan ini dihapus dari kumpulan bawaan, dan tidak boleh ditambahkan. Kemampuan-kemampuan yang terdaftar di <code>RequiredDropCapabilities</code> tidak boleh termasuk di dalam <code>AllowedCapabilities</code> atau <code>DefaultAddCapabilities</code>.</p><p><strong>DefaultAddCapabilities</strong> - Kemampuan-kemampuan yang ditambahkan pada Container-container secara bawaan, sebagai tambahan untuk bawaan <em>runtime</em>. Lihat <a href=https://docs.docker.com/engine/reference/run/#runtime-privilege-and-linux-capabilities>dokumentasi Docker</a> untuk daftar kemampuan bawaan saat menggunakan <em>runtime</em> Docker.</p><h3 id=selinux>SELinux</h3><ul><li><em>MustRunAs</em> - Mengharuskan penyetelan <code>seLinuxOptions</code>. Menggunakan <code>seLinuxOptions</code> sebagai nilai bawaannya. Memvalidasi terhadap <code>seLinuxOptions</code>.</li><li><em>RunAsAny</em> - Tidak ada nilai bawaan yang disediakan. Mengizinkan nilai <code>seLinuxOptions</code> apapun untuk diberikan.</li></ul><h3 id=allowedprocmounttypes>AllowedProcMountTypes</h3><p><code>allowedProcMountTypes</code> adalah sebuah daftar putih dari ProcMountType yang diizinkan. Nilai kosong atau <code>nil</code> menunjukkan bahwa hanya <code>DefaultProcMountType</code> yang boleh digunakan.</p><p><code>DefaultProcMount</code> menggunakan nilai bawaan <em>container runtime</em> untuk <em>readonly</em> dan <em>masked paths</em> untuk <code>/proc</code>. Kebanyakan <em>runtime</em> Container melakukan <em>mask</em> terhadap beberapa <em>path</em> di dalam <code>/proc</code> untuk menghindari <em>security exposure</em> dari perangkat-perangkat atau informasi khusus yang tidak disengaja. Hal ini ditandai dengan nilai <em>string</em> <code>Default</code>.</p><p>Satu-satunya ProcMountType lainnya adalah <code>UnmaskedProcMount</code>, yang melangkahi perilaku <em>masking</em> bawaan dari <em>runtime</em> Container dan memastikan bahwa <code>/proc</code> yang baru dibuat tetap utuh tanpa perubahan. Hal ini ditandai dengan nilai <em>string</em> <code>Unmasked</code>.</p><h3 id=apparmor>AppArmor</h3><p>Diatur melalui anotasi pada PodSecurityPolicy. Lihat <a href=/docs/tutorials/clusters/apparmor/#podsecuritypolicy-annotations>dokumentasi AppArmor</a>.</p><h3 id=seccomp>Seccomp</h3><p>Penggunaan profil-profil <em>seccomp</em> di dalam Pod-Pod dapat diatur melalui anotasi pada PodSecurityPolicy.
<em>Seccomp</em> adalah fitur <em>Alpha</em> di Kubernetes.</p><p><strong>seccomp.security.alpha.kubernetes.io/defaultProfileName</strong> - Anotasi yang menunjukkan profil <em>seccomp</em> bawaan untuk diterapkan kepada container-container. Nilai-nilai yang mungkin adalah:</p><ul><li><code>unconfined</code> - <em>Seccomp</em> tidak diterapkan pada proses-proses di container (ini adalah bawaan di Kubernetes), jika tidak ada alternatif yang diberikan.</li><li><code>runtime/default</code> - Profil <em>runtime</em> container bawaan digunakan.</li><li><code>docker/default</code> - Profil bawaan <em>seccomp</em> Docker digunakan. Sudah kedaluwarsa sejak Kubernetes 1.11. Gunakan <code>runtime/default</code> sebagai gantinya.</li><li><code>localhost/&lt;path></code> - Menentukan sebuah profil sebagai sebuah berkas pada Node yang berlokasi pada <code>&lt;seccomp_root>/&lt;path></code>, di mana <code>&lt;seccomp_root></code> didefinisikan melalui <em>flag</em> <code>--seccomp-profile-root</code> pada Kubelet.</li></ul><p><strong>seccomp.security.alpha.kubernetes.io/allowedProfileNames</strong> - Anotasi yang menunjukkan nilai-nilai mana yang diizinkan untuk anotasi <em>seccomp</em> pada Pod. Ditentukan sebagai sebuah daftar nilai yang diizinkan yang dibatasi dengan tanda koma. Nilai-nilai yang dimungkinkan adalah yang terdaftar di atas, ditambah dengan <code>*</code> untuk mengizinkan semua profil. Ketiadaan anotasi ini berarti nilai bawaannya tidak dapat diubah.</p><h3 id=sysctl>Sysctl</h3><p>Secara bawaan, semua <em>sysctl</em> yang aman diizinkan.</p><ul><li><code>forbiddenSysctls</code> - mengecualikan <em>sysctl-sysctl</em> tertentu. Kamu dapat melarang kombinasi dari <em>sysctl-sysctl</em> yang aman maupun tidak aman pada daftar ini. Untuk melarang menyetel <em>sysctl</em> apapun, gunakan nilai <code>*</code>.</li><li><code>allowedUnsafeSysctls</code> - mengizinkan <em>sysctl-sysctl</em> tertentu yang telah dilarang oleh daftar bawaan, selama nilainya tidak terdaftar di dalam <code>forbiddenSysctls</code>.</li></ul><p>Lihat <a href=/docs/concepts/cluster-administration/sysctl-cluster/#podsecuritypolicy>dokumentasi Sysctl</a>.</p></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/id/docs/home/>Home</a>
<a class=text-white href=/id/community/>Komunitas</a>
<a class=text-white href=/id/case-studies/>Studi kasus</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 Para Pencipta Kubernetes | Dokumentasi didistribusikan di bawah <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 Linux Foundation &reg;. Hak cipta dilindungi. Linux Foundation telah mendaftarkan merek dagang dan pengunaannya. Perinciannya bisa dilihat pada <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>halaman penggunaan merek dagang</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>