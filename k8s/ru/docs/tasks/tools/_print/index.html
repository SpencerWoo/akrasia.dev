<!doctype html><html lang=ru class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/tasks/tools/><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/tasks/tools/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/tasks/tools/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/tasks/tools/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/tasks/tools/><link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/tasks/tools/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/tasks/tools/><link rel=alternate hreflang=id href=https://kubernetes.io/id/docs/tasks/tools/><link rel=alternate hreflang=hi href=https://kubernetes.io/hi/docs/tasks/tools/><link rel=alternate hreflang=vi href=https://kubernetes.io/vi/docs/tasks/tools/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/ru/docs/tasks/tools/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Установка инструментов | Kubernetes</title><meta property="og:title" content="Установка инструментов"><meta property="og:description" content="Первоклассная оркестрация контейнеров"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/ru/docs/tasks/tools/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Установка инструментов"><meta itemprop=description content="Первоклассная оркестрация контейнеров"><meta name=twitter:card content="summary"><meta name=twitter:title content="Установка инструментов"><meta name=twitter:description content="Первоклассная оркестрация контейнеров"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:url" content="https://kubernetes.io/ru/docs/tasks/tools/"><meta property="og:title" content="Установка инструментов"><meta name=twitter:title content="Установка инструментов"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/ru/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/ru/docs/>Документация</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ru/community/>Сообщество</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ru/case-studies/>Примеры использования</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versions</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/ru/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/ru/docs/tasks/tools/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/ru/docs/tasks/tools/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/ru/docs/tasks/tools/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/ru/docs/tasks/tools/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/ru/docs/tasks/tools/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Русский (Russian)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/tasks/tools/>English</a>
<a class=dropdown-item href=/zh-cn/docs/tasks/tools/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/tasks/tools/>한국어 (Korean)</a>
<a class=dropdown-item href=/ja/docs/tasks/tools/>日本語 (Japanese)</a>
<a class=dropdown-item href=/fr/docs/tasks/tools/>Français (French)</a>
<a class=dropdown-item href=/de/docs/tasks/tools/>Deutsch (German)</a>
<a class=dropdown-item href=/es/docs/tasks/tools/>Español (Spanish)</a>
<a class=dropdown-item href=/id/docs/tasks/tools/>Bahasa Indonesia</a>
<a class=dropdown-item href=/hi/docs/tasks/tools/>हिन्दी (Hindi)</a>
<a class=dropdown-item href=/vi/docs/tasks/tools/>Tiếng Việt (Vietnamese)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Это многостраничный печатный вид этого раздела.
<a href=# onclick="return print(),!1">Нажмите что бы печатать</a>.</p><p><a href=/ru/docs/tasks/tools/>Вернуться к обычному просмотру страницы</a>.</p></div><h1 class=title>Установка инструментов</h1><ul><li>1: <a href=#pg-bbdc530b292ab4074d1dfe69feafb3e7>Установка и настройка kubectl</a></li><li>2: <a href=#pg-2142bfe0834f1bf8f47887f85adba495>Установка Minikube</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-bbdc530b292ab4074d1dfe69feafb3e7>1 - Установка и настройка kubectl</h1><p>Инструмент командной строки Kubernetes <a href=/docs/user-guide/kubectl/>kubectl</a> позволяет запускать команды для кластеров Kubernetes. Вы можете использовать kubectl для развертывания приложений, проверки и управления ресурсов кластера, а также для просмотра логов. Полный список операций kubectl смотрите в <a href=/docs/reference/kubectl/overview/>Overview of kubectl</a>.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><p>Используемая вами мажорная версия kubectl не должна отличаться от той, которая используется в кластере. Например, версия v1.2 может работать с версиями v1.1, v1.2 и v1.3. Использование последней версии kubectl поможет избежать непредвиденных проблем.</p><h2 id=установка-kubectl-в-linux>Установка kubectl в Linux</h2><h3 id=установка-двоичного-файла-kubectl-с-помощью-curl-в-linux>Установка двоичного файла kubectl с помощью curl в Linux</h3><ol><li><p>Загрузите последнюю версию с помощью команды:</p><pre tabindex=0><code>curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl
</code></pre><p>Чтобы загрузить определенную версию, вставьте в фрагмент команды <code>$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)</code> нужную версию.</p><p>Например, команда загрузки версии v1.25.0 для Linux будет выглядеть следующим образом:</p><pre tabindex=0><code>curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.25.0/bin/linux/amd64/kubectl
</code></pre></li><li><p>Сделайте двоичный файл kubectl исполняемым:</p><pre tabindex=0><code>chmod +x ./kubectl
</code></pre></li><li><p>Переместите двоичный файл в директорию из переменной окружения PATH:</p><pre tabindex=0><code>sudo mv ./kubectl /usr/local/bin/kubectl
</code></pre></li><li><p>Убедитесь, что установлена последняя версия:</p><pre tabindex=0><code>kubectl version --client
</code></pre></li></ol><h3 id=установка-с-помощью-встроенного-пакетного-менеджера>Установка с помощью встроенного пакетного менеджера</h3><ul class="nav nav-tabs" id=kubectl-install role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#kubectl-install-0 role=tab aria-controls=kubectl-install-0 aria-selected=true>Ubuntu, Debian или HypriotOS</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#kubectl-install-1 role=tab aria-controls=kubectl-install-1>CentOS, RHEL или Fedora</a></li></ul><div class=tab-content id=kubectl-install><div id=kubectl-install-0 class="tab-pane show active" role=tabpanel aria-labelledby=kubectl-install-0><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update <span style=color:#666>&amp;&amp;</span> sudo apt-get install -y apt-transport-https
</span></span><span style=display:flex><span>curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;deb https://apt.kubernetes.io/ kubernetes-xenial main&#34;</span> | sudo tee -a /etc/apt/sources.list.d/kubernetes.list
</span></span><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install -y kubectl
</span></span></code></pre></div></div><div id=kubectl-install-1 class=tab-pane role=tabpanel aria-labelledby=kubectl-install-1><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo cat <span style=color:#b44>&lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo
</span></span></span><span style=display:flex><span><span style=color:#b44>[kubernetes]
</span></span></span><span style=display:flex><span><span style=color:#b44>name=Kubernetes
</span></span></span><span style=display:flex><span><span style=color:#b44>baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64
</span></span></span><span style=display:flex><span><span style=color:#b44>enabled=1
</span></span></span><span style=display:flex><span><span style=color:#b44>gpgcheck=1
</span></span></span><span style=display:flex><span><span style=color:#b44>repo_gpgcheck=1
</span></span></span><span style=display:flex><span><span style=color:#b44>gpgkey=https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span><span style=display:flex><span>sudo yum install -y kubectl
</span></span></code></pre></div></div></div><h3 id=установка-с-помощью-стороннего-пакетного-менеджера>Установка с помощью стороннего пакетного менеджера</h3><ul class="nav nav-tabs" id=other-kubectl-install role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#other-kubectl-install-0 role=tab aria-controls=other-kubectl-install-0 aria-selected=true>Snap</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#other-kubectl-install-1 role=tab aria-controls=other-kubectl-install-1>Homebrew</a></li></ul><div class=tab-content id=other-kubectl-install><div id=other-kubectl-install-0 class="tab-pane show active" role=tabpanel aria-labelledby=other-kubectl-install-0><p><p>Если вы используйте Ubuntu или другой Linux-дистрибутив, в котором есть пакетный менеджер <a href=https://snapcraft.io/docs/core/install>snap</a>, kubectl доступен в виде приложения <a href=https://snapcraft.io/>snap</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>snap install kubectl --classic
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl version
</span></span></code></pre></div></div><div id=other-kubectl-install-1 class=tab-pane role=tabpanel aria-labelledby=other-kubectl-install-1><p><p>Если вы работаете в Linux и используете пакетный менеджер <a href=https://docs.brew.sh/Homebrew-on-Linux>Homebrew</a>, то kubectl можно <a href=https://docs.brew.sh/Homebrew-on-Linux#install>установить</a> через него.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install kubectl
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl version
</span></span></code></pre></div></div></div><h2 id=установка-kubectl-в-macos>Установка kubectl в macOS</h2><h3 id=установка-двоичного-файла-kubectl-с-помощью-curl-в-macos>Установка двоичного файла kubectl с помощью curl в macOS</h3><ol><li><p>Загрузите последнюю версию:</p><pre tabindex=0><code>curl -LO &#34;https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/darwin/amd64/kubectl&#34;
</code></pre><p>Чтобы загрузить определенную версию, вставьте в фрагмент команды <code>$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)</code> нужную версию.</p><p>Например, команда загрузки версии v1.25.0 для macOS будет выглядеть следующим образом:</p><pre tabindex=0><code>curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.25.0/bin/darwin/amd64/kubectl
</code></pre></li><li><p>Сделайте двоичный файл kubectl исполняемым:</p><pre tabindex=0><code>chmod +x ./kubectl
</code></pre></li><li><p>Переместите двоичный файл в директорию из переменной окружения PATH:</p><pre tabindex=0><code>sudo mv ./kubectl /usr/local/bin/kubectl
</code></pre></li><li><p>Убедитесь, что установлена последняя версия:</p><pre tabindex=0><code>kubectl version --client
</code></pre></li></ol><h3 id=установка-с-помощью-homebrew-в-macos>Установка с помощью Homebrew в macOS</h3><p>Если вы используете macOS и <a href=https://brew.sh/>Homebrew</a>, то kubectl можно установить с помощью пакетного менеджера Homebrew.</p><ol><li><p>Выполните команду установки:</p><pre tabindex=0><code>brew install kubectl
</code></pre><p>Или:</p><pre tabindex=0><code>brew install kubernetes-cli
</code></pre></li><li><p>Убедитесь, что установлена последняя версия:</p><pre tabindex=0><code>kubectl version --client
</code></pre></li></ol><h3 id=установка-с-помощью-macports-в-macos>Установка с помощью Macports в macOS</h3><p>Если вы используйте macOS и <a href=https://macports.org/>Macports</a>, то kubectl можно установить с помощью пакетного менеджера Macports.</p><ol><li><p>Выполните команду установки:</p><pre tabindex=0><code>sudo port selfupdate
sudo port install kubectl
</code></pre></li><li><p>Убедитесь, что установлена последняя версия:</p><pre tabindex=0><code>kubectl version --client
</code></pre></li></ol><h2 id=установка-kubectl-в-windows>Установка kubectl в Windows</h2><h3 id=установка-двоичного-файла-kubectl-с-помощью-curl-в-windows>Установка двоичного файла kubectl с помощью curl в Windows</h3><ol><li><p>Загрузите последнюю версию v1.25.0 по <a href=https://storage.googleapis.com/kubernetes-release/release/v1.25.0/bin/windows/amd64/kubectl.exe>этой ссылке</a>.</p><p>Либо, если у вас установлен <code>curl</code>, выполните команду ниже:</p><pre tabindex=0><code>curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.25.0/bin/windows/amd64/kubectl.exe
</code></pre><p>Последнюю стабильную версию (например, при написании скриптов) вы можете узнать из файла по ссылке <a href=https://storage.googleapis.com/kubernetes-release/release/stable.txt>https://storage.googleapis.com/kubernetes-release/release/stable.txt</a>.</p></li><li><p>Переместите двоичный файл в директорию из переменной окружения PATH:</p></li><li><p>Убедитесь, что версия <code>kubectl</code> совпадает загружённой:</p><pre tabindex=0><code>kubectl version --client
</code></pre></li></ol><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> <a href=https://docs.docker.com/docker-for-windows/#kubernetes>Docker Desktop for Windows</a> добавляет собственную версию <code>kubectl</code> в переменную окружения <code>PATH</code>.
Если у вас установлен Docker Desktop, вам придётся поместить путь к установленному двоичному файлу перед записью, добавленной установщиком Docker Desktop, либо же удалить вовсе <code>kubectl</code>, поставляемый вместе с Docker Desktop.</div><h3 id=установка-с-помощью-powershell-из-psgallery>Установка с помощью Powershell из PSGallery</h3><p>Если вы работаете в Windows и используете менеджер пакетов <a href=https://www.powershellgallery.com/>Powershell Gallery</a>, вы можете установить и обновить kubectl с помощью Powershell.</p><ol><li><p>Выполните команды по установке (обязательно укажите <code>DownloadLocation</code>):</p><pre tabindex=0><code>Install-Script -Name install-kubectl -Scope CurrentUser -Force
install-kubectl.ps1 [-DownloadLocation &lt;path&gt;]
</code></pre><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Если вы не укажете <code>DownloadLocation</code>, то <code>kubectl</code> будет установлен во временную директорию пользователя.</div><p>Установщик создаст <code>$HOME/.kube</code> вместе с конфигурационным файлом.</p></li><li><p>Убедитесь, что установлена последняя версия:</p><pre tabindex=0><code>kubectl version --client
</code></pre><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Обновить kubectl можно путём выполнения двух команд, перечисленных в шаге 1.</div></li></ol><h3 id=установка-в-windows-с-помощью-chocolatey-или-scoop>Установка в Windows с помощью Chocolatey или Scoop</h3><p>Для установки kubectl в Windows вы можете использовать либо менеджер пакетов <a href=https://chocolatey.org>Chocolatey</a> , либо установщик в командной строке <a href=https://scoop.sh>Scoop</a>.</p><p><ul class="nav nav-tabs" id=kubectl-win-install role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#kubectl-win-install-0 role=tab aria-controls=kubectl-win-install-0 aria-selected=true>choco</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#kubectl-win-install-1 role=tab aria-controls=kubectl-win-install-1>scoop</a></li></ul><div class=tab-content id=kubectl-win-install><div id=kubectl-win-install-0 class="tab-pane show active" role=tabpanel aria-labelledby=kubectl-win-install-0><p><pre><code>choco install kubernetes-cli
</code></pre></div><div id=kubectl-win-install-1 class=tab-pane role=tabpanel aria-labelledby=kubectl-win-install-1><p><pre><code>scoop install kubectl
</code></pre></div></div>2. Убедитесь, что установлена последняя версия:</p><pre><code>```
kubectl version --client
```
</code></pre><ol start=3><li><p>Перейдите в домашнюю директорию:</p><pre tabindex=0><code>cd %USERPROFILE%
</code></pre></li><li><p>Создайте директорию <code>.kube</code>:</p><pre tabindex=0><code>mkdir .kube
</code></pre></li><li><p>Перейдите в созданную только что директорию <code>.kube</code>:</p><pre tabindex=0><code>cd .kube
</code></pre></li><li><p>Настройте kubectl, чтобы возможно было использовать удаленный кластер Kubernetes:</p><pre tabindex=0><code>New-Item config -type file
</code></pre><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Отредактируйте конфигурационный файл, используя ваш любимый текстовый редактор или обычный Notepad.</div></li></ol><h2 id=установка-kubectl-из-sdk-google-cloud>Установка kubectl из SDK Google Cloud</h2><p>Вы можете использовать kubectl из SDK Google Cloud, который использует этот CLI-инструмент.</p><ol><li><p>Установите <a href=https://cloud.google.com/sdk/>Google Cloud SDK</a>.</p></li><li><p>Выполните команду для установки <code>kubectl</code>:</p><pre tabindex=0><code>gcloud components install kubectl
</code></pre></li><li><p>Убедитесь, что установлена последняя версия:</p><pre tabindex=0><code>kubectl version --client
</code></pre></li></ol><h2 id=проверка-конфигурации-kubectl>Проверка конфигурации kubectl</h2><p>Чтобы kubectl мог найти и получить доступ к кластеру Kubernetes, нужен <a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>файл kubeconfig</a>, который создаётся автоматически при создании кластера с помощью скрипта <a href=https://github.com/kubernetes/kubernetes/blob/master/cluster/kube-up.sh>kube-up.sh</a> или при успешном развертывании кластера Minikube. По умолчанию конфигурация kubectl находится в <code>~/.kube/config</code>.</p><p>Посмотрите на состояние кластера, чтобы убедиться, что kubectl правильно сконфигурирован:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl cluster-info
</span></span></code></pre></div><p>Если вы видите URL-ответ, значит kubectl корректно настроен для работы с вашим кластером.</p><p>Если вы видите сообщение следующего содержания, то значит kubectl настроен некорректно или не может подключиться к кластеру Kubernetes:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>The connection to the server &lt;server-name:port&gt; was refused - did you specify the right host or port?
</span></span></code></pre></div><p>Например, если вы собираетесь запустить кластер Kubernetes на своем ноутбуке (локально), вам потребуется сначала установить специальный для этого инструмент, например Minikube, а затем снова выполнить указанные выше команды.</p><p>Если команда <code>kubectl cluster-info</code> возвращает URL-ответ, но вы не можете подключиться к своему кластеру, чтобы убедиться, что он правильно настроен, воспользуйтесь этой командой:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl cluster-info dump
</span></span></code></pre></div><h2 id=дополнительная-конфигурация-kubectl>Дополнительная конфигурация kubectl</h2><h3 id=включение-автодополнения-ввода-shell>Включение автодополнения ввода shell</h3><p>kubectl поддерживает автодополнение (автозаполнение) ввода в Bash и Zsh, которое сэкономит вам много времени на набор команд.</p><p>Ниже приведены инструкции по настройке автодополнения для Bash (для Linux и macOS) и Zsh.</p><ul class="nav nav-tabs" id=kubectl-autocompletion role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#kubectl-autocompletion-0 role=tab aria-controls=kubectl-autocompletion-0 aria-selected=true>Bash в Linux</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#kubectl-autocompletion-1 role=tab aria-controls=kubectl-autocompletion-1>Bash в macOS</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#kubectl-autocompletion-2 role=tab aria-controls=kubectl-autocompletion-2>Zsh</a></li></ul><div class=tab-content id=kubectl-autocompletion><div id=kubectl-autocompletion-0 class="tab-pane show active" role=tabpanel aria-labelledby=kubectl-autocompletion-0><p><h3 id=основные-сведения>Основные сведения</h3><p>Скрипт дополнения ввода kubectl для Bash может быть сгенерирован с помощью команды <code>kubectl completion bash</code>. Подключение скрипта дополнения ввода в вашу оболочку включает поддержку автозаполнения ввода для kubectl.</p><p>Однако скрипт дополнения ввода зависит от <a href=https://github.com/scop/bash-completion><strong>bash-completion</strong></a>, поэтому вам нужно сначала установить этот пакет (вы можете выполнить команду <code>type _init_completion</code>, чтобы проверить, установлен ли у вас уже bash-completion).</p><h3 id=установка-bash-completion>Установка bash-completion</h3><p>bash-completion можно установить через многие менеджеры пакеты (см. <a href=https://github.com/scop/bash-completion#installation>здесь</a>). Вы можете установить его с помощью <code>apt-get install bash-completion</code> или <code>yum install bash-completion</code> и т.д.</p><p>Приведенные выше команды создадут файл <code>/usr/share/bash-completion/bash_completion</code>, который является основным скриптом bash-completion. В зависимости от используемого менеджера пакетов, вы можете подключить этот файл в файле <code>~/.bashrc</code>.</p><p>Чтобы убедиться, что этот скрипт выполняется, перезагрузите оболочку и выполните команду <code>type _init_completion</code>. Если команда отработала успешно, установка сделана правильно, в противном случае добавьте следующее содержимое в файл <code>~/.bashrc</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>source</span> /usr/share/bash-completion/bash_completion
</span></span></code></pre></div><p>Перезагрузите вашу оболочку и убедитесь, что bash-completion правильно установлен, напечатав в терминале <code>type _init_completion</code>.</p><h3 id=включение-автодополнения-ввода-kubectl>Включение автодополнения ввода kubectl</h3><p>Теперь нужно убедиться, что скрипт дополнения ввода kubectl выполняется во всех сессиях командной оболочки. Есть два способа сделать это:</p><ul><li><p>Добавьте запуск скрипта дополнения ввода в файл <code>~/.bashrc</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;source &lt;(kubectl completion bash)&#39;</span> &gt;&gt;~/.bashrc
</span></span></code></pre></div></li><li><p>Добавьте скрипт дополнения ввода в директорию <code>/etc/bash_completion.d</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl completion bash &gt;/etc/bash_completion.d/kubectl
</span></span></code></pre></div></li><li><p>Если у вас определён псевдоним для kubectl, вы можете интегрировать его с автодополнением оболочки:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.bashrc
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;complete -F __start_kubectl k&#39;</span> &gt;&gt;~/.bashrc
</span></span></code></pre></div></li></ul><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Все скрипты дополнения ввода bash-completion находятся в <code>/etc/bash_completion.d</code>.</div><p>Оба подхода эквивалентны. После перезагрузки вашей оболочки, должны появляться дополнения ввода kubectl.</p></div><div id=kubectl-autocompletion-1 class=tab-pane role=tabpanel aria-labelledby=kubectl-autocompletion-1><p><h3 id=основные-сведения>Основные сведения</h3><p>Скрипт дополнения ввода kubectl для Bash может быть сгенерирован с помощью команды <code>kubectl completion bash</code>. Подключение скрипта дополнения ввода в вашей оболочке включает поддержку автозаполнения ввода для kubectl.</p><p>Однако скрипт дополнения ввода kubectl зависит от пакета <a href=https://github.com/scop/bash-completion><strong>bash-completion</strong></a>, который первым делом нужно установить.</p><div class="alert alert-danger warning callout" role=alert><strong>Предупреждение:</strong> Есть две версии bash-completion: первая (v1) и вторая (v2). Первая предназначена для Bash 3.2 (который используется по умолчанию в macOS), а вторая — для Bash 4.1+. Скрипт дополнения ввода kubectl <strong>не работает</strong> корректно с bash-completion v1 и Bash 3.2. Требуется <strong>bash-completion v2</strong> и <strong>Bash 4.1+</strong>. Таким образом, чтобы правильно использовать дополнение kubectl в macOS, вам нужно установить и использовать Bash 4.1+ (<a href=https://itnext.io/upgrading-bash-on-macos-7138bd1066ba><em>инструкции по обновлению</em></a>). Последующие шаги предполагают, что вы используете Bash 4.1+ (то есть любую версию Bash 4.1 или более новую).</div><h3 id=установка-bash-completion>Установка bash-completion</h3><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Как уже упоминалось, в этих инструкциях предполагается, что вы используете Bash 4.1+, поэтому вы устанавливаете bash-completion v2 (а не Bash 3.2 и bash-completion v1, в таком случае дополнение ввода kubectl не будет работать).</div><p>Вы можете проверить, установлен ли у вас bash-completion v2, набрав команду <code>type _init_completion</code>. Если он не установлен, вы можете сделать это с помощью Homebrew:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install bash-completion@2
</span></span></code></pre></div><p>Как указано в выводе этой команды, добавьте следующий код в файл <code>~/.bashrc</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>BASH_COMPLETION_COMPAT_DIR</span><span style=color:#666>=</span><span style=color:#b44>&#34;/usr/local/etc/bash_completion.d&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>[[</span> -r <span style=color:#b44>&#34;/usr/local/etc/profile.d/bash_completion.sh&#34;</span> <span style=color:#666>]]</span> <span style=color:#666>&amp;&amp;</span> . <span style=color:#b44>&#34;/usr/local/etc/profile.d/bash_completion.sh&#34;</span>
</span></span></code></pre></div><p>Перезагрузите вашу командную оболочку и убедитесь, что bash-completion v2 корректно установлен, напечатав в терминале <code>type _init_completion</code>.</p><h3 id=включение-автодополнения-ввода-kubectl>Включение автодополнения ввода kubectl</h3><p>Теперь нужно убедиться, что скрипт дополнения ввода kubectl выполняется во всех сессиях командной оболочки. Есть два способа сделать это:</p><ul><li><p>Добавьте запуск скрипта дополнения ввода в файл <code>~/.bashrc</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;source &lt;(kubectl completion bash)&#39;</span> &gt;&gt;~/.bashrc
</span></span></code></pre></div></li><li><p>Добавьте скрипт дополнения ввода в директорию <code>/etc/bash_completion.d</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl completion bash &gt;/usr/local/etc/bash_completion.d/kubectl
</span></span></code></pre></div></li><li><p>Если у вас определён псевдоним для kubectl, вы можете интегрировать его с автодополнением оболочки:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.bashrc
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;complete -F __start_kubectl k&#39;</span> &gt;&gt;~/.bashrc
</span></span></code></pre></div></li></ul><p>Если вы установили kubectl с помощью Homebrew (как описано <a href=#install-with-homebrew-on-macos>выше</a>), то скрипт дополнения ввода kubectl уже должен быть находится в <code>/usr/local/etc/bash_completion.d/kubectl</code>. В этом случае вам не нужно ничего делать.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Homebrew устанавливает bash-completion v2 в директорию <code>BASH_COMPLETION_COMPAT_DIR</code>, что делает рабочими два метода.</div><p>Какой вариант бы вы не выбрали, после перезагрузки командной оболочки, дополнение ввода kubectl должно заработать.</p></div><div id=kubectl-autocompletion-2 class=tab-pane role=tabpanel aria-labelledby=kubectl-autocompletion-2><p><p>Скрипт дополнения ввода kubectl для Zsh может быть сгенерирован с помощью команды <code>kubectl completion zsh</code>. Подключение скрипта дополнения ввода в вашу оболочку включает поддержку автозаполнения ввода для kubectl.</p><p>Чтобы подключить его во все сессии командной оболочки, добавьте следующую строчку в файл <code>~/.zshrc</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>source</span> &lt;<span style=color:#666>(</span>kubectl completion zsh<span style=color:#666>)</span>
</span></span></code></pre></div><p>Если у вас определён псевдоним для kubectl, вы можете интегрировать его с автодополнением оболочки:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;alias k=kubectl&#39;</span> &gt;&gt;~/.zshrc
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#39;compdef __start_kubectl k&#39;</span> &gt;&gt;~/.zshrc
</span></span></code></pre></div><p>После перезагрузки командной оболочки должны появляться дополнения ввода kubectl.</p><p>Если появляется такая ошибка как <code>complete:13: command not found: compdef</code>, то добавьте следующее содержимое в начало вашего файла <code>~/.zshrc</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>autoload -Uz compinit
</span></span><span style=display:flex><span>compinit
</span></span></code></pre></div></div></div><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/tasks/tools/install-minikube/>Установка Minikube</a></li><li>Смотрите <a href=/docs/setup/>руководства по установке</a>, чтобы узнать больше про создание кластеров.</li><li><a href=/docs/tasks/access-application-cluster/service-access-application-cluster/>Learn how to launch and expose your application.</a></li><li>Если у вас нет доступа к кластеру, который не создавали, посмотрите страницу <a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>Совместный доступ к кластеру</a>.</li><li>Read the <a href=/docs/reference/kubectl/kubectl/>kubectl reference docs</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-2142bfe0834f1bf8f47887f85adba495>2 - Установка Minikube</h1><p>На этой странице рассказано, как установить <a href=/ru/docs/tutorials/hello-minikube>Minikube</a>, инструмент для запуска одноузлового кластера Kubernetes на виртуальной машине в персональном компьютере.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><ul class="nav nav-tabs" id=minikube-before-you-begin role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#minikube-before-you-begin-0 role=tab aria-controls=minikube-before-you-begin-0 aria-selected=true>Linux</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#minikube-before-you-begin-1 role=tab aria-controls=minikube-before-you-begin-1>macOS</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#minikube-before-you-begin-2 role=tab aria-controls=minikube-before-you-begin-2>Windows</a></li></ul><div class=tab-content id=minikube-before-you-begin><div id=minikube-before-you-begin-0 class="tab-pane show active" role=tabpanel aria-labelledby=minikube-before-you-begin-0><p><p>Чтобы проверить, поддерживается ли виртуализация в Linux, выполните следующую команду и проверьте, что вывод не пустой:</p><pre tabindex=0><code>grep -E --color &#39;vmx|svm&#39; /proc/cpuinfo
</code></pre></div><div id=minikube-before-you-begin-1 class=tab-pane role=tabpanel aria-labelledby=minikube-before-you-begin-1><p><p>Чтобы проверить, поддерживается ли виртуализация в macOS, выполните следующую команду в терминале:</p><pre tabindex=0><code>sysctl -a | grep -E --color &#39;machdep.cpu.features|VMX&#39;
</code></pre><p>Если вы видите <code>VMX</code> в выводе (должен быть окрашенным), значит в вашем компьютере поддерживается виртуализация VT-x.</p></div><div id=minikube-before-you-begin-2 class=tab-pane role=tabpanel aria-labelledby=minikube-before-you-begin-2><p><p>Чтобы проверить, поддерживается ли виртуализация в Windows 8 и выше, выполните следующую команду в Windows Terminal или в командной строке.</p><pre tabindex=0><code>systeminfo
</code></pre><p>Если вы видите следующий вывод, значит виртуализация поддерживается в Windows.</p><pre tabindex=0><code>Hyper-V Requirements:     VM Monitor Mode Extensions: Yes
                          Virtualization Enabled In Firmware: Yes
                          Second Level Address Translation: Yes
                          Data Execution Prevention Available: Yes
</code></pre><p>Если вы видите следующий вывод, значит системе уже установлен гипервизор, значит вы можете пропустить следующий шаг установке гипервизора.</p><pre tabindex=0><code>Hyper-V Requirements:     A hypervisor has been detected. Features required for Hyper-V will not be displayed.
</code></pre></div></div><h2 id=установка-minikube>Установка minikube</h2><ul class="nav nav-tabs" id=tab-with-md role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-md-0 role=tab aria-controls=tab-with-md-0 aria-selected=true>Linux</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-md-1 role=tab aria-controls=tab-with-md-1>macOS</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-md-2 role=tab aria-controls=tab-with-md-2>Windows</a></li></ul><div class=tab-content id=tab-with-md><div id=tab-with-md-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-md-0><p><h3 id=установка-kubectl>Установка kubectl</h3><p>Убедитесь, что у вас установлен kubectl. Вы можете установить kubectl согласно инструкциям в разделе <a href=/ru/docs/tasks/tools/install-kubectl/#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-kubectl-%D0%B2-linux>Установка и настройка kubectl</a>.</p><h3 id=установка-hypervisor>Установка Hypervisor</h3><p>Если у вас ещё не установлен гипервизор, установите один из них:</p><p>• <a href=https://www.linux-kvm.org/>KVM</a>, который также использует QEMU</p><p>• <a href=https://www.virtualbox.org/wiki/Downloads>VirtualBox</a></p><p>Minikube также поддерживает опцию <code>--vm-driver=none</code>, которая запускает компоненты Kubernetes на хосте, а не на виртуальной машине.
Для использования этого драйвера требуется только <a href=https://www.docker.com/products/docker-desktop>Docker</a> и Linux, но не гипервизор.</p><p>Если вы используете драйвер <code>none</code> в Debian и его производных, используйте пакеты <code>.deb</code> для Docker, а не snap-пакет, который не работает с Minikube.
Вы можете скачать <code>.deb</code>-пакеты с сайта <a href=https://www.docker.com/products/docker-desktop>Docker</a>.</p><div class="alert alert-warning caution callout" role=alert><strong>Внимание:</strong> Драйвера виртуальной машины <code>none</code> может привести к проблемам безопасности и потери данных. Перед использованием <code>--vm-driver=none</code> обратитесь к <a href=https://minikube.sigs.k8s.io/docs/reference/drivers/none/>этой документации</a> для получения дополнительной информации.</div><p>Minikube также поддерживает <code>vm-driver=podman</code>, похожий на драйвер Docker. Podman, работающий с правами суперпользователя (пользователь root) — это лучший способ гарантировать вашим контейнерам полный доступ ко всем возможностям в системе.</p><div class="alert alert-warning caution callout" role=alert><strong>Внимание:</strong> Драйвер <code>podman</code> должен запускать контейнеры от имени суперпользователя, поскольку у обычных аккаунтов нет полного доступа ко всем возможностям операционной системы, которые могут понадобиться контейнерам для работы.</div><h3 id=установка-minikube-через-пакет>Установка Minikube через пакет</h3><p>Доступны <em>экспериментальные</em> пакеты для Minikube; Вы можете загрузить пакеты для Linux (AMD64) со страницы <a href=https://github.com/kubernetes/minikube/releases>релизов</a> Minikube на GitHub.</p><p>Используйте пакетный менеджер в вашем дистрибутиве Linux для установки нужного пакета.</p><h3 id=установка-minikube-с-помощью-прямой-ссылки>Установка Minikube с помощью прямой ссылки</h3><p>Вы также можете загрузить двоичный файл и использовать его вместо установки пакета:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>  <span style=color:#666>&amp;&amp;</span> chmod +x minikube
</span></span></code></pre></div><p>Чтобы исполняемый файл Minikube был доступен из любой директории выполните следующие команды:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo mkdir -p /usr/local/bin/
</span></span><span style=display:flex><span>sudo install minikube /usr/local/bin/
</span></span></code></pre></div><h3 id=установка-minikube-через-homebrew>Установка Minikube через Homebrew</h3><p>В качестве ещё одной альтернативы вы можете установить Minikube с помощью Linux <a href=https://docs.brew.sh/Homebrew-on-Linux>Homebrew</a>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install minikube
</span></span></code></pre></div></div><div id=tab-with-md-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-md-1><p><h3 id=установка-kubectl>Установка kubectl</h3><p>Убедитесь, что у вас установлен kubectl. Вы можете установить kubectl согласно инструкциям в разделе <a href=/ru/docs/tasks/tools/install-kubectl/#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-kubectl-%D0%B2-macos>Установка и настройка kubectl</a>.</p><h3 id=установка-hypervisor>Установка Hypervisor</h3><p>Если у вас ещё не установлен гипервизор, установите один из них:</p><p>• <a href=https://github.com/moby/hyperkit>HyperKit</a></p><p>• <a href=https://www.virtualbox.org/wiki/Downloads>VirtualBox</a></p><p>• <a href=https://www.vmware.com/products/fusion>VMware Fusion</a></p><h3 id=установка-minikube>Установка Minikube</h3><p>Простейший способ установить Minikube в macOS — использовать <a href=https://brew.sh>Homebrew</a>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>brew install minikube
</span></span></code></pre></div><p>Вы также можете установить его в macOS, загрузив двоичный файл:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-amd64 <span style=color:#b62;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#b62;font-weight:700></span>  <span style=color:#666>&amp;&amp;</span> chmod +x minikube
</span></span></code></pre></div><p>Чтобы исполняемый файл Minikube был доступен из любой директории выполните следующие команды:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo mv minikube /usr/local/bin
</span></span></code></pre></div></div><div id=tab-with-md-2 class=tab-pane role=tabpanel aria-labelledby=tab-with-md-2><p><h3 id=установка-kubectl>Установка kubectl</h3><p>Убедитесь, что у вас установлен kubectl. Вы можете установить kubectl согласно инструкциям в разделе <a href=/ru/docs/tasks/tools/install-kubectl/#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-kubectl-%D0%B2-windows>Установка и настройка kubectl</a>.</p><h3 id=установка-hypervisor>Установка Hypervisor</h3><p>Если у вас ещё не установлен гипервизор, установите один из них:</p><p>• <a href=https://msdn.microsoft.com/en-us/virtualization/hyperv_on_windows/quick_start/walkthrough_install>Hyper-V</a></p><p>• <a href=https://www.virtualbox.org/wiki/Downloads>VirtualBox</a></p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Hyper-V может работать в трёх версиях Windows 10: Windows 10 Enterprise, Windows 10 Professional и Windows 10 Education.</div><h3 id=установка-minikube-с-помощью-chocolatey>Установка Minikube с помощью Chocolatey</h3><p>Простейший способ установить Minikube в Windows — использовать <a href=https://chocolatey.org/>Chocolatey</a> (запущенный с правами администратора):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>choco install minikube
</span></span></code></pre></div><p>После установки Minikube нужно перезапустить терминал. Minikube должен быть автоматически добавлен в директорию с исполняемыми файлами.</p><h3 id=установка-minikube-с-помощью-исполняемого-файла-установки>Установка Minikube с помощью исполняемого файла установки</h3><p>Для ручной установки Minikube в Windows с помощью <a href=https://docs.microsoft.com/en-us/windows/desktop/msi/windows-installer-portal>установщика Windows</a>, загрузите и запустите установщик <a href=https://github.com/kubernetes/minikube/releases/latest/download/minikube-installer.exe><code>minikube-installer.exe</code></a>.</p><h3 id=установка-minikube-с-помощью-прямой-ссылки>Установка Minikube с помощью прямой ссылки</h3><p>Для ручной установки Minikube в Windows, загрузите <a href=https://github.com/kubernetes/minikube/releases/latest><code>minikube-windows-amd64</code></a>, переименуйте его в <code>minikube.exe</code> и добавьте его в директорию исполняемых файлов.</p></div></div><h2 id=проверка-установки>Проверка установки</h2><p>Чтобы убедиться в том, что гипервизор и Minikube были установлены корректно, выполните следующую команду, которая запускает локальный кластер Kubernetes:</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Для использования опции <code>--vm-driver</code> с командой <code>minikube start</code> укажите имя установленного вами гипервизора в нижнем регистре в заполнителе <code>&lt;driver_name></code> команды ниже. Полный список значений для опции <code>--vm-driver</code> перечислен в разделе по <a href=/ru/docs/setup/learning-environment/minikube/#%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0-%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D1%8B>указанию драйвера виртуальной машины</a>.</div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>minikube start --vm-driver<span style=color:#666>=</span>&lt;driver_name&gt;
</span></span></code></pre></div><p>После того, как команда <code>minikube start</code> отработала успешно, выполните команду для проверки состояния кластера:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>minikube status
</span></span></code></pre></div><p>Если ваш кластер запущен, то в выводе команды <code>minikube status</code> должно быть что-то вроде этого:</p><pre tabindex=0><code>host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured
</code></pre><p>Теперь, когда вы убедились, что Minikube работает с выбранным вами гипервизором, вы можете продолжить использовать Minikube или остановить кластер. Чтобы остановить кластер выполните команду ниже:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>minikube stop
</span></span></code></pre></div><h2 id=cleanup-local-state>Очистка локального состояния</h2><p>Если вы уже установили Minikube, то выполните следующую команду:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>minikube start
</span></span></code></pre></div><p>В таком случае команда <code>minikube start</code> вернёт ошибку:</p><pre tabindex=0><code>machine does not exist
</code></pre><p>Чтобы исправить это, нужно очистить локальное состояние:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>minikube delete
</span></span></code></pre></div><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/setup/learning-environment/minikube/>Локальный запуск Kubernetes при помощи Minikube</a></li></ul></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/ru/docs/home/>Главная</a>
<a class=text-white href=/ru/community/>Сообщество</a>
<a class=text-white href=/ru/case-studies/>Примеры использования</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 Авторы Kubernetes | Документация распространяется под лицензией <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. Все права защищены. The Linux Foundation является зарегистрированной торговой маркой. Список торговых марок The Linux Foundation приведен на странице <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>использования торговых марок</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>