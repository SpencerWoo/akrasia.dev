<!doctype html><html lang=ru class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/contribute/generate-ref-docs/><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/contribute/generate-ref-docs/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/contribute/generate-ref-docs/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/contribute/generate-ref-docs/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/contribute/generate-ref-docs/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/ru/docs/contribute/generate-ref-docs/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Обзор справочной документации | Kubernetes</title><meta property="og:title" content="Обзор справочной документации"><meta property="og:description" content="Первоклассная оркестрация контейнеров"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/ru/docs/contribute/generate-ref-docs/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Обзор справочной документации"><meta itemprop=description content="Первоклассная оркестрация контейнеров"><meta name=twitter:card content="summary"><meta name=twitter:title content="Обзор справочной документации"><meta name=twitter:description content="Первоклассная оркестрация контейнеров"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="Темы в этом разделе описывают, как генерировать справочные руководства Kubernetes.
Для сборки справочной документации посмотрите следующий ресурс:
Краткое руководство по генерации справочной документации "><meta property="og:description" content="Темы в этом разделе описывают, как генерировать справочные руководства Kubernetes.
Для сборки справочной документации посмотрите следующий ресурс:
Краткое руководство по генерации справочной документации "><meta name=twitter:description content="Темы в этом разделе описывают, как генерировать справочные руководства Kubernetes.
Для сборки справочной документации посмотрите следующий ресурс:
Краткое руководство по генерации справочной документации "><meta property="og:url" content="https://kubernetes.io/ru/docs/contribute/generate-ref-docs/"><meta property="og:title" content="Обзор справочной документации"><meta name=twitter:title content="Обзор справочной документации"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/ru/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/ru/docs/>Документация</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ru/community/>Сообщество</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ru/case-studies/>Примеры использования</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versions</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/ru/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/ru/docs/contribute/generate-ref-docs/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/ru/docs/contribute/generate-ref-docs/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/ru/docs/contribute/generate-ref-docs/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/ru/docs/contribute/generate-ref-docs/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/ru/docs/contribute/generate-ref-docs/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Русский (Russian)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/contribute/generate-ref-docs/>English</a>
<a class=dropdown-item href=/zh-cn/docs/contribute/generate-ref-docs/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/contribute/generate-ref-docs/>한국어 (Korean)</a>
<a class=dropdown-item href=/fr/docs/contribute/generate-ref-docs/>Français (French)</a>
<a class=dropdown-item href=/es/docs/contribute/generate-ref-docs/>Español (Spanish)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Это многостраничный печатный вид этого раздела.
<a href=# onclick="return print(),!1">Нажмите что бы печатать</a>.</p><p><a href=/ru/docs/contribute/generate-ref-docs/>Вернуться к обычному просмотру страницы</a>.</p></div><h1 class=title>Обзор справочной документации</h1><ul><li>1: <a href=#pg-a5eac5b2b794f16aa703a2fa212d7c39>Участие в основном коде Kubernetes</a></li><li>2: <a href=#pg-f4f605fa4c2e23622d56b067ef56c239>Руководство по быстрому старту</a></li><li>3: <a href=#pg-6e4e78f20e40bac9bcad59941e974af6>Генерация справочной документации для API Kubernetes</a></li><li>4: <a href=#pg-03de26b330a5cfdb26672f6bc75dcc04>Генерация справочной документации для команд kubectl</a></li><li>5: <a href=#pg-28fc50a0072b0b2b444aa24e552d2e60>Генерация справочных страниц для компонентов и инструментов Kubernetes</a></li></ul><div class=content><p>Темы в этом разделе описывают, как генерировать справочные руководства Kubernetes.</p><p>Для сборки справочной документации посмотрите следующий ресурс:</p><ul><li><a href=/docs/contribute/generate-ref-docs/quickstart/>Краткое руководство по генерации справочной документации</a></li></ul></div></div><div class=td-content><h1 id=pg-a5eac5b2b794f16aa703a2fa212d7c39>1 - Участие в основном коде Kubernetes</h1><p>На этой странице показано, как поучаствовать в основном содержимом проекта <code>kubernetes/kubernetes</code>.
Вы можете исправить баги, найденные в документации по API Kubernetes или содержимом таких компонентов Kubernetes, как <code>kubeadm</code>, <code>kube-apiserver</code> и <code>kube-controller-manager</code>.</p><p>Если вместо этого вы хотите перегенерировать справочную документацию для API Kubernetes или компонентов с именем <code>kube-*</code> в основном коде, изучите следующие инструкции:</p><ul><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li></ul><h2 id=подготовка-к-работе>Подготовка к работе</h2><ul><li><p>Установленные инструменты:</p><ul><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://docs.docker.com/engine/installation/>Docker</a></li><li><a href=https://github.com/coreos/etcd/>etcd</a></li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li></ul></li><li><p>Созданная переменная окружения <code>GOPATH</code>, а путь к <code>etcd</code> должен быть прописан в переменной окружения <code>PATH</code>.</p></li><li><p>Вам необходимо знать, как создать пулреквест в репозитории на GitHub.
Это обычно предполагает создание копии репозитория.
Для получения дополнительной информации смотрите страницы <a href=https://help.github.com/articles/creating-a-pull-request/>Создание пулреквеста</a> и <a href=https://gist.github.com/Chaser324/ce0505fbed06b947d962>Стандартный рабочий процесс в GitHub по работе с копией и пулреквестом</a>.</p></li></ul><h2 id=рассмотрение-процесса-в-целом>Рассмотрение процесса в целом</h2><p>Справочная документация для API Kubernetes и таких компонентов с <code>kube-*</code>, как <code>kube-apiserver</code>, <code>kube-controller-manager</code>, автоматически генерируются из исходного кода в <a href=https://github.com/kubernetes/kubernetes/>основном репозитории Kubernetes</a>.</p><p>Если вы заметили баги в сгенерированной документации, попробуйте его исправить через пулреквест в основной проект.</p><h2 id=клонирование-репозитория-kubernetes>Клонирование репозитория Kubernetes</h2><p>Если вы ещё не склонировали репозиторий kubernetes/kubernetes, сделайте это:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir <span style=color:#b8860b>$GOPATH</span>/src
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> <span style=color:#b8860b>$GOPATH</span>/src
</span></span><span style=display:flex><span>go get github.com/kubernetes/kubernetes
</span></span></code></pre></div><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes/kubernetes</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;k8s-base></code>.</p><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>. Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;rdocs-base></code>.</p><h2 id=редактирование-исходного-кода-kubernetes>Редактирование исходного кода Kubernetes</h2><p>Справочная документация API Kubernetes генерируется автоматически из спецификации OpenAPI в исходном коде Kubernetes. Если вы хотите изменить справочную документацию API, сначала нужно изменить один или несколько комментариев в исходном коде Kubernetes.</p><p>Документация для компонентов <code>kube-*</code> также генерируется из основного исходного кода. Для изменения генерируемой документации вам нужно изменить соответствующий код компонента.</p><h3 id=внесение-изменений-в-основной-исходный-код>Внесение изменений в основной исходный код</h3><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Следующие шаги служат примером, а не общим порядком действий. Детали могут отличаться в вашей ситуации.</div><p>Рассмотрим пример редактирования комментария в исходном коде Kubernetes.</p><p>В вашем локальном репозитории kubernetes/kubernetes переключитесь на ветку master и проверьте, что она актуальна:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout master
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes master
</span></span></code></pre></div><p>Предположим, что в исходном файле в ветке master есть опечатка "atmost":</p><p><a href=https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/apps/v1/types.go>kubernetes/kubernetes/staging/src/k8s.io/api/apps/v1/types.go</a></p><p>В вашем локальном окружении откройте <code>types.go</code> и измените "atmost" на "at most".</p><p>Убедитесь, что вы изменили файл:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git status
</span></span></code></pre></div><p>Вывод этой команды покажет, что вы находитесь в ветке master и был изменён исходный файл <code>types.go</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>On branch master
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>    modified:   staging/src/k8s.io/api/apps/v1/types.go
</span></span></code></pre></div><h3 id=фиксация-отредактированного-файла>Фиксация отредактированного файла</h3><p>Выполните команду <code>git add</code> и <code>git commit</code>, чтобы зафиксировать внесенные вами изменения. На следующем шаге вы сделаете второй коммит. Следует отметить, что ваши изменения должны быть разделены на коммита.</p><h3 id=генерация-спецификации-openapi-и-сопутствующих-файлов>Генерация спецификации OpenAPI и сопутствующих файлов</h3><p>Перейдите в директорию <code>&lt;k8s-base></code> и выполните следующие скрипты:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hack/update-generated-swagger-docs.sh
</span></span><span style=display:flex><span>hack/update-openapi-spec.sh
</span></span><span style=display:flex><span>hack/update-generated-protobuf.sh
</span></span></code></pre></div><p>Выполните команду <code>git status</code>, чтобы посмотреть, какие файлы изменились.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>On branch master
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>    modified:   api/openapi-spec/swagger.json
</span></span><span style=display:flex><span>    modified:   api/openapi-spec/v3/apis__apps__v1_openapi.json
</span></span><span style=display:flex><span>    modified:   pkg/generated/openapi/zz_generated.openapi.go
</span></span><span style=display:flex><span>    modified:   staging/src/k8s.io/api/apps/v1/generated.proto
</span></span><span style=display:flex><span>    modified:   staging/src/k8s.io/api/apps/v1/types_swagger_doc_generated.go
</span></span></code></pre></div><p>Изучите содержимое файла <code>api/openapi-spec/swagger.json</code>, чтобы убедиться в том, что опечатка была исправлена.
Например, для этого вы можете выполнить команду <code>git diff -a api/openapi-spec/swagger.json</code>.
Это важно, потому что изменённый файл <code>swagger.json</code> является результатом второй стадии процесса генерации документации.</p><p>Выполните команду <code>git add</code> и <code>git commit</code> для фиксации ваших изменения. Теперь вы можете увидеть два новых коммита:
первый содержит отредактированный файл <code>types.go</code>, а второй — сгенерированную спецификацию OpenAPI и сопутствующие файлы. Оформляйте эти изменения в виде двух отдельных коммитов. Это означает, что не нужно объединять коммиты.</p><p>Отправьте свои изменения как <a href=https://help.github.com/articles/creating-a-pull-request/>пулреквест</a> в ветку master репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Отслеживайте пулреквест и по мере необходимости отвечайте на комментарии рецензента. Не забывайте отслеживать активность в пулреквест до тех пор, пока он не будет принят.</p><p><a href=https://github.com/kubernetes/kubernetes/pull/57758>PR 57758</a> — пример пулреквеста, который исправляет опечатку в исходном коде Kubernetes.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Не всегда легко правильно определить, какой исходный файл нужно изменить. В предыдущем примере нужный исходный файл находится в директории <code>staging</code> в репозитории <code>kubernetes/kubernetes</code>. Однако в вашей ситуации файл для изменения может находится в другом месте, нежели чем в директории <code>staging</code>. Для получения помощи изучите файлы <code>README</code> в репозитории <a href=https://github.com/kubernetes/kubernetes/tree/master/staging>kubernetes/kubernetes</a> и в смежных репозиториях, например, <a href=https://github.com/kubernetes/apiserver/blob/master/README.md>kubernetes/apiserver</a>.</div><h3 id=применение-вашего-коммита-в-ветку-выпуска>Применение вашего коммита в ветку выпуска</h3><p>В предыдущем разделе вы отредактировали файл в ветке master, а затем запустили скрипты для генерации спецификации OpenAPI и смежных файлов. Затем вы отправили свои изменения в виде пулреквеста в ветку master репозитория kubernetes/kubernetes. Теперь представим, что вам нужно бэкпортировать изменения в ветку выпуска. К примеру, ветка master используется для разработки Kubernetes версии 1.10, а вы хотите применить ваши изменения в ветке release-1.9.</p><p>Напомним, что в вашем пулреквесте есть два коммита: первый для редактирования <code>types.go</code>, а второй — для файлов, сгенерированных скриптами. Следующий шаг — применить сделанный вами первый коммит в ветку release-1.9. Суть в том, чтобы выбрать коммит, который изменяет файл <code>types.go</code>, а не коммит с результатами выполнения скриптов. За инструкциями обратитесь к странице <a href=https://git.k8s.io/community/contributors/devel/sig-release/cherry-picks.md>Propose a Cherry Pick</a>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Применение коммита требует наличия возможности добавить метку и этап в вашем пулреквесте. Если у вас нет таких разрешений, вам нужно переговорить с кем-то, кто может сделать это для вас.</div><p>Когда в вашем пулреквесте есть определённый коммит, который нужно применить в ветке release-1.9, вам нужно запустить перечисленные ниже скрипты в этой вете из вашего локального окружения.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hack/update-generated-swagger-docs.sh
</span></span><span style=display:flex><span>hack/update-openapi-spec.sh
</span></span><span style=display:flex><span>hack/update-generated-protobuf.sh
</span></span><span style=display:flex><span>hack/update-api-reference-docs.sh
</span></span></code></pre></div><p>Теперь зафиксируйте изменения в вашем пулреквесте с применённым коммитом, теперь там будет сгенерированная спецификация OpenAPI и связанные с ней файлы. Отслеживайте этот пулреквест до тех пор, пока он не будет объединен в ветке release-1.9.</p><p>Сейчас у вас и в ветке master, и в ветке release-1.9 есть обновленный файл <code>types.go</code> вместе с множеством сгенерированных файлов, в которых отражаются изменения, внесенные вами в <code>types.go</code>. Обратите внимание, что сгенерированная спецификация OpenAPI и другие сгенерированные файлы в ветке release-1.9 не обязательно совпадают с сгенерированными файлами в ветке master. Сгенерированные файлы в ветке release-1.9 содержат элементы API только из Kubernetes 1.9. Сгенерированные файлы в ветке master могут содержать элементы API не только для версии 1.9, но и для 1.10, которая ещё находится в разработке.</p><h2 id=генерация-справочной-документации>Генерация справочной документации</h2><p>В предыдущем разделе было показано, как отредактировать исходный файл, а затем сгенерировать несколько файлов, включая <code>api/openapi-spec/swagger.json</code> в репозитории <code>kubernetes/kubernetes</code>.
Файл <code>swagger.json</code> — это файл определения OpenAPI, который используется для генерации справочной документации API.</p><p>Теперь вы можете приступить к изучению руководству <a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a>, чтобы создать <a href=/docs/reference/generated/kubernetes-api/v1.25/>справочную документацию API Kubernetes</a>.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-f4f605fa4c2e23622d56b067ef56c239>2 - Руководство по быстрому старту</h1><p>На этой странице показано, как использовать скрипт <code>update-imported-docs</code> для генерации справочной документации Kubernetes. Скрипт автоматизирует настройку сборки и генерирует справочную документацию для выпуска.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><h3 id=требования>Требования:</h3><ul><li><p>Наличие компьютера под управлением ОС Linux или macOS.</p></li><li><p>Установленные следующие инструменты:</p><ul><li><a href=https://www.python.org/downloads/>Python</a> версии 3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://pypi.org/project/pip/>Pip</a>, который потребуется для установки PyYAML</li><li><a href=https://pyyaml.org/>PyYAML</a> версии 5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> (требуется только для справочника команды <code>kubectl</code>)</li></ul></li><li><p>В переменной окружении <code>PATH</code> должны прописаны пути до необходимых инструментов сборки, таких как <code>Go</code> и <code>python</code>.</p></li><li><p>Вам нужно знать, как создать пулреквест в репозитории на GitHub.
Для этого нужно создание собственной копии репозитория. Для получения дополнительной информации смотрите раздел <a href=/ru/docs/contribute/intermediate/#%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D0%B8%D0%B7-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8>Работа из локальной копии</a>.</p></li></ul><h2 id=получение-репозитория-документации>Получение репозитория документации</h2><p>Убедитесь, что ваша копия репозитория <code>website</code> обновлена в соответствии с оригинальным репозиторием <code>kubernetes/website</code>, а затем склонируйте вашу копию <code>website</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir github.com
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> github.com
</span></span><span style=display:flex><span>git clone git@github.com:&lt;your_github_username&gt;/website.git
</span></span></code></pre></div><p>Определите базовую директорию вашей копии. Например, при выполнении предыдущего блока команд, то базовой директорией будет <code>website</code>. Далее в этом руководстве базовая директория в командах будет обозначаться <code>&lt;web-base></code>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Если вы хотите изменить контент инструментов компонента и справочник API, посмотрите <a href=/docs/contribute/generate-ref-docs/contribute-upstream>руководство по участию в оригинальной документации</a>.</div><h2 id=краткий-обзор-update-imported-docs>Краткий обзор update-imported-docs</h2><p>Скрипт <code>update-imported-docs</code> находится в директории <code>&lt;web-base>/update-imported-docs/</code>.</p><p>Этот скрипт генерирует следующие справочники:</p><ul><li>Справочные страницы для компонентов и инструментов</li><li>Справочник команды <code>kubectl</code></li><li>API-справочник Kubernetes</li></ul><p>Скрипт <code>update-imported-docs</code> генерирует справочную документацию Kubernetes из исходного кода Kubernetes. Скрипт создает временную директорию <code>/tmp</code> на вашем компьютере и клонирует необходимые репозитории в эту директорию: <code>kubernetes/kubernetes</code> и <code>kubernetes-sigs/reference-docs</code>.
Скрипт добавляет путь временной директории в переменную окружения <code>GOPATH</code>.
Кроме этого определяются три дополнительные переменные среды:</p><ul><li><code>K8S_RELEASE</code></li><li><code>K8S_ROOT</code></li><li><code>K8S_WEBROOT</code></li></ul><p>Для успешного выполнения скрипта нужно передать два аргумента:</p><ul><li>Конфигурационный файл в формате YAML (<code>reference.yml</code>)</li><li>Версия выпуска, например, <code>1.17</code></li></ul><p>Конфигурационный файл содержит поле <code>generate-command</code>.
Поле <code>generate-command</code> определяет ряд инструкций для сборки из <code>kubernetes-sigs/reference-docs/Makefile</code>. Переменная <code>K8S_RELEASE</code> определяет версию выпуска.</p><p>Скрипт <code>update-imported-docs</code> выполняет следующие шаги:</p><ol><li>Клонирует репозитории, указанные в конфигурационном файле. Для генерации справочной документации клонируемым репозиторием по умолчанию является <code>kubernetes-sigs/reference-docs</code>.</li><li>Запускает команды в клонированных репозиториях для подготовки генератора документации, а затем генерирует файлы HTML и Markdown.</li><li>Копирует сгенерированные файлы HTML и Markdown в локальную копию репозитория <code>&lt;web-base></code> в директории, указанные в конфигурационном файле.</li><li>Обновляет ссылки на команды <code>kubectl</code> из <code>kubectl</code>.md, ссылаясь на разделы в справочнике по команде <code>kubectl</code>.
.
Когда сгенерированные файлы находятся в вашем локальной копии репозитория <code>&lt;web-base></code>, вы можете отправить их в виде <a href=/ru/docs/contribute/start/>пулреквеста</a> в оригинальный репозиторий <code>&lt;web-base></code>.</li></ol><h2 id=формат-конфигурационного-файла>Формат конфигурационного файла</h2><p>Каждый конфигурационный файл может содержать несколько репозиториев, которые будут импортированы вместе. При необходимости вы можете вручную изменить конфигурационный файл. Вы можете создавать новые конфигурационные файлы для импорта других групп документации.
Ниже приведен пример файла конфигурации в формате YAML:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>repos</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>community<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>remote</span>:<span style=color:#bbb> </span>https://github.com/kubernetes/community.git<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>branch</span>:<span style=color:#bbb> </span>master<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>contributors/devel/README.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>docs/imported/community/devel.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>contributors/guide/README.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>docs/imported/community/guide.md<span style=color:#bbb>
</span></span></span></code></pre></div><p>Каждый Markdown-файл документации, импортированный инструментом, должен соответствовать <a href=/docs/contribute/style/style-guide/>руководству по оформлению документации</a>.</p><h2 id=настройка-reference-yml>Настройка reference.yml</h2><p>Откройте файл <code>&lt;web-base>/update-imported-docs/reference.yml</code> для редактирования.
Не изменяйте значение в поле <code>generate-command</code>, если не понимаете, как эта команда используется для сборки справочников.
Вам нет необходимости править файл <code>reference.yml</code>. В некоторых случаях изменения в исходном коде основного репозитория могут потребовать внесения изменений в конфигурационный файл (например, зависимости версий golang и изменения сторонних библиотек).
Если у вас возникли проблемы со сборкой, обратитесь за помощью к команде SIG-Docs на канале <a href=https://kubernetes.slack.com>#sig-docs в Slack Kubernetes</a>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Команда <code>generate-command</code> является необязательной, её можно использовать для выполнения указанной команды или небольшого скрипта, чтобы сгенерировать документацию из репозитория.</div><p>В файле <code>reference.yml</code> секция <code>files</code> содержат список полей <code>src</code> и <code>dst</code>.
В поле <code>src</code> хранится путь к сгенерированному Markdown-файлу в клонированной директории сборки <code>kubernetes-sigs/reference-docs</code>, а поле <code>dst</code> определяет, куда скопировать этот файл в клонированном репозитории <code>kubernetes/website</code>.
Например:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>repos</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>reference-docs<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>remote</span>:<span style=color:#bbb> </span>https://github.com/kubernetes-sigs/reference-docs.git<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>gen-compdocs/build/kube-apiserver.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>content/en/docs/reference/command-line-tools-reference/kube-apiserver.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></span></span></code></pre></div><p>Обратите внимание, что в случае наличия множества файлов, которые нужно скопировать из одной директории в другую, то для это можете воспользоваться подстановочными знаки в поле <code>src</code>. Вам нужно указать имя директории в поле <code>dst</code>.
Например:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>gen-compdocs/build/kubeadm*.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>content/en/docs/reference/setup-tools/kubeadm/generated/<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=запуск-инструмента-update-imported-docs>Запуск инструмента update-imported-docs</h2><p>Вы можете запустить инструмент <code>update-imported-docs</code> следующим образом:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;/update-imported-docs
</span></span><span style=display:flex><span>./update-imported-docs &lt;configuration-file.yml&gt; &lt;release-version&gt;
</span></span></code></pre></div><p>Например:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>./update-imported-docs reference.yml 1.17
</span></span></code></pre></div><h2 id=исправление-ссылок>Исправление ссылок</h2><p>Конфигурационный файл <code>release.yml</code> содержит инструкции по исправлению относительных ссылок
Для исправления относительных ссылок в импортированных файлах, установите для свойство <code>gen-absolute-links</code> в значение <code>true</code>. В качестве примера можете посмотреть файл <a href=https://github.com/kubernetes/website/blob/main/update-imported-docs/release.yml><code>release.yml</code></a>.</p><h2 id=внесение-изменений-в-kubernetes-website>Внесение изменений в kubernetes/website</h2><p>Список сгенерированных и скопированных файлов в <code>&lt;web-base></code> можно узнать, как показано ниже:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>В выводе команды будут показаны новые и измененные файлы. Полученный вывод может отличаться в зависимости от изменений основного исходного кода.</p><h3 id=сгенерированные-файлы-инструментом>Сгенерированные файлы инструментом</h3><pre tabindex=0><code>content/en/docs/reference/command-line-tools-reference/cloud-controller-manager.md
content/en/docs/reference/command-line-tools-reference/kube-apiserver.md
content/en/docs/reference/command-line-tools-reference/kube-controller-manager.md
content/en/docs/reference/command-line-tools-reference/kube-proxy.md
content/en/docs/reference/command-line-tools-reference/kube-scheduler.md
content/en/docs/reference/setup-tools/kubeadm/generated/kubeadm.md
content/en/docs/reference/kubectl/kubectl.md
</code></pre><h3 id=сгенерированные-справочные-файлы-для-команды-kubectl>Сгенерированные справочные файлы для команды kubectl</h3><pre tabindex=0><code>static/docs/reference/generated/kubectl/kubectl-commands.html
static/docs/reference/generated/kubectl/navData.js
static/docs/reference/generated/kubectl/scroll.js
static/docs/reference/generated/kubectl/stylesheet.css
static/docs/reference/generated/kubectl/tabvisibility.js
static/docs/reference/generated/kubectl/node_modules/bootstrap/dist/css/bootstrap.min.css
static/docs/reference/generated/kubectl/node_modules/highlight.js/styles/default.css
static/docs/reference/generated/kubectl/node_modules/jquery.scrollto/jquery.scrollTo.min.js
static/docs/reference/generated/kubectl/node_modules/jquery/dist/jquery.min.js
static/docs/reference/generated/kubectl/css/font-awesome.min.css
</code></pre><h3 id=сгенерированные-файлы-и-директории-для-справочника-api-kubernetes>Сгенерированные файлы и директории для справочника API Kubernetes</h3><pre tabindex=0><code>static/docs/reference/generated/kubernetes-api/v1.17/index.html
static/docs/reference/generated/kubernetes-api/v1.17/js/navData.js
static/docs/reference/generated/kubernetes-api/v1.17/js/scroll.js
static/docs/reference/generated/kubernetes-api/v1.17/js/query.scrollTo.min.js
static/docs/reference/generated/kubernetes-api/v1.17/css/font-awesome.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/bootstrap.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/stylesheet.css
static/docs/reference/generated/kubernetes-api/v1.17/fonts/FontAwesome.otf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.eot
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.svg
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.ttf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff2
</code></pre><p>Выполните <code>git add</code> и <code>git commit</code>, чтобы зафиксировать файлы в репозитории.</p><h2 id=создание-пулреквеста>Создание пулреквеста</h2><p>Создайте пулреквест в репозиторий <code>kubernetes/website</code>. Отслеживайте свой пулреквест и при необходимости отвечайте на комментарии. Не забывайте отслеживать активность в собственном пулреквесте до тех пор, пока он не будет принят.</p><p>Спустя несколько минут после принятия вашего пулреквеста, обновленные темы справочника будут отображены в <a href=/ru/docs/home/>документации</a>.</p><h2 id=что-дальше>Что дальше</h2><p>Для генерации отдельной взятой справочной документации путём ручной настройки необходимых репозиториев сборки и выполнении скриптов сборки обратитесь к следующим руководствам:</p><ul><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6e4e78f20e40bac9bcad59941e974af6>3 - Генерация справочной документации для API Kubernetes</h1><p>На этой странице рассказывается про обновление справочной документации по API Kubernetes.</p><p>Справочная документация по API Kubernetes собирается из <a href=https://github.com/kubernetes/kubernetes/blob/master/api/openapi-spec/swagger.json>спецификации OpenAPI Kubernetes</a> с использованием инструмента генерации <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>.</p><p>Если вы нашли баги в сгенерированной документации, то можете <a href=/docs/contribute/generate-ref-docs/contribute-upstream/>исправить их в основном коде</a>.</p><p>Продолжайте чтение данной странице, если вы хотите перегенерировать справочную документацию из спецификации <a href=https://github.com/OAI/OpenAPI-Specification>OpenAPI</a>.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><h3 id=требования>Требования:</h3><ul><li><p>Наличие компьютера под управлением ОС Linux или macOS.</p></li><li><p>Установленные следующие инструменты:</p><ul><li><a href=https://www.python.org/downloads/>Python</a> версии 3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://pypi.org/project/pip/>Pip</a>, который потребуется для установки PyYAML</li><li><a href=https://pyyaml.org/>PyYAML</a> версии 5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> (требуется только для справочника команды <code>kubectl</code>)</li></ul></li><li><p>В переменной окружении <code>PATH</code> должны прописаны пути до необходимых инструментов сборки, таких как <code>Go</code> и <code>python</code>.</p></li><li><p>Вам нужно знать, как создать пулреквест в репозитории на GitHub.
Для этого нужно создание собственной копии репозитория. Для получения дополнительной информации смотрите раздел <a href=/ru/docs/contribute/intermediate/#%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D0%B8%D0%B7-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8>Работа из локальной копии</a>.</p></li></ul><h2 id=настройка-локальных-репозиториев>Настройка локальных репозиториев</h2><p>Создайте рабочую область и определите переменную окружения <code>GOPATH</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p <span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>GOPATH</span><span style=color:#666>=</span><span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span></code></pre></div><p>Загрузите локальные копии следующих репозиториев:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go get -u github.com/kubernetes-sigs/reference-docs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>go get -u github.com/go-openapi/loads
</span></span><span style=display:flex><span>go get -u github.com/go-openapi/spec
</span></span></code></pre></div><p>Если у вас ещё нет копии репозитория kubernetes/website, клонируйте её на свой компьютер:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;your-username&gt;/website <span style=color:#b8860b>$GOPATH</span>/src/github.com/&lt;your-username&gt;/website
</span></span></code></pre></div><p>Склонируйте репозиторий kubernetes/kubernetes по пути k8s.io/kubernetes:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/kubernetes/kubernetes <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes
</span></span></code></pre></div><ul><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/k8s.io/kubernetes</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;k8s-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/website>kubernetes/website</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/&lt;your-username>/website</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;web-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;rdocs-base></code>.</p></li></ul><h2 id=генерация-справочной-документации-api>Генерация справочной документации API</h2><p>Далее в этом разделе рассматривается генерация <a href=/docs/reference/generated/kubernetes-api/v1.25/>справочной документации по API Kubernetes</a>.</p><h3 id=настройка-переменных-для-сборки>Настройка переменных для сборки</h3><ul><li><code>K8S_ROOT</code> со значением <code>&lt;k8s-base></code>.</li><li><code>K8S_WEBROOT</code> со значением <code>&lt;web-base></code>.</li><li><code>K8S_RELEASE</code> со значением нужной версии документации.
Например, если вы хотите собрать документацию для Kubernetes версии 1.17.0, определите переменную окружения <code>K8S_RELEASE</code> со значением 1.17.0.</li></ul><p>Примеры:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_WEBROOT</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#b8860b>GOPATH</span><span style=color:#b68;font-weight:700>}</span>/src/github.com/&lt;your-username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_ROOT</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#b8860b>GOPATH</span><span style=color:#b68;font-weight:700>}</span>/src/k8s.io/kubernetes
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_RELEASE</span><span style=color:#666>=</span>1.17.0
</span></span></code></pre></div><h3 id=создание-версионированной-директории-и-получение-open-api-spec>Создание версионированной директории и получение Open API spec</h3><p>Скрипт сборки <code>updateapispec</code> создает версионированную директорию для сборки.
После создания директории спецификация Open API генерируется из репозитория <code>&lt;k8s-base></code>. Таким образом версия конфигурационных файлов и спецификация Kubernetes Open API будут совпадать с версией выпуска.
Имя версионированной директории имеет следующий вид: <code>v&lt;major>_&lt;minor></code>.</p><p>В директории <code>&lt;rdocs-base></code> выполните следующий скрипт сборки:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make updateapispec
</span></span></code></pre></div><h3 id=сборка-справочной-документации-api>Сборка справочной документации API</h3><p>Скрипт сборки <code>copyapi</code> создает справочник API и копирует генерированные файлы в каталоги в <code>&lt;web-base></code>.
Выполните следующую команду в <code>&lt;rdocs-base></code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make copyapi
</span></span></code></pre></div><p>Убедитесь в том, что перечисленные ниже два файлы были сгенерированы:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-apidocs/build/index.html&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;index.html built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no index.html&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-apidocs/build/navData.js&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;navData.js built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no navData.js&#34;</span>
</span></span></code></pre></div><p>Перейдите в корень директории <code>&lt;web-base></code> и посмотрите, какие файлы были изменены:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>Вывод команды будет примерно следующим:</p><pre tabindex=0><code>static/docs/reference/generated/kubernetes-api/v1.17/css/bootstrap.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/font-awesome.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/stylesheet.css
static/docs/reference/generated/kubernetes-api/v1.17/fonts/FontAwesome.otf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.eot
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.svg
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.ttf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff2
static/docs/reference/generated/kubernetes-api/v1.17/index.html
static/docs/reference/generated/kubernetes-api/v1.17/js/jquery.scrollTo.min.js
static/docs/reference/generated/kubernetes-api/v1.17/js/navData.js
static/docs/reference/generated/kubernetes-api/v1.17/js/scroll.js
</code></pre><h2 id=обновление-указателя-api-справочника>Обновление указателя API-справочника</h2><p>При генерации справочной документации для нового выпуска в файле <code>&lt;web-base>/content/en/docs/reference/kubernetes-api/api-index.md</code> нужно прописать номер предстоящей версии.</p><ul><li><p>Откройте файл <code>&lt;web-base>/content/en/docs/reference/kubernetes-api/api-index.md</code> и обновите номер версии справочника API. Например:</p><pre tabindex=0><code>---
title: v1.17
---

[Kubernetes API v1.17](/docs/reference/generated/kubernetes-api/v1.17/)
</code></pre></li><li><p>Откройте файл <code>&lt;web-base>/content/en/docs/reference/_index.md</code> и добавьте ссылку на последний справочник API. Удалите самую старую версию справочника API.
В этом файле должно быть 5 ссылок на новейшие API-справочники.</p></li></ul><h2 id=тестирование-справочника-api-локально>Тестирование справочника API локально</h2><p>Соберите обновлённую версию API-справочника на своём компьютере.
Проверьте ваши изменения на <a href=http://localhost:1313/docs/reference/generated/kubernetes-api/v1.17/>локальной предварительной версии сайта</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>make docker-serve
</span></span></code></pre></div><h2 id=фиксация-изменений>Фиксация изменений</h2><p>В директории <code>&lt;web-base></code> выполните команду <code>git add</code> и <code>git commit</code> для фиксации изменений в репозитории.</p><p>Создайте пулреквест в репозиторий <code>kubernetes/website</code>. Отслеживайте свой пулреквест и при необходимости отвечайте на комментарии. Не забывайте отслеживать активность в собственном пулреквесте до тех пор, пока он не будет принят.</p><p>Отправьте свои изменения в виде <a href=/ru/docs/contribute/start/>пулреквеста</a> в репозиторий <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Отслеживайте изменения в пулреквесте и по мере необходимости отвечайте на комментарии рецензента. Не забывайте проверять пулреквест до тех пор, пока он не будет принят.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/quickstart/>Руководство по быстрому старту генерации справочной документации</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-03de26b330a5cfdb26672f6bc75dcc04>4 - Генерация справочной документации для команд kubectl</h1><p>На этой странице показано, как сгенерировать справочник для команды <code>kubectl</code>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> На этой странице показывается, как сгенерировать справочную документацию для таких <a href=/ru/docs/reference/generated/kubectl/kubectl-commands>команд kubectl</a>, как <a href=/ru/docs/reference/generated/kubectl/kubectl-commands#apply>kubectl apply</a> и <a href=/ru/docs/reference/generated/kubectl/kubectl-commands#taint>kubectl taint</a>.
Этот раздел не рассматривает генерацию справочной страницы для опций <a href=/ru/docs/reference/generated/kubectl/kubectl/>kubectl</a>. Инструкции по генерации справочной страницы опций kubectl смотрите в разделе <a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a>.</div><h2 id=подготовка-к-работе>Подготовка к работе</h2><h3 id=требования>Требования:</h3><ul><li><p>Наличие компьютера под управлением ОС Linux или macOS.</p></li><li><p>Установленные следующие инструменты:</p><ul><li><a href=https://www.python.org/downloads/>Python</a> версии 3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://pypi.org/project/pip/>Pip</a>, который потребуется для установки PyYAML</li><li><a href=https://pyyaml.org/>PyYAML</a> версии 5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> (требуется только для справочника команды <code>kubectl</code>)</li></ul></li><li><p>В переменной окружении <code>PATH</code> должны прописаны пути до необходимых инструментов сборки, таких как <code>Go</code> и <code>python</code>.</p></li><li><p>Вам нужно знать, как создать пулреквест в репозитории на GitHub.
Для этого нужно создание собственной копии репозитория. Для получения дополнительной информации смотрите раздел <a href=/ru/docs/contribute/intermediate/#%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D0%B8%D0%B7-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8>Работа из локальной копии</a>.</p></li></ul><h2 id=настройка-локальных-репозиториев>Настройка локальных репозиториев</h2><p>Создайте рабочую область и определите переменную окружения <code>GOPATH</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p <span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>GOPATH</span><span style=color:#666>=</span><span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span></code></pre></div><p>Загрузите локальные копии следующих репозиториев:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go get -u github.com/spf13/pflag
</span></span><span style=display:flex><span>go get -u github.com/spf13/cobra
</span></span><span style=display:flex><span>go get -u gopkg.in/yaml.v2
</span></span><span style=display:flex><span>go get -u kubernetes-sigs/reference-docs
</span></span></code></pre></div><p>Если у вас ещё нет копии репозитория kubernetes/website, клонируйте её на свой компьютер:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;your-username&gt;/website <span style=color:#b8860b>$GOPATH</span>/src/github.com/&lt;your-username&gt;/website
</span></span></code></pre></div><p>Склонируйте репозиторий kubernetes/kubernetes по пути k8s.io/kubernetes:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/kubernetes/kubernetes <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes
</span></span></code></pre></div><p>Удалите пакет spf13 в <code>$GOPATH/src/k8s.io/kubernetes/vendor/github.com</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>rm -rf <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes/vendor/github.com/spf13
</span></span></code></pre></div><p>В репозитории kubernetes/kubernetes использует исходный код <code>kubectl</code> и <code>kustomize</code>.</p><ul><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/k8s.io/kubernetes</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;k8s-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/website>kubernetes/website</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/&lt;your-username>/website</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;web-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;rdocs-base></code>.</p></li></ul><p>В вашем локальном репозитории k8s.io/kubernetes переключитесь в нужную вам ветку и убедитесь, что она в актуальном состоянии. Например, если вам нужно сгенерировать документацию для Kubernetes 1.17, вы можете использовать эти команды:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout v1.17.0
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes v1.17.0
</span></span></code></pre></div><p>Если вам не нужно изменять исходный код <code>kubectl</code>, следуйте инструкциям по <a href=#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85-%D0%B4%D0%BB%D1%8F-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B8>определению переменных сборки</a>.</p><h2 id=редактирование-исходного-кода-kubectl>Редактирование исходного кода kubectl</h2><p>Справочная документация по команде kubectl генерируется автоматически из исходного кода kubectl. Если вы хотите изменить справочную документацию, сначала измените один или несколько комментариев в исходном коде kubectl. Сделайте изменения в локальный репозиторий kubernetes/kubernetes, а затем отправьте пулреквест в ветку master репозитория <a href=https://github.com/kubernetes/kubernetes>github.com/kubernetes/kubernetes</a>.</p><p><a href=https://github.com/kubernetes/kubernetes/pull/56673/files>PR 56673</a> — пример пулреквеста, который исправляет опечатку в исходном коде kubectl.</p><p>Отслеживайте пулреквест и по мере необходимости отвечайте на комментарии рецензента. Не забывайте отслеживать активность в пулреквест до тех пор, пока он не будет принят в ветку master репозитория kubernetes/kubernetes.</p><h2 id=применение-вашего-изменения-в-ветку-выпуска>Применение вашего изменения в ветку выпуска</h2><p>Теперь ваше изменение в ветке master, которая используется для разработки следующего выпуска Kubernetes. Если вы хотите добавить ваше изменение в документацию для уже выпущенной версии Kubernetes, вам нужно применить коммит с соответствующим изменением в нужную ветку выпуска.</p><p>Например, предположим, что ветка master используется для разработки Kubernetes 1.10, а вам нужно бэкпортировать ваше изменение в ветку release-1.15. За инструкциями обратитесь к странице <a href=https://git.k8s.io/community/contributors/devel/sig-release/cherry-picks.md>Propose a Cherry Pick</a>.</p><p>Отслеживайте ваш пулреквест с применённым изменением до тех пор, пока он не будет объединён в ветку выпуска.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Применение коммита требует наличия возможности добавить метку и этап в вашем пулреквесте. Если у вас нет таких разрешений, вам нужно переговорить с кем-то, кто может сделать это для вас.</div><h2 id=настройка-переменных-для-сборки>Настройка переменных для сборки</h2><p>Перейдите на <code>&lt;rdocs-base></code>. В командной строке установите следующие переменные окружения.</p><ul><li><code>K8S_ROOT</code> со значением <code>&lt;k8s-base></code>.</li><li><code>WEB_ROOT</code> со значением <code>&lt;web-base></code>.</li><li><code>K8S_RELEASE</code> со значением нужной версии документации.
Например, если вы хотите собрать документацию для Kubernetes версии 1.17, определите переменную окружения <code>K8S_RELEASE</code> со значением 1.17.</li></ul><p>Примеры:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>WEB_ROOT</span><span style=color:#666>=</span><span style=color:#a2f;font-weight:700>$(</span>GOPATH<span style=color:#a2f;font-weight:700>)</span>/src/github.com/&lt;your-username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_ROOT</span><span style=color:#666>=</span><span style=color:#a2f;font-weight:700>$(</span>GOPATH<span style=color:#a2f;font-weight:700>)</span>/src/k8s.io/kubernetes
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_RELEASE</span><span style=color:#666>=</span>1.17
</span></span></code></pre></div><h2 id=создание-версионированной-директории>Создание версионированной директории</h2><p>Скрипт сборки <code>createversiondirs</code> создаёт версионированную директорию и копирует туда конфигурационные файлы справочника kubectl.
Имя версионированной директории имеет следующий вид: <code>v&lt;major>_&lt;minor></code>.</p><p>В директории <code>&lt;rdocs-base></code> выполнение следующий скрипт сборки:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make createversiondirs
</span></span></code></pre></div><h2 id=переход-в-тег-выпуска-в-k8s-io-kubernetes>Переход в тег выпуска в k8s.io/kubernetes</h2><p>В вашем локальном репозитории <code>&lt;k8s-base></code> перейдите в ветку с версией Kubernetes, для которой вы хотите получить документацию. Например, если вы хотите сгенерировать документацию для Kubernetes 1.17, перейдите в тег <code>v1.17.0</code>. Убедитесь, что ваша локальная ветка содержит актуальные изменения.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout v1.17.0
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes v1.17.0
</span></span></code></pre></div><h2 id=выполнение-кода-для-генерации-документации>Выполнение кода для генерации документации</h2><p>В вашей локальной директории <code>&lt;rdocs-base></code> запустите скрипт сборки <code>copycli</code>. Команда выполняется от пользователя <code>root</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make copycli
</span></span></code></pre></div><p>Команда <code>copycli</code> удаляет временную директорию сборки, генерирует файлы команды kubectl и копирует полученную HTML-страницу справочника команде kubectl и ресурсы в <code>&lt;web-base></code>.</p><h2 id=проверка-сгенерированных-файлов>Проверка сгенерированных файлов</h2><p>Убедитесь в том, что перечисленные ниже два файлы были сгенерированы:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-kubectldocs/generators/build/index.html&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;index.html built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no index.html&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-kubectldocs/generators/build/navData.js&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;navData.js built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no navData.js&#34;</span>
</span></span></code></pre></div><h2 id=проверка-скопированных-файлов>Проверка скопированных файлов</h2><p>Убедитесь в том, все сгенерированные файлы были скопированы в вашу директорию <code>&lt;web-base></code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>В выводе должны перечислены изменённые файлы:</p><pre tabindex=0><code>static/docs/reference/generated/kubectl/kubectl-commands.html
static/docs/reference/generated/kubectl/navData.js
</code></pre><p>Также в выводе должно быть:</p><pre tabindex=0><code>static/docs/reference/generated/kubectl/scroll.js
static/docs/reference/generated/kubectl/stylesheet.css
static/docs/reference/generated/kubectl/tabvisibility.js
static/docs/reference/generated/kubectl/node_modules/bootstrap/dist/css/bootstrap.min.css
static/docs/reference/generated/kubectl/node_modules/highlight.js/styles/default.css
static/docs/reference/generated/kubectl/node_modules/jquery.scrollto/jquery.scrollTo.min.js
static/docs/reference/generated/kubectl/node_modules/jquery/dist/jquery.min.js
static/docs/reference/generated/kubectl/node_modules/font-awesome/css/font-awesome.min.css
</code></pre><h2 id=проверка-документации-локально>Проверка документации локально</h2><p>Соберите документацию Kubernetes в вашей директории <code>&lt;web-base></code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>make docker-serve
</span></span></code></pre></div><p>Посмотрите <a href=https://localhost:1313/docs/reference/generated/kubectl/kubectl-commands/>локальную предварительную версию сайта</a>.</p><h2 id=добавление-и-фиксация-изменений-в-kubernetes-website>Добавление и фиксация изменений в kubernetes/website</h2><p>Выполните команду <code>git add</code> и <code>git commit</code> для фиксации файлов.</p><h2 id=создание-пулреквеста>Создание пулреквеста</h2><p>Создайте пулреквест в репозиторий <code>kubernetes/website</code>. Отслеживайте изменения в пулреквесте и по мере необходимости отвечайте на комментарии рецензента. Не забывайте проверять пулреквест до тех пор, пока он не будет принят.</p><p>Спустя несколько минут после принятия вашего пулреквеста, обновленные темы справочника будут отображены в <a href=/ru/docs/home/>документации</a>.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/quickstart/>Руководство по быстрому старту генерации справочной документации</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-28fc50a0072b0b2b444aa24e552d2e60>5 - Генерация справочных страниц для компонентов и инструментов Kubernetes</h1><p>На этой странице показывается, как собирать справочные страницы компонентов и инструментов Kubernetes.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><p>Начните с <a href=/ru/docs/contribute/generate-ref-docs/quickstart/#%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5>раздела с требованиями</a> в руководстве по быстрому старту.</p><p>Для генерации справочных страниц компонентов и инструментов Kubernetes изучите страницу <a href=/docs/contribute/generate-ref-docs/quickstart/>руководство по быстрому старту в справочной документации</a>.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/quickstart/>Краткое руководство по генерации справочной документации</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/contribute-upstream/>Участие в документации основного кода проекта Kubernetes</a></li></ul></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/ru/docs/home/>Главная</a>
<a class=text-white href=/ru/community/>Сообщество</a>
<a class=text-white href=/ru/case-studies/>Примеры использования</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 Авторы Kubernetes | Документация распространяется под лицензией <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. Все права защищены. The Linux Foundation является зарегистрированной торговой маркой. Список торговых марок The Linux Foundation приведен на странице <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>использования торговых марок</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>