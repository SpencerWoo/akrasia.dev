<!doctype html><html lang=ru class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/contribute/><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/contribute/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/contribute/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/contribute/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/contribute/><link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/contribute/><link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/contribute/><link rel=alternate hreflang=pt-br href=https://kubernetes.io/pt-br/docs/contribute/><link rel=alternate hreflang=id href=https://kubernetes.io/id/docs/contribute/><link rel=alternate hreflang=hi href=https://kubernetes.io/hi/docs/contribute/><link rel=alternate hreflang=pl href=https://kubernetes.io/pl/docs/contribute/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/ru/docs/contribute/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Участие в документации Kubernetes | Kubernetes</title><meta property="og:title" content="Участие в документации Kubernetes"><meta property="og:description" content="Первоклассная оркестрация контейнеров"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/ru/docs/contribute/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Участие в документации Kubernetes"><meta itemprop=description content="Первоклассная оркестрация контейнеров"><meta name=twitter:card content="summary"><meta name=twitter:title content="Участие в документации Kubernetes"><meta name=twitter:description content="Первоклассная оркестрация контейнеров"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="Если вы хотите внести свой вклад в документацию или сайт Kubernetes, мы будем рады вашей помощи! Любой может принять участие в проекте, независимо от того, знакомы ли вы с проектом или нет, кроме этого не имеет значения кто вы — разработчик, обычный пользователь или всего лишь тот, кто терпеть не может опечаток.
С деталями о содержании и стиле документации Kubernetes вы можете ознакомиться в Documentation style overview.
Типы участников документации Член организации Kubernetes, который подписал CLA и уже поработал в проекте определённое время."><meta property="og:description" content="Если вы хотите внести свой вклад в документацию или сайт Kubernetes, мы будем рады вашей помощи! Любой может принять участие в проекте, независимо от того, знакомы ли вы с проектом или нет, кроме этого не имеет значения кто вы — разработчик, обычный пользователь или всего лишь тот, кто терпеть не может опечаток.
С деталями о содержании и стиле документации Kubernetes вы можете ознакомиться в Documentation style overview.
Типы участников документации Член организации Kubernetes, который подписал CLA и уже поработал в проекте определённое время."><meta name=twitter:description content="Если вы хотите внести свой вклад в документацию или сайт Kubernetes, мы будем рады вашей помощи! Любой может принять участие в проекте, независимо от того, знакомы ли вы с проектом или нет, кроме этого не имеет значения кто вы — разработчик, обычный пользователь или всего лишь тот, кто терпеть не может опечаток.
С деталями о содержании и стиле документации Kubernetes вы можете ознакомиться в Documentation style overview.
Типы участников документации Член организации Kubernetes, который подписал CLA и уже поработал в проекте определённое время."><meta property="og:url" content="https://kubernetes.io/ru/docs/contribute/"><meta property="og:title" content="Участие в документации Kubernetes"><meta name=twitter:title content="Участие в документации Kubernetes"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/ru/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/ru/docs/>Документация</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ru/community/>Сообщество</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ru/case-studies/>Примеры использования</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versions</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/ru/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/ru/docs/contribute/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/ru/docs/contribute/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/ru/docs/contribute/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/ru/docs/contribute/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/ru/docs/contribute/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Русский (Russian)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/contribute/>English</a>
<a class=dropdown-item href=/zh-cn/docs/contribute/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/contribute/>한국어 (Korean)</a>
<a class=dropdown-item href=/ja/docs/contribute/>日本語 (Japanese)</a>
<a class=dropdown-item href=/fr/docs/contribute/>Français (French)</a>
<a class=dropdown-item href=/de/docs/contribute/>Deutsch (German)</a>
<a class=dropdown-item href=/es/docs/contribute/>Español (Spanish)</a>
<a class=dropdown-item href=/pt-br/docs/contribute/>Português (Portuguese)</a>
<a class=dropdown-item href=/id/docs/contribute/>Bahasa Indonesia</a>
<a class=dropdown-item href=/hi/docs/contribute/>हिन्दी (Hindi)</a>
<a class=dropdown-item href=/pl/docs/contribute/>Polski (Polish)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Это многостраничный печатный вид этого раздела.
<a href=# onclick="return print(),!1">Нажмите что бы печатать</a>.</p><p><a href=/ru/docs/contribute/>Вернуться к обычному просмотру страницы</a>.</p></div><h1 class=title>Участие в документации Kubernetes</h1><ul><li>1: <a href=#pg-3609b0e10614f1dc39ed781858319204>Участие для начинающих</a></li><li>2: <a href=#pg-9ff7ba6b379b0f8b652beaabf6e4f8d6>Участие для продвинутых</a></li><li>3: <a href=#pg-8111429863728051b460e1f3a75b6fea>Существенный вклад</a></li><li>4: <a href=#pg-a2d946282df02cdeb47d9f54dfef198e>Обзор оформления документации</a></li><ul><li>4.1: <a href=#pg-75de610057816ac48210db20ec633217>Руководство по оформлению документации</a></li><li>4.2: <a href=#pg-3b9549b1c8f5ef9d6ae0a841cc99c180>Руководство по содержанию документации</a></li><li>4.3: <a href=#pg-4f09c4b708d2dd4ac9eac1080dab6728>Написание новой темы</a></li><li>4.4: <a href=#pg-6d95158118c9a27343edd2e6e23f0247>Использование шаблонов страниц</a></li><li>4.5: <a href=#pg-357f2ddd61035f18c2aa63fe86203f9c>Организация контента</a></li><li>4.6: <a href=#pg-6d76d18115f82583d526bdaf5d05edbc>Пользовательские макрокоды Hugo</a></li></ul><li>5: <a href=#pg-29765496ca296ad24e34e5c0cd42a63f>Обзор справочной документации</a></li><ul><li>5.1: <a href=#pg-a5eac5b2b794f16aa703a2fa212d7c39>Участие в основном коде Kubernetes</a></li><li>5.2: <a href=#pg-f4f605fa4c2e23622d56b067ef56c239>Руководство по быстрому старту</a></li><li>5.3: <a href=#pg-6e4e78f20e40bac9bcad59941e974af6>Генерация справочной документации для API Kubernetes</a></li><li>5.4: <a href=#pg-03de26b330a5cfdb26672f6bc75dcc04>Генерация справочной документации для команд kubectl</a></li><li>5.5: <a href=#pg-28fc50a0072b0b2b444aa24e552d2e60>Генерация справочных страниц для компонентов и инструментов Kubernetes</a></li></ul><li>6: <a href=#pg-849a2fdb87779db1c212fe5a9f88ff0d>Локализация документации Kubernetes</a></li><li>7: <a href=#pg-e1098d3fca853af3d9dd514e4309cbba>Участие в SIG Docs</a></li></ul><div class=content><p>Если вы хотите внести свой вклад в документацию или сайт Kubernetes, мы будем рады вашей помощи! Любой может принять участие в проекте, независимо от того, знакомы ли вы с проектом или нет, кроме этого не имеет значения кто вы — разработчик, обычный пользователь или всего лишь тот, кто терпеть не может опечаток.</p><p>С деталями о содержании и стиле документации Kubernetes вы можете ознакомиться в <a href=/docs/contribute/style/>Documentation style overview</a>.</p><h2 id=типы-участников-документации>Типы участников документации</h2><ul><li><em>Член</em> организации Kubernetes, который <a href=/docs/contribute/start#sign-the-cla>подписал CLA</a>
и уже поработал в проекте определённое время. Перейдите на страницу
<a href=https://github.com/kubernetes/community/blob/master/community-membership.md>Членство в сообществе</a>, чтобы узнать что нужно для вступления в организацию.</li><li><em>Рецензент</em> документации SIG — член организации Kubernetes, который занимался проверкой пулреквестов в документацию и поэтому был добавлен в соответствующую группу на GitHub, и кроме того является ответственным за файлы, перечисленные в <code>OWNERS</code> в репозитории GitHub.</li><li><em>Утверждающий</em> документации SIG — участник с хорошей репутацией, который продемонстрировал неизменную приверженность проекту. Утверждающий может принимать пулреквесты и публиковать контент от имени организации Kubernetes.
Утверждающие также могут быть представителями документации SIG в более крупном сообществе Kubernetes. Некоторые из обязанностей утверждающего документации SIG, такие как организация нового выпуска, требуют огромного количество времени.</li></ul><h2 id=способы-участия-в-документации>Способы участия в документации</h2><p>Этот список разделен на то, что может делать каждый, что могут делать члены организации Kubernetes, и то, что требует более высокого уровня доступа и знания процессов документации SIG. Со временем постоянное участие в проекте поможет вам понять некоторые средства и организационные решения, которые уже были приняты.</p><p>Это не полный список способов поучаствовать в документации Kubernetes, зато он должен помочь вам начать работу.</p><ul><li><a href=/docs/contribute/start/>Любой человек</a><ul><li>Добавление реализуемых задач</li></ul></li><li><a href=/docs/contribute/start/>Член</a><ul><li>Улучшение существующей документации</li><li>Предложение идей по улучшению документации в <a href=http://slack.k8s.io/>Slack</a> или в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>списке рассылки документации SIG</a></li><li>Улучшение доступности документации</li><li>Составление рекомендаций к пулреквестам в документацию</li><li>Написание постов в блоге или примеров использования продукта</li></ul></li><li><a href=/docs/contribute/intermediate/>Рецензент</a><ul><li>Документирование новых функциональных возможностей</li><li>Сортировка и маркировка задач</li><li>Анализ пулреквестов</li><li>Создание диаграмм, графических ресурсов и встраиваемых скринкастов и/или видео</li><li>Локализация</li><li>Участие в других репозиториях в качестве представителя документации</li><li>Редактирование пользовательских строк в коде</li><li>Улучшение комментариев в коде, Godoc</li></ul></li><li><a href=/docs/contribute/advanced/>Утверждающий</a><ul><li>Публикация материалов участников, проверяя и объединяя пулреквесты</li><li>Участие в команде по выпуску новых версий Kubernetes в качестве представителя документации</li><li>Внесение предложений по улучшению руководства по стилю оформлению</li><li>Внесение предложений по улучшению в тесты документации</li><li>Внесение предложений по улучшению в сайт Kubernetes website или другие инструменты</li></ul></li></ul><h2 id=дополнительные-способы-участия>Дополнительные способы участия</h2><ul><li>Чтобы помочь сообществу Kubernetes с помощью онлайн-форумов, таких как Twitter или Stack Overflow, либо узнать о местных встречах и мероприятиях по Kubernetes, <a href=/community/>посетите страницу сообщества Kubernetes</a>.</li><li>Чтобы поучаствовать в разработке функциональности, ознакомьтесь со <a href=https://github.com/kubernetes/community/tree/master/contributors/guide/contributor-cheatsheet>шпаргалкой для участника</a>, чтобы начать.</li></ul></div></div><div class=td-content style=page-break-before:always><h1 id=pg-3609b0e10614f1dc39ed781858319204>1 - Участие для начинающих</h1><p>Если вы хотите поучаствовать в работе над документацией Kubernetes, эта страница и связанные с ней темы могут помочь вам начать работу. Вам не нужно быть разработчиком или техническим писателем, чтобы внести вклад в документацию или улучшить сайт Kubernetes! Все, что вам нужно для тем на этой странице, это учетная запись на GitHub и браузер.</p><p>Если вы ищете информацию про участие в репозиториях, связанным с кодом Kubernetes, обратитесь к <a href=https://github.com/kubernetes/community/blob/master/governance.md>руководству сообщества Kubernetes</a>.</p><h2 id=основные-сведения-про-документацию>Основные сведения про документацию</h2><p>Документация Kubernetes написана на Markdown, обработана и развернута при помощи Hugo. Исходные файлы находятся на GitHub по адресу <a href=https://github.com/kubernetes/website>https://github.com/kubernetes/website</a>. Основная часть документации хранится в директории <code>/content/en/docs/</code>. Часть справочной документации автоматически генерируется из скриптов в директории <code>update-imported-docs/</code>.</p><p>Вы можете создавать новые задачи, редактировать содержимое и проверять изменения от других участников, — всё это доступно с сайта GitHub. Вы также можете использовать встроенный в GitHub поиск и историю коммитов.</p><p>Не все задачи могут быть выполнены с помощью интерфейса GitHub, но некоторые из них обсуждаются в руководствах для <a href=/ru/docs/contribute/intermediate/>продвинутых</a> и
<a href=/ru/docs/contribute/advanced/>опытных</a> участников.</p><h3 id=участие-в-документации-sig>Участие в документации SIG</h3><p>Документация Kubernetes поддерживается <a class=glossary-tooltip title='Community members who collectively manage an ongoing piece or aspect of the larger Kubernetes open source project.' data-toggle=tooltip data-placement=top href=https://github.com/kubernetes/community/blob/master/sig-list.md#special-interest-groups target=_blank aria-label='специальной группой'>специальной группой</a> (Special Interest Group, SIG) под названием SIG Docs. Мы <a href=#participate-in-sig-docs-discussions>общаемся</a> с помощью канала Slack, списка рассылки и еженедельных видеозвонков. Будем рады новым участникам. Для получения дополнительной информации обратитесь к странице <a href=ru/docs/contribute/participating/>Участие в SIG Docs</a>.</p><h3 id=руководящие-принципы-по-содержанию>Руководящие принципы по содержанию</h3><p>Сообщество SIG Docs разработало правила, которые касаются разрешенных видов контента в документации Kubernetes. Посмотрите <a href=/docs/contribute/style/content-guide/>руководство по содержанию документации</a> для определения того, допустим ли контент, который вы хотите добавить. Задать вопросы про допустимый контент можно в Slack-канале <a href=#participate-in-sig-docs-discussions>#sig-docs</a>.</p><h3 id=правила-оформления>Правила оформления</h3><p>Мы поддерживаем <a href=/docs/contribute/style/style-guide/>руководство по оформлению</a> с информацией о выборе, сделанном сообществом SIG Docs в отношении грамматики, синтаксиса, исходного форматирования и типографских соглашений. Прежде чем сделать свой первый вклад, просмотрите руководство по стилю и используйте его, когда у вас есть вопросы.</p><p>SIG Docs совместными усилиями вносит изменения в руководство по оформлению. Чтобы предложить изменение или дополнение, добавьте его в повестку дня предстоящей встречи SIG Docs и посетите её, чтобы принять участие в обсуждении. Смотрите руководство для <a href=/docs/contribute/advanced/>продвинутых участников</a>, чтобы получить дополнительную информацию.</p><h3 id=шаблоны-страниц>Шаблоны страниц</h3><p>Мы используем шаблоны страниц, чтобы управлять представление наших страниц документации. Разберитесь как работают эти шаблоны, ознакомившись с разделом <a href=/docs/contribute/style/page-templates/>Использование шаблонов страниц</a>.</p><h3 id=макрокоды-hugo>Макрокоды Hugo</h3><p>Документация Kubernetes с помощью Hugo конвертируется из формата разметки Markdown в HTML. Мы используем встроенные макрокоды Hugo, а также некоторые из своих собственных, созданных специально для документации Kubernetes. Посетите страницу <a href=/docs/contribute/style/hugo-shortcodes/>Нестандартные макрокоды Hugo</a>, чтобы узнать, как их использовать.</p><h3 id=мультиязычность>Мультиязычность</h3><p>Исходные файлы документации доступны на нескольких языках в директории <code>/content/</code>. Каждый язык имеет свою собственную директорию с двухбуквенным кодом, определенным стандартом<a href=https://www.loc.gov/standards/iso639-2/php/code_list.php>ISO 639-1 standard</a>. Например, исходники документации для английского языка хранится в директории <code>/content/en/docs/</code>.</p><p>Более подробную информацию про участие в работе над документацией на нескольких языках <a href=/docs/contribute/intermediate#localize-content>"Localize content"</a> в промежуточном руководстве по добавлению.</p><p>Если вы заинтересованы в переводе документации на новый язык, посмотрите раздел <a href=/ru/docs/contribute/localization/>"Локализация"</a>.</p><h2 id=создание-хороших-заявок>Создание хороших заявок</h2><p>Любой, у кого есть аккаунт на GitHub, может создать заявку (issue, или отчет об ошибке) в документации Kubernetes. Если вы заметили какую-либо какую-либо ошибку, даже если вы не знаете, как её исправить, <a href=#how-to-file-an-issue>откройте ишью</a>. Но не делайте этого, если нашли небольшую ошибку, например, опечатку, которую вы при желании можете исправить самостоятельно. В этом случае можете <a href=#improve-existing-content>исправить ее</a> вместо того, чтобы писать об этом.</p><h3 id=как-создать-заявку>Как создать заявку</h3><ul><li><p><strong>Для существующей страницы</strong></p><p>Если заметили проблему на существующей странице в <a href=/ru/docs/>документации Kubernetes</a>, перейдите в конец страницы и нажмите кнопку <strong>Create an Issue</strong>. Если вы ещё не авторизованы в GitHub, сделайте это. После этого откроется страница с форма для создания нового запроса в GitHub с уже предварительно заполненным полями.</p><p>При помощи разметки Markdown опишите как можно подробнее, что хотите. Там, где вы видите пустые квадратные скобки (<code>[ ]</code>), проставьте <code>x</code> между скобками. Если у вас есть предлагаемое решение проблемы, напишите его.</p></li><li><p><strong>Запросить новую страницу</strong></p><p>Если вы хотите добавить что-то новое, но вы не уверены, на какую страницу документации это сделать или считаете, что новая информация не вписывается в существующие страницы, всё равно создайте ишью. Вы можете либо перейти на страницу документации, куда, по вашему мнению, нужно добавить новую информацию и создать заявку прямо с этой страницы, либо перейти по адресу <a href=https://github.com/kubernetes/website/issues/new/>https://github.com/kubernetes/website/issues/new/</a> и написать что вы хотите там.</p></li></ul><h3 id=как-заполнить-хорошую-заявку>Как заполнить хорошую заявку</h3><p>Чтобы нам самим убедиться, что понимаем вас правильно, помните следующее:</p><ul><li>Используйте шаблон ишью и заполните его как можно подробнее.</li><li>Четко изложите суть вашего проблемы, как она сказывается на пользователях.</li><li>Как можно меньше ограничьте охват изменений в вашей заявке. Задачи с большим объемом работы разбейте на более мелкие.
Например, "Fix the security docs" не является проблемой, требующей немедленного решения, зато заявка с заголовком "Add details to the 'Restricting network access' topic", вероятно, такой является.</li><li>Если проблема связана с другой заявкой или пулреквестом, вы можете указать сослаться на них, либо по его полному URL-адресу, либо по их номеру с <code>#</code>. Например, <code>Introduced by #987654</code>.</li><li>Будьте уважительны и избегайте жалоб. Например, заголовок ишью "The docs about X suck" явно не несёт ничего полезного или чтобы на него реагировали.
<a href=/community/code-of-conduct/>Нормы поведения</a> также применяется к общению в GitHub-репозиториях Kubernetes.</li></ul><h2 id=участие-в-дискуссиях-sig-docs>Участие в дискуссиях SIG Docs</h2><p>Команда SIG Docs общается следующими способами:</p><ul><li><a href=http://slack.k8s.io/>Зарегистрируйтесь в Slack-канале Kubernetes</a>, а затем присоединитесь к каналу <code>#sig-docs</code>, где мы в режиме реального времени обсуждаем всё, что связано с документацией. И не забудьте представиться!</li><li><a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>Подпишитесь на список рассылки <code>kubernetes-sig-docs</code></a>, где проходят более общие дискуссии и принимаются официальные решения.</li><li>Участвуйте в <a href=https://github.com/kubernetes/community/tree/master/sig-docs>еженедельной видеовстрече IG Docs</a>, которая анонсируется в Slack-канале и списке рассылки. В данный момент эти встречи проводятся в Zoom, поэтому вам необходимо загрузить клиент Zoom или позвонить по телефону.</li></ul><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Вы всегда можете узнать когда будет очередное еженедельное собрание SIG Docs в <a href="https://calendar.google.com/calendar/embed?src=cgnt364vd8s86hr2phapfjc6uk%40group.calendar.google.com&ctz=America/Los_Angeles">календаре собраний сообщества Kubernetes</a>.</div><h2 id=улучшение-существующего-текста>Улучшение существующего текста</h2><p>Чтобы улучшить текущее содержимое документации, вам нужно открыть <em>пулреквест (pull request, PR)</em> после того, как вы сделаете <em>копию (fork)</em> оригинального репозитория. Эти два термина <a href=https://help.github.com/categories/collaborating-with-issues-and-pull-requests/>относятся к GitHub</a>.
Для начала работы, которая показана в этом разделе, вам не нужно знать всё про эти понятия, так как вы всё можете делать в своём браузере. Когда вы перейдете к продвинутому руководству участника документации, тогда вам понадобиться пополнить свои знания Git.</p><p>Примечание. Разработчики кода Kubernetes. Если вы документируете новую функцию для предстоящего выпуска Kubernetes, ваш процесс будет немного другим. См. Документирование функции для руководства по процессу и информации о сроках.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> <strong>Для разработчиков кода Kubernetes</strong>: если вы документируете новую функциональность для новой версии Kubernetes, то процесс рассмотрения будет немного другим. Посетите страницу <a href=/ru/docs/contribute/intermediate/#%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%B4%D0%BB%D1%8F-%D0%BD%D0%BE%D0%B2%D0%BE%D0%B9-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8>Документирование функциональности</a>, чтобы узнать про процесс и информацию о крайних сроках.</div><h3 id=sign-the-cla>Подписание CLA-соглашения CNCF</h3><p>Прежде чем внести вклад в код или документацию Kubernetes, вам <strong>обязательно</strong> следует прочитать <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/README.md>руководство для участников</a> и <a href=https://github.com/kubernetes/community/blob/master/CLA.md>подписать лицензионное соглашение участника (Contributor License Agreement, CLA)</a>.
Не переживайте — подписание не займет много времени!</p><h3 id=поиск-задач-для-работы>Поиск задач для работы</h3><p>Если вы уже нашли что исправить, просто следуйте инструкциям ниже. Для этого вам не обязательно <a href=#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D1%85%D0%BE%D1%80%D0%BE%D1%88%D0%B8%D1%85-%D0%B7%D0%B0%D1%8F%D0%B2%D0%BE%D0%BA>создавать ишью</a> (хотя вы, безусловно, пойти этим путём).</p><p>Если вы хотите ещё не определились с тем, над чем хотите поработать, перейдите по адресу <a href=https://github.com/kubernetes/website/issues>https://github.com/kubernetes/website/issues</a> и найдите ишью с меткой <code>good first issue</code> (вы можете использовать <a href="https://github.com/kubernetes/website/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22">эту</a> ссылку для быстрого поиска). Прочитайте комментарии, чтобы убедиться что нет открытого пулреквеста для решения текущей ишью, а также, что никто другой не оставил комментарий, что он работает над этой задачей в последнее время (как правило, 3 дня). Добавьте комментарий, что вы хотели бы заняться решением этой задачи.</p><h3 id=выбор-правильной-ветки-в-git>Выбор правильной ветки в Git</h3><p>Самым важный момент в создании пулреквестов — это выбор нужной ветки для вашей работы. Используйте эти рекомендации, чтобы принять верное решение:</p><ul><li>Используйте ветку <code>master</code> для исправления ошибок в текущей документации, либо чтобы улучшить существующий текст.</li><li>Используйте ветку <code>master</code> для документирования функциональности в текущей версии Kubernetes, для которой отсутствовала документация. Прежде всего вам нужно написать документацию на английском языке, а затем команды по переводам подхватят это изменение, чтобы актуализировать перевод.</li><li>Если вы работаете над переводом, вам нужно следовать соглашению в этой конкретной локализации. Чтобы понять это, вы можете другие пулреквесты (подсказка: <code>is:pr is:merged label:language/xx</code>)<ul><li>Некоторые команды локализации работают с пулреквестами, которые ориентированы на ветку <code>master</code></li><li>Другие команды локализации работают с рядом долговечных веток, периодически сливая их в ветку <code>master</code>. Такая ветка именуется как dev-&lt;version>-&lt;language code>.&lt;team milestone>, например, <code>dev-release-1.25-ja.1</code>.</li></ul></li><li>Если вы пишете или обновляете документацию к выпуску грядущего изменения, то вам необходимо знать мажорную и минорную версию Kubernetes, в которой это изменение впервые появится.<ul><li>Например, если переключатель возможностей (feature gates) JustAnExample должен измениться с альфа-версии на бета-версию в следующей минорной версии, вам необходимо знать номер этой версии.</li><li>Найдите ветку выпуска, названную для этой версии. Например, функциональность, которая изменились в выпуске vrelease-1.25, будет документирована в ветке <code>dev-release-1.25</code>.</li></ul></li></ul><p>Если вы все еще не уверены, какую ветку выбрать, спросите в Slack-канале <code>#sig-docs</code> или посетите еженедельную встречу SIG Docs, чтобы внести ясность.</p><h3 id=отправка-пулреквеста>Отправка пулреквеста</h3><p>Следуйте описанным ниже шагам, чтобы создать пулреквест для улучшения документации Kubernetes.</p><ol><li><p>На странице, которую вы хотите отредактировать, щелкните на иконку карандаша в правом верхнем углу. Откроется новая страница на GitHub с небольшой подсказкой.</p></li><li><p>Если вы ранее не делали копию репозитория документации Kubernetes, вам будет предложено это сделать. Создайте копию репозитория под своим логином GitHub, а не в организации, в которой вы состоите. URL-адрес копии репозитория будет выглядит как <code>https://github.com/&lt;username>/website</code>, в случае у вас нет репозитория с таким же названием.</p><p>Поскольку у вас нет доступа к оригинальному репозиторию и соответственно вы не можете отправлять напрямую изменения в основную ветку, вам нужно сделать копию репозитория Kubernetes.</p></li><li><p>Откроется редактор GitHub для редактирования исходного файла в формате Markdown. Внесите свои изменения. Под редактором заполните форму <strong>Propose file change</strong>. Первое поле — краткое содержание вашего сообщения коммита, оно должно содержать не более 50 символов. Второе поле является необязательным, в нём вы можете подробно расписать суть ваших изменений.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Не ссылайте на другие ишью или пулреквесты на GitHub в сообщении коммита. Вы можете сослаться на них в тексте пулреквеста.</div><p>Нажмите на кнопку <strong>Propose file change</strong>. Изменения в файле записываются в виде коммита в новой ветке вашей копии репозитория, которая автоматически будет иметь имя что-то вроде <code>patch-1</code>.</p></li><li><p>На следующей странице вам будут показаны различия в вашей ветке (поля выбора <strong>head fork</strong> и <strong>compare</strong>) с текущим состоянием <strong>оригинального репозитория (base fork)</strong> в <strong>основной ветке (base)</strong> (по умолчанию ветка <code>master</code> в репозитории <code>kubernetes/website</code>). Вы можете выбрать другое значение в полях выбора, но не делайте этого сейчас. Сравните различия и если всё верно, нажмите кнопку <strong>Create pull request</strong>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Если вы не хотите создавать пулреквест в данный момент, это можно сделать позже, если перейти на страницу репозитория сайта Kubernetes или вашей копии репозитория. На сайте GitHub вам предложит открыть пулреквест, если он обнаружит новую ветку в вашей копии репозитория.</div></li><li><p>Отобразится форма с заголовком <strong>Open a pull request</strong>. Название пулреквеста будет содержать краткое описание из сообщения коммита, хотя вы можете изменить его при необходимости. В описании пулреквеста будет остальная информация из сообщения коммита (если оно есть) и небольшой шаблон с текстом. Прочитайте текст шаблона и сделайте то, что там описано, а затем удалите этот шаблонный текст. Если вы добавите в описание пулреквест <code>fixes #&lt;000000></code> или <code>closes #&lt;000000></code>, где <code>#&lt;000000></code> - номер связанной заявки, то GitHub автоматически закроет указанную заявку при слиянии пулреквеста. Оставьте флажок <strong>Allow edits from maintainers</strong> отмеченным. Нажмите на кнопку <strong>Create pull request</strong>.</p><p>Поздравляем! Ваш пулреквест добавлен в список <a href=https://github.com/kubernetes/website/pulls>пулреквестов</a>.</p><p>Через несколько минут вы сможете просмотреть версию сайта с изменениями в вашем пулреквесте. Перейдите в низ страницы пулреквеста на вкладке <strong>Conversation</strong> и там нажмите на ссылку <strong>Details</strong> рядом с проверкой <code>deploy/netlify</code>. По умолчанию она откроется в текущей вкладке.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Пожалуйста, открывайте пулреквест, изменения которого затрагивают только один язык. Например, если вам нужно одинаково изменить один и тот же пример кода в нескольких языках, откройте по отдельному пулреквесту для каждого языка.</div></li><li><p>Ожидайте, когда проверят ваш пулреквест. Как правило, рецензенты выбираются авматоматически ботом <code>k8s-ci-robot</code>. Если рецензент попросил изменить пулреквест, вы можете сделать это, если перейдёте на вкладку <strong>Files changed</strong> и щёлкните на иконку с карандашом на любом изменённом файле в вашем пулреквесте. Сохранение измененного файла оформляется в виде нового коммита в ветке, указанной в пулреквесте. Если вы ожидаете новую проверку изменений от рецензента, заранее попросите его об этом не более одного раза в 7 дней. Вы также можете зайти в Slack-канал #sig-docs — это хорошее место, где можно попросить проверку пулреквеста.</p></li><li><p>Если ваши изменения одобрены, то рецензент объединяет соответствующий пулреквест. Через несколько минут вы сможете сможете увидеть его в действии на сайте Kubernetes.</p></li></ol><p>Это только один из способов отправить пулреквест. Если вы уже опытный пользователь Git и GitHub, вы можете вносить изменения, используя локальный GUI-клиент или Git из терминала вместо того, чтобы использовать интерфейс GitHub для этого. Некоторые основы использования Git-клиента из командной строки обсуждаются в руководстве для <a href=/ru/docs/contribute/intermediate/>продвинутого участника</a>.</p><h2 id=просмотр-пулреквестов-в-документацию>Просмотр пулреквестов в документацию</h2><p>Новички документации могут обозревать пулреквесты. Вы можете изучить кодовую базу и завоевать доверие к себе со стороны коллег-участников. Документация на английском — это первоисточник содержимого. Мы общаемся на английском языке во время еженедельных встреч и в объявлениях сообщества. Владение английским языком может быть разным, поэтому используйте простой и прямой язык в своих обзорах пулреквестов. Полезные обзоры фокусируются как на мелких деталях, так и на потенциальном влиянии изменений.</p><p>Обзоры не носят «обязательный характер», это означает, что только ваша проверка не приведет к слиянию пулреквеста. Тем не менее, это не делает ваши обзоры бесполезными. Даже только просмотр изменений в пулреквеста поможет вам понять как происходит рабочий процесс, какие могут быть трудности и проблемы. Перед проверкой пулреквестов ознакомьтесь с <a href=/docs/contribute/style/content-guide/>руководством по содержанию</a> и <a href=/docs/contribute/style/style-guide/>руководством по оформлению</a>, чтобы узнать, каким должен быть содержимое и как оно должно быть оформлено..</p><h3 id=рекомендации>Рекомендации</h3><ul><li>Будьте вежливы, внимательны и помогайте другим</li><li>Не забывайте отмечать также положительные стороны пулреквеста</li><li>Будьте чутким и думайте, как ваши комментарии могут быть восприняты</li><li>Проявите добрые намерения и задавайте уточняющие вопросы</li><li>Опытным участникам: помогайте новым участникам, их работа требует глаз да глаз</li></ul><h3 id=поиск-и-проверка-пулреквеста>Поиск и проверка пулреквеста</h3><ol><li><p>Перейдите по URL-адресу <a href=https://github.com/kubernetes/website/pulls>https://github.com/kubernetes/website/pulls</a>. Вы увидите список всех пулреквестов в репозиторий сайта Kubernetes и его документации.</p></li><li><p>По умолчанию открываются открытые пулреквесты (статус <code>open</code>), поэтому вы не увидите закрытых или принятых пулреквестов. Рекомендуется добавить дополнительный фильтр <code>cncf-cla: yes</code>, а также для вашей первой проверки пулреквеста неплохо применить ещё и <code>size/S</code> и <code>size/XS</code>. Метка с размером назначается автоматически в зависимости от количества изменённых строк кода в пулреквесте. Вы можете применить фильтры, используя поля выбора в верхней части страницы, либо воспользоваться <a href="https://github.com/kubernetes/website/pulls?q=is%3Aopen+is%3Apr+label%3A%22cncf-cla%3A+yes%22+label%3Asize%2FS">этой ссылкой</a> для просмотра небольших пулреквестов. Все фильтры объединены в логическое <code>AND</code>, поэтому у вас не получиться искать по меткам <code>size/XS</code> и <code>size/S</code> одновременно.</p></li><li><p>Перейдите на вкладку <strong>Files changed</strong>. Посмотрите изменения, внесенные в PR, а также изучите любые связанные задачи (если есть). Если вы видите ошибку, неточность или хотите внести улучшение, то наведите курсор на строку и щелкните на появившийся символ <code>+</code>.</p><p>Вы можете написать комментарий, после чего нажать на кнопку <strong>Add single comment</strong> или <strong>Start a review</strong>. Как правило, лучше начать проверку (review), поскольку тогда вы сможете оставить несколько комментариев и уведомить автора PR только после завершения рецензирования, вместо того, чтобы упоминать его в каждом комментарии.</p></li><li><p>После окончания разбора пулреквеста, нажмите на кнопку <strong>Review changes</strong> вверху страницы. Вы можете подвести краткий итог своей проверки и выполнить одно из действий: просто прокомментировать, одобрить или запросить изменения. Новым участникам нужно всегда только комментировать (кнопка <strong>Comment</strong>) пулреквесты.</p></li></ol><p>Спасибо за обзор пулреквеста! Если вы новенький в проекте, рекомендуется попросить кого-нибудь оценить ваш обзор пулреквеста. Slack-канал <code>#sig-docs</code> — отличное место для этого.</p><h2 id=написание-постов-в-блоге>Написание постов в блоге</h2><p>Любой может написать пост в блоге и отправить его на рассмотрение. Посты блога не должны носит коммерческий характер и должны отражать опыт, который может широко применён в сообществе Kubernetes.</p><p>Чтобы заявить о посте вы можете отправить его, используя <a href=https://docs.google.com/forms/d/e/1FAIpQLSdMpMoSIrhte5omZbTE7nB84qcGBy8XnnXhDFoW0h7p2zwXrw/viewform>форму блога Kubernetes</a>, либо же выполнить следующие действия.</p><ol><li><a href=#sign-the-cla>Подпишите CLA</a>, если вы еще этого не сделали.</li><li>Изучите разметку Markdown у текущих постов блога в репозитории сайта.</li><li>Напишите свою статью в вашем любимом текстовом редакторе.</li><li>По ссылке из второго шага нажмите на кнопку <strong>Create new file</strong>. Скопируйте из своего редактора текст и вставьте в многострочное поле. Назовите файл так, чтобы он соответствовал предлагаемому заголовку статьи в блоге, но не указывайте дату в имени файла. Рецензенты блога будут работать с вами над окончательным именем файла и датой публикации записи.</li><li>Когда вы сохраните файл, начнётся описанный выше процесс принятия пулреквеста в GitHub.</li><li>Рецензент блога рассмотрит вашу статью и вместе с вами будет работать над ее улучшением. Когда запись в блоге будет одобрена, будет известна дата публикации вашей статьи.</li></ol><h2 id=отправка-примеров-использования>Отправка примеров использования</h2><p>В примерах использования показывается, как организации используют Kubernetes для решения собственных реальных проблем. Они написаны в сотрудничестве с маркетинговой командой Kubernetes, которой занимается <a class=glossary-tooltip title='Cloud Native Computing Foundation' data-toggle=tooltip data-placement=top href=https://cncf.io/ target=_blank aria-label=CNCF>CNCF</a>.</p><p>Ознакомьтесь с <a href=https://github.com/kubernetes/website/tree/master/content/en/case-studies>существующими примерами использования</a>. Воспользуйтесь <a href=https://www.cncf.io/people/end-user-community/>формой добавления нового примера использования Kubernetes</a>, чтобы поделиться своим опытом.</p><h2 id=что-дальше>Что дальше</h2><p>Если вы хорошо поняли темы, затронутые в этом разделе, но хотите глубже взаимодействовать с командой документации Kubernetes, прочитайте <a href=/docs/contribute/intermediate/>расширенное руководство по участию в документации</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-9ff7ba6b379b0f8b652beaabf6e4f8d6>2 - Участие для продвинутых</h1><p>1</p><p>На этой странице предполагается, что вы изучили и понимаете задачи на странице <a href=/ru/docs/contribute/start/>Участие для начинающих</a> и теперь готовы узнать о других способах внести свой вклад.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Некоторые задачи требуют использование Git-клиента из командной строки и других инструментов.</div><p>Теперь, когда вы уже знаете кое-что и приняли участие в документации Kubernetes, как описано в теме <a href=/ru/docs/contribute/start/>Участие для начинающих</a>, вы можете пойти ещё дальше. Далее пойдут задачи, предусматривающие наличие и желание получить глубокие знания по следующим темам:</p><ul><li>Концепции Kubernetes</li><li>Рабочие процессы документации Kubernetes</li><li>Поиск нужной информации о будущих возможностях Kubernetes</li><li>Сильные аналитические навыки в целом</li></ul><p>Эти задачи не такие последовательные, как задачи для начинающих. Поэтому мы не ожидаем, что кто-то в одиночку будет постоянно заниматься всеми ими.</p><h2 id=знакомство-с-prow>Знакомство с Prow</h2><p><a href=https://github.com/kubernetes/test-infra/blob/master/prow/README.md>Prow</a> — это система CI/CD, использующая Kubernetes, которая выполняет задания с пулреквестами (PR). Prow с помощью команд, похожих на те, что есть в чатботах, даёт возможность обрабатывать действия в организации Kubernetes на GitHub. Вы можете выполнять целый ряд действий, такие как добавление и удаление меток, закрытие заявок и назначение утверждающего. Введите Prow-команду в поле для комментария в формате <code>/&lt;command-name></code>. Некоторые популярные команды:</p><ul><li><code>/lgtm</code> (looks good to me): добавляет метку <code>lgtm</code>, которая сообщает, что рецензент проверил PR</li><li><code>/approve</code>: одобряет PR так, чтобы он мог быть принят (эта команда работает только для утверждающих)</li><li><code>/assign</code>: назначает проверяющего на PR</li><li><code>/close</code>: закрывает ишью или PR</li><li><code>/hold</code>: добавляет метку <code>do-not-merge/hold</code>, которая означает, что PR не может быть автоматически принят</li><li><code>/hold cancel</code>: удаляет метку <code>do-not-merge/hold</code></li></ul><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Не все команды работают для каждого пользователя. Бот Prow сообщит вам, если вы пытаетесь выполнить команду, не разрешенную для вашего уровня.</div><p>Детально изучите <a href=https://prow.k8s.io/command-help>список команд Prow</a>, прежде чем начать проверять PR или сортировать ишью.</p><h2 id=проверка-пулреквестов>Проверка пулреквестов</h2><p>Каждую неделю утверждающий доброволец документации сортирует и просматривает <a href=#%D1%81%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8%D1%88%D1%8C%D1%8E>пулреквесты и заявки</a>. Такой человек называется "PR Wrangler" на неделю. Расписание ведется с помощью <a href=https://github.com/kubernetes/website/wiki/PR-Wranglers>планировщика PR Wrangler</a>. Чтобы поучаствовать в этом списке, посетите еженедельную встречу SIG Docs. Даже если вас не выбрали дежурным по PR на текущую неделю, вы все равно можете проверять пулреквесты (PR), которые еще не были детально просмотрены.</p><p>В дополнение к ротации автоматизированная система добавляет в каждый новый PR и предлагает рецензентов и утверждающих для него, основываясь на списке утверждающих и рецензентов в измененных файлах. Ожидается, что автор PR будет следовать указаниям бота, поэтому PR должен быть быстро проверить.</p><p>Мы хотим, чтобы пулреквесты принимались и публиковались как можно быстрее. Чтобы документация оставалась точной и актуальной, каждый PR должен проверяться людьми, понимающие суть темы, а также теми, кто имеет опыт написания отличной документации.</p><p>Рецензенты и утверждающие должны предоставить конкретную и конструктивную обратную связь, чтобы заинтересованные участники были вовлечены и помогали им улучшаться. Иногда, чтобы помочь новому участнику подготовить свой PR к слиянию, требуется больше времени, чем просто переписать его самостоятельно, но проект лучше в долгосрочной перспективе, когда у нас есть множество активных участников.</p><p>Прежде чем приступить к проверке PR, убедитесь, что вы знакомы с <a href=/docs/contribute/style/content-guide/>руководством по содержанию документации</a>, <a href=/docs/contribute/style/style-guide/>руководством по оформлению документации</a> и <a href=/community/code-of-conduct/>нормы поведения</a>.</p><h3 id=поиск-пулреквестов-для-проверки>Поиск пулреквестов для проверки</h3><p>Чтобы посмотреть все открытые пулреквесты, перейдите на вкладку <strong>Pull Requests</strong> в GitHub-репозитории.
PR можно проверять только, если он соответствует всем перечисленным ниже критериям:</p><ul><li>Имеет метку <code>cncf-cla:yes</code></li><li>Не содержит надписи WIP в описании</li><li>Не имеет тег с фразой <code>do-not-merge</code></li><li>Нет конфликтов для слияния</li><li>Сделан в правильную ветку (обычно это <code>master</code>, за исключением, если PR не относится к невыпущенной ещё функциональности)</li><li>Не проверялся ещё детально другим проверяющим документации (то же самое касается и остальных технических рецензентов), если только этот человек явно не обратился за вашей помощью. В частности, не рекомендуется добавлять много новых комментариев после других циклов рассмотрения PR.</li></ul><p>Если PR не имеет условия для проверки, можно оставить комментарий, чтобы сообщить автору о текущих проблемах и предложить помочь решить их. Если автор пулреквеста был оповещён о проблемах и не устранил их в течение нескольких недель или месяцев, то рано или поздно такой PR будет закрыт.</p><p>Если вы новичок в проверке пулреквестов или у вас недостаточно времени и возможностей, попробуйте поискать PR с тегом <code>size/XS</code> или <code>size/S</code>. Размер пулреквеста автоматически определяется по количеству изменённых строк в PR.</p><h4 id=рецензенты-и-утверждающие>Рецензенты и утверждающие</h4><p>В репозитории сайта Kubernetes работа построена иначе, чем в других репозиториях Kubernetes, когда речь идет о роли рецензентов и утверждающих. Для получения дополнительной информации об обязанностях рецензентов и утверждающих см. <a href=/ru/docs/contribute/participating/>Участие в SIG Docs</a>. Ниже вы найдете краткий обзор.</p><ul><li><p>Рецензент проверяет содержание пулреквеста для соблюдения технической точности. Рецензент даёт понять, что PR технически точен, оставляя комментарий с <code>/lgtm</code> к PR.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Не добавляйте <code>/lgtm</code>, если вы не уверены в технической точности документации, измененной или добавленной в PR.</div></li><li><p>Утверждающий проверяет содержание запроса на предмет качества и соответствия рекомендациям SIG Docs, приведенным в руководствах по содержанию и оформлению. Только люди, указанные в качестве утверждающих в файле <a href=https://github.com/kubernetes/website/blob/main/OWNERS><code>OWNERS</code></a>, могут одобрить PR. Чтобы одобрить PR, оставьте комментарий <code>/approve</code> к PR.</p></li></ul><p>PR объединяется, когда у него есть комментарий <code>/lgtm</code> от кого-либо из организации Kubernetes и комментарий <code>/approve</code> от утверждающего в группе <code>sig-docs-maintainers</code>, если он не удерживается, а автор PR подписал CLA.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Раздел <a href=/ru/docs/contribute/participating/#%D1%83%D1%82%D0%B2%D0%B5%D1%80%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5>"Участие"</a> содержит больше информации для рецензентов и утверждающих, включая конкретные обязанности для утверждающих.</div><h3 id=проверка-pr>Проверка PR</h3><ol><li><p>Изучите описание PR вместе с указанными ишью и ссылками, если они есть. Кратковременные мимолетные обзоры иногда могут наносит больше вреда, чем пользы, поэтому убедитесь, что вы обладаете нужными знаниями, чтобы сделать содержательный обзор.</p></li><li><p>Если кто-то другой может лучше всего проверит определенный PR, упомяните этого человека, добавив комментарий <code>/assign @&lt;github-username></code>. Если вы обратились за технической проверкой к человеку, который не занимается документацией, но при этом вы хотите сами посмотреть PR как участник группы документации, то не стесняйтесь это делать.</p></li><li><p>Перейдите на вкладку <strong>Files changed</strong>. Посмотрите на все изменённые строки. Удалённый текст выделен красным, а строки с ним начинаются с символа <code>-</code>. Добавленный текст отмечен зелёным фоном, а строки с ним начинаются с символа <code>+</code>. Внутри строки фактически измененный контент имеет чуть более темный зеленый фон, чем остальная часть строки.</p><ul><li><p>В частности, если в PR есть сложное форматирование или он изменяет CSS, JavaScript или другие элементы сайта, вы можете просмотреть сайт, сгенерированный с этими изменениями в PR. Перейдите на вкладку <strong>Conversation</strong> и нажмите ссылку <strong>Details</strong> в проверке <code>deploy/netlify</code> в нижней части страницы. По умолчанию ссылка открывается в текущей вкладке браузера, поэтому чтобы потерять частичный отзыв, откройте ссылку в новой вкладке. Вернитесь на вкладку <strong>Files changed</strong>, чтобы продолжить проверку пулреквеста.</p></li><li><p>Убедитесь, что PR соответствует правилам содержания и оформления; если что-то не так, укажите на этом со ссылкой на раздел в руководстве.</p></li><li><p>Если у вас есть вопрос или вы хотите прокомментировать определённое изменение, наведите курсор мыши на строку и кликните на появившуюся сине-белую кнопку с иконкой <code>+</code>. Напишите свой комментарий и нажмите на кнопку <strong>Start a review</strong>.</p></li><li><p>Если вам нужно оставить больше одного комментария, сделайте это по аналогии с предыдущим шагом.</p></li><li><p>По соглашению, если вы видите небольшую проблему, не имеющей отношение к основному назначению PR, например, опечатку или лишний пробел, вы можете сообщить о ней, начав комментарий с <code>nit:</code>, чтобы автор знал, что это незначительная ошибка. Хотя это не означает, что автор пулреквеста может проигнорировать такие проблемы.</p></li><li><p>Когда вы всё проверили или у вас не осталось комментариев, прокрутите в верхнюю часть страницы и нажмите на кнопку <strong>Review changes</strong>. Далее кликните либо на <strong>Comment</strong> или <strong>Request Changes</strong>. Напишите краткий итог вашей проверки и добавьте соответствующие <a href=https://prow.k8s.io/command-help>Prow-команды</a> по одной на каждой строке в поле Review Summary. SIG Docs следует <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/owners.md#the-code-review-process>процессу проверки кода Kubernetes</a>. Все ваши комментарии будут отправлены автору PR в виде одного уведомления.</p><ul><li><p>Если вы считаете, что PR в хорошем состоянии, чтобы его принять, добавьте команду <code>/approve</code> в резюме вашей проверки.</p></li><li><p>Если PR не нуждается в дополнительном техническом рассмотрении, добавьте ещё команду <code>/lgtm</code>.</p></li><li><p>Если PR <em>требуется</em> дополнительный технический обзор, добавьте команду <code>/assign</code> и после неё укажите логин человека на GitHub, который должен сделать технический анализ. Посмотрите на поле рецензентов во вступительной (фронтальной) части вверху данного Markdown-файла, чтобы выяснить, кто может провести технический разбор пулреквеста.</p></li><li><p>Чтобы заблокировать слияние PR, используйте команду <code>/hold</code>. Она добавит метку <code>do-not-merge/hold</code>.</p></li><li><p>Если в PR нет конфликтов и есть метки <code>lgtm</code> и <code>approve</code> (и нет метки <code>hold</code>), то он автоматически объединиться.</p></li><li><p>Если PR имеет метки <code>lgtm</code> и/или <code>approve</code>, и появляются новые изменения, эти метки будут автоматически удалены.</p><p>Посмотрите <a href=https://prow.k8s.io/command-help>список доступных команд</a>, которые можно использовать в PR.</p></li></ul></li><li><p>Если вы ранее выбрали нажали на <strong>Request changes</strong> и затем автор PR решил все указанные проблемы, вы можете обновить статус проверки либо на вкладке <strong>Files changed</strong>, либо в нижней части вкладки <strong>Conversation</strong>. Обязательно укажите команду <code>/approve</code> и при необходимости выберите технических рецензентов, чтобы можно было объединить PR.</p></li></ul></li></ol><h3 id=редактирование-pr-другого-человека>Редактирование PR другого человека</h3><p>Добавление комментариев в PR — полезное дело, но могут быть случаи, когда нужно сделать коммит в пулреквест другого человека, а не просто оставить свой отзыв.</p><p>Не поддавайтесь желанию выполнить работу за другого человека, если только он явно не попросит вас об этом или вы не захотите оживить давно заброшенный PR. Хотя это может быть быстрее в краткосрочной плане, но это лишает человека возможности внести собственный вклад.</p><p>Используемый процесс зависит от того, нужно ли вам отредактировать файл, который уже изменен в PR, либо вам нужно отредактировать файл, который в PR не участвовал.</p><p>Вы не можете отредактировать чужой PR, если выполняется одно из условий:</p><ul><li>Если автор PR отправил свою ветку непосредственно в репозиторий <a href=https://github.com/kubernetes/website/>https://github.com/kubernetes/website/</a>, то только рецензент с правом отправки изменений напрямую в репозиторий может вносить изменения в PR.
Авторам следует открыть PR из ветки в своей копии репозитория.</li><li>Если автор PR явно запретил редактирование утверждающими, вы не сможете внести изменения в его PR, пока он не изменит эту настройку.</li></ul><h4 id=если-файл-уже-изменён-в-pr>Если файл уже изменён в PR</h4><p>Этот метод использует интерфейс GitHub. Вы можете использовать командную строку, если вам комфортнее работать в ней, даже если вам нужно изменить файл, который ранее редактировался в PR.</p><ol><li>Перейдите на вкладку <strong>Files changed</strong>.</li><li>Прокрутите к блоку с файлом, который вы хотите отредактировать и нажмите на иконку с карандашом.</li><li>Внесите изменения, напишите сообщение коммита в соответствующем поле под текстовым редактором и нажмите <strong>Commit changes</strong>.</li></ol><p>После этого ваш коммит отправляется в ветку из PR (скорее всего, в копию репозитория автора), и теперь отображается в PR, а ваши изменения отражаются на вкладке <strong>Files changed</strong>. Оставьте комментарий, чтобы автор PR знал, что вы что-то сделали в PR.</p><p>Если автор использует командную строку, а не сайт GitHub для работы с этим PR, он должен получить изменения со своей копии репозитория и перебазировать свою локальную ветку на ветку своей копии, прежде чем заниматься своим PR.</p><h4 id=если-файл-ещё-не-был-изменён-в-pr>Если файл ещё не был изменён в PR</h4><p>Если необходимо внести изменения в файл, который не был отредактирован в рамках конкретного PR, нужно использовать командную строку. Вам придётся по душе такой метод, если вы предпочитаете использовать терминал вместо использования сайта GitHub.</p><ol><li><p>Узнайте URL-адрес копии репозитория автора пулреквеста. Вы можете найти его в нижней части вкладки <strong>Conversation</strong>. Найдите текст <strong>Add more commits by pushing to</strong>. Первая ссылка после этой надписи ведет на ветку, а вторая ссылка — на саму копию репозитория. Скопируйте вторую ссылку. Запомните название ветки, пригодится впоследствии.</p></li><li><p>Добавьте копию репозитория как новый удаленный репозиторий. В терминале перейдите в директорию своей копии репозитория. Придумайте имя для удаленного репозитория (например, по имени логина автора на GitHub) и добавьте его, используя следующую команду:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote add &lt;name&gt; &lt;url-of-fork&gt;
</span></span></code></pre></div></li><li><p>Получите информацию о добавленном удаленном репозитории. Это действие не затронет локальные файлы, а только загрузит в вашу копии репозитория информацию о другой копии (например, ветки и теги).</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote fetch &lt;name&gt;
</span></span></code></pre></div></li><li><p>Перейдите в ветку, полученную с удаленного репозитория. Эта команда не получится, если у вас локально уже есть ветка с таким же именем.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout &lt;branch-from-PR&gt;
</span></span></code></pre></div></li><li><p>Внесите изменения и добавьте их через <code>git add</code>, а затем зафиксируйте их.</p></li><li><p>Отправьте изменения в удаленный репозиторий автора.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push &lt;remote-name&gt; &lt;branch-name&gt;
</span></span></code></pre></div></li><li><p>Откройте снова сайт GitHub и обновите страницу PR. Вы увидите ваши изменения. Добавьте комментарий для автора, чтобы он был в курсе, что вы изменили его PR.</p></li></ol><p>Если автор использует командную строку, а не интерфейс на GitHub для работы над PR, ему нужно получить новые изменения из своей копии репозитоии и перебазировать свою локальную ветку на ветку своей копии репозитории, прежде чем снова заниматься собственным PR.</p><h2 id=работа-из-локальной-копии>Работа из локальной копии</h2><p>В случае изменений нескольких файлов, либо добавлением новых или перемещением старых, лучше работать из локальной копии Git-репозитория на компьютере, нежели чем использовать для этого GitHub. Следующие инструкции используют командую утилиту <code>git</code>, которая предполагается, что она уже установлена на вашем компьютере. Вы можете воспользоваться ими даже, если пользуетесь графическим Git-клиента.</p><h3 id=клонирование-репозитория>Клонирование репозитория</h3><p>Вам нужно только один раз клонировать репозиторий на каждом компьютере, на котором вы работаете с документацией Kubernetes.</p><ol><li><p>Создайте копию репозитория <code>kubernetes/website</code> на GitHub. В браузере перейдите по <a href=https://github.com/kubernetes/website>https://github.com/kubernetes/website</a> и нажмите на кнопку <strong>Fork</strong>. После нескольких секунд вы будете автоматически перенаправлены на URL-адрес вашей копии, которая будет иметь следующий вид: <code>https://github.com/&lt;github_username>/website</code>.</p></li><li><p>В окне термина используйте команду <code>git clone</code> для получения копии репозитория.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone git@github.com/&lt;github_username&gt;/website
</span></span></code></pre></div><p>После выполнения этой команды в текущей рабочей директории появится новая директория <code>website</code> с содержимым вашего репозитория на GitHub. В данном случае удаленный репозиторий <code>origin</code> будет ссылаться на вашу копию репозитория.</p></li><li><p>Перейдите в новую директорию <code>website</code>. Добавьте новый удалённый репозиторий <code>kubernetes/website</code> под именем <code>upstream</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>cd</span> website
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>git remote add upstream https://github.com/kubernetes/website.git
</span></span></code></pre></div></li><li><p>Проверьте ваши репозитории <code>origin</code> и <code>upstream</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote -v
</span></span></code></pre></div><p>Output is similar to:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>origin	git@github.com:&lt;github_username&gt;/website.git <span style=color:#666>(</span>fetch<span style=color:#666>)</span>
</span></span><span style=display:flex><span>origin	git@github.com:&lt;github_username&gt;/website.git <span style=color:#666>(</span>push<span style=color:#666>)</span>
</span></span><span style=display:flex><span>upstream	https://github.com/kubernetes/website.git <span style=color:#666>(</span>fetch<span style=color:#666>)</span>
</span></span><span style=display:flex><span>upstream	https://github.com/kubernetes/website.git <span style=color:#666>(</span>push<span style=color:#666>)</span>
</span></span></code></pre></div></li></ol><h3 id=работа-в-локальном-репозитории>Работа в локальном репозитории</h3><p>Прежде чем начать работать в локальном репозитории, вам нужно выяснить, из какой ветки будет основываться ваша работа. Ответ на этот вопрос зависит от того, что хотите сделать, но можно руководствоваться следующими правилами:</p><ul><li>Для общих улучшений существующего контента создайте собственную ветку от ветки <code>master</code>.</li><li>Для добавления нового контента про функциональность, которая уже есть в текущих версиях Kubernetes, начните с ветки <code>master</code>.</li><li>В случае большой и длительной работы, над которой будут трудиться несколько участников SIG Docs, например, реорганизация контента, создайте отдельную ветку, специально предназначенной для этого.</li><li>Для нового контента про будущие, но ещё не выпущенные версии Kubernetes, работайте в ветке предварительного выпуска, созданной специально для этой версии Kubernetes.</li></ul><p>Для получения дополнительной информации обратитесь к разделу <a href=/ru/docs/contribute/start/#%D0%B2%D1%8B%D0%B1%D0%BE%D1%80-%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%B2%D0%B5%D1%82%D0%BA%D0%B8-%D0%B2-git>Выбор правильной ветки</a>.</p><p>После того, как вы определили, с какой ветви начать свою работу (или на какой ветке будет <em>базироваться</em> ваша работа, если говорить в терминологии Git), следуйте определённому ниже рабочему процессу, чтобы ваша работа оставалась актуальной.</p><ol><li><p>Когда вы работаете локально, есть три разные копии репозитория: <code>local</code>, <code>upstream</code> и <code>origin</code>. Получите данные по удалённым репозиториям <code>origin</code> и <code>upstream</code>. Эта команда очистит кеш удаленных репозиториях без фактического изменения каких-либо из копии.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git fetch origin
</span></span><span style=display:flex><span>git fetch upstream
</span></span></code></pre></div><p>Этот рабочий процесс отличается от того, который определен в <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/github-workflow.md>сообществе GitHub</a>. Здесь вам не нужно объединять вашу локальную копию <code>master</code> из репозитория <code>upstream/master</code>, прежде чем отправлять изменения в вашу копию. Этот шаг не требуется в <code>kubernetes/website</code>, потому что ваша ветка базируется на репозитории upstream.</p></li><li><p>Создайте локальную рабочую ветку из наиболее подходящей ветки upstream-репозитория: <code>upstream/dev-1.xx</code> для разработчиков в конкретных версиях или <code>upstream/master</code> для всех остальных участников. В этом примере предполагается, что вы будете работать с ветки <code>upstream/master</code>. Так как ваша локальная ветка <code>master</code> не настроена для отслеживания изменений с <code>upstream/master</code> на предыдущем шаге, поэтому вам нужно явно создать свою ветку от <code>upstream/master</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -b &lt;my_new_branch&gt; upstream/master
</span></span></code></pre></div></li><li><p>После переключения на новую ветку можно начать в ней работать в текстовом редакторе. Используйте команду <code>git status</code> , чтобы посмотреть измененные файлы.</p></li><li><p>Когда вы закончите работу, зафиксируйте изменения. Сначала выполните команду <code>git status</code>, чтобы увидеть, какие изменения будут добавлены в коммит. В выводе этой команды есть две важные секции: <code>Changes staged for commit</code> и <code>Changes not staged for commit</code>. Файлы в последней секции, рядом с которыми есть надпись <code>modified</code> или <code>untracked</code>, необходимо добавить, если вы хотите, чтобы они попали в коммит. Для каждого файла, который нужно добавить, используйте команду <code>git add</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add example-file.md
</span></span></code></pre></div><p>Когда все изменённые файлы добавлены, зафиксируйте их с помощью команды <code>git commit</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git commit -m <span style=color:#b44>&#34;Your commit message&#34;</span>
</span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> В сообщении коммита не указывайте идентификатор или URL-адрес ишью или пулреквеста на GitHub. Если вы это сделаете, на странице ишью или пулреквеста будет показана информация о коммите всякий раз, когда коммит будет появляться в новой Git-ветке. Вы можете сослаться на ишью и пулреквесты позже на сайте GitHub.</div></li><li><p>При желании вы можете посмотреть, как ваши изменения будут выглядеть на сайте, если запустите сайт на вашей машине с помощью команды <code>hugo</code>. Посмотрите раздел <a href=#%D0%BF%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80-%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE>Просмотр ваших изменений локально</a>. Кроме этого, вы увидите свои изменения после создания пулреквеста.</p></li><li><p>Перед тем, как открывать пулреквест с вашими изменениями вам для начала отправить в ветку удаленного репозитория, чем в данном случае является <code>origin</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin &lt;my_new_branch&gt;
</span></span></code></pre></div><p>Технически вы можете не указать имя ветки в команде <code>push</code>, но корректное выполнение команды в таком случае зависит от используемой версии Git. Результаты будут более ожидаемыми, если вы напишите название ветки.</p></li><li><p>Перейдите по адресу <a href=https://github.com/kubernetes/website>https://github.com/kubernetes/website</a> в вашем браузере. GitHub определит и укажет вам, что вы загрузили новую ветку в свою копию, и поэтому предложит создать пулреквест. Заполните шаблон запроса.</p><ul><li>Название должно быть не длиннее 50 символов и отражать краткий итог изменений.</li><li>Подробное описание должно содержать больше информации про исправление, включая строку типа <code>Fixes #12345</code>, если пулреквест решает проблему на GitHub. Это приведет к автоматическому закрытию указанной ишью после принятия пулреквеста.</li><li>Вы можете добавить метки или другие метаданные и назначить рецензентов. Смотрите страницу <a href=#%D1%81%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8%D1%88%D1%8C%D1%8E>Сортировка и классификация ишью</a>.</li></ul><p>Нажмите на кнопку <strong>Create pull request</strong>.</p></li><li><p>Начнут выполняться автоматические тесты в зависимости от состояния сайта с вашими изменениями. Если какой-либо из тестов завершился неудачно, нажмите на ссылку <strong>Details</strong> для получения дополнительной информации. Если тест Netlify прошёл успешно, по ссылке <strong>Details</strong> вы можете найти предварительную версию сайта Kubernetes с внесенными вашими изменениями. Именно на ней рецензенты будут проверять ваши изменения.</p></li><li><p>Если вам необходимо что-то дополнить, изменить пулреквест в соответствии с выполненной проверкой, либо изменить текст коммита, вы можете использовать команду ниже.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git commit -a --amend
</span></span></code></pre></div><ul><li><code>-a</code>: зафиксировать все изменения</li><li><code>--amend</code>: изменить предыдущий коммит вместо создания нового</li></ul><p>Откроется текстовый редактор, чтобы вы могли отредактировать сообщение коммита, если это нужно.</p><p>Если вы используете <code>git commit -m</code>, как в шаге 4, вы сделаете новый коммит, а не измените исходный (предыдущий) коммит. Создание нового коммита означает, что вам нужно объединить свои коммиты до того, прежде чем пулреквест может быть объединен.</p><p>Следуйте инструкциям в шаге 6, чтобы отправить новый коммит в удаленный репозиторий. После этого новое изменение отобразится в пулреквесте, а дальше снова запустятся тесты, а также произойдет новая сборка предварительной версии сайта на Netlify с последними изменениями.</p></li><li><p>Если рецензент изменяет файлы в вашем пулреквесте, вам нужно получить новые изменения в вашей локальной копии, до того как снова начать что-то делать. Используйте команды ниже, чтобы обновить свою ветку (предполагается, что ветка уже получена с вашей копии репозитория).</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git fetch origin
</span></span><span style=display:flex><span>git rebase origin/&lt;your-branch-name&gt;
</span></span></code></pre></div><p>После перебазирования вам нужно добавить флаг <code>--force-with-lease</code>, чтобы принудительно отправить новые изменения в ветке на вашу копию.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push --force-with-lease origin &lt;your-branch-name&gt;
</span></span></code></pre></div></li><li><p>Может возникнуть конфликт, если кто-то, как и вы, изменил те же части файла в ветке, из которой была создана ваша ветка. Если пулреквест показывает, что есть конфликты, которые нужно разрешить, вы можете сделать это либо на сайте GitHub, либо исправить их локально.</p><p>Сначала выполните шаг 10, чтобы актуализировать локальную ветку в соответствии с веткой в удаленном репозитории.</p><p>Затем обновите репозиторий <code>upstream</code> и перебазируйте вашу ветку на ту, с которой она была создана, в данном случае это <code>upstream/master</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git fetch upstream
</span></span><span style=display:flex><span>git rebase upstream/master
</span></span></code></pre></div><p>Если есть конфликты, которые Git не может разрешить автоматически, вы можете увидеть конфликтующие файлы с помощью команды <code>git status</code>. Отредактируйте каждый конфликтующий файл: найдите в них маркеры конфликта <code>>>></code>, <code>&lt;&lt;&lt;</code> и <code>===</code>. Разрешение конфликта происходит путём удаления указанных маркеров конфликта. После это нужно добавить измененные файлы с помощью команды <code>git add &lt;filename></code> и продолжить перебазирование ветки, используя команду <code>git rebase --continue</code>. Когда всё зафиксировано в репозитории и не осталось неразрешенных конфликтов, команда <code>git status</code> покажет, что вы вышли из состояния перебазирования ветки и нет изменений для фиксации. На этом этапе вам осталось принудительно отправить ветку в свою копию репозитория, после чего на странице пулреквеста не должны быть конфликты.</p></li><li><p>Если у вашего PR отображаются несколько сделанных коммитов после редактирования предыдущих коммитов, вам следует объединить эти несколько коммитов в один коммит, чтобы PR мог быть объединен. Проверить количество коммитов можно на вкладке <code>Commits</code> на странице PR или выполнив <code>git log</code> в терминале. Объединение коммитов (Squashing commits) — это одна из форм перебазирования.</p></li></ol><pre><code>```bash
git rebase -i HEAD~&lt;number_of_commits&gt;
```

Ключ `-i` сообщает git, что вы хотите сделать перебазирование в интерактивном режиме. В этом режиме вы сможете выбрать для git, какие коммиты нужно объединить в один. Например, в вашей ветке есть 3 коммита:

```
12345 commit 4 (2 minutes ago)
6789d commit 3 (30 minutes ago)
456df commit 2 (1 day ago)
```

Вам нужно объединить свои последние три коммита в один-единственный.

```
git rebase -i HEAD~3
```

Эта команда откроет редактор с таким содержимым:

```
pick 456df commit 2
pick 6789d commit 3
pick 12345 commit 4
```

Измените `pick` на `squash` у тех коммитов, которые вы хотите объединить, и проверьте, что коммит с выбранным `pick` находится сверху.

```
pick 456df commit 2
squash 6789d commit 3
squash 12345 commit 4
```

Сохраните и закройте редактор. Затем отправьте объединённый коммит в репозитории с помощью команды `git push --force-with-lease origin &lt;branch_name&gt;`.
</code></pre><p>Если у вас возникли проблемы с разрешением конфликтов или вы долго не можете что-то разрешить, что связано с вашим пулреквестом, обратитесь за помощью в Slack-канал <code>#sig-docs</code> или в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>список рассылки kubernetes-sig-docs</a>.</p><h3 id=просмотр-изменений-локально>Просмотр изменений локально</h3><ul class="nav nav-tabs" id=tab-with-hugo role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-hugo-0 role=tab aria-controls=tab-with-hugo-0 aria-selected=true>Hugo в контейнере</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-hugo-1 role=tab aria-controls=tab-with-hugo-1>Hugo на локальном компьютере</a></li></ul><div class=tab-content id=tab-with-hugo><div id=tab-with-hugo-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-hugo-0><p><p>Если вы ещё не готовы создать пулреквесты, но при этом хотите посмотреть, как будет выглядеть сайт с вашими изменениями, то можете собрать и запустить образ Docker, чтобы сгенерировать всю документацию и открыть ее на своем компьютере.</p><ol><li><p>Соберите образ локально:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make docker-image
</span></span></code></pre></div></li><li><p>После того. как образ <code>kubernetes-hugo</code> собран, вы можете использовать его для запуска сайта:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make docker-serve
</span></span></code></pre></div></li><li><p>В адресной строке браузера введите вставьте адрес <code>localhost:1313</code>. Hugo будет следить за изменениями файловой системы и пересобирать сайт по мере необходимости.</p></li><li><p>Чтобы остановить локальный сайт Hugo, откройте снова терминал и введите <code>Ctrl+C</code> или просто закройте окно с терминалом.</p></li></ol></div><div id=tab-with-hugo-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-hugo-1><p><ol><li><p>Установите версию <a href=https://gohugo.io/getting-started/installing/>Hugo</a>, которая указана в файле <a href=https://raw.githubusercontent.com/kubernetes/website/master/netlify.toml><code>website/netlify.toml</code></a>.</p></li><li><p>В терминале перейдите в корневую директорию вашей копии документации Kubernetes и введите следующую команду:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo server
</span></span></code></pre></div></li><li><p>В адресной строке браузера скопируйте <code>localhost:1313</code>.</p></li><li><p>Чтобы остановить локальный сайт Hugo, откройте снова терминал и введите <code>Ctrl+C</code> или просто закройте окно с терминалом.</p></li></ol></div></div><h2 id=сортировка-и-классификация-ишью>Сортировка и классификация ишью</h2><p>Люди в SIG Docs отвечают только за сортировку и классификацию ишью, связанных с документацией. Вопросы и проблемы общего характера также хранятся в репозитории <code>kubernetes/website</code>.</p><p>Что вы делаете, когда сортируете ишью:</p><ul><li>Проверить ишью<ul><li>Убедитесь, что ишью связана с документацией сайта. Некоторые заявки можно быстро закрыть, ответив на вопрос или указав автору на ресурс. Подробности смотрите в разделе <a href=#%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B8-%D1%81-%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E-%D0%B8%D0%BB%D0%B8-%D0%BE%D1%82%D1%87%D1%91%D1%82%D1%8B-%D0%BE%D0%B1-%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B5-%D0%B2-%D0%BA%D0%BE%D0%B4%D0%B5>Заявки с помощью или отчёты об ошибке в коде</a>.</li><li>Рассмотрите, насколько обоснованной является заявка. Добавьте метку <code>triage/needs-information</code>, если в ишью описано мало подробностей, чтобы ее можно было начать решать, либо если шаблон был неправильно заполнен.
Закройте заявку, если она имеет метки <code>lifecycle/stale</code> и <code>triage/needs-information</code>.</li></ul></li><li>Добавьте метку с приоритетом (см. <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/issue-triage.md#define-priority>руководство по сортировке заявок</a>, где подробно определены метки)<ul><li><code>priority/critical-urgent</code> - заниматься нужно прямо сейчас</li><li><code>priority/important-soon</code> - нужно выполнить в течение 3 months</li><li><code>priority/important-longterm</code> - нужно сделать в течение 6 months</li><li><code>priority/backlog</code> - решение можно быть отложено на неопределенный срок indefinitely; самый низкий приоритет; делать, когда будут свободны ресурсы</li><li><code>priority/awaiting-more-evidence</code> - указание, что это возможно хорошая задача, которую нужно иметь на виду</li></ul></li><li>Дополнительно вы можете добавить метку <code>help</code> или <code>good first issue</code>, если определенная заявка может быть решена человеком, мало знакомым с Kubernetes или SIG Docs. В качестве руководства обратитесь к файлу <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/help-wanted.md>Help Wanted and Good First Issue Labels</a>.</li><li>При желании примите сами участие в ишью и отправьте PR для ее решения (в частности если она может быстро разрешена или вы ранее выполняли нечто подобное).</li></ul><p>С помощью <a href="https://github.com/kubernetes/website/issues?q=is%3Aissue+is%3Aopen+-label%3Apriority%2Fbacklog+-label%3Apriority%2Fimportant-longterm+-label%3Apriority%2Fimportant-soon+-label%3Atriage%2Fneeds-information+-label%3Atriage%2Fsupport+sort%3Acreated-asc">этого фильтра</a> можно найти заявки, которые необходимо отсортировать.</p><p>Если у вас есть вопросы о про сортировку, спросите в Slack-канале <code>#sig-docs</code> или в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>списке рассылки kubernetes-sig-docs</a>.</p><h3 id=добавление-и-удаление-меток>Добавление и удаление меток</h3><p>Для добавления метки нужен комментарий, содержащий что-то вроде <code>/&lt;label-to-add></code> или <code>/&lt;label-category> &lt;label-to-add></code>. Метка уже должна быть создана в репозитории. Если вы попытаетесь добавить несуществующую метку, команда проигнорируется.</p><p>Примеры:</p><ul><li><code>/triage needs-information</code></li><li><code>/priority important-soon</code></li><li><code>/language ja</code></li><li><code>/help</code></li><li><code>/good-first-issue</code></li><li><code>/lifecycle frozen</code></li></ul><p>Для удаления метки нужен комментарий с <code>/remove-&lt;label-to-remove></code> или <code>/remove-&lt;label-category> &lt;label-to-remove></code>.</p><p>Примеры:</p><ul><li><code>/remove-triage needs-information</code></li><li><code>/remove-priority important-soon</code></li><li><code>/remove-language ja</code></li><li><code>/remove-help</code></li><li><code>/remove-good-first-issue</code></li><li><code>/remove-lifecycle frozen</code></li></ul><p>Список всех меток, используемых в Kubernetes, находится <a href=https://github.com/kubernetes/kubernetes/labels>здесь</a>. Не все метки используются группой SIG Docs.</p><h3 id=дополнительные-сведения-о-метках>Дополнительные сведения о метках</h3><ul><li>Ишью может иметь несколько ярлыков.</li><li>Некоторые метки в своём имени содержат слеш для группировки, это своего рода "подметки". Например, существует множество меток <code>sig/</code>, например, <code>sig/cli</code> и <code>sig/api-machinery</code> (<a href="https://github.com/kubernetes/website/labels?utf8=%E2%9C%93&q=sig%2F">полный список</a>).</li><li>Некоторые метки добавляются автоматически, в зависимости от метаданных файлов из ишью, либо от используемых в комментариях команд со слешем, а также от указанной информации в описании.</li><li>Новые метки могут добавляться вручную человеком, который сортировкой ишью (либо тем, кто создает ишью).<ul><li><code>kind/bug</code>, <code>kind/feature</code> и <code>kind/documentation</code>: баг (bug) — это проблема в текущем контенте или в функциональности, а возможность (feature) — запрос на добавление нового контента или функциональности.
Метка <code>kind/documentation</code> используется редко.</li><li>Метки <code>language/ja</code>, <code>language/ko</code> и похожие <a href="https://github.com/kubernetes/website/labels?utf8=%E2%9C%93&q=language">языковые метки</a> добавляются, если ишью относится к локализованному контенту.</li></ul></li></ul><h3 id=жизненный-цикл-ишью>Жизненный цикл ишью</h3><p>Ишью обычно открываются и закрываются в течение относительно короткого промежутка времени. Однако иногда решение заявки после ее создания может и не быть. Иногда ишью может оставаться открытой гораздо дольше, чем 90 дней.</p><p><code>lifecycle/stale</code>: после 90 дней бездействия ишью автоматически помечается как устаревшая (stale). Такая заявка будет автоматически закрыта, если эта метка не будет удалена с помощью команды <code>/remove-lifecycle stale</code>.</p><p><code>lifecycle/frozen</code>: заявка с данной меткой не будет считаться устаревшей после 90 дней отсутствия активности. Пользователь вручную добавляет эту метку к заявкам, которые должны оставаться открытыми значительно дольше 90 дней, например, у ишью с меткой <code>priority/important-longterm</code>.</p><h3 id=обработка-специальных-типов-ишью>Обработка специальных типов ишью</h3><p>Мы встречаем перечисленные ниже типы заявкой достаточно часто, поэтому расписали, как их обрабатывать.</p><h4 id=дублирование-заявок>Дублирование заявок</h4><p>Если для какой-нибудь проблемы есть одна или несколько открытых заявок, решение этой проблемы должно быть вынесено в одну заявку. Вам нужно решить, какую заявку оставить открытой (либо вовсе открыть новую ишью), перенести всю соответствующую информацию и указать связанные заявки. Затем для всех остальных похожих заявок добавьте метку с <code>triage/duplicate</code> и закройте их. Наличие только одной-единственной заявки поможет уменьшить путаницу и избежать дублирования работы над одной и той же проблемой.</p><h4 id=заявки-про-неработающие-ссылки>Заявки про неработающие ссылки</h4><p>В зависимости от того, где сообщается о неработающей ссылке, для решения этой проблемы требуются различные действия. Неработающие ссылки в API и документации Kubectl — это заявки, связанные с автоматизацией и поэтому их нужно отмечать меткой <code>/priority critical-urgent</code>, пока проблема не будет полностью проанализирована. Все остальные неработающие ссылки — это ишью, которым нужно заниматься вручную, поэтому им нужно добавить метку <code>/priority important-longterm</code>.</p><h4 id=заявки-связанные-с-блогом>Заявки, связанные с блогом</h4><p>Записи в <a href=https://kubernetes.io/blog/>блоге Kubernetes</a> будут терять актуальность со временем, поэтому мы поддерживаем записи, опубликованные в течение года. Если заявка сообщает о проблеме в записи блога, которой более одного года, ее следует закрыть без какого-либо исправления.</p><h4 id=заявки-с-помощью-или-отчёты-об-ошибке-в-коде>Заявки с помощью или отчёты об ошибке в коде</h4><p>Некоторые открытые заявки — это проблемы с основным кодом или просьбы с помощью, когда что-то (например, учебное руководство) не работает. Для заявок, не имеющих отношение к документации, закройте её, проставив метку <code>kind/support</code> и добавив комментарий с ресурсами, где можно найти помощь (Slack, Stack Overflow) и при необходимости укажите, где нужно открыть заявку, чтобы сообщить об ошибке в функциональности (вероятно, репозиторий kubernetes/kubernetes отлично подойдет для этого).</p><p>Пример ответа на запрос о помощи:</p><pre tabindex=0><code class=language-none data-lang=none>This issue sounds more like a request for support and less
like an issue specifically for docs. I encourage you to bring
your question to the `#kubernetes-users` channel in
[Kubernetes slack](http://slack.k8s.io/). You can also search
resources like
[Stack Overflow](http://stackoverflow.com/questions/tagged/kubernetes)
for answers to similar questions.

You can also open issues for Kubernetes functionality in
 https://github.com/kubernetes/kubernetes.

If this is a documentation issue, please re-open this issue.
</code></pre><p>Пример ответа на сообщение об ошибке в коде:</p><pre tabindex=0><code class=language-none data-lang=none>This sounds more like an issue with the code than an issue with
the documentation. Please open an issue at
https://github.com/kubernetes/kubernetes/issues.

If this is a documentation issue, please re-open this issue.
</code></pre><h2 id=добавление-документации-для-новой-функциональности>Добавление документации для новой функциональности</h2><p>Каждый мажорный выпуск Kubernetes несет в себе новую функциональность, для большей части из которой нужно написать хоть краткую документацию, чтобы показать людям, как её использовать.</p><p>Зачастую SIG-группа, ответственная за новую функциональность, представляют черновик документацию в виде пулреквеста в соответствующую ветку выпуска в репозитории <code>kubernetes/website</code>, а кто-то из команды SIG Docs могут сделать вычитку или отредактировать черновик напрямую.</p><h3 id=поиск-информации-о-новой-функциональности>Поиск информации о новой функциональности</h3><p>Чтобы узнать о будущей функциональности, посетите еженедельную встречу sig-release (см. страницу <a href=https://kubernetes.io/community/>Сообщество</a>, чтобы быть в курсе предстоящих собраний) и отслеживайте документацию к новому релизу в репозитории <a href=https://github.com/kubernetes/sig-release/>kubernetes/sig-release</a>. Каждый выпуск имеет поддиректорию в директории <a href=https://github.com/kubernetes/sig-release/tree/master/releases>/sig-release/tree/master/releases/</a>. Каждая директорию содержит график выхода новой версии, черновик с примечаниями к выпуску, а также документ, в котором перечислена команда, занимающаяся новым выпуском.</p><ul><li><p>График выпуска содержит ссылки на все другие документы, встречи, протоколы собраний и этапы, связанные с выпуском. Он также содержит информацию о целях и сроках выпуска, а также о любых специальных процессах, используемых этом выпуске. В нижней части документа определены несколько терминов, связанных с выпуском.</p><p>Этот документ также содержит ссылку на <strong>лист отслеживания функциональности</strong> — это "официальный" способ узнать про новую функциональность, запланированной в выпуске.</p></li><li><p>В документе команды выпуска указано, кто какую роль занимает. Если непонятно, с кем можно поговорить об определенной функциональности или вы хотите что-то спросить, то либо посетите встречу по этому выпуску, чтобы задать свой вопрос, либо обратитесь к руководителю.</p></li><li><p>Черновик примечаний к выпуску — хорошая отправная точка, где можно узнать чуть больше о конкретной функциональности, изменениях, устаревших возможностях и в целом что-то ещё о выпуске. Содержимое может обновляться до конца цикла выпуска, поэтому будьте начеку.</p></li></ul><h4 id=лист-отслеживания-функциональности>Лист отслеживания функциональности</h4><p>В списке отслеживания функциональности <a href=https://github.com/kubernetes/sig-release/tree/master/releases>для данного выпуска Kubernetes</a> перечислена вся функциональность, запланированная для выпуска. Каждая строка содержит название возможности, ссылку на основную заявку GitHub, уровень стабильности (Alpha, Beta или Stable), группу SIG и ответственного лица за её реализацию, информацию про документацию, черновик примечания для выпуска, а также указание, была ли функциональность уже принята. Имейте в виду следующее:</p><ul><li>Функциональность в состоянии Beta и Stable обычно имеет более высокий приоритет по сравнению с версией Alpha.</li><li>Трудно протестировать (и, следовательно, написать документацию) функциональности, которая не ещё принята или,по крайней мере, считается полнофункциональной в своем PR.</li><li>Определение, нужна ли документировать функциональности, производится вручную, и даже если у функциональности нет метки, что ей нужна документация, это не означает, это действительно так.</li></ul><h3 id=документирование-функциональности>Документирование функциональности</h3><p>Как отмечалось выше, черновик документации для новой функциональности обычно предлагается SIG-группой, ответственной за реализацию новой функциональности. Это означает, вы в данном случае будете больше наблюдающим (куратором) в данной функциональности, нежели чем полноценным автором документации для неё.</p><p>После того, как вы выбрали функциональность для документирования/наблюдения, заявите об этом в Slack-канале <code>#sig-docs</code>, на еженедельной встрече sig-docs или напрямую в PR, отправленном SIG. Если вам дали добро, вы можете редактировать PR, используя один из способов, указанных в разделе <a href=#%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-PR-%D0%B4%D1%80%D1%83%D0%B3%D0%BE%D0%B3%D0%BE-%D1%87%D0%B5%D0%BB%D0%BE%D0%B2%D0%B5%D0%BA%D0%B0>Редактирование PR другого человека</a>.</p><p>Если вам нужно написать новую тему, полезны следующие ссылки:</p><ul><li><a href=/docs/contribute/style/write-new-topic/>Написание новых тем</a></li><li><a href=/docs/contribute/style/page-templates/>Использование шаблонов страниц</a></li><li><a href=/docs/contribute/style/style-guide/>Руководство по оформлению документации</a></li><li><a href=/docs/contribute/style/content-guide/>Руководство по содержанию документации</a></li></ul><h3 id=члены-sig-участвующие-в-документировании-новой-функциональности>Члены SIG, участвующие в документировании новой функциональности</h3><p>Если вы участник SIG-группы, кто разрабатывает новую функциональность для Kubernetes, вам нужно работать с документацией SIG, чтобы убедиться, что на момент новой версии написана документация для этой функциональности. Проверьте <a href=https://github.com/kubernetes/sig-release/tree/master/releases>электронную таблицу с отслеживанием функциональности</a> или присоединитесь в Slack-канал #sig-release, чтобы узнать информацию о сроках выхода. Некоторые крайние сроки касательно документации:</p><ul><li><strong>Docs deadline - Open placeholder PRs</strong>: откройте пулреквест в ветку <code>release-X.Y</code> в репозитории <code>kubernetes/website</code> с небольшим коммитом, который вы позже измените. Используйте команду Prow <code>/milestone X.Y</code>, чтобы назначить PR соответствующему этапу. Это уведомляет человека, который занимается документацией и ответственный за этот выпуск, что выходит документация для новой функциональности. Если функциональность не нуждается в каких-либо изменениях документации, убедитесь, что команда sig-release знает об этом, написав им сообщение в Slack-канале #sig-release. Если для функциональности нужна документация, но PR для этого ещё не создан, функциональность может быть удалена из этапа.</li><li><strong>Docs deadline - PRs ready for review</strong>: теперь ваш PR должен содержать первый черновик документации для вашей функциональности. Не беспокойтесь о форматировании или всяких улучшениях. Просто опишите, что делает эта функциональность и как ее использовать. Участник из группы документации, управляющий выпуском новой версии, будет работать вместе с вами, чтобы подготовить контент для публикации. Если вашей функциональности нужна документация и первого черновика с документацией до сих пор нет, эта функциональность может быть удалена из этапа.</li><li><strong>Docs complete - All PRs reviewed and ready to merge</strong>: если ваш PR еще не был объединен в ветку <code>release-X.Y</code> к заданному крайнему сроку, обратитесь за помощью к человеку, ответственному за выпуск новой версии. Если вашей функциональности требуется документация, но она ещё не сделана, функциональность может быть удалена из этапа.</li></ul><p>Если ваша функциональность находится в альфа-версии и ее не нельзя отключить, убедитесь, что вы добавили ее к <a href=/docs/reference/command-line-tools-reference/feature-gates/>переключателем возможностей</a> в вашем пулреквесте. Если ваша функциональность переходит из альфа-версии, обязательно удалите ее из этого файла.</p><h2 id=участие-к-других-репозиториях>Участие к других репозиториях</h2><p>В <a href=https://github.com/kubernetes>проекте Kubernetes</a> более 50 самостоятельных репозиториев. Многие из этих репозиториев хранят код или контент, который можно рассматривать как документацию, например, справочный текст для пользователях, сообщения об ошибках, пользовательский текст в справочниках API или даже комментарии кода.</p><p>Если вы видите текст и не знаете, откуда он берётся, вы можете использовать поиск GitHub по репозиториям организации Kubernetes, чтобы выяснить, где встречается этот текст. Это поможет вам определиться с тем, куда создать заявку или PR.</p><p>У каждого репозитория могут быть определены собственные процессы и правила. До того как открыть проблему или отправить PR, изучите файлы <code>README.md</code>, <code>CONTRIBUTING.md</code> и <code>code-of-conduct.md</code> в репозитории, если они есть.</p><p>Большинство репозиториев используют шаблоны для заявок и PR. Просмотрите некоторые открытые заявки и PR, чтобы понять, как устроена работа. Обязательно как можно более подробно заполните шаблоны при открытии заявок или PR.</p><h2 id=локализация-контента>Локализация контента</h2><p>Английский является основным языком документации Kubernetes, однако мы хотим, чтобы у людей была возможность читать документацию на своём родном языке. Если вам комфортно писать на другом языке, особенно в теме программного обеспечения, вы можете помочь перевести документацию Kubernetes или помочь с существующим переводом. Посмотрите страницу <a href=/ru/docs/contribute/localization/>Локализация</a> и задайте вопрос в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>списке рассылки kubernetes-sig-docs</a> или в канале <code>#sig-docs</code> на Slack, если вы хотите помочь.</p><h3 id=работа-с-локализованным-контентом>Работа с локализованным контентом</h3><p>Старайтесь соблюдать эти рекомендации по работе с переведенным контентом:</p><ul><li><p>В PR должны быть изменения касающиеся только одного языка.</p><p>В каждом языке есть собственные рецензенты и утверждающие.</p></li><li><p>Рецензентам: убедитесь, что PR содержат изменения только на одном языке.</p><p>Если PR изменяет файлы на нескольких языках, попросите автора открыть отдельные PR для каждого языка.</p></li></ul><h2 id=что-дальше>Что дальше</h2><p>Если вы хорошо осознали все задачи, затронутые в этом разделе, и хотите более тесно работать с командой документации Kubernetes, переходите к изучению <a href=/ru/docs/contribute/advanced/>руководства для опытного участника</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-8111429863728051b460e1f3a75b6fea>3 - Существенный вклад</h1><p>На этой странице предполагается, что вы изучили темы <a href=/ru/docs/contribute/start/>Участие для начинающих</a> и <a href=/ru/docs/contribute/intermediate/>Участие для опытных</a> и теперь хотите узнать ещё больше про то, как можно помочь проекту. Для решения некоторых задач вам потребуется использовать Git из командной строки и прочие другие инструменты.</p><h2 id=дежурный-по-pr-на-неделю>Дежурный по PR на неделю</h2><p><a href=/ru/docs/contribute/participating/#%D1%83%D1%82%D0%B2%D0%B5%D1%80%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5>Утверждающие</a> группы SIG Docs регулярно по очереди становятся дежурными по PR в репозитории и поэтому участвуют в <a href=https://github.com/kubernetes/website/wiki/PR-Wranglers#2019-schedule-q1q2>графике ротации PR-дежурного</a> на неделю.</p><p>В обязанности дежурного по PR входят:</p><ul><li>Ежедневно проверять <a href=https://github.com/kubernetes/website/pulls>открытые пулреквесты</a> для контроля качества и соблюдения рекомендаций по <a href=/docs/contribute/style/style-guide/>оформлению</a> и <a href=/docs/contribute/style/content-guide/>содержимому</a>.<ul><li>В первую очередь просматривайте самые маленькие пулреквесты (<code>size/XS</code>), и только потом беритесь за самые большие (<code>size/XXL</code>).</li><li>Проверяйте столько пулреквестов, сколько сможете.</li></ul></li><li>Проследите, что CLA подписан каждым участником.<ul><li>Помогайте новым участникам подписать <a href=https://github.com/kubernetes/community/blob/master/CLA.md>CLA</a>.</li><li>Используйте <a href=https://github.com/zparnold/k8s-docs-pr-botherer>этот</a> скрипт, чтобы автоматически напомнить участникам, не подписавшим CLA, подписать его.</li></ul></li><li>Оставить свое мнение о предложенных изменениях и поспособствовать в проведении технического обзора от членов других SIG-групп.<ul><li>Предложить исправления для измененного контента в PR.</li><li>Если вы хотите убедиться в правильности контента, прокомментируйте PR и задайте уточняющие вопросы.</li><li>Добавьте нужные метки с <code>sig/</code>.</li><li>Если нужно, то назначьте рецензентов из секции <code>reviewers:</code> в верхней части файла.</li><li>Добавьте метки <code>Docs Review</code> и <code>Tech Review</code> для установки статуса проверки PR.</li><li>Добавьте метку <code>Needs Doc Review</code> или <code>Needs Tech Review</code> для пулреквестов, которые ещё не были проверены.</li><li>Добавьте метку <code>Doc Review: Open Issues</code> или <code>Tech Review: Open Issues</code> для пулреквестов, которые были проверены и требуют дополнительную информацию и выполнение действия перед слиянием.</li><li>Добавьте метки <code>/lgtm</code> и <code>/approve</code> для пулреквестов, которые могут быть приняты.</li></ul></li><li>Объедините пулреквесты, если они готовы, либо закройте те, которые не могут быть приняты.</li><li>Ежедневно отсортируйте и пометьте новые заявки. Обратитесь к странице <a href=/ru/docs/contribute/intermediate/>Участие для опытных</a> для получения информации по использованию метаданных SIG Docs.</li></ul><h3 id=полезные-ссылки-на-github-для-дежурных>Полезные ссылки на GitHub для дежурных</h3><p>Следующие ссылки помогут при дежурстве. После обработки заявок по трём первым ссылкам, как правило, список пулреквестов для проверки сократится. По указанным ссылкам вы найдете PR только в английскую версию, предназначенные для слияния в ветку <code>master</code> (кроме последней ссылки).</p><ul><li><a href="https://github.com/kubernetes/website/pulls?q=is%3Aopen+is%3Apr+label%3A%22cncf-cla%3A+no%22+-label%3Ado-not-merge+label%3Alanguage%2Fen">Нет CLA, нет права на слияние</a>: напомните участнику подписать CLA. Если об этом уже напомнил и бот, и человек, то закройте PR и напишите автору, что он может открыть свой PR после подписания CLA.
<strong>Не проверяйте PR, если их авторы не подписали CLA!</strong></li><li><a href="https://github.com/kubernetes/website/pulls?utf8=%E2%9C%93&q=is%3Aopen+is%3Apr+-label%3Ado-not-merge+label%3Alanguage%2Fen+-label%3Algtm+">Требуется LGTM</a>: если нужна проверка с технической точки зрения, попросите её провести одного из рецензентов, которого предложил бот. Если требуется просмотр пулреквеста со стороны группы документации или вычитка, то предложите изменения, либо сами измените PR, чтобы ускорить процесс принятия пулреквеста.</li><li><a href="https://github.com/kubernetes/website/pulls?q=is%3Aopen+is%3Apr+-label%3Ado-not-merge+label%3Alanguage%2Fen+label%3Algtm">Имеет LGTM, нужно одобрение со стороны группы документации</a>: выясните, нужно ли внести какие-либо дополнительные изменения или обновления, чтобы принять PR. Если по вашему мнению PR готов к слиянию, оставьте комментарий с текстом <code>/approve</code>.</li><li><a href="https://github.com/kubernetes/website/pulls?utf8=%E2%9C%93&q=is%3Apr+is%3Aopen+base%3Amaster+-label%3A%22do-not-merge%2Fwork-in-progress%22+-label%3A%22do-not-merge%2Fhold%22+label%3A%22cncf-cla%3A+yes%22+label%3A%22size%2FXS%22+label%3A%22language%2Fen%22+">Быстрые результаты</a>: если маленький PR направлен в основную ветку и не имеет условий для объединения (поменяйте "XS" в метке с размером при работе с другими пулреквестами [XS, S, M, L, XL, XXL]).</li><li><a href="https://github.com/kubernetes/website/pulls?utf8=%E2%9C%93&q=is%3Aopen+is%3Apr+-label%3Ado-not-merge+label%3Alanguage%2Fen+-base%3Amaster">Вне основной ветки</a>: если PR отправлен в ветку <code>dev-</code>, значит он предназначается для будущего выпуска. Убедитесь, что <a href=https://github.com/kubernetes/sig-release/tree/master/release-team>release meister</a> знает об этом, добавив комментарий с <code>/assign @&lt;meister's_github-username></code>. Если он направлен в старую ветку, помогите автору PR изменить на более подходящую ветку.</li></ul><h3 id=когда-закрывать-пулреквесты>Когда закрывать пулреквесты</h3><p>Обзоры и одобрения — это только один из способов, позволяющих держать список PR коротким и актуальным. Закрытие пулреквестов — альтернативный метод для этого.</p><ul><li><p>Можете закрыть любой PR, если CLA-соглашение не было подписано в течение двух недель.
Авторы PR могут повторно открыть PR после подписания CLA, так что это безопасный способ убедиться, что ничто не будет объединено без подписанного CLA.</p></li><li><p>Закройте любой PR, если автор не отреагировал на комментарии или проверки в течение 2 или более недель.</p></li></ul><p>Не бойтесь закрывать пулреквесты. Участники с лёгкостью могут открыть и возобновить незаконченную работу. Зачастую уведомление о закрытии стимулирует автора возобновить и завершить свою работу до конца.</p><p>Чтобы закрыть пулреквест, оставьте комментарий <code>/close</code> в PR.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Бот <a href=https://github.com/k8s-ci-robot><code>k8s-ci-robot</code></a> автоматически помечает заявки как устаревшие после 90 дней отсутствия активности, а затем закрывает их после ещё 30 дней простоя, когда они становятся тухлыми. Дежурные по PR должны закрывать заявки после 14-30 дней бездействия.</div><h2 id=внесение-улучшений>Внесение улучшений</h2><p><a href=/ru/docs/contribute/participating/#%D1%87%D0%BB%D0%B5%D0%BD%D1%8B>Члены</a> SIG Docs могут предлагать улучшения.</p><p>Если вы давно начали работать над документацией Kubernetes, у вас наверняка появились какие-нибудь идеи по улучшению <a href=/docs/contribute/style/style-guide/>руководства по оформлению</a>, <a href=/docs/contribute/style/content-guide/>руководства по содержанию</a>, набору инструментов, который используется для создания документации, стилизации сайта, процессов проверки и объединения пулреквестов. Для максимальной открытости подобные типы предложений по улучшению должны обсуждаться на встречи SIG Docs или в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>списке рассылки kubernetes-sig-docs</a>.
Помимо этого, это поможет разъяснить, как всё устроено в данный момент, и объяснить, почему так было принято, прежде чем предлагать радикальные изменения. Самый быстрый способ узнать ответы на вопросы о том, как в настоящее время работает документация, это задать их в канале <code>#sig-docs</code> в <a href=https://kubernetes.slack.com>официальном Slack</a>.</p><p>Когда обсуждение состоялось, а SIG-группа согласилась с желаемым результатом, вы можете работать над предлагаемыми изменениями наиболее приемлемым способом. Например, обновление руководства по оформлению или функциональности сайта может включать открытие пулреквеста, а изменение, связанное с тестированием документации, может предполагать взаимодействие с sig-testing.</p><h2 id=координация-документации-по-выпуску-kubernetes>Координация документации по выпуску Kubernetes</h2><p><a href=/ru/docs/contribute/participating/#%D1%83%D1%82%D0%B2%D0%B5%D1%80%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5>Утверждающие</a> SIG Docs могут координировать документацию для выпуска Kubernetes.</p><p>Каждый выпуск Kubernetes координируется командой людей, участвующих в специальной группе (Special Interest Group, SIG) sig-release. Другие члены команды в данном выпуске включают в себя общего руководителя выпуском, а также представителей sig-pm, sig-testing и др. Чтобы узнать больше о процессах выпуска версий Kubernetes, обратитесь к <a href=https://github.com/kubernetes/sig-release>https://github.com/kubernetes/sig-release</a>.</p><p>Представитель SIG Docs для данного выпуска координирует следующие задачи:</p><ul><li>Мониторинг электронной таблицы с отслеживанием функциональности на наличие новых или измененных возможностей, затрагивающих документацию. Если документация для определенной функциональности не будет готова к выпуску, возможно, она не попадет в выпуск.</li><li>Регулярное посещение встречи sig-release и обновление информации о статусе документации к выпуску.</li><li>Проверка и вычитка документации по функциональности, подготовленной SIG-группой, ответственной за реализацию этой функциональности.</li><li>Объединение связанных с выпуском пулреквестов и поддержка Git-ветки выпуска.</li><li>Консультирование других участников SIG Docs, которые хотят научиться выполнять эту роль в будущем. Это называется сопровождение (shadowing).</li><li>Публикация изменений в документации, связанные с выпуском при размещении артефактов.</li></ul><p>Координация выпуска обычно занимает 3-4 месяца, а обязанности распределяются между утверждающими SIG Docs.</p><h2 id=амбассадор-нового-участника>Амбассадор нового участника</h2><p><a href=/ru/docs/contribute/participating/#%D1%83%D1%82%D0%B2%D0%B5%D1%80%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5>Утверждающие</a> SIG Docs могут выступать в качестве амбассадоров новых участников.</p><p>Амбассадоры новых участников работают бок о бок, чтобы поприветствовать новых участников SIG Docs, предлагать PR новым участникам и консультировать новых участников в их собственных PR.</p><p>Обязанности амбассадоров новых участников включают в себя:</p><ul><li>Отвечать на вопросы новых участников в <a href=https://kubernetes.slack.com>Slack-канале Kubernetes #sig-docs</a>.</li><li>Совместно работать с дежурным по PR, чтобы определять заявки, которые подойдут для решения новыми участниками.</li><li>Консультировать новых участников в их PR.</li><li>Помогать новым участникам в создании более сложных PR, чтобы они могли стать членами Kubernetes.</li><li><a href=/ru/docs/contribute/advanced/#%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0-%D0%BD%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE-%D1%83%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA%D0%B0>Оказывать содействие участникам</a> на их пути становления членом в Kubernetes.</li></ul><p>Текущие амбассадоры новых участников объявляются на каждом собрании SIG Docs и на канале <a href=https://kubernetes.slack.com>#sig-docs в Kubernetes</a>.</p><h2 id=поддержка-нового-участника>Поддержка нового участника</h2><p><a href=/ru/docs/contribute/participating/#%D1%80%D0%B5%D1%86%D0%B5%D0%BD%D0%B7%D0%B5%D0%BD%D1%82%D1%8B>Рецензенты</a> SIG Docs могут содействовать новым участникам в членстве организации.</p><p>Если участник сделал 5 значительных пулреквестов в один или несколько репозиториев Kubernetes, он имеет право на <a href=/ru/docs/contribute/participating#%D1%87%D0%BB%D0%B5%D0%BD%D1%8B>членство</a> в организации Kubernetes. Членство участника должно быть поддержано двумя спонсорами, которые уже являются рецензентами.</p><p>Новые участники документации могут найти спонсоров в канале #sig-docs <a href=https://kubernetes.slack.com>в Slack Kubernetes</a> или в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>списке рассылки SIG Docs</a>. Если вы осознали полезность работы автора заявки на членство, вы добровольно можете поддержать (спонсировать) его. Когда они подадут заявку на членство, отреагируйте на заявку "+1" и напишите подробный комментарий о том, почему вы считаете, что кандидат отлично вписывается в члены организации Kubernetes.</p><h2 id=сопредседатель-sig>Сопредседатель SIG</h2><p><a href=/ru/docs/contribute/participating/#%D1%83%D1%82%D0%B2%D0%B5%D1%80%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5>Утверждающие</a> SIG Docs могут быть сопредседателями SIG Docs.</p><h3 id=требования>Требования</h3><p>Сопредседатели должны соответствовать следующим требованиям:</p><ul><li>Быть утверждающими SIG Docs не меньше 6 месяцев.</li><li><a href=/docs/contribute/advanced/#coordinate-docs-for-a-kubernetes-release>Руководить выпуском документации Kubernetes</a> или сопроводить два выпуска.</li><li>Понимать рабочие процессы и инструменты SIG Docs: git, Hugo, локализация, блог.</li><li>Понимать, как другие SIG-группы и репозитории Kubernetes влияют на рабочий процесс SIG Docs, включая: <a href=https://github.com/kubernetes/org/blob/master/config/kubernetes/sig-docs/teams.yaml>команды в k/org</a>, <a href=https://github.com/kubernetes/community/tree/master/sig-docs>процессы в k/community</a>, плагины в <a href=https://github.com/kubernetes/test-infra/>k/test-infra</a> и роль <a href=https://github.com/kubernetes/community/tree/master/sig-architecture>SIG Architecture</a>.</li><li>Уделять не менее 5 часов в неделю (но зачастую больше) в течение как минимум 6 месяцев для выполнения обязанностей.</li></ul><h3 id=обязанности>Обязанности</h3><p>Роль сопредседателя посвящена в основном одной из задач: сопредседатели управляют процессом и политикой, планируют и проводят собрания, назначают дежурных по PR и, как правило, делают то, что никто больше не хочет делать, для увеличения количества участников.</p><p>Обязанности включают в себя:</p><ul><li>Сосредоточить группу SIG Docs на достижении максимального счастья для разработчиков через отличную документацию.</li><li>Быть примером соблюдения <a href=https://github.com/cncf/foundation/blob/master/code-of-conduct.md>норм поведения сообщества</a> и контролировать их выполнение членами SIG.</li><li>Изучать и внедрять передовые практики для SIG-группы, обновляя рекомендации по участию.</li><li>Планировать и проверять встречи SIG: еженедельные обновления информации, ежеквартальные ретроспективные/плановые совещания и многое другое.</li><li>Планирование и проведение спринтов по документации на мероприятиях KubeCon и других конференциях.</li><li>Набирать персонал и выступать в поддержку <a class=glossary-tooltip title='Cloud Native Computing Foundation' data-toggle=tooltip data-placement=top href=https://cncf.io/ target=_blank aria-label=CNCF>CNCF</a> и его платиновых партнеров, включая Google, Oracle, Azure, IBM и Huawei.</li><li>Поддерживать нормальную работу SIG.</li></ul><h3 id=проведение-продуктивных-встреч>Проведение продуктивных встреч</h3><p>Для планирования и проведения результативных встреч мы составили рекомендации, которые показывают и объясняют, как лучше всего их подготовить.</p><p><strong>Соблюдайте <a href=https://github.com/cncf/foundation/blob/master/code-of-conduct.md>нормы поведения сообщества</a></strong>:</p><ul><li>Привлекайте самый широкий круг участников к дискуссии и уважительно общайтесь между собой, стараясь никого не обидеть.</li></ul><p><strong>Сформулируйте четкую повестку дня</strong>:</p><ul><li>Определите конкретную цель встречи.</li><li>Опубликуйте программу дня заранее.</li></ul><p>Для еженедельных встреч скопируйте примечания из предыдущей недели в раздел "Past meetings".</p><p><strong>Работайте вместе для создания точных примечания</strong>:</p><ul><li>Запишите обсуждение встречи.</li><li>Подумайте над тем, чтобы делегировать роль стенографиста кому-нибудь другому.</li></ul><p><strong>Определяйте решения по пунктам повестки четко и точно</strong>:</p><ul><li>Записывайте решения по пунктам, кто будет ими заниматься и ожидаемую дату завершения.</li></ul><p><strong>Руководите обсуждением, когда это необходимо</strong>:</p><ul><li>Если обсуждение выходит за пределы повестки дня, снова обратите внимание участников на обсуждаемую тему.</li><li>Найдите место для различных стилей ведения обсуждения, не отвлекаясь от темы обсуждения и уважая время людей.</li></ul><p><strong>Уважайте время людей</strong>:</p><ul><li>Начинайте и заканчивайте встречи своевременно.</li></ul><p><strong>Используйте Zoom эффективно</strong>:</p><ul><li>Ознакомьтесь с <a href=https://github.com/kubernetes/community/blob/master/communication/zoom-guidelines.md>рекомендациями Zoom для Kubernetes</a>.</li><li>Попробуйте попроситься быть ведущим в самом начале встречи, введя ключ ведущего.</li></ul><img src=/images/docs/contribute/claim-host.png width=75% alt="Исполнение роли ведущего в Zoom"><h3 id=запись-встреч-на-zoom>Запись встреч на Zoom</h3><p>Когда вам потребуется начать запись, нажмите пункт с надписью Record to Cloud.</p><p>Если нужно остановить запись, нажмите на кнопку Stop.</p><p>Запись автоматически загрузится на YouTube.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-a2d946282df02cdeb47d9f54dfef198e>4 - Обзор оформления документации</h1><p>Темы в этом разделе содержат рекомендации по написанию, форматированию и организации контента, а также охватывают настройку Hugo в контексте документации Kubernetes.</p></div><div class=td-content><h1 id=pg-75de610057816ac48210db20ec633217>4.1 - Руководство по оформлению документации</h1><p>На этой странице вы найдёте рекомендации по оформлению написания документации Kubernetes. Это рекомендации, а не правила. Используйте здравый смысл и не стесняйтесь предлагать изменения в этот документ в виде пулреквеста.</p><p>Для получения подробной информации о создании нового контента в документацию Kubernetes посмотрите <a href=/ru/docs/contribute/style/content-guide/>руководство по контенту документации</a>, а также следуйте инструкциям по <a href=/ru/docs/contribute/style/page-templates/>использованию шаблонов страниц</a> и <a href=/ru/docs/contribute/start/#%D1%83%D0%BB%D1%83%D1%87%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D1%8E%D1%89%D0%B5%D0%B3%D0%BE-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0>открытию пулревеста в документацию</a>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> В документации Kubernetes используется <a href=https://github.com/russross/blackfriday>Blackfriday Markdown Renderer</a> вместе с несколькими <a href=/docs/home/contribute/includes/>макрокодами Hugo</a> для добавления поддержки записей глоссария, вкладок и отображения состояний функциональностей.</div><h2 id=язык>Язык</h2><p>Документация Kubernetes была переведена на несколько языков (см. <a href=https://github.com/kubernetes/website/blob/main/README.md#localization-readmemds>README-файлы локализаций</a>).</p><p>Процесс локализации документации на другие языки описан в <a href=/ru/docs/contribute/localization/>соответствующей странице по локализации</a>.</p><h2 id=правила-форматирования-документации>Правила форматирования документации</h2><h3 id=используйте-верблюжью-нотацию-для-написания-объектов-api>Используйте верблюжью нотацию для написания объектов API</h3><p>Когда вы указываете имя API-объекта, используйте те же самые прописные и строчные буквы так, как они записаны в имени объекта. Как правило, имена объектов API написаны с использованием <a href=https://ru.wikipedia.org/wiki/Camel_case>верблюжьей нотации</a>.</p><p>Не разделяйте имя объекта API на отдельные слова. Например, пишите PodTemplateList, а не Pod Template List.</p><p>Указывая имена API-объектов, не добавляйте к ним слово "объект", за исключением случаев, когда это только ухудшает читаемость.</p><table><caption style=display:none>Можно делать и нельзя - Объекты API</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>В Pod два контейнера.</td><td style=text-align:left>В поде два контейнера.</td></tr><tr><td style=text-align:left>Deployment отвечает за ...</td><td style=text-align:left>Объект Deployment отвечает за ...</td></tr><tr><td style=text-align:left>PodList — это список Pod.</td><td style=text-align:left>Pod List — это список подов.</td></tr><tr><td style=text-align:left>Два ContainerPorts ...</td><td style=text-align:left>Два объекта ContainerPort ...</td></tr><tr><td style=text-align:left>Два объекта ContainerStateTerminated ...</td><td style=text-align:left>Два ContainerStateTerminated ...</td></tr></tbody></table><h3 id=используйте-угловые-скобки-для-заполнителей>Используйте угловые скобки для заполнителей</h3><p>Используйте угловые скобки для заполнителей. Сообщите читателю, что означает заполнитель.</p><ol><li><p>Отобразить информацию о Pod:</p><pre><code> kubectl describe pod &lt;pod-name&gt; -n &lt;namespace&gt;
</code></pre><p>Если пространство имён пода равняется <code>default</code>, вы можете опустить параметр '-n'.</p></li></ol><h3 id=используйте-полужирное-начертание-для-элементов-пользовательского-интерфейса>Используйте полужирное начертание для элементов пользовательского интерфейса</h3><table><caption style=display:none>Можно делать и нельзя - Элементы интерфейса в полужирном начертании</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Нажмите на <strong>Fork</strong>.</td><td style=text-align:left>Нажмите на "Fork".</td></tr><tr><td style=text-align:left>Выберите <strong>Other</strong>.</td><td style=text-align:left>Выберите "Other".</td></tr></tbody></table><h3 id=используйте-курсивное-начертание-для-определения-или-включения-новых-терминов>Используйте курсивное начертание для определения или включения новых терминов</h3><table><caption style=display:none>Можно делать и нельзя - Используйте курсивное начертание для новых терминов</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left><em>Кластер</em> — это набор узлов ...</td><td style=text-align:left>"Кластер" — это набор узлов ...</td></tr><tr><td style=text-align:left>Эти компоненты формируют <em>плоскость управления</em>.</td><td style=text-align:left>Эти компоненты формируют <strong>плоскость управления</strong>.</td></tr></tbody></table><h3 id=оформляйте-как-код-имена-файлов-директории-и-пути>Оформляйте как код имена файлов, директории и пути</h3><table><caption style=display:none>Можно делать и нельзя - Оформляйте как код имена файлов, директории и пути</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Откройте файл <code>envars.yaml</code>.</td><td style=text-align:left>Откройте файл envars.yaml.</td></tr><tr><td style=text-align:left>Перейдите в директорию <code>/docs/tutorials</code>.</td><td style=text-align:left>Перейдите в директорию /docs/tutorials.</td></tr><tr><td style=text-align:left>Откройте файл <code>/_data/concepts.yaml</code> file.</td><td style=text-align:left>Откройте файл /_data/concepts.yaml.</td></tr></tbody></table><h3 id=используйте-международные-правила-для-пунктуации-внутри-кавычек>Используйте международные правила для пунктуации внутри кавычек</h3><table><caption style=display:none>Можно делать и нельзя - Используйте международные правила для пунктуации внутри кавычек</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>события записываются с соответствующей "стадией".</td><td style=text-align:left>события записываются с соответствующей "стадией."</td></tr><tr><td style=text-align:left>Копия называется "fork".</td><td style=text-align:left>Копия называется "fork."</td></tr></tbody></table><h2 id=форматирование-с-использованием-однострочного-кода>Форматирование с использованием однострочного кода</h2><h3 id=используйте-оформление-кода-для-встроенного-кода-и-команд>Используйте оформление кода для встроенного кода и команд</h3><p>Для однострочного (встроенного) блока кода в HTML-документе используйте тег <code>&lt;code></code>. В файле Markdown используйте обратную кавычку (`).</p><table><caption style=display:none>Можно делать и нельзя - Use code style for inline code and commands</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Команда <code>kubectl run</code> создает Deployment.</td><td style=text-align:left>Команда "kubectl run" создает Deployment.</td></tr><tr><td style=text-align:left>Для декларативного управления используйте <code>kubectl apply</code>.</td><td style=text-align:left>Для декларативного управления используйте "kubectl apply".</td></tr><tr><td style=text-align:left>Заключите примеры кода в тройные обратные кавычки. <code>(```)</code></td><td style=text-align:left>Заключите примеры кода с использованием любого другого синтаксиса.</td></tr><tr><td style=text-align:left>Используйте одинарные обратные кавычки для выделения встроенного кода. Например, <code>var example = true</code>.</td><td style=text-align:left>Используйте две звездочки (**) или подчёркивание (_) для выделения встроенного кода. Например, <strong>var example = true</strong>.</td></tr><tr><td style=text-align:left>Используйте тройные обратные кавычки до и после многострочного блока кода для отдельных блоков кода.</td><td style=text-align:left>Используйте многострочные блоки кода для создания диаграмм, блок-схем или т.д.</td></tr><tr><td style=text-align:left>Используйте понятные имена переменных с соответствующим контекстом.</td><td style=text-align:left>Используйте имена переменных, такие как 'foo', 'bar' и 'baz', которые не имеют смысла и которым не хватает контекста.</td></tr><tr><td style=text-align:left>Удаляйте завершающие пробелы в коде.</td><td style=text-align:left>Добавляйте конечные пробелы в код там, где они необходимо, поскольку программа для чтения с экрана также будет зачитывать пробелы.</td></tr></tbody></table><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> На сайте включена подсветка синтаксиса для примеров кода, хотя указывать язык необязательно. Подсветка синтаксиса в блоке кода должна соответствовать <a href="https://www.w3.org/WAI/WCAG21/quickref/?versions=2.0&showtechniques=141%2C143#contrast-minimum">рекомендациям по контрастности</a>.</div><h3 id=имена-полей-объектов-и-пространства-имён-оформляйте-как-код>Имена полей объектов и пространства имён оформляйте как код</h3><table><caption style=display:none>Можно делать и нельзя - Имена полей объектов и пространства имён оформляйте как код</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Задайте значение для поля <code>replicas</code> в конфигурационном файле.</td><td style=text-align:left>Задайте значение для поля "replicas" в конфигурационном файле.</td></tr><tr><td style=text-align:left>Значением поля <code>exec</code> является объект ExecAction.</td><td style=text-align:left>Значением поля "exec" является объект ExecAction.</td></tr><tr><td style=text-align:left>Запустите процесс как Daemonset в пространстве имен <code>kube-system</code>.</td><td style=text-align:left>Запустите процесс как Daemonset в пространстве имен kube-system.</td></tr></tbody></table><h3 id=имена-компонентов-и-командного-инструмента-оформляйте-как-код>Имена компонентов и командного инструмента оформляйте как код</h3><table><caption style=display:none>Можно делать и нельзя - Имена компонентов и командного инструмента оформляйте как код</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>kubelet сохраняет стабильность узла.</td><td style=text-align:left><code>kubelet</code> сохраняет стабильность узла.</td></tr><tr><td style=text-align:left><code>kubectl</code> обрабатывает поиск и аутентификацию на сервере API.</td><td style=text-align:left>kubectl обрабатывает поиск и аутентификацию на apiserver.</td></tr><tr><td style=text-align:left>Запустите процесс с использованием сертификата <code>kube-apiserver --client-ca-file=FILENAME</code>.</td><td style=text-align:left>Запустите процесс с использованием сертификата kube-apiserver --client-ca-file=FILENAME.</td></tr></tbody></table><h3 id=начинайте-предложение-с-имени-инструмента-или-компонента>Начинайте предложение с имени инструмента или компонента</h3><table><caption style=display:none>Можно делать и нельзя - Начинайте предложение с имени инструмента или компонента</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>The <code>kubeadm</code> tool bootstraps and provisions machines in a cluster.</td><td style=text-align:left><code>kubeadm</code> tool bootstraps and provisions machines in a cluster.</td></tr><tr><td style=text-align:left>The kube-scheduler is the default scheduler for Kubernetes.</td><td style=text-align:left>kube-scheduler is the default scheduler for Kubernetes.</td></tr></tbody></table><h3 id=используйте-общее-описание-вместо-имени-компонента>Используйте общее описание вместо имени компонента</h3><table><caption style=display:none>Можно делать и нельзя - Используйте общее описание вместо имени компонента</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Сервер Kubernetes API следует спецификации OpenAPI.</td><td style=text-align:left>apiserver следует спецификации OpenAPI.</td></tr><tr><td style=text-align:left>Агрегированные API-интерфейсы — вспомогательные API-серверы.</td><td style=text-align:left>Агрегированные API-интерфейсы — вспомогательные APIServers.</td></tr></tbody></table><h3 id=cтроковые-и-целочисленные-значения-полей-пишите-в-обычном-стиле>Cтроковые и целочисленные значения полей пишите в обычном стиле</h3><p>Для значений полей типа string или integer используйте обычный стиль без кавычек.</p><table><caption style=display:none>Можно делать и нельзя - Cтроковые и целочисленные значения полей пишите в обычном стиле</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Задайте значение для поля <code>imagePullPolicy</code> как Always.</td><td style=text-align:left>Задайте значение для поля <code>imagePullPolicy</code> как "Always".</td></tr><tr><td style=text-align:left>Задайте значение для поля <code>image</code> как nginx:1.8.</td><td style=text-align:left>Задайте значение для поля<code>image</code> как <code>nginx:1.8</code>.</td></tr><tr><td style=text-align:left>Задайте значение для поля <code>replicas</code> как 2.</td><td style=text-align:left>Задайте значение для поля <code>replicas</code> как <code>2</code>.</td></tr></tbody></table><h2 id=форматирование-фрагментов-кода>Форматирование фрагментов кода</h2><h3 id=не-добавляйте-символ-приглашения-командной-строки>Не добавляйте символ приглашения командной строки</h3><table><caption style=display:none>Можно делать и нельзя - Не добавляйте символ приглашения командной строки</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>kubectl get pods</td><td style=text-align:left>$ kubectl get pods</td></tr></tbody></table><h3 id=отделяйте-команды-от-вывода>Отделяйте команды от вывода</h3><p>Убедитесь, что Pod работает на выбранном вами узле:</p><pre><code>kubectl get pods --output=wide
</code></pre><p>Вывод будет примерно таким:</p><pre><code>NAME     READY     STATUS    RESTARTS   AGE    IP           NODE
nginx    1/1       Running   0          13s    10.200.0.4   worker0
</code></pre><h3 id=версионирование-примеров-kubernetes>Версионирование примеров Kubernetes</h3><p>Примеры кода и примеры конфигурации, которые включают информацию о версии, должны согласовываться с относящемуся к нему тексту.</p><p>Если информация зависит от версии, необходимо определить версию Kubernetes в секции <code>prerequisites</code> <a href=/ru/docs/contribute/style/page-templates/#%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8>шаблона задачи</a> или <a href=/ru/docs/contribute/style/page-templates/#%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD-%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%B0>шаблона руководства</a>. После сохранения страницы секция <code>prerequisites</code> отобразится в отдельном блоке с заголовком <strong>Подготовка к работе</strong>.</p><p>Для указания версии Kubernetes для страницы задачи или руководства в фронтальную часть файла добавьте поле <code>min-kubernetes-server-version</code>.</p><p>Если YAML-пример определён в отдельном файле, поищите и просмотрите темы, которые ссылаются на него.
Убедитесь, что темы с подключённым YAML-файлом содержат соответствующую информацию о версии.
Если ни одна из тем не использует какой-либо YAML-файл подумайте над тем, чтобы удалить его вместо того, чтобы обновления.</p><p>Например, если вы пишете руководство, предназначенное для использования с версией Kubernetes 1.8, фронтальная часть вашего Markdown-файла должен выглядеть примерно так:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>title</span>:<span style=color:#bbb> </span>&lt;your tutorial title here&gt;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>min-kubernetes-server-version</span>:<span style=color:#bbb> </span>v1.8<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>В примерах кода и конфигурации не добавляйте комментарии про альтернативные версии.
Убедитесь в том, чтобы в комментариях ваших примеров не содержались некорректные сведения, такие как ниже:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb> </span><span style=color:#080;font-style:italic># в более ранних версиях...</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Pod<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=словарь-kubernetes-io>Словарь Kubernetes.io</h2><p>Список специфичных для Kubernetes терминов и слов, которые будут регулярно встречаться по всему сайту.</p><table><caption style=display:none>Словарь Kubernetes.io</caption><thead><tr><th style=text-align:left>Термин</th><th style=text-align:left>Пример использования</th></tr></thead><tbody><tr><td style=text-align:left>Kubernetes</td><td style=text-align:left>Kubernetes всегда должен начинаться с заглавной буквы.</td></tr><tr><td style=text-align:left>Docker</td><td style=text-align:left>Docker всегда должен начинаться с заглавной буквы.</td></tr><tr><td style=text-align:left>SIG Docs</td><td style=text-align:left>SIG Docs, а не SIG-DOCS или другие варианты.</td></tr><tr><td style=text-align:left>On-premises</td><td style=text-align:left>On-premises or On-prem rather than On-premise or other variations.</td></tr></tbody></table><h2 id=макрокоды>Макрокоды</h2><p><a href=https://gohugo.io/content-management/shortcodes>Макрокоды Hugo</a> помогают создавать разного рода обращений к читателю. Наша документация поддерживает три разных макрокода для этого: <strong>примечание</strong> {{&lt; note >}}, <strong>предостережение</strong> {{&lt; caution >}} и <strong>предупреждение</strong> {{&lt; warning >}}.</p><ol><li><p>Заключите текст в открывающий и закрывающий макрокод.</p></li><li><p>Используйте следующий синтаксис для определения стиля:</p><pre tabindex=0><code>{{&lt; note &gt;}}
Вам не нужно указывать надпись; макрокод автоматически добавит её. (Примечание:, Предостережение:, и т.д.)
{{&lt; /note &gt;}}
</code></pre></li></ol><p>Результат:</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Надпись блока будет такой же, как и имя тега.</div><h3 id=примечание>Примечание</h3><p>Используйте {{&lt; note >}} для выделения подсказки или части информации, которая может быть полезна для ознакомления.</p><p>Например:</p><pre tabindex=0><code>{{&lt; note &gt;}}
Вы _также_ можете использовать Markdown внутри этих выносок.
{{&lt; /note &gt;}}
</code></pre><p>Результат:</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Вы <em>также</em> можете использовать Markdown внутри этих выносок.</div><p>Вы можете использовать {{&lt; note >}} в списке:</p><pre tabindex=0><code>1. Используйте макрокод примечания в списке

1. Второй пункт с добавленным блоком примечания

   {{&lt; note &gt;}}
   Макрокоды предупреждения, предостережения и примечания, добавленные в списки, должны содержать отступ в четыре пробела. Смотрите раздел [Распространённые проблемы с шорткодами](#распространённые-проблемы-с-шорткодами).
   {{&lt; /note &gt;}}

1. Третий пункт в списке

1. Четвертый пункт в списке
</code></pre><p>Результат:</p><ol><li><p>Используйте макрокод примечания в списке</p></li><li><p>Второй пункт с добавленным блоком примечания</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Макрокоды предупреждения, предостережения и примечания, добавленные в списки, должны содержать отступ в четыре пробела. Смотрите раздел <a href=#%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D1%91%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D1%88%D0%BE%D1%80%D1%82%D0%BA%D0%BE%D0%B4%D0%B0%D0%BC%D0%B8>Распространённые проблемы с шорткодами</a>.</div></li><li><p>Третий пункт в списке</p></li><li><p>Четвертый пункт в списке</p></li></ol><h3 id=предостережение>Предостережение</h3><p>Используйте {{&lt; caution >}}, чтобы обратить внимание к важной информации, которая поможет избежать подводных камней.</p><p>Например:</p><pre tabindex=0><code>{{&lt; caution &gt;}}
Оформление выноски применяется только к строке, следующей после тега выше.
{{&lt; /caution &gt;}}
</code></pre><p>Результат:</p><div class="alert alert-warning caution callout" role=alert><strong>Внимание:</strong> Оформление выноски применяется только к строке, следующей после тега выше.</div><h3 id=предупреждение>Предупреждение</h3><p>Используйте {{&lt; warning >}} для обозначения предупреждающей информации или такой, которую чрезвычайно важно соблюдать.</p><p>Например:</p><pre tabindex=0><code>{{&lt; warning &gt;}}
Острожно.
{{&lt; /warning &gt;}}
</code></pre><p>Результат:</p><div class="alert alert-danger warning callout" role=alert><strong>Предупреждение:</strong> Острожно.</div><h3 id=встраиваемая-среда-выполнения-katacoda>Встраиваемая среда выполнения Katacoda</h3><p>С помощью этой кнопки пользователи могут запустить Minikube в своём браузере с помощью <a href=https://www.katacoda.com/embed/panel>терминала Katacoda</a>.
Таким образом снижается порог входа, позволяя пользователям попробовать Minikube с помощью одного щелчка мыши, вместо того, чтобы устанавливать Minikube и Kubectl локально.</p><p>Встроенная среда выполнения сконфигурирована для выполнения команды <code>minikube start</code> и позволяет пользователям пройти руководство в той же самой вкладке, что и документация.</p><div class="alert alert-warning caution callout" role=alert><strong>Внимание:</strong> Сессия ограничена 15 минутами.</div><p>Например:</p><pre tabindex=0><code>{{&lt; kat-button &gt;}}
</code></pre><p>Результат:</p><script defer src=https://katacoda.com/embed.js></script>
<button class=button onclick=window.katacoda.init()>Launch Terminal</button><h2 id=распространённые-проблемы-с-шорткодами>Распространённые проблемы с шорткодами</h2><h3 id=упорядоченные-списки>Упорядоченные списки</h3><p>Макрокоды сбросят нумерацию в нумерованных списках, если вы не добавите отступ в четыре пробела перед уведомлением и тегом.</p><p>Например:</p><pre><code>1. Разогреть духовку до 350˚F

1. Подготовить тесто и вылить её в формочку для выпечки.
   {{&lt; note &gt;}}Для лучшего результата смажьте формочку.{{&lt; /note &gt;}}

1. Выпекать 20-25 minutes или пока тесто не зарумянится.
</code></pre><p>Результат:</p><ol><li><p>Разогреть духовку до 350˚F</p></li><li><p>Подготовить тесто и вылить её в формочку для выпечки.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Для лучшего результата смажьте формочку.</div></li><li><p>Выпекать 20-25 minutes или пока тесто не зарумянится.</p></li></ol><h3 id=выражения-для-вставок>Выражения для вставок</h3><p>Макрокоды внутри include-выражений нарушит процесс сборки. Поэтому они должны быть вставлены в родительский документ до и после вызова include. Например:</p><pre tabindex=0><code>{{&lt; note &gt;}}
{{&lt; include &#34;task-tutorial-prereqs.md&#34; &gt;}}
{{&lt; /note &gt;}}
</code></pre><h2 id=элементы-markdown>Элементы Markdown</h2><h3 id=переносы-строк>Переносы строк</h3><p>Добавляйте одну новую строку для разделения содержимого таких блоков, как заголовки, списки, изображения, многострочный код и т.д. Исключение составляют заголовки второго уровня, которые должны быть разделены двумя переводами строки. Заголовки второго уровня следуют за первым уровнем (или названием страницы). Две пустые строки помогает лучше наглядно представить общую структуру содержимого в редакторе кода.</p><h3 id=заголовки>Заголовки</h3><p>Люди, просматривающие документацию, могут использовать программу чтения с экрана или другую вспомогательную технологию (Assistive technologies, AT). <a href=https://ru.wikipedia.org/wiki/%D0%AD%D0%BA%D1%80%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D1%81%D1%87%D0%B8%D1%82%D1%8B%D0%B2%D0%B0%D1%8E%D1%89%D0%B5%D0%B5_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE>Программы чтения с экрана</a> — устройства вывода, которые выводят элементы на странице по очереди. Если на странице много текста, вы можете использовать заголовки, чтобы придать странице внутреннюю структуру. Хорошая структура страницы помогает всем читателям легко перемещаться по странице или выбрать интересующие темы.</p><table><caption style=display:none>Можно делать и нельзя - Заголовки</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Обновите заголовок в фронтальной части страницы или записи блога.</td><td style=text-align:left>Используйте заголовок первого уровня, так как Hugo автоматически преобразует название страницы в фронтальной части в заголовок первого уровня.</td></tr><tr><td style=text-align:left>Используйте упорядоченные заголовки, чтобы сформировать общее представление о содержании страницы.</td><td style=text-align:left>Используйте заголовки с уровня 4 по 6, если только это только в этом нет необходимости. Если текст настолько подробный, возможно, его нужно разделить на отдельные статьи.</td></tr><tr><td style=text-align:left>Используйте знак решётки или хеша (#) для всех видов контента, кроме записей блога.</td><td style=text-align:left>Используйте подчеркивание (--- или ===) для обозначения заголовков первого уровня.</td></tr><tr><td style=text-align:left>Начинайте с большой буквы только первое слово в заголовке. Например, <strong>Расширение kubectl с помощью плагинов</strong></td><td style=text-align:left>Пишите с заглавной буквы все слова в заголовке. Например, <strong>Расширение Kubectl С Помощью Плагинов</strong></td></tr></tbody></table><h3 id=параграфы>Параграфы</h3><table><caption style=display:none>Можно делать и нельзя - Параграфы</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Проследите за тем, чтобы в одном абзаце было не более 6 предложений.</td><td style=text-align:left>Добавить к первом абзацу отступ с пробелами. Например, ⋅⋅⋅Три пробела перед абзацем образуют отступ.</td></tr><tr><td style=text-align:left>Используйте три дефиса (---) для создания горизонтальной черты. Используйте горизонтальные линии для обозначения конца в содержании абзаца. Например, смена места в истории или переход темы в разделе.</td><td style=text-align:left>Используйте горизонтальные линии для оформления.</td></tr></tbody></table><h3 id=ссылки>Ссылки</h3><table><caption style=display:none>Можно делать и нельзя - Ссылки</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Указывайте ссылки, которые передают суть содержания, на который они ссылаются. Например: "Некоторые порты открыты на ваших машинах. Смотрите раздел <a href=#check-required-ports>Проверка необходимых портов</a>, чтобы получить дополнительную информацию".</td><td style=text-align:left>Используйте двусмысленные термины, такие как "нажмите сюда". Например: Некоторые порты открыты на ваших машинах. Смотрите <a href=#check-required-ports>этот раздел</a>, чтобы получить дополнительную информацию".</td></tr><tr><td style=text-align:left>Указывайте ссылки в стиле Markdown: <code>[текст ссылки](URL)</code>. Например: <code>[Макрокоды Hugo](/docs/contribute/style/hugo-shortcodes/#table-captions)</code> отобразится как <a href=/docs/contribute/style/hugo-shortcodes/#table-captions>Макрокоды Hugo</a>.</td><td style=text-align:left>Указывайте ссылки в формате HTML: <code>&lt;a href="/media/examples/link-element-example.css" target="_blank">Ознакомьтесь с нашим руководством!&lt;/a></code> или добавляйте ссылки, которые открываются в новых вкладках или окнах. Например: <code>[example website](https://example.com){target="_blank"}</code></td></tr></tbody></table><h3 id=списки>Списки</h3><p>Сгруппируйте пункты в списке так, чтобы они были связаны друг с другом и следовали в определённом порядке, либо чтобы они сохраняли взаимосвязь между несколькими элементами. Когда программа чтения с экрана встречает нумерованный или неупорядоченный список, пользователю будет проинформирован, что существует группа из элементов списка. Затем пользователь может использовать клавиши-стрелки для перемещения между разными элементами в списке.
Навигационные ссылки по сайту также могут быть помечены как элементы списка; в конечном счёте, все они просто группа связанных ссылок.</p><ul><li><p>Заканчивайте каждый элемент в списке точкой, если один или несколько элементов в списке являются законченными предложениями. Как правило, для согласованности либо все элементы должны быть целыми предложениями, либо ни один из них.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Упорядоченные списки, которые являются частью неполного вступительного предложения, могут быть написаны в нижнем регистре и оканчиваться на точку, как если бы каждый элемент был составляющей вступительного предложения.</div></li><li><p>Используйте цифру один (1.) для упорядоченных списков.</p></li><li><p>Используйте (+), (*) или (-) для неупорядоченных списков.</p></li><li><p>Добавьте пустую строку после каждого списка.</p></li><li><p>Во вложенных списках добавьте отступ в четыре пробела (например, ⋅⋅⋅⋅).</p></li><li><p>Элементы списка могут содержать несколько абзацев. Каждый последующий абзац в элементе списка должен иметь отступ в четыре пробела или один символ табуляции.</p></li></ul><h3 id=таблицы>Таблицы</h3><p>Семантическая цель таблицы данных состоит в представлении данных в табличном виде. Пользователи с нормальным зрением могут бегло просмотреть таблицу, однако программа для чтения с экрана сканирует таблицу построчно. Заголовок таблицы используется для создания информативного заголовка для табличных данных. Инструменты вспомогательных технологий (Assistive technologies, AT) используют элемент заголовка HTML-таблицы, чтобы идентифицировать для пользователей, какие на странице есть таблицы.</p><ul><li>Добавьте подписи к таблицам с помощью соответствующих <a href=/docs/contribute/style/hugo-shortcodes/#table-captions>макрокодов Hugo</a>.</li></ul><h2 id=рекомендации-по-написанию-контента>Рекомендации по написанию контента</h2><p>В этом разделе перечислены рекомендации для написания ясного, лаконичного и единообразного текста документации.</p><h3 id=используйте-настоящее-время>Используйте настоящее время</h3><table><caption style=display:none>Можно делать и нельзя - Используйте настоящее время</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Эта команда запускает прокси.</td><td style=text-align:left>Эта команда запустит прокси.</td></tr></tbody></table><p>Исключение: используйте будущее или прошедшее время, если требуется передать правильный смысл.</p><h3 id=используйте-действительный-залог>Используйте действительный залог</h3><table><caption style=display:none>Можно делать и нельзя - Используйте действительный залог</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Вы можете изучить API с помощью браузера.</td><td style=text-align:left>API можно изучить с помощью браузера.</td></tr><tr><td style=text-align:left>В файле YAML определяется количество реплик.</td><td style=text-align:left>Количество реплик определяется в файле YAML.</td></tr></tbody></table><p>Исключение: используйте страдательный залог, если в действительном залоге получается неудачная формулировка.</p><h3 id=используйте-простой-и-понятный-язык>Используйте простой и понятный язык</h3><p>Используйте простой и доступный язык. Избегайте использования ненужных фраз, например, "пожалуйста".</p><table><caption style=display:none>Можно делать и нельзя - Используйте простой и понятный язык</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Чтобы создать ReplicaSet, ...</td><td style=text-align:left>Для того чтобы создать a ReplicaSet, ...</td></tr><tr><td style=text-align:left>Смотрите конфигурационный файл.</td><td style=text-align:left>Пожалуйста, смотрите конфигурационный файл.</td></tr><tr><td style=text-align:left>Посмотрите Pods.</td><td style=text-align:left>С помощью следующей команды мы посмотрим Pods.</td></tr></tbody></table><h3 id=обращайтесь-к-читателю-на-вы>Обращайтесь к читателю на "вы"</h3><table><caption style=display:none>Можно делать и нельзя - Обращайтесь к читателю на вы</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Вы можете создать Deployment с помощью ...</td><td style=text-align:left>Мы создадим Deployment с помощью ...</td></tr><tr><td style=text-align:left>В предыдущем выводе вы можете увидеть ...</td><td style=text-align:left>В предыдущем выводе мы можем увидеть ...</td></tr></tbody></table><h3 id=избегайте-использования-латинских-фраз>Избегайте использования латинских фраз</h3><p>Вместо латинских аббревиатур используйте соответствующие выражения на английском.</p><table><caption style=display:none>Можно делать и нельзя - Избегайте использования латинских фраз</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>For example, ...</td><td style=text-align:left>e.g., ...</td></tr><tr><td style=text-align:left>That is, ...</td><td style=text-align:left>i.e., ...</td></tr></tbody></table><p>Исключение: используйте "etc." вместо "et cetera".</p><h2 id=ошибки-которые-следует-избегать>Ошибки, которые следует избегать</h2><h3 id=избегайте-использования-мы>Избегайте использования "мы"</h3><p>Использование "мы" в предложении может сбить с толку, так так неясно, кто под этим "мы" подразумевается (имеется ли в виду сам читатель при этом).</p><table><caption style=display:none>Можно делать и нельзя - Избегайте использования мы</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Версия 1.4 включает в себя ...</td><td style=text-align:left>В версии 1.4 мы добавили ...</td></tr><tr><td style=text-align:left>Kubernetes представляет новую возможность для ...</td><td style=text-align:left>Мы представляем новую возможность ...</td></tr><tr><td style=text-align:left>На этой странице вы узнаете, как использовать Pods.</td><td style=text-align:left>На этой странице мы познакомимся с Pods.</td></tr></tbody></table><h3 id=избегайте-жаргона-и-идиомы>Избегайте жаргона и идиомы</h3><p>Некоторые читатели говорят на английском как на втором языке. Избегайте жаргона и идиом, чтобы облегчить им понимание.</p><table><caption style=display:none>Можно делать и нельзя - Избегайте жаргона и идиомы</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>Internally, ...</td><td style=text-align:left>Under the hood, ...</td></tr><tr><td style=text-align:left>Create a new cluster.</td><td style=text-align:left>Turn up a new cluster.</td></tr></tbody></table><h3 id=избегайте-выражений-о-будущем>Избегайте выражений о будущем</h3><p>Не давайте обещаний или намеков на будущее. Если вам нужно рассказать про функциональность в альфа-версии, под соответствующем заголовком напишите поясняющий текст, что информация относится к альфа-версии.</p><h3 id=избегайте-выражений-которые-могут-потерять-актуальность>Избегайте выражений, которые могут потерять актуальность</h3><p>Избегайте таких слов, как "в настоящее время" и "новый". Новая функциональность в настоящее время не будет таковой через несколько месяцев.</p><table><caption style=display:none>Можно делать и нельзя - Избегайте выражений, которые могут потерять актуальность</caption><thead><tr><th style=text-align:left>Можно</th><th style=text-align:left>Нельзя</th></tr></thead><tbody><tr><td style=text-align:left>В версии 1.4 ...</td><td style=text-align:left>В текущей версии ...</td></tr><tr><td style=text-align:left>Функциональность Federation предоставляет ...</td><td style=text-align:left>Новая функциональность Federation предоставляет ...</td></tr></tbody></table><h2 id=что-дальше>Что дальше</h2><ul><li>Подробнее про <a href=/ru/docs/contribute/style/write-new-topic/>написание новой темы</a>.</li><li>Подробнее про <a href=/ru/docs/contribute/style/page-templates/>использование шаблонов страниц</a>.</li><li>Подробнее про <a href=/ru/docs/contribute/start/#%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0-%D0%BF%D1%83%D0%BB%D1%80%D0%B5%D0%BA%D0%B2%D0%B5%D1%81%D1%82%D0%B0>создание пулреквеста</a>).</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-3b9549b1c8f5ef9d6ae0a841cc99c180>4.2 - Руководство по содержанию документации</h1><p>Эта страница содержит рекомендации по добавлению контента в документацию Kubernetes.
Если у вас есть вопросы по поводу допустимого контента, обратитесь к каналу #sig-docs в <a href=http://slack.k8s.io/>Slack Kubernetes</a> и задайте свои вопросы! Поступайте на своё усмотрение и не стесняйтесь вносить изменения в этот документ через пулреквест.</p><p>Для получения дополнительной информации о создании нового контента для документации Kubernetes следуйте инструкциям в <a href=/ru/docs/contribute/style/style-guide>руководстве по оформлению</a>.</p><h2 id=участие-в-контенте>Участие в контенте</h2><p>Документация Kubernetes включает содержимое из оригинального репозитория <a href=https://github.com/kubernetes/website>kubernetes/website</a>. Документация Kubernetes находится в директории <code>kubernetes/website/content/&lt;language_code>/docs</code>, большая часть которой относится к <a href=https://github.com/kubernetes/kubernetes>проекту Kubernetes</a>. Документация Kubernetes может также включать содержимое их проектов в GitHub-организациях <a href=https://github.com/kubernetes>kubernetes</a> и <a href=https://github.com/kubernetes-sigs>kubernetes-sigs</a>, если у этих проектов нет собственной документации. Всегда можно ссылаться на действующие проекты kubernetes, kubernetes-sigs и (<a class=glossary-tooltip title='Cloud Native Computing Foundation' data-toggle=tooltip data-placement=top href=https://cncf.io/ target=_blank aria-label=CNCF>CNCF</a>) в документации Kubernetes, но перелинковка с продуктами определённого разработчика не допускается. Проверьте списки проектов CNCF (<a href=https://www.cncf.io/projects/>Graduated/Incubating</a>, <a href=https://www.cncf.io/sandbox-projects/>Sandbox</a>, <a href=https://www.cncf.io/archived-projects/>Archived</a>), если вы не уверены в статусе CNCF проекта</p><h3 id=контент-полученный-из-двух-источников>Контент, полученный из двух источников</h3><p>Документация Kubernetes не содержит дублированный контент, полученный из разных мест (так называемый <strong>контент из двух источников</strong>). Контент из двух источников требует дублирования работы со стороны мейнтейнеров проекта и к тому же быстро теряет актуальность.
Перед добавлением контента, задайте себе вопрос:</p><ul><li>Новая информация относится к действующему проекту CNCF или проекту в организациях на GitHub kubernetes или kubernetes-sigs?<ul><li>Если да, то:<ul><li>У этого проекта есть собственная документация?<ul><li>если да, то укажите ссылку на документацию проекта в документации Kubernetes.</li><li>если нет, добавьте информацию в репозиторий проекта (если это возможно), а затем укажите ссылку на неё в документации Kubernetes.</li></ul></li></ul></li><li>Если нет, то:<ul><li>Остановитесь!<ul><li>Добавление информации о продуктах от других разработчиков не допускается.</li><li>Не разрешено ссылаться на документацию и сайты сторонних разработчиков.</li></ul></li></ul></li></ul></li></ul><h3 id=разрешенная-и-запрещённая-информация>Разрешенная и запрещённая информация</h3><p>Есть несколько условий, когда в документации Kubernetes может быть информация, относящиеся не к проектам Kubernetes.
Ниже перечислены основные категории по содержанию проектов, не касающихся Kubernetes, а также приведены рекомендации о том, что разрешено, а что нет:</p><ol><li><p>Инструкции по установке или эксплуатации Kubernetes, которые не связаны с проектами Kubernetes.</p><ul><li>Разрешено:<ul><li>Ссылаться на документацию CNCF-проекта или на проект в GitHub-организациях kubernetes или kubernetes-sigs.<ul><li>Пример: для установки Kubernetes в процессе обучения нужно обязательно установить и настроить minikube, а также сослаться на соответствующую документацию minikube.</li></ul></li><li>Добавление инструкций для проектов в организации kubernetes или kubernetes-sigs, если по ним нет инструкций.<ul><li>Пример: добавление инструкций по установке и решению неполадок <a href=https://github.com/kubernetes/kubeadm>kubeadm</a>.</li></ul></li></ul></li><li>Запрещено:<ul><li>Добавление информации, которая дублирует документацию в другом репозитории.<ul><li>Примеры:<ul><li>Добавление инструкций по установке и настройке minikube; Minikube имеет собственную <a href=https://minikube.sigs.k8s.io/docs/>документацию</a>, которая включают эти инструкции.</li><li>Добавление инструкций по установке Docker, CRI-O, containerd и других окружений для выполнения контейнеров в разных операционных системах.</li><li>Добавление инструкций по установке Kubernetes в промышленных окружениях, используя разные проекты:<ul><li>Kubernetes Rebar Integrated Bootstrap (KRIB) — это проект стороннего разработчика, поэтому всё содержимое находится в репозитории разработчика.</li><li>У проекта <a href=https://github.com/kubernetes/kops>Kubernetes Operations (kops)</a> есть инструкции по установке и руководства в GitHub-репозитории.</li><li>У проекта <a href=https://kubespray.io>Kubespray</a> есть собственная документация.</li></ul></li></ul></li></ul></li><li>Добавление руководства, в котором объясняется, как выполнить задачу с использованием продукта определенного разработчика или проекта с открытым исходным кодом, не являющиеся CNCF-проектами или проектом в GitHub-организациях kubernetes, или kubernetes-sigs.</li><li>Добавление руководства по использованию CNCF-проекта или проекта в GitHub-организациях kubernetes или kubernetes-sigs, если у проекта есть собственная документация.</li></ul></li></ul></li><li><p>Подробное описание технических аспектов по использованию стороннего проекта (не Kubernetes) или как этот проект разработан.</p><p>Добавление такого типа информации в документацию Kubernetes не допускается.</p></li><li><p>Информация стороннему проекту.</p><ul><li>Разрешено:<ul><li>Добавление краткого введения о CNCF-проекте или проекте в GitHub-организациях kubernetes или kubernetes-sigs; этот абзац может содержать ссылки на проект.</li></ul></li><li>Запрещено:<ul><li>Добавление информации по продукту определённого разработчика.</li><li>Добавление информации по проекту с открытым исходным кодом, который не является CNCF-проектом или проектом в GitHub-организациях kubernetes или kubernetes-sigs.</li><li>Добавление информации, дублирующего документацию из другого проекта, независимо от оригинального репозитория.<ul><li>Пример: добавление документации для проекта <a href=https://kind.sigs.k8s.io>Kubernetes in Docker (KinD)</a> в документацию Kubernetes.</li></ul></li></ul></li></ul></li><li><p>Только ссылки на сторонний проект.</p><ul><li>Разрешено:<ul><li>Ссылаться на проекты в GitHub-организациях kubernetes и kubernetes-sigs.<ul><li>Пример: добавление ссылок на <a href=https://kind.sigs.k8s.io/docs/user/quick-start>документацию</a> проекта Kubernetes in Docker (KinD), который находится в GitHub-организации kubernetes-sigs.</li></ul></li><li>Добавление ссылок на действующие CNCF-проекты.<ul><li>Пример: добавление ссылок на <a href=https://prometheus.io/docs/introduction/overview/>документацию</a> проекта Prometheus; Prometheus — это действующий проект CNCF.</li></ul></li></ul></li><li>Запрещено:<ul><li>Ссылаться на продукты стороннего разработчика.</li><li>Ссылаться на прекращенные проекты CNCF.</li><li>Ссылаться на недействующие проекты в организациях GitHub в kubernetes и kubernetes-sigs.</li><li>Ссылаться на проекты с открытым исходным кодом, которые не являются проектами CNCF или не находятся в организациях GitHub kubernetes, или kubernetes-sigs.</li></ul></li></ul></li><li><p>Содержание учебных курсов.</p><ul><li>Разрешено:<ul><li>Ссылаться на независимые от разработчиков учебные курсы Kubernetes, предлагаемыми <a href=https://www.cncf.io/>CNCF</a>, <a href=https://www.linuxfoundation.org/>Linux Foundation</a> и <a href=https://linuxacademy.com/>Linux Academy</a> (партнер Linux Foundation).<ul><li>Пример: добавление ссылок на курсы Linux Academy, такие как <a href=https://linuxacademy.com/course/kubernetes-quick-start/>Kubernetes Quick Start</a> и <a href=https://linuxacademy.com/course/kubernetes-security/>Kubernetes Security</a>.</li></ul></li></ul></li><li>Запрещено:<ul><li>Ссылаться на учебные онлайн-курсы, не относящиеся к CNCF, Linux Foundation или Linux Academy; документация Kubernetes не содержит ссылок на сторонний контент.<ul><li>Пример: добавление ссылок на учебные руководства или курсы Kubernetes на Medium, KodeKloud, Udacity, Coursera, learnk8s и т.д.</li></ul></li><li>Ссылаться на руководства определённых разработчиков вне зависимости от обучающей организации.<ul><li>Пример: добавление ссылок на такие курсы Linux Academy, как <a href=https://linuxacademy.com/google-cloud-platform/training/course/name/google-kubernetes-engine-deep-dive>Google Kubernetes Engine Deep Dive</a> и <a href=https://linuxacademy.com/course/amazon-eks-deep-dive/>Amazon EKS Deep Dive</a></li></ul></li></ul></li></ul></li></ol><p>Если у вас есть вопросы по поводу допустимого контента, присоединяйтесь к каналу #sig-docs в <a href=http://slack.k8s.io/>Slack Kubernetes</a>!</p><h2 id=что-дальше>Что дальше</h2><ul><li>Прочитайте <a href=/ru/docs/contribute/style/style-guide>руководство по оформлению</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-4f09c4b708d2dd4ac9eac1080dab6728>4.3 - Написание новой темы</h1><p>На этой странице показано, как создать новую тему для документации Kubernetes.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><p>Создайте копию репозитория документации Kubernetes, как описано в разделе <a href=/ru/docs/contribute/start/>Участие для начинающих</a>.</p><h2 id=выбор-типы-страницы>Выбор типы страницы</h2><p>Перед написанием новой темы, выберите тип страницы, который бы лучше всего подходил под ваш текст:</p><table><caption style=display:none>Правила выбора типа страницы</caption><thead><tr><th style=text-align:left>Тип</th><th style=text-align:left>Описание</th></tr></thead><tbody><tr><td style=text-align:left>Концепция</td><td style=text-align:left>Страница концепции объясняет некоторые аспекты Kubernetes. Например, страницы концепции может описывать объект Deployment в Kubernetes и разъяснить, какую роль он играет после развертывания, масштабирования и обновления приложения. Как правило, страницы концепций не включают последовательности шагов, а вместо этого содержат ссылки на задачи или руководства. В качестве примера концептуальной темы посмотрите страницу <a href=/docs/concepts/architecture/nodes/>Nodes</a>.</td></tr><tr><td style=text-align:left>Задача</td><td style=text-align:left>На странице задачи показывается, как сделать что-то одно конкретное, главным образом с помощью короткой последовательности шагов. Страница задачи может быть короткой или длинной, если она остаётся сконцентрированной на одном аспекте. На странице задач можно сочетать краткие объяснения с необходимыми шагами для выполнения, однако если вам нужно дать подробное пояснение, вам следует сделать это в концептуальной теме. Смежные задачи и концептуальные темы должны быть связаны друг с другом. В качестве примера короткой страницы задачи посмотрите <a href=/docs/tasks/configure-pod-container/configure-volume-storage/>Configure a Pod to Use a Volume for Storage</a>. Пример длинной страницы задачи смотрите <a href=/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/>Configure Liveness and Readiness Probes</a></td></tr><tr><td style=text-align:left>Руководство</td><td style=text-align:left>На странице руководства показано, как сделать что-то более крупнее одной-единственной задачи. В руководстве может быть несколько последовательностей шагов, которые читатели могут реально выполнить по ходу чтения страницы. Либо на странице руководства могут приведены объяснения связанных частей кода. Например, руководство может содержать разбор примера кода. Руководство может включать в себя краткие объяснения связанной функциональности Kubernetes, но при они этом должны ссылаться на сопутствующие концептуальные темы, где можно узнать подробнее про конкретные возможности.</td></tr></tbody></table><p>Используйте шаблон для каждой новой страницы. Каждый тип страницы использует определённый <a href=/docs/contribute/style/page-templates/>шаблон</a>, поэтому при написании собственных тем вам следует выбрать свой шаблон. Использование шаблонов помогает поддерживать единообразие в темах конкретного типа.</p><h2 id=выбор-заголовка-и-имени-файла-a-title-and-filename>Выбор заголовка и имени файла a title and filename</h2><p>Подберите заголовок, содержащий такие ключевые слова, по которым вы могли его найти в поисковике.
Имя файла должно создаваться из слов в заголовке, написанных через дефис.
Например, для темы с заголовком <a href=/docs/tasks/access-kubernetes-api/http-proxy-access-api/>Using an HTTP Proxy to Access the Kubernetes API</a> имя файла будет <code>http-proxy-access-api.md</code>. Вам не нужно указывать "kubernetes" в имени файла, потому что слово "kubernetes" уже есть в полном URL-адресе темы, например:</p><pre><code>   /docs/tasks/access-kubernetes-api/http-proxy-access-api/
</code></pre><h2 id=добавление-заголовка-темы-в-фронтальную-часть>Добавление заголовка темы в фронтальную часть</h2><p>В <a href=https://gohugo.io/content-management/front-matter/>фронтальную часть</a> файла вашей темы поместите поле заголовка <code>title</code>. Фронтальная часть — YAML-блок, который находится тремя дефисами в самом верху страницы. Например:</p><pre><code>---
title: Using an HTTP Proxy to Access the Kubernetes API
---
</code></pre><h2 id=выбор-директории>Выбор директории</h2><p>В зависимости от типа вашей страницы поместите новый файл в одну из следующую поддиректорию:</p><ul><li>/content/en/docs/tasks/</li><li>/content/en/docs/tutorials/</li><li>/content/en/docs/concepts/</li></ul><p>Вы можете поместить файл в имеющуюся поддиректорию либо создать новую.</p><h2 id=добавление-темы-в-оглавлении>Добавление темы в оглавлении</h2><p>Оглавление динамически генерируется исходя из структуры директорий документации. Корневые директории в <code>/content/en/docs/</code> создают навигацию с основными ссылками, где у каждой поддиректории есть записи в оглавлении.</p><p>В каждой поддиректории есть файл <code>_index.md</code>, представляющий собой "главную" страницу всего содержимого этой поддиректории. В файле <code>_index.md</code> не нужно применять шаблон. В нём находится обзор содержания тем в поддиректории.</p><p>Другие файлы в директории по умолчанию сортируются в алфавитном порядке. Такой порядок сортировки редко устраивает. Для управления такой относительной сортировкой тем в поддиректории, определите ключ <code>weight:</code> с целым числом в фронтальной части файла. Как правило, мы используем значения, кратные 10, чтобы оставить про запас для будущих страниц. Например, тема с весом <code>10</code> будет отображаться перед темой с весом <code>20</code>.</p><h2 id=вставка-кода-в-тему>Вставка кода в тему</h2><p>Если вы хотите добавить код в тему, вы можете встроить код из файла напрямую, используя синтаксис блока кода в Markdown. Такой способ рекомендуется использовать в следующих случаев (это не исчерпывающий список):</p><ul><li>В вашем коде показывается вывод такой команды, как <code>kubectl get deploy mydeployment -o json | jq '.status'</code>.</li><li>Ваш код недостаточно универсален, чтобы пользователи могли его попробовать сами. В качестве примера можно привести пример YAML-файла для создания Pod, который зависит от конкретной реализации <a href=/docs/concepts/storage/volumes#flexvolume>FlexVolume</a>.</li><li>Ваш код — это не готовый пример, потому что он предзначен для выделения части большего файла. Например, при описании способов настройки <a href=/docs/tasks/administer-cluster/sysctl-cluster/#podsecuritypolicy>PodSecurityPolicy</a> по определённым причинам вы можете включить небольшой фрагмент напрямую в файле темы.</li><li>Ваш код по разным причинам не подходит для тестирования пользователями. Например, если вы описываете, как новый атрибут должен добавляться к ресурсу с помощью команды <code>kubectl edit</code>, то вы можете добавить короткий пример, показывающий только добавляемый атрибут.</li></ul><h2 id=добавление-кода-из-другого-файла>Добавление кода из другого файла</h2><p>Другой способ добавить код в вашу тему — создать новый полноценный файл с примером (или группу файлов примеров), а затем из вашей темы подключить этот пример.
Используйте этот метод, чтобы включить универсальный и повторно используемый пример YAML-файла, который читатель может проверить сам.</p><p>При добавлении нового отдельного файла примера, например, в формате YAML, поместите код в одну из директорий <code>&lt;LANG>/examples/</code>, где <code>&lt;LANG></code> — язык темы. В вашем файле темы используйте макрокод <code>codenew</code>:</p><pre tabindex=0><code class=language-none data-lang=none>{{&lt; codenew file=&#34;&lt;RELPATH&gt;/my-example-yaml&gt;&#34; &gt;}}
</code></pre><p>где <code>&lt;RELPATH></code> — это путь к включаемому файлу относительно директории <code>examples</code>. Следующий макрокод Hugo ссылается на YAML-файл по пути <code>/content/en/examples/pods/storage/gce-volume.yaml</code>.</p><pre tabindex=0><code class=language-none data-lang=none>{{&lt; codenew file=&#34;pods/storage/gce-volume.yaml&#34; &gt;}}
</code></pre><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Чтобы отобразить Hugo-макрокоды в исходном виде, как в приведенном выше примере, поместите их в комментарии в стиле языка Си между <code>&lt;</code> и <code>></code>. Для примера посмотрите исходный код этой страницы.</div><h2 id=демонстрация-создания-api-объекта-из-конфигурационного-файла>Демонстрация создания API-объекта из конфигурационного файла</h2><p>Если вам нужно показать, как создать объект API из файла конфигурации, поместите файл конфигурации в одну из директорий в <code>&lt;LANG>/examples</code>.</p><p>В вашей теме укажите эту команду:</p><pre tabindex=0><code>kubectl create -f https://k8s.io/examples/pods/storage/gce-volume.yaml
</code></pre><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> При добавлении новых YAML-файлов в директорию <code>&lt;LANG>/examples</code>, убедитесь, что этот файл перечислен в файле <code>&lt;LANG>/examples_test.go</code>. Подключённый к сайту Travis CI автоматически выполнит этот тестовый сценарий при отправке PR, чтобы проверить все примеры.</div><p>В качестве примера темы, в которой используется этот метод, смотрите <a href=/docs/tutorials/stateful-application/run-stateful-application/>Running a Single-Instance Stateful Application</a>.</p><h2 id=добавление-изображений-в-тему>Добавление изображений в тему</h2><p>Поместите файлы изображений в директорию <code>/images</code>. Предпочтительный формат изображения — SVG.</p><h2 id=что-дальше>Что дальше</h2><ul><li>Подробнее про <a href=/ru/docs/contribute/style/page-templates/>использование шаблонов страниц</a>.</li><li>Подробнее про <a href=/ru/docs/contribute/start/#%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0-%D0%BF%D1%83%D0%BB%D1%80%D0%B5%D0%BA%D0%B2%D0%B5%D1%81%D1%82%D0%B0>создание пулреквеста</a>).</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6d95158118c9a27343edd2e6e23f0247>4.4 - Использование шаблонов страниц</h1><p>При добавлении новых тем воспользуйтесь одним из перечисленных ниже шаблонов.
Это регламентирует пользовательское восприятие определённой страницы.</p><p>Шаблоны страниц находятся в директории <a href=https://git.k8s.io/website/layouts/partials/templates><code>layouts/partials/templates</code></a> репозитория <a href=https://github.com/kubernetes/website><code>kubernetes/website</code></a>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Каждая новая тема должна использовать шаблон. Если вы не уверены, какой шаблон использовать для новой темы, начните с <a href=#%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD-%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BF%D1%86%D0%B8%D0%B8>шаблона концепции</a>.</div><h2 id=шаблон-концепции>Шаблон концепции</h2><p>Страница концепции объясняет некоторые аспекты Kubernetes. Например, страницы концепции может описывать объект Deployment в Kubernetes и разъяснить какую роль он играет после развертывания, масштабирования и обновления приложения. Как правило, страницы концепций не включают последовательности шагов, и вместо этого содержат ссылки на задачи или руководства.</p><p>Для написания новой страницы концепции в директории <code>/content/en/docs/concepts</code> создайте поддиректорию с Markdown-файлом со следующим требованиями:</p><ul><li><p>Во фронтальной части YAML этой страницы определите поле <code>content_type: concept</code>.</p></li><li><p>В теле страницы укажите переменные <code>capture</code> и любые другие, которые вы хотите включить:</p><table><thead><tr><th>Переменная</th><th>Обязательна?</th></tr></thead><tbody><tr><td>overview</td><td>да</td></tr><tr><td>body</td><td>да</td></tr><tr><td>whatsnext</td><td>нет</td></tr></tbody></table><p>Тело страницы будет выглядеть следующим образом (удалите все необязательные capture-блоки, если они вам не понадобятся):</p><pre tabindex=0><code>{{% capture overview %}}

{{% /capture %}}

{{% capture body %}}

{{% /capture %}}

{{% capture whatsnext %}}

{{% /capture %}}
</code></pre></li><li><p>Заполните каждый раздел информацией. Следуйте этим рекомендациям:</p><ul><li>Структурируйте контент с помощью заголовков H2 и H3.</li><li>В блоке <code>overview</code> одним абзацем сформируйте контекст темы.</li><li>В блоке <code>body</code> объясните суть концепции.</li><li>В блоке <code>whatsnext</code> сформируйте ненумерованный список тем (до 5), к которым нужно обратиться, чтобы получить дополнительную информацию о концепции.</li></ul></li></ul><p><a href=/docs/concepts/overview/working-with-objects/annotations/>Annotations</a> — это готовый пример шаблона концепции. Кстати, текущая страница использует шаблон концепции.</p><h2 id=шаблон-задачи>Шаблон задачи</h2><p>На странице задачи показывается, как сделать что-то одно конкретное, главным образом с помощью короткой последовательности шагов. В страницах задач очень короткое объяснение, хотя они часто ссылаются на концептуальные темы, где уже можно найти соответствующую справочную информацию и ресурсы.</p><p>Для написания новой страницы задачи в директории <code>/content/en/docs/tasks</code> создайте поддиректорию с Markdown-файлом со следующим требованиями:</p><ul><li><p>Во фронтальной части YAML этой страницы определите поле <code>content_type: task</code>.</p></li><li><p>В теле страницы укажите переменные <code>capture</code> и любые другие, которые вы хотите включить:</p><table><thead><tr><th>Переменная</th><th>Обязательна?</th></tr></thead><tbody><tr><td>overview</td><td>да</td></tr><tr><td>prerequisites</td><td>да</td></tr><tr><td>steps</td><td>нет</td></tr><tr><td>discussion</td><td>нет</td></tr><tr><td>whatsnext</td><td>нет</td></tr></tbody></table><p>Тело страницы будет выглядеть следующим образом (удалите все необязательные capture-блоки, если они вам не нужны):</p><pre tabindex=0><code>{{% capture overview %}}

{{% /capture %}}

{{% capture prerequisites %}}

{{&lt; include &#34;task-tutorial-prereqs.md&#34; &gt;}} {{&lt; version-check &gt;}}

{{% /capture %}}

{{% capture steps %}}

{{% /capture %}}

{{% capture discussion %}}

{{% /capture %}}

{{% capture whatsnext %}}

{{% /capture %}}
</code></pre></li><li><p>Заполните каждый блок информацией. Следуйте этим рекомендациям:</p><ul><li>Используйте по минимуму заголовков H2 (с двумя ведущими символами <code>#</code>). У самих разделов заголовок формируется автоматически по заданному шаблону.</li><li>В блоке <code>overview</code> обозначьте контекст для всей темы.</li><li>В блоке <code>prerequisites</code> используйте ненумерованные списки, где это возможно. Добавьте дополнительные предварительные условия ниже <code>include</code>. Предварительные условия по умолчанию содержат пункт про наличие работающего кластера.</li><li>В блоке <code>steps</code> используйте нумерованные списки.</li><li>В блоке <code>discussion</code> подробно распишите информацию, описанную в разделе <code>steps</code>.</li><li>В блоке <code>whatsnext</code> сформируйте ненумерованный список тем (до 5), которые могут быть интересны читателю в качестве дополнительного чтения.</li></ul></li></ul><p>Пример готовой темы, в которой используется шаблон задачи — <a href=/docs/tasks/access-kubernetes-api/http-proxy-access-api>Using an HTTP proxy to access the Kubernetes API</a>.</p><h2 id=шаблон-руководства>Шаблон руководства</h2><p>На странице руководства показывается, как выполнить что-то более крупнее одной-единственной задачи. Как правило, страницы руководства поделена на несколько разделов, в каждом из которых есть последовательность шагов. Например, руководство может включать анализ примера кода, демонстрирующий определенную возможность Kubernetes. Руководства могут содержать поверхностные объяснения и одновременно включать ссылки на соответствующие концептуальные темы для получения углубленных знаний.</p><p>Для написания новой страницы задачи в директории <code>/content/en/docs/tutorials</code> создайте поддиректорию с Markdown-файлом со следующим требованиями:</p><ul><li><p>Во фронтальной части YAML этой страницы определите поле <code>content_type: tutorial</code>.</p></li><li><p>В теле страницы укажите переменные <code>capture</code> и любые другие, которые вы хотите включить:</p><table><thead><tr><th>Переменная</th><th>Обязательна?</th></tr></thead><tbody><tr><td>overview</td><td>да</td></tr><tr><td>prerequisites</td><td>да</td></tr><tr><td>objectives</td><td>да</td></tr><tr><td>lessoncontent</td><td>да</td></tr><tr><td>cleanup</td><td>нет</td></tr><tr><td>whatsnext</td><td>нет</td></tr></tbody></table><p>Тело страницы будет выглядеть следующим образом (удалите все необязательные capture-блоки, если они вам не понадобятся):</p><pre tabindex=0><code>{{% capture overview %}}

{{% /capture %}}

{{% capture prerequisites %}}

{{&lt; include &#34;task-tutorial-prereqs.md&#34; &gt;}} {{&lt; version-check &gt;}}

{{% /capture %}}

{{% capture objectives %}}

{{% /capture %}}

{{% capture lessoncontent %}}

{{% /capture %}}

{{% capture cleanup %}}

{{% /capture %}}

{{% capture whatsnext %}}

{{% /capture %}}
</code></pre></li><li><p>Заполните каждый блок информацией. Следуйте этим рекомендациям:</p><ul><li>Используйте по минимуму заголовков H2 (с двумя ведущими символами <code>#</code>). У самих разделов заголовок формируется автоматически по заданному шаблону.</li><li>В блоке <code>overview</code> обозначьте контекст для всей темы.</li><li>В блоке <code>prerequisites</code> используйте ненумерованные списки, где это возможно. Добавьте дополнительные предварительные условия ниже <code>include</code>. Предварительные условия по умолчанию содержат пункт про наличие работающего кластера.</li><li>В блоке <code>objectives</code> используйте ненумерованные списки.</li><li>В блоке <code>lessoncontent</code> целесообразно используйте совместно нумерованные списки и повествовательное содержание.</li><li>В блоке <code>cleanup</code> используйте нумерованные списки для описания шагов для очистки состояния кластера после выполнения задачи.</li><li>В блоке <code>whatsnext</code> сформируйте ненумерованный список тем (до 5), которые могут быть интересны читателю в качестве дополнительного чтения.</li></ul></li></ul><p>Пример завершенной темы, в которой используется шаблон руководства — <a href=/docs/tutorials/stateless-application/run-stateless-application-deployment/>Running a Stateless Application Using a Deployment</a>.</p><h2 id=что-дальше>Что дальше</h2><ul><li>Подробнее про <a href=/ru/docs/contribute/style/style-guide/>оформление документации</a></li><li>Подробнее про <a href=/ru/docs/contribute/style/content-guide/>содержание документации</a></li><li>Подробнее про <a href=/ru/docs/contribute/style/content-organization/>организацию контента</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-357f2ddd61035f18c2aa63fe86203f9c>4.5 - Организация контента</h1><p>Этот сайт использует Hugo. В Hugo <a href=https://gohugo.io/content-management/organization/>организация контента</a> — основная концепция.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> <strong>Подсказка:</strong> при редактировании контента используйте команду <code>hugo server --navigateToChanged</code>, чтобы запустить Hugo.</div><h2 id=списки-страниц>Списки страниц</h2><h3 id=порядок-страницы>Порядок страницы</h3><p>Меню в сайдбаре, каталог страниц документации используют стандартный порядок перечисления Hugo, который сортирует элементы по весу (от 1), дате (начиная с самых новых) и затем по заголовку ссылки.</p><p>Таким образом, если вам нужно поднять страницу или раздел, определите её вес в фронтальной части:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>title</span>:<span style=color:#bbb> </span>Моя страница<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>weight</span>:<span style=color:#bbb> </span><span style=color:#666>10</span><span style=color:#bbb>
</span></span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Для значений веса страниц лучше не использовать привычный порядок 1, 2, 3..., а предпочесть другой интервал, например, 10, 20, 30... В будущем это позволит вставить последующие страницы в желаемую позицию.</div><h3 id=главное-меню-документации>Главное меню документации</h3><p>Главное меню <code>Документация</code> состоит из разделов по пути <code>docs/</code> с установленным флагом <code>main_menu</code> в фронтальной части файла раздела <code>_index.md</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>main_menu</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>Обратите внимание, что текст ссылки берётся из переменной <code>linkTitle</code>, поэтому, если вы хотите, чтобы он отличался от заголовка страницы, измените его в файле:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>main_menu</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>title</span>:<span style=color:#bbb> </span>Название страницы<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>linkTitle</span>:<span style=color:#bbb> </span>Название, которое будет использоваться в ссылках<span style=color:#bbb>
</span></span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Перечисленные выше переменные должны быть определены для каждого перевода. Если вы не видите созданный вами раздел в меню, скорее всего, это может быть связано с тем, что Hugo не определил его как раздел. Создайте файл <code>_index.md</code> в директории раздела.</div><h3 id=документация-в-боковом-меню>Документация в боковом меню</h3><p>Меню сайдбара в документации собирается из <em>текущего дерева разделов</em> по пути <code>docs/</code>.</p><p>Оно отобразит все разделы и их страницы.</p><p>Если вы хотите, чтобы раздел или страница не отображались в меню, установите для флага <code>toc_hide</code> значение <code>true</code> в фронтальной части файла:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>toc_hide</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span></code></pre></div><p>При переходе к непустому разделу будет отображаться указанный раздел или страница (например, <code>_index.md</code>). В противном случае выводиться первая страница в этом разделе.</p><h3 id=каталог-документации>Каталог документации</h3><p>Каталог страниц на главной странице документации сгенерирован с учётом всех разделов и страниц документации.</p><p>Если вы хотите скрыть раздел или страницу, установите для флага <code>toc_hide</code> значение <code>true</code> в фронтальной части файла:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>toc_hide</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=главное-меню>Главное меню</h3><p>Ссылки сайта в верхнем правом меню, а также в футере, создаются посредством сканирования страниц. Этот процесс гарантирует, что страница действительно существует на сайте. Поэтому, если раздела <code>case-studies</code> на сайте (или в переводе) не существует, ссылка не появится.</p><h2 id=пакеты-страниц>Пакеты страниц</h2><p>В дополнение к отдельным страницам с контентом (Markdown-файлам), Hugo поддерживает <a href=https://gohugo.io/content-management/page-bundles/>пакеты страниц (page bundles)</a>.</p><p>К примеру, <a href=/docs/contribute/style/hugo-shortcodes/>пользовательские макрокоды Hugo</a> — узел пакета (<code>leaf bundle</code>). Все, что находится в директории, включая <code>index.md</code>, будет частью пакета. Сюда также относятся относительные ссылки на страницы, изображения, которые могут быть обработаны и т.д.:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>en/docs/home/contribute/includes
</span></span><span style=display:flex><span>├── example1.md
</span></span><span style=display:flex><span>├── example2.md
</span></span><span style=display:flex><span>├── index.md
</span></span><span style=display:flex><span>└── podtemplate.json
</span></span></code></pre></div><p>Другой распространённый пример — это пакет <code>includes</code>. Он устанавливает переменную <code>headless: true</code>, которая означает, что файл не будет доступен по собственному URL-адресу. Вместо этого он будет использоваться в других страницах как вставляемый файл.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>en/includes
</span></span><span style=display:flex><span>├── default-storage-class-prereqs.md
</span></span><span style=display:flex><span>├── federated-task-tutorial-prereqs.md
</span></span><span style=display:flex><span>├── index.md
</span></span><span style=display:flex><span>├── partner-script.js
</span></span><span style=display:flex><span>├── partner-style.css
</span></span><span style=display:flex><span>├── task-tutorial-prereqs.md
</span></span><span style=display:flex><span>├── user-guide-content-moved.md
</span></span><span style=display:flex><span>└── user-guide-migration-notice.md
</span></span></code></pre></div><p>Необходимо отметить следующие особенности файлов в пакетах:</p><ul><li>Для переведенных пакетов любые отсутствующие файлы будут унаследованы от файлов на оригинальном (английском) языке. Это позволяет избежать дублирования.</li><li>Все файлы в пакете — в Hugo называются ресурсы (<code>Resources</code>), в которых вы можете определить метаданные, зависимые от языка, например, параметры и заголовок, даже если они не поддерживают в фронтальной части (YAML-файлы и т.д.). Смотрите <a href=https://gohugo.io/content-management/page-resources/#page-resources-metadata>Метаданные ресурсов страницы</a> для получения дополнительной информации.</li><li>Значение, которое вы получаете через <code>.RelPermalink</code> в <code>Resource</code> будет отличаться в зависимости от страницы. Смотрите <a href=https://gohugo.io/content-management/urls/#permalinks>Постоянные ссылки</a> для получения дополнительной информации.</li></ul><h2 id=стилизация>Стилизация</h2><p>Исходные файлы стилей в формате <a href=https://sass-lang.com/>SASS</a> находятся в директории <code>assets/sass</code> и автоматически собираются Hugo.</p><h2 id=что-дальше>Что дальше</h2><ul><li>Подробнее про <a href=/ru/docs/contribute/style/hugo-shortcodes/>пользовательские макрокоды Hugo</a></li><li>Подробнее про <a href=/ru/docs/contribute/style/style-guide>оформление документации</a></li><li>Подробнее про <a href=/ru/docs/contribute/style/content-guide>содержание документации</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6d76d18115f82583d526bdaf5d05edbc>4.6 - Пользовательские макрокоды Hugo</h1><p>На этой странице объясняются пользовательские макрокоды Hugo, которые можно использовать в Markdown-файлах документации Kubernetes.</p><p>Узнать подробнее про макрокоды можно в <a href=https://gohugo.io/content-management/shortcodes>документации Hugo</a>.</p><h2 id=состояние-функциональности>Состояние функциональности</h2><p>В Markdown странице (файл с расширением <code>.md</code>) вы можете добавить макрокод, чтобы отобразить версию и состояние документированной функциональной возможности.</p><h3 id=демонстрация-состояния-функциональности>Демонстрация состояния функциональности</h3><p>Ниже показан фрагмент кода для вывода состояния функциональности, который сообщает о функциональности в стабильной версии Kubernetes 1.10.</p><pre tabindex=0><code>{{&lt; feature-state for_k8s_version=&#34;v1.10&#34; state=&#34;stable&#34; &gt;}}
</code></pre><p>Результат:</p><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.10 [stable]</code></div><p>Допустимые значения для <code>state</code>:</p><ul><li>alpha</li><li>beta</li><li>deprecated</li><li>stable</li></ul><h3 id=код-состояния-функциональности>Код состояния функциональности</h3><p>По умолчанию отображается версия Kubernetes, соответствующая версии страницы или сайта. Это значение можно переопределить, передав параметр макрокода <code>for_k8s_version</code>.</p><pre tabindex=0><code>{{&lt; feature-state for_k8s_version=&#34;v1.10&#34; state=&#34;stable&#34; &gt;}}
</code></pre><p>Результат:</p><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.10 [stable]</code></div><h4 id=функциональность-в-альфа-версии>Функциональность в альфа-версии</h4><pre tabindex=0><code>{{&lt; feature-state state=&#34;alpha&#34; &gt;}}
</code></pre><p>Результат:</p><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.25 [alpha]</code></div><h4 id=функциональность-в-бета-версии>Функциональность в бета-версии</h4><pre tabindex=0><code>{{&lt; feature-state state=&#34;beta&#34; &gt;}}
</code></pre><p>Результат:</p><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.25 [beta]</code></div><h4 id=функциональность-в-стабильной-версии>Функциональность в стабильной версии</h4><pre tabindex=0><code>{{&lt; feature-state state=&#34;stable&#34; &gt;}}
</code></pre><p>Результат:</p><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.25 [stable]</code></div><h4 id=устаревшая-функциональность>Устаревшая функциональность</h4><pre tabindex=0><code>{{&lt; feature-state state=&#34;deprecated&#34; &gt;}}
</code></pre><p>Результат:</p><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.25 [deprecated]</code></div><h2 id=глоссарий>Глоссарий</h2><p>Вы можете сослаться на термины из <a href=/docs/reference/glossary/>глоссария</a> в виде всплывающей (при наведении мыши) подсказки, что удобно при чтении документации через интернет.</p><p>Исходные файлы терминов глоссария хранятся в отдельной директории по URL-адресу <a href=https://github.com/kubernetes/website/tree/master/content/en/docs/reference/glossary>https://github.com/kubernetes/website/tree/master/content/en/docs/reference/glossary</a>.</p><h3 id=демонстрация-глоссария>Демонстрация глоссария</h3><p>Например, следующий фрагмент кода в Markdown будет отображен в виде всплывающей подсказки — <a class=glossary-tooltip title='Набор машин, так называемые узлы, которые запускают контейнеризированные приложения. Кластер имеет как минимум один рабочий узел.' data-toggle=tooltip data-placement=top href='/ru/docs/reference/glossary/?all=true#term-cluster' target=_blank aria-label=cluster>cluster</a>:</p><pre tabindex=0><code class=language-liquid data-lang=liquid>{{&lt; glossary_tooltip text=&#34;cluster&#34; term_id=&#34;cluster&#34; &gt;}}
</code></pre><h2 id=заголовки-таблиц>Заголовки таблиц</h2><p>Для улучшения доступности таблиц для программ для чтения с экрана, добавьте заголовок к таблице. Чтобы добавить <a href=https://www.w3schools.com/tags/tag_caption.asp>заголовок</a> таблицы, поместите таблицу в макрокод <code>table</code> и определите значение заголовка в параметре<code> caption</code>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Заголовки таблиц предназначены только для программ чтения с экрана, поэтому в браузере они не будут отображаться.</div><p>Пример:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>table<span style=color:#bbb> </span>caption<span style=color:#666>=</span><span style=color:#b44>&#34;Конфигурационные параметры&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>Параметр | Описание | Значение по умолчанию
</span></span><span style=display:flex><span>:---------|:------------|:-------
</span></span><span style=display:flex><span>`timeout` | Тайм-аут для запросов | `30s`
</span></span><span style=display:flex><span>`logLevel` | Уровень логирования | `INFO`
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>table<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>Результат:</p><p>{{&lt; table caption="Конфигурационные параметры" >}}</p><table><thead><tr><th style=text-align:left>Параметр</th><th style=text-align:left>Описание</th><th style=text-align:left>Значение по умолчанию</th></tr></thead><tbody><tr><td style=text-align:left><code>timeout</code></td><td style=text-align:left>Тайм-аут для запросов</td><td style=text-align:left><code>30s</code></td></tr><tr><td style=text-align:left><code>logLevel</code></td><td style=text-align:left>Уровень логирования</td><td style=text-align:left><code>INFO</code></td></tr><tr><td style=text-align:left>{{&lt; /table >}}</td><td></td><td></td></tr></tbody></table><p>Если вы изучите HTML-код таблицы, вы заметите следующий ниже элемент сразу после открывающего элемента <code>&lt;table></code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:green;font-weight:700>caption</span> <span style=color:#b44>style</span><span style=color:#666>=</span><span style=color:#b44>&#34;display: none;&#34;</span>&gt;&lt;/<span style=color:green;font-weight:700>caption</span>&gt;
</span></span></code></pre></div><h2 id=вкладки>Вкладки</h2><p>Страница в формате Markdown (файл с расширением <code>.md</code>) на этом сайте может содержать набор вкладок для отображения нескольких разновидностей определённого решения.</p><p>Макрокод <code>tabs</code> принимает следующие параметры:</p><ul><li><code>name</code>: имя, отображаемое на вкладке.</li><li><code>codelang</code>: если вы указываете встроенный контент для макрокода <code>tab</code>, вы можете сообщить Hugo, какой язык использовать для подсветки синтаксиса.</li><li><code>include</code>: включаемый файл в вкладку. Если вкладка находится в <a href=https://gohugo.io/content-management/page-bundles/#leaf-bundles>узле пакета (leaf bundle)</a> Hugo, то файл (может быть любым MIME-типом, который поддерживает Hugo) ищется в самом пакете. Если нет, то включаемое содержимое ищется относительно текущей страницы. Обратите внимание, что при использовании <code>include</code> вам следует использовать самозакрывающийся синтаксис. Например, <code>{{&lt;/* tab name="Content File #1" include="example1" />}}</code>. Язык может быть указан в <code>codelang</code>, в противном случае язык определяется из имени файла.</li><li>Если содержимое вкладки это Markdown, вам нужно использовать символ <code>%</code>. Например, <code>{{% tab name="Вкладка 1" %}}This is **markdown**{{% /tab %}}</code></li><li>Вы можете совместно использовать перечисленные выше параметры.
Ниже приведена демонстрация шорткода вкладок.</li></ul><p>Ниже приведены примеры вкладок.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> <strong>Имя</strong> вкладки в элементе <code>tabs</code> должно быть уникальным на странице.</div><h3 id=демонстрация-вкладок-подсветка-синтаксиса-в-блоках-кода>Демонстрация вкладок: подсветка синтаксиса в блоках кода</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-text-template data-lang=go-text-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tabs<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;tab_with_code&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>{&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Вкладка 1&#34;</span><span style=color:#bbb> </span>codelang<span style=color:#666>=</span><span style=color:#b44>&#34;bash&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>echo &#34;Это вкладка 1.&#34;
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Вкладка 2&#34;</span><span style=color:#bbb> </span>codelang<span style=color:#666>=</span><span style=color:#b44>&#34;go&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>println &#34;Это вкладка 2.&#34;
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>}
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tabs<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>Результат:</p><ul class="nav nav-tabs" id=tab-with-code role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-code-0 role=tab aria-controls=tab-with-code-0 aria-selected=true>Вкладка 1</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-code-1 role=tab aria-controls=tab-with-code-1>Вкладка 2</a></li></ul><div class=tab-content id=tab-with-code><div id=tab-with-code-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-code-0><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;Это вкладка 1.&#34;</span>
</span></span></code></pre></div></div><div id=tab-with-code-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-code-1><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>
</span></span><span style=display:flex><span>println <span style=color:#b44>&#34;Это вкладка 2.&#34;</span>
</span></span></code></pre></div></div></div><h3 id=демонстрация-вкладок-встроенный-markdown-и-html>Демонстрация вкладок: встроенный Markdown и HTML</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-html-template data-lang=go-html-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tabs<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;tab_with_md&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>%</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Markdown&#34;</span><span style=color:#bbb> </span><span>%</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>Это **разметка Markdown.**
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>note<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>Также можно использовать макрокоды.
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>note<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>%</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>%</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;HTML&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span>&lt;<span style=color:green;font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:green;font-weight:700>h3</span>&gt;Обычный HTML&lt;/<span style=color:green;font-weight:700>h3</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:green;font-weight:700>p</span>&gt;Это &lt;<span style=color:green;font-weight:700>i</span>&gt;обычный&lt;/<span style=color:green;font-weight:700>i</span>&gt; HTML.&lt;/<span style=color:green;font-weight:700>p</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:green;font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tab<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tabs<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>Результат:</p><ul class="nav nav-tabs" id=tab-with-md role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-md-0 role=tab aria-controls=tab-with-md-0 aria-selected=true>Markdown</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-md-1 role=tab aria-controls=tab-with-md-1>HTML</a></li></ul><div class=tab-content id=tab-with-md><div id=tab-with-md-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-md-0><p><p>Это <strong>разметка Markdown.</strong></p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Также можно использовать макрокоды.</div></div><div id=tab-with-md-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-md-1><p><div><h3>Обычный HTML</h3><p>Это <i>обычный</i> HTML.</p></div></div></div><h3 id=демонстрация-вкладок-включение-файлов>Демонстрация вкладок: включение файлов</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go-text-template data-lang=go-text-template><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tabs<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;tab_with_file_include&#34;</span><span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Content File #1&#34;</span><span style=color:#bbb> </span>include<span style=color:#666>=</span><span style=color:#b44>&#34;example1&#34;</span><span style=color:#bbb> </span><span>/&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;Content File #2&#34;</span><span style=color:#bbb> </span>include<span style=color:#666>=</span><span style=color:#b44>&#34;example2&#34;</span><span style=color:#bbb> </span><span>/&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span>tab<span style=color:#bbb> </span>name<span style=color:#666>=</span><span style=color:#b44>&#34;JSON File&#34;</span><span style=color:#bbb> </span>include<span style=color:#666>=</span><span style=color:#b44>&#34;podtemplate&#34;</span><span style=color:#bbb> </span><span>/&gt;</span><span style=color:#080>}}</span>
</span></span><span style=display:flex><span><span style=color:#080>{{</span><span>&lt;</span><span style=color:#bbb> </span><span>/</span>tabs<span style=color:#bbb> </span><span>&gt;</span><span style=color:#080>}}</span>
</span></span></code></pre></div><p>Результат:</p><ul class="nav nav-tabs" id=tab-with-file-include role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-file-include-0 role=tab aria-controls=tab-with-file-include-0 aria-selected=true>Content File #1</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-file-include-1 role=tab aria-controls=tab-with-file-include-1>Content File #2</a></li><li class=nav-item><a data-toggle=tab class=nav-link href=#tab-with-file-include-2 role=tab aria-controls=tab-with-file-include-2>JSON File</a></li></ul><div class=tab-content id=tab-with-file-include><div id=tab-with-file-include-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-file-include-0><p><p>Это <strong>пример</strong> содержимого в файле внутри пакета узла <strong>includes</strong>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Подключаемые файлы также могут содержать макрокоды.</div></div><div id=tab-with-file-include-1 class=tab-pane role=tabpanel aria-labelledby=tab-with-file-include-1><p><p>Это другой <strong>пример</strong> содержимого в файле внутри пакета узла <strong>includes</strong>.</p></div><div id=tab-with-file-include-2 class=tab-pane role=tabpanel aria-labelledby=tab-with-file-include-2><p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;v1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;PodTemplate&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;metadata&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;nginx&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;template&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;metadata&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;labels&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;nginx&#34;</span>
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;generateName&#34;</span>: <span style=color:#b44>&#34;nginx-&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
</span></span><span style=display:flex><span>         <span style=color:green;font-weight:700>&#34;containers&#34;</span>: [{
</span></span><span style=display:flex><span>           <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;nginx&#34;</span>,
</span></span><span style=display:flex><span>           <span style=color:green;font-weight:700>&#34;image&#34;</span>: <span style=color:#b44>&#34;dockerfile/nginx&#34;</span>,
</span></span><span style=display:flex><span>           <span style=color:green;font-weight:700>&#34;ports&#34;</span>: [{<span style=color:green;font-weight:700>&#34;containerPort&#34;</span>: <span style=color:#666>80</span>}]
</span></span><span style=display:flex><span>         }]
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></div><h2 id=что-дальше>Что дальше</h2><ul><li>Подробнее про <a href=https://gohugo.io/>Hugo</a>.</li><li>Подробнее про <a href=/ru/docs/contribute/style/write-new-topic/>написание новой темы</a>.</li><li>Подробнее про <a href=/ru/docs/contribute/style/page-templates/>использование шаблонов страниц</a>.</li><li>Подробнее про <a href=/ru/docs/contribute/start/#%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0-%D0%BF%D1%83%D0%BB%D1%80%D0%B5%D0%BA%D0%B2%D0%B5%D1%81%D1%82%D0%B0>создание пулреквеста</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-29765496ca296ad24e34e5c0cd42a63f>5 - Обзор справочной документации</h1><p>Темы в этом разделе описывают, как генерировать справочные руководства Kubernetes.</p><p>Для сборки справочной документации посмотрите следующий ресурс:</p><ul><li><a href=/docs/contribute/generate-ref-docs/quickstart/>Краткое руководство по генерации справочной документации</a></li></ul></div><div class=td-content><h1 id=pg-a5eac5b2b794f16aa703a2fa212d7c39>5.1 - Участие в основном коде Kubernetes</h1><p>На этой странице показано, как поучаствовать в основном содержимом проекта <code>kubernetes/kubernetes</code>.
Вы можете исправить баги, найденные в документации по API Kubernetes или содержимом таких компонентов Kubernetes, как <code>kubeadm</code>, <code>kube-apiserver</code> и <code>kube-controller-manager</code>.</p><p>Если вместо этого вы хотите перегенерировать справочную документацию для API Kubernetes или компонентов с именем <code>kube-*</code> в основном коде, изучите следующие инструкции:</p><ul><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li></ul><h2 id=подготовка-к-работе>Подготовка к работе</h2><ul><li><p>Установленные инструменты:</p><ul><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://docs.docker.com/engine/installation/>Docker</a></li><li><a href=https://github.com/coreos/etcd/>etcd</a></li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li></ul></li><li><p>Созданная переменная окружения <code>GOPATH</code>, а путь к <code>etcd</code> должен быть прописан в переменной окружения <code>PATH</code>.</p></li><li><p>Вам необходимо знать, как создать пулреквест в репозитории на GitHub.
Это обычно предполагает создание копии репозитория.
Для получения дополнительной информации смотрите страницы <a href=https://help.github.com/articles/creating-a-pull-request/>Создание пулреквеста</a> и <a href=https://gist.github.com/Chaser324/ce0505fbed06b947d962>Стандартный рабочий процесс в GitHub по работе с копией и пулреквестом</a>.</p></li></ul><h2 id=рассмотрение-процесса-в-целом>Рассмотрение процесса в целом</h2><p>Справочная документация для API Kubernetes и таких компонентов с <code>kube-*</code>, как <code>kube-apiserver</code>, <code>kube-controller-manager</code>, автоматически генерируются из исходного кода в <a href=https://github.com/kubernetes/kubernetes/>основном репозитории Kubernetes</a>.</p><p>Если вы заметили баги в сгенерированной документации, попробуйте его исправить через пулреквест в основной проект.</p><h2 id=клонирование-репозитория-kubernetes>Клонирование репозитория Kubernetes</h2><p>Если вы ещё не склонировали репозиторий kubernetes/kubernetes, сделайте это:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir <span style=color:#b8860b>$GOPATH</span>/src
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> <span style=color:#b8860b>$GOPATH</span>/src
</span></span><span style=display:flex><span>go get github.com/kubernetes/kubernetes
</span></span></code></pre></div><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes/kubernetes</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;k8s-base></code>.</p><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>. Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;rdocs-base></code>.</p><h2 id=редактирование-исходного-кода-kubernetes>Редактирование исходного кода Kubernetes</h2><p>Справочная документация API Kubernetes генерируется автоматически из спецификации OpenAPI в исходном коде Kubernetes. Если вы хотите изменить справочную документацию API, сначала нужно изменить один или несколько комментариев в исходном коде Kubernetes.</p><p>Документация для компонентов <code>kube-*</code> также генерируется из основного исходного кода. Для изменения генерируемой документации вам нужно изменить соответствующий код компонента.</p><h3 id=внесение-изменений-в-основной-исходный-код>Внесение изменений в основной исходный код</h3><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Следующие шаги служат примером, а не общим порядком действий. Детали могут отличаться в вашей ситуации.</div><p>Рассмотрим пример редактирования комментария в исходном коде Kubernetes.</p><p>В вашем локальном репозитории kubernetes/kubernetes переключитесь на ветку master и проверьте, что она актуальна:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout master
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes master
</span></span></code></pre></div><p>Предположим, что в исходном файле в ветке master есть опечатка "atmost":</p><p><a href=https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/apps/v1/types.go>kubernetes/kubernetes/staging/src/k8s.io/api/apps/v1/types.go</a></p><p>В вашем локальном окружении откройте <code>types.go</code> и измените "atmost" на "at most".</p><p>Убедитесь, что вы изменили файл:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git status
</span></span></code></pre></div><p>Вывод этой команды покажет, что вы находитесь в ветке master и был изменён исходный файл <code>types.go</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>On branch master
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>    modified:   staging/src/k8s.io/api/apps/v1/types.go
</span></span></code></pre></div><h3 id=фиксация-отредактированного-файла>Фиксация отредактированного файла</h3><p>Выполните команду <code>git add</code> и <code>git commit</code>, чтобы зафиксировать внесенные вами изменения. На следующем шаге вы сделаете второй коммит. Следует отметить, что ваши изменения должны быть разделены на коммита.</p><h3 id=генерация-спецификации-openapi-и-сопутствующих-файлов>Генерация спецификации OpenAPI и сопутствующих файлов</h3><p>Перейдите в директорию <code>&lt;k8s-base></code> и выполните следующие скрипты:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hack/update-generated-swagger-docs.sh
</span></span><span style=display:flex><span>hack/update-openapi-spec.sh
</span></span><span style=display:flex><span>hack/update-generated-protobuf.sh
</span></span></code></pre></div><p>Выполните команду <code>git status</code>, чтобы посмотреть, какие файлы изменились.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>On branch master
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>    modified:   api/openapi-spec/swagger.json
</span></span><span style=display:flex><span>    modified:   api/openapi-spec/v3/apis__apps__v1_openapi.json
</span></span><span style=display:flex><span>    modified:   pkg/generated/openapi/zz_generated.openapi.go
</span></span><span style=display:flex><span>    modified:   staging/src/k8s.io/api/apps/v1/generated.proto
</span></span><span style=display:flex><span>    modified:   staging/src/k8s.io/api/apps/v1/types_swagger_doc_generated.go
</span></span></code></pre></div><p>Изучите содержимое файла <code>api/openapi-spec/swagger.json</code>, чтобы убедиться в том, что опечатка была исправлена.
Например, для этого вы можете выполнить команду <code>git diff -a api/openapi-spec/swagger.json</code>.
Это важно, потому что изменённый файл <code>swagger.json</code> является результатом второй стадии процесса генерации документации.</p><p>Выполните команду <code>git add</code> и <code>git commit</code> для фиксации ваших изменения. Теперь вы можете увидеть два новых коммита:
первый содержит отредактированный файл <code>types.go</code>, а второй — сгенерированную спецификацию OpenAPI и сопутствующие файлы. Оформляйте эти изменения в виде двух отдельных коммитов. Это означает, что не нужно объединять коммиты.</p><p>Отправьте свои изменения как <a href=https://help.github.com/articles/creating-a-pull-request/>пулреквест</a> в ветку master репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Отслеживайте пулреквест и по мере необходимости отвечайте на комментарии рецензента. Не забывайте отслеживать активность в пулреквест до тех пор, пока он не будет принят.</p><p><a href=https://github.com/kubernetes/kubernetes/pull/57758>PR 57758</a> — пример пулреквеста, который исправляет опечатку в исходном коде Kubernetes.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Не всегда легко правильно определить, какой исходный файл нужно изменить. В предыдущем примере нужный исходный файл находится в директории <code>staging</code> в репозитории <code>kubernetes/kubernetes</code>. Однако в вашей ситуации файл для изменения может находится в другом месте, нежели чем в директории <code>staging</code>. Для получения помощи изучите файлы <code>README</code> в репозитории <a href=https://github.com/kubernetes/kubernetes/tree/master/staging>kubernetes/kubernetes</a> и в смежных репозиториях, например, <a href=https://github.com/kubernetes/apiserver/blob/master/README.md>kubernetes/apiserver</a>.</div><h3 id=применение-вашего-коммита-в-ветку-выпуска>Применение вашего коммита в ветку выпуска</h3><p>В предыдущем разделе вы отредактировали файл в ветке master, а затем запустили скрипты для генерации спецификации OpenAPI и смежных файлов. Затем вы отправили свои изменения в виде пулреквеста в ветку master репозитория kubernetes/kubernetes. Теперь представим, что вам нужно бэкпортировать изменения в ветку выпуска. К примеру, ветка master используется для разработки Kubernetes версии 1.10, а вы хотите применить ваши изменения в ветке release-1.9.</p><p>Напомним, что в вашем пулреквесте есть два коммита: первый для редактирования <code>types.go</code>, а второй — для файлов, сгенерированных скриптами. Следующий шаг — применить сделанный вами первый коммит в ветку release-1.9. Суть в том, чтобы выбрать коммит, который изменяет файл <code>types.go</code>, а не коммит с результатами выполнения скриптов. За инструкциями обратитесь к странице <a href=https://git.k8s.io/community/contributors/devel/sig-release/cherry-picks.md>Propose a Cherry Pick</a>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Применение коммита требует наличия возможности добавить метку и этап в вашем пулреквесте. Если у вас нет таких разрешений, вам нужно переговорить с кем-то, кто может сделать это для вас.</div><p>Когда в вашем пулреквесте есть определённый коммит, который нужно применить в ветке release-1.9, вам нужно запустить перечисленные ниже скрипты в этой вете из вашего локального окружения.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>hack/update-generated-swagger-docs.sh
</span></span><span style=display:flex><span>hack/update-openapi-spec.sh
</span></span><span style=display:flex><span>hack/update-generated-protobuf.sh
</span></span><span style=display:flex><span>hack/update-api-reference-docs.sh
</span></span></code></pre></div><p>Теперь зафиксируйте изменения в вашем пулреквесте с применённым коммитом, теперь там будет сгенерированная спецификация OpenAPI и связанные с ней файлы. Отслеживайте этот пулреквест до тех пор, пока он не будет объединен в ветке release-1.9.</p><p>Сейчас у вас и в ветке master, и в ветке release-1.9 есть обновленный файл <code>types.go</code> вместе с множеством сгенерированных файлов, в которых отражаются изменения, внесенные вами в <code>types.go</code>. Обратите внимание, что сгенерированная спецификация OpenAPI и другие сгенерированные файлы в ветке release-1.9 не обязательно совпадают с сгенерированными файлами в ветке master. Сгенерированные файлы в ветке release-1.9 содержат элементы API только из Kubernetes 1.9. Сгенерированные файлы в ветке master могут содержать элементы API не только для версии 1.9, но и для 1.10, которая ещё находится в разработке.</p><h2 id=генерация-справочной-документации>Генерация справочной документации</h2><p>В предыдущем разделе было показано, как отредактировать исходный файл, а затем сгенерировать несколько файлов, включая <code>api/openapi-spec/swagger.json</code> в репозитории <code>kubernetes/kubernetes</code>.
Файл <code>swagger.json</code> — это файл определения OpenAPI, который используется для генерации справочной документации API.</p><p>Теперь вы можете приступить к изучению руководству <a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a>, чтобы создать <a href=/docs/reference/generated/kubernetes-api/v1.25/>справочную документацию API Kubernetes</a>.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-f4f605fa4c2e23622d56b067ef56c239>5.2 - Руководство по быстрому старту</h1><p>На этой странице показано, как использовать скрипт <code>update-imported-docs</code> для генерации справочной документации Kubernetes. Скрипт автоматизирует настройку сборки и генерирует справочную документацию для выпуска.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><h3 id=требования>Требования:</h3><ul><li><p>Наличие компьютера под управлением ОС Linux или macOS.</p></li><li><p>Установленные следующие инструменты:</p><ul><li><a href=https://www.python.org/downloads/>Python</a> версии 3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://pypi.org/project/pip/>Pip</a>, который потребуется для установки PyYAML</li><li><a href=https://pyyaml.org/>PyYAML</a> версии 5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> (требуется только для справочника команды <code>kubectl</code>)</li></ul></li><li><p>В переменной окружении <code>PATH</code> должны прописаны пути до необходимых инструментов сборки, таких как <code>Go</code> и <code>python</code>.</p></li><li><p>Вам нужно знать, как создать пулреквест в репозитории на GitHub.
Для этого нужно создание собственной копии репозитория. Для получения дополнительной информации смотрите раздел <a href=/ru/docs/contribute/intermediate/#%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D0%B8%D0%B7-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8>Работа из локальной копии</a>.</p></li></ul><h2 id=получение-репозитория-документации>Получение репозитория документации</h2><p>Убедитесь, что ваша копия репозитория <code>website</code> обновлена в соответствии с оригинальным репозиторием <code>kubernetes/website</code>, а затем склонируйте вашу копию <code>website</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir github.com
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> github.com
</span></span><span style=display:flex><span>git clone git@github.com:&lt;your_github_username&gt;/website.git
</span></span></code></pre></div><p>Определите базовую директорию вашей копии. Например, при выполнении предыдущего блока команд, то базовой директорией будет <code>website</code>. Далее в этом руководстве базовая директория в командах будет обозначаться <code>&lt;web-base></code>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Если вы хотите изменить контент инструментов компонента и справочник API, посмотрите <a href=/docs/contribute/generate-ref-docs/contribute-upstream>руководство по участию в оригинальной документации</a>.</div><h2 id=краткий-обзор-update-imported-docs>Краткий обзор update-imported-docs</h2><p>Скрипт <code>update-imported-docs</code> находится в директории <code>&lt;web-base>/update-imported-docs/</code>.</p><p>Этот скрипт генерирует следующие справочники:</p><ul><li>Справочные страницы для компонентов и инструментов</li><li>Справочник команды <code>kubectl</code></li><li>API-справочник Kubernetes</li></ul><p>Скрипт <code>update-imported-docs</code> генерирует справочную документацию Kubernetes из исходного кода Kubernetes. Скрипт создает временную директорию <code>/tmp</code> на вашем компьютере и клонирует необходимые репозитории в эту директорию: <code>kubernetes/kubernetes</code> и <code>kubernetes-sigs/reference-docs</code>.
Скрипт добавляет путь временной директории в переменную окружения <code>GOPATH</code>.
Кроме этого определяются три дополнительные переменные среды:</p><ul><li><code>K8S_RELEASE</code></li><li><code>K8S_ROOT</code></li><li><code>K8S_WEBROOT</code></li></ul><p>Для успешного выполнения скрипта нужно передать два аргумента:</p><ul><li>Конфигурационный файл в формате YAML (<code>reference.yml</code>)</li><li>Версия выпуска, например, <code>1.17</code></li></ul><p>Конфигурационный файл содержит поле <code>generate-command</code>.
Поле <code>generate-command</code> определяет ряд инструкций для сборки из <code>kubernetes-sigs/reference-docs/Makefile</code>. Переменная <code>K8S_RELEASE</code> определяет версию выпуска.</p><p>Скрипт <code>update-imported-docs</code> выполняет следующие шаги:</p><ol><li>Клонирует репозитории, указанные в конфигурационном файле. Для генерации справочной документации клонируемым репозиторием по умолчанию является <code>kubernetes-sigs/reference-docs</code>.</li><li>Запускает команды в клонированных репозиториях для подготовки генератора документации, а затем генерирует файлы HTML и Markdown.</li><li>Копирует сгенерированные файлы HTML и Markdown в локальную копию репозитория <code>&lt;web-base></code> в директории, указанные в конфигурационном файле.</li><li>Обновляет ссылки на команды <code>kubectl</code> из <code>kubectl</code>.md, ссылаясь на разделы в справочнике по команде <code>kubectl</code>.
.
Когда сгенерированные файлы находятся в вашем локальной копии репозитория <code>&lt;web-base></code>, вы можете отправить их в виде <a href=/ru/docs/contribute/start/>пулреквеста</a> в оригинальный репозиторий <code>&lt;web-base></code>.</li></ol><h2 id=формат-конфигурационного-файла>Формат конфигурационного файла</h2><p>Каждый конфигурационный файл может содержать несколько репозиториев, которые будут импортированы вместе. При необходимости вы можете вручную изменить конфигурационный файл. Вы можете создавать новые конфигурационные файлы для импорта других групп документации.
Ниже приведен пример файла конфигурации в формате YAML:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>repos</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>community<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>remote</span>:<span style=color:#bbb> </span>https://github.com/kubernetes/community.git<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>branch</span>:<span style=color:#bbb> </span>master<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>contributors/devel/README.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>docs/imported/community/devel.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>contributors/guide/README.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>docs/imported/community/guide.md<span style=color:#bbb>
</span></span></span></code></pre></div><p>Каждый Markdown-файл документации, импортированный инструментом, должен соответствовать <a href=/docs/contribute/style/style-guide/>руководству по оформлению документации</a>.</p><h2 id=настройка-reference-yml>Настройка reference.yml</h2><p>Откройте файл <code>&lt;web-base>/update-imported-docs/reference.yml</code> для редактирования.
Не изменяйте значение в поле <code>generate-command</code>, если не понимаете, как эта команда используется для сборки справочников.
Вам нет необходимости править файл <code>reference.yml</code>. В некоторых случаях изменения в исходном коде основного репозитория могут потребовать внесения изменений в конфигурационный файл (например, зависимости версий golang и изменения сторонних библиотек).
Если у вас возникли проблемы со сборкой, обратитесь за помощью к команде SIG-Docs на канале <a href=https://kubernetes.slack.com>#sig-docs в Slack Kubernetes</a>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Команда <code>generate-command</code> является необязательной, её можно использовать для выполнения указанной команды или небольшого скрипта, чтобы сгенерировать документацию из репозитория.</div><p>В файле <code>reference.yml</code> секция <code>files</code> содержат список полей <code>src</code> и <code>dst</code>.
В поле <code>src</code> хранится путь к сгенерированному Markdown-файлу в клонированной директории сборки <code>kubernetes-sigs/reference-docs</code>, а поле <code>dst</code> определяет, куда скопировать этот файл в клонированном репозитории <code>kubernetes/website</code>.
Например:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:green;font-weight:700>repos</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>reference-docs<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>remote</span>:<span style=color:#bbb> </span>https://github.com/kubernetes-sigs/reference-docs.git<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>gen-compdocs/build/kube-apiserver.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>content/en/docs/reference/command-line-tools-reference/kube-apiserver.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></span></span></code></pre></div><p>Обратите внимание, что в случае наличия множества файлов, которые нужно скопировать из одной директории в другую, то для это можете воспользоваться подстановочными знаки в поле <code>src</code>. Вам нужно указать имя директории в поле <code>dst</code>.
Например:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>files</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>src</span>:<span style=color:#bbb> </span>gen-compdocs/build/kubeadm*.md<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dst</span>:<span style=color:#bbb> </span>content/en/docs/reference/setup-tools/kubeadm/generated/<span style=color:#bbb>
</span></span></span></code></pre></div><h2 id=запуск-инструмента-update-imported-docs>Запуск инструмента update-imported-docs</h2><p>Вы можете запустить инструмент <code>update-imported-docs</code> следующим образом:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;/update-imported-docs
</span></span><span style=display:flex><span>./update-imported-docs &lt;configuration-file.yml&gt; &lt;release-version&gt;
</span></span></code></pre></div><p>Например:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>./update-imported-docs reference.yml 1.17
</span></span></code></pre></div><h2 id=исправление-ссылок>Исправление ссылок</h2><p>Конфигурационный файл <code>release.yml</code> содержит инструкции по исправлению относительных ссылок
Для исправления относительных ссылок в импортированных файлах, установите для свойство <code>gen-absolute-links</code> в значение <code>true</code>. В качестве примера можете посмотреть файл <a href=https://github.com/kubernetes/website/blob/main/update-imported-docs/release.yml><code>release.yml</code></a>.</p><h2 id=внесение-изменений-в-kubernetes-website>Внесение изменений в kubernetes/website</h2><p>Список сгенерированных и скопированных файлов в <code>&lt;web-base></code> можно узнать, как показано ниже:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>В выводе команды будут показаны новые и измененные файлы. Полученный вывод может отличаться в зависимости от изменений основного исходного кода.</p><h3 id=сгенерированные-файлы-инструментом>Сгенерированные файлы инструментом</h3><pre tabindex=0><code>content/en/docs/reference/command-line-tools-reference/cloud-controller-manager.md
content/en/docs/reference/command-line-tools-reference/kube-apiserver.md
content/en/docs/reference/command-line-tools-reference/kube-controller-manager.md
content/en/docs/reference/command-line-tools-reference/kube-proxy.md
content/en/docs/reference/command-line-tools-reference/kube-scheduler.md
content/en/docs/reference/setup-tools/kubeadm/generated/kubeadm.md
content/en/docs/reference/kubectl/kubectl.md
</code></pre><h3 id=сгенерированные-справочные-файлы-для-команды-kubectl>Сгенерированные справочные файлы для команды kubectl</h3><pre tabindex=0><code>static/docs/reference/generated/kubectl/kubectl-commands.html
static/docs/reference/generated/kubectl/navData.js
static/docs/reference/generated/kubectl/scroll.js
static/docs/reference/generated/kubectl/stylesheet.css
static/docs/reference/generated/kubectl/tabvisibility.js
static/docs/reference/generated/kubectl/node_modules/bootstrap/dist/css/bootstrap.min.css
static/docs/reference/generated/kubectl/node_modules/highlight.js/styles/default.css
static/docs/reference/generated/kubectl/node_modules/jquery.scrollto/jquery.scrollTo.min.js
static/docs/reference/generated/kubectl/node_modules/jquery/dist/jquery.min.js
static/docs/reference/generated/kubectl/css/font-awesome.min.css
</code></pre><h3 id=сгенерированные-файлы-и-директории-для-справочника-api-kubernetes>Сгенерированные файлы и директории для справочника API Kubernetes</h3><pre tabindex=0><code>static/docs/reference/generated/kubernetes-api/v1.17/index.html
static/docs/reference/generated/kubernetes-api/v1.17/js/navData.js
static/docs/reference/generated/kubernetes-api/v1.17/js/scroll.js
static/docs/reference/generated/kubernetes-api/v1.17/js/query.scrollTo.min.js
static/docs/reference/generated/kubernetes-api/v1.17/css/font-awesome.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/bootstrap.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/stylesheet.css
static/docs/reference/generated/kubernetes-api/v1.17/fonts/FontAwesome.otf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.eot
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.svg
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.ttf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff2
</code></pre><p>Выполните <code>git add</code> и <code>git commit</code>, чтобы зафиксировать файлы в репозитории.</p><h2 id=создание-пулреквеста>Создание пулреквеста</h2><p>Создайте пулреквест в репозиторий <code>kubernetes/website</code>. Отслеживайте свой пулреквест и при необходимости отвечайте на комментарии. Не забывайте отслеживать активность в собственном пулреквесте до тех пор, пока он не будет принят.</p><p>Спустя несколько минут после принятия вашего пулреквеста, обновленные темы справочника будут отображены в <a href=/ru/docs/home/>документации</a>.</p><h2 id=что-дальше>Что дальше</h2><p>Для генерации отдельной взятой справочной документации путём ручной настройки необходимых репозиториев сборки и выполнении скриптов сборки обратитесь к следующим руководствам:</p><ul><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-6e4e78f20e40bac9bcad59941e974af6>5.3 - Генерация справочной документации для API Kubernetes</h1><p>На этой странице рассказывается про обновление справочной документации по API Kubernetes.</p><p>Справочная документация по API Kubernetes собирается из <a href=https://github.com/kubernetes/kubernetes/blob/master/api/openapi-spec/swagger.json>спецификации OpenAPI Kubernetes</a> с использованием инструмента генерации <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>.</p><p>Если вы нашли баги в сгенерированной документации, то можете <a href=/docs/contribute/generate-ref-docs/contribute-upstream/>исправить их в основном коде</a>.</p><p>Продолжайте чтение данной странице, если вы хотите перегенерировать справочную документацию из спецификации <a href=https://github.com/OAI/OpenAPI-Specification>OpenAPI</a>.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><h3 id=требования>Требования:</h3><ul><li><p>Наличие компьютера под управлением ОС Linux или macOS.</p></li><li><p>Установленные следующие инструменты:</p><ul><li><a href=https://www.python.org/downloads/>Python</a> версии 3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://pypi.org/project/pip/>Pip</a>, который потребуется для установки PyYAML</li><li><a href=https://pyyaml.org/>PyYAML</a> версии 5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> (требуется только для справочника команды <code>kubectl</code>)</li></ul></li><li><p>В переменной окружении <code>PATH</code> должны прописаны пути до необходимых инструментов сборки, таких как <code>Go</code> и <code>python</code>.</p></li><li><p>Вам нужно знать, как создать пулреквест в репозитории на GitHub.
Для этого нужно создание собственной копии репозитория. Для получения дополнительной информации смотрите раздел <a href=/ru/docs/contribute/intermediate/#%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D0%B8%D0%B7-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8>Работа из локальной копии</a>.</p></li></ul><h2 id=настройка-локальных-репозиториев>Настройка локальных репозиториев</h2><p>Создайте рабочую область и определите переменную окружения <code>GOPATH</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p <span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>GOPATH</span><span style=color:#666>=</span><span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span></code></pre></div><p>Загрузите локальные копии следующих репозиториев:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go get -u github.com/kubernetes-sigs/reference-docs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>go get -u github.com/go-openapi/loads
</span></span><span style=display:flex><span>go get -u github.com/go-openapi/spec
</span></span></code></pre></div><p>Если у вас ещё нет копии репозитория kubernetes/website, клонируйте её на свой компьютер:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;your-username&gt;/website <span style=color:#b8860b>$GOPATH</span>/src/github.com/&lt;your-username&gt;/website
</span></span></code></pre></div><p>Склонируйте репозиторий kubernetes/kubernetes по пути k8s.io/kubernetes:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/kubernetes/kubernetes <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes
</span></span></code></pre></div><ul><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/k8s.io/kubernetes</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;k8s-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/website>kubernetes/website</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/&lt;your-username>/website</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;web-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;rdocs-base></code>.</p></li></ul><h2 id=генерация-справочной-документации-api>Генерация справочной документации API</h2><p>Далее в этом разделе рассматривается генерация <a href=/docs/reference/generated/kubernetes-api/v1.25/>справочной документации по API Kubernetes</a>.</p><h3 id=настройка-переменных-для-сборки>Настройка переменных для сборки</h3><ul><li><code>K8S_ROOT</code> со значением <code>&lt;k8s-base></code>.</li><li><code>K8S_WEBROOT</code> со значением <code>&lt;web-base></code>.</li><li><code>K8S_RELEASE</code> со значением нужной версии документации.
Например, если вы хотите собрать документацию для Kubernetes версии 1.17.0, определите переменную окружения <code>K8S_RELEASE</code> со значением 1.17.0.</li></ul><p>Примеры:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_WEBROOT</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#b8860b>GOPATH</span><span style=color:#b68;font-weight:700>}</span>/src/github.com/&lt;your-username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_ROOT</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#b8860b>GOPATH</span><span style=color:#b68;font-weight:700>}</span>/src/k8s.io/kubernetes
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_RELEASE</span><span style=color:#666>=</span>1.17.0
</span></span></code></pre></div><h3 id=создание-версионированной-директории-и-получение-open-api-spec>Создание версионированной директории и получение Open API spec</h3><p>Скрипт сборки <code>updateapispec</code> создает версионированную директорию для сборки.
После создания директории спецификация Open API генерируется из репозитория <code>&lt;k8s-base></code>. Таким образом версия конфигурационных файлов и спецификация Kubernetes Open API будут совпадать с версией выпуска.
Имя версионированной директории имеет следующий вид: <code>v&lt;major>_&lt;minor></code>.</p><p>В директории <code>&lt;rdocs-base></code> выполните следующий скрипт сборки:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make updateapispec
</span></span></code></pre></div><h3 id=сборка-справочной-документации-api>Сборка справочной документации API</h3><p>Скрипт сборки <code>copyapi</code> создает справочник API и копирует генерированные файлы в каталоги в <code>&lt;web-base></code>.
Выполните следующую команду в <code>&lt;rdocs-base></code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make copyapi
</span></span></code></pre></div><p>Убедитесь в том, что перечисленные ниже два файлы были сгенерированы:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-apidocs/build/index.html&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;index.html built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no index.html&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-apidocs/build/navData.js&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;navData.js built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no navData.js&#34;</span>
</span></span></code></pre></div><p>Перейдите в корень директории <code>&lt;web-base></code> и посмотрите, какие файлы были изменены:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>Вывод команды будет примерно следующим:</p><pre tabindex=0><code>static/docs/reference/generated/kubernetes-api/v1.17/css/bootstrap.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/font-awesome.min.css
static/docs/reference/generated/kubernetes-api/v1.17/css/stylesheet.css
static/docs/reference/generated/kubernetes-api/v1.17/fonts/FontAwesome.otf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.eot
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.svg
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.ttf
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff
static/docs/reference/generated/kubernetes-api/v1.17/fonts/fontawesome-webfont.woff2
static/docs/reference/generated/kubernetes-api/v1.17/index.html
static/docs/reference/generated/kubernetes-api/v1.17/js/jquery.scrollTo.min.js
static/docs/reference/generated/kubernetes-api/v1.17/js/navData.js
static/docs/reference/generated/kubernetes-api/v1.17/js/scroll.js
</code></pre><h2 id=обновление-указателя-api-справочника>Обновление указателя API-справочника</h2><p>При генерации справочной документации для нового выпуска в файле <code>&lt;web-base>/content/en/docs/reference/kubernetes-api/api-index.md</code> нужно прописать номер предстоящей версии.</p><ul><li><p>Откройте файл <code>&lt;web-base>/content/en/docs/reference/kubernetes-api/api-index.md</code> и обновите номер версии справочника API. Например:</p><pre tabindex=0><code>---
title: v1.17
---

[Kubernetes API v1.17](/docs/reference/generated/kubernetes-api/v1.17/)
</code></pre></li><li><p>Откройте файл <code>&lt;web-base>/content/en/docs/reference/_index.md</code> и добавьте ссылку на последний справочник API. Удалите самую старую версию справочника API.
В этом файле должно быть 5 ссылок на новейшие API-справочники.</p></li></ul><h2 id=тестирование-справочника-api-локально>Тестирование справочника API локально</h2><p>Соберите обновлённую версию API-справочника на своём компьютере.
Проверьте ваши изменения на <a href=http://localhost:1313/docs/reference/generated/kubernetes-api/v1.17/>локальной предварительной версии сайта</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>make docker-serve
</span></span></code></pre></div><h2 id=фиксация-изменений>Фиксация изменений</h2><p>В директории <code>&lt;web-base></code> выполните команду <code>git add</code> и <code>git commit</code> для фиксации изменений в репозитории.</p><p>Создайте пулреквест в репозиторий <code>kubernetes/website</code>. Отслеживайте свой пулреквест и при необходимости отвечайте на комментарии. Не забывайте отслеживать активность в собственном пулреквесте до тех пор, пока он не будет принят.</p><p>Отправьте свои изменения в виде <a href=/ru/docs/contribute/start/>пулреквеста</a> в репозиторий <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Отслеживайте изменения в пулреквесте и по мере необходимости отвечайте на комментарии рецензента. Не забывайте проверять пулреквест до тех пор, пока он не будет принят.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/quickstart/>Руководство по быстрому старту генерации справочной документации</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-03de26b330a5cfdb26672f6bc75dcc04>5.4 - Генерация справочной документации для команд kubectl</h1><p>На этой странице показано, как сгенерировать справочник для команды <code>kubectl</code>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> На этой странице показывается, как сгенерировать справочную документацию для таких <a href=/ru/docs/reference/generated/kubectl/kubectl-commands>команд kubectl</a>, как <a href=/ru/docs/reference/generated/kubectl/kubectl-commands#apply>kubectl apply</a> и <a href=/ru/docs/reference/generated/kubectl/kubectl-commands#taint>kubectl taint</a>.
Этот раздел не рассматривает генерацию справочной страницы для опций <a href=/ru/docs/reference/generated/kubectl/kubectl/>kubectl</a>. Инструкции по генерации справочной страницы опций kubectl смотрите в разделе <a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a>.</div><h2 id=подготовка-к-работе>Подготовка к работе</h2><h3 id=требования>Требования:</h3><ul><li><p>Наличие компьютера под управлением ОС Linux или macOS.</p></li><li><p>Установленные следующие инструменты:</p><ul><li><a href=https://www.python.org/downloads/>Python</a> версии 3.7.x</li><li><a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Git</a></li><li><a href=https://golang.org/doc/install>Golang</a> версии 1.13+</li><li><a href=https://pypi.org/project/pip/>Pip</a>, который потребуется для установки PyYAML</li><li><a href=https://pyyaml.org/>PyYAML</a> версии 5.1.2</li><li><a href=https://www.gnu.org/software/make/>make</a></li><li><a href=https://gcc.gnu.org/>gcc compiler/linker</a></li><li><a href=https://docs.docker.com/engine/installation/>Docker</a> (требуется только для справочника команды <code>kubectl</code>)</li></ul></li><li><p>В переменной окружении <code>PATH</code> должны прописаны пути до необходимых инструментов сборки, таких как <code>Go</code> и <code>python</code>.</p></li><li><p>Вам нужно знать, как создать пулреквест в репозитории на GitHub.
Для этого нужно создание собственной копии репозитория. Для получения дополнительной информации смотрите раздел <a href=/ru/docs/contribute/intermediate/#%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D0%B8%D0%B7-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8>Работа из локальной копии</a>.</p></li></ul><h2 id=настройка-локальных-репозиториев>Настройка локальных репозиториев</h2><p>Создайте рабочую область и определите переменную окружения <code>GOPATH</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p <span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>GOPATH</span><span style=color:#666>=</span><span style=color:#b8860b>$HOME</span>/&lt;workspace&gt;
</span></span></code></pre></div><p>Загрузите локальные копии следующих репозиториев:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go get -u github.com/spf13/pflag
</span></span><span style=display:flex><span>go get -u github.com/spf13/cobra
</span></span><span style=display:flex><span>go get -u gopkg.in/yaml.v2
</span></span><span style=display:flex><span>go get -u kubernetes-sigs/reference-docs
</span></span></code></pre></div><p>Если у вас ещё нет копии репозитория kubernetes/website, клонируйте её на свой компьютер:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;your-username&gt;/website <span style=color:#b8860b>$GOPATH</span>/src/github.com/&lt;your-username&gt;/website
</span></span></code></pre></div><p>Склонируйте репозиторий kubernetes/kubernetes по пути k8s.io/kubernetes:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/kubernetes/kubernetes <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes
</span></span></code></pre></div><p>Удалите пакет spf13 в <code>$GOPATH/src/k8s.io/kubernetes/vendor/github.com</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>rm -rf <span style=color:#b8860b>$GOPATH</span>/src/k8s.io/kubernetes/vendor/github.com/spf13
</span></span></code></pre></div><p>В репозитории kubernetes/kubernetes использует исходный код <code>kubectl</code> и <code>kustomize</code>.</p><ul><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/kubernetes>kubernetes/kubernetes</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/k8s.io/kubernetes</code>.
В остальных командах базовая директория будет именоваться как <code>&lt;k8s-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes/website>kubernetes/website</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/&lt;your-username>/website</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;web-base></code>.</p></li><li><p>Определите базовую директорию вашей копии репозитория <a href=https://github.com/kubernetes-sigs/reference-docs>kubernetes-sigs/reference-docs</a>.
Например, если вы выполнили предыдущий шаг, чтобы получить репозиторий, вашей базовой директорией будет <code>$GOPATH/src/github.com/kubernetes-sigs/reference-docs</code>.
В остальных команд базовая директория будет именоваться как <code>&lt;rdocs-base></code>.</p></li></ul><p>В вашем локальном репозитории k8s.io/kubernetes переключитесь в нужную вам ветку и убедитесь, что она в актуальном состоянии. Например, если вам нужно сгенерировать документацию для Kubernetes 1.17, вы можете использовать эти команды:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout v1.17.0
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes v1.17.0
</span></span></code></pre></div><p>Если вам не нужно изменять исходный код <code>kubectl</code>, следуйте инструкциям по <a href=#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D1%85-%D0%B4%D0%BB%D1%8F-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B8>определению переменных сборки</a>.</p><h2 id=редактирование-исходного-кода-kubectl>Редактирование исходного кода kubectl</h2><p>Справочная документация по команде kubectl генерируется автоматически из исходного кода kubectl. Если вы хотите изменить справочную документацию, сначала измените один или несколько комментариев в исходном коде kubectl. Сделайте изменения в локальный репозиторий kubernetes/kubernetes, а затем отправьте пулреквест в ветку master репозитория <a href=https://github.com/kubernetes/kubernetes>github.com/kubernetes/kubernetes</a>.</p><p><a href=https://github.com/kubernetes/kubernetes/pull/56673/files>PR 56673</a> — пример пулреквеста, который исправляет опечатку в исходном коде kubectl.</p><p>Отслеживайте пулреквест и по мере необходимости отвечайте на комментарии рецензента. Не забывайте отслеживать активность в пулреквест до тех пор, пока он не будет принят в ветку master репозитория kubernetes/kubernetes.</p><h2 id=применение-вашего-изменения-в-ветку-выпуска>Применение вашего изменения в ветку выпуска</h2><p>Теперь ваше изменение в ветке master, которая используется для разработки следующего выпуска Kubernetes. Если вы хотите добавить ваше изменение в документацию для уже выпущенной версии Kubernetes, вам нужно применить коммит с соответствующим изменением в нужную ветку выпуска.</p><p>Например, предположим, что ветка master используется для разработки Kubernetes 1.10, а вам нужно бэкпортировать ваше изменение в ветку release-1.15. За инструкциями обратитесь к странице <a href=https://git.k8s.io/community/contributors/devel/sig-release/cherry-picks.md>Propose a Cherry Pick</a>.</p><p>Отслеживайте ваш пулреквест с применённым изменением до тех пор, пока он не будет объединён в ветку выпуска.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Применение коммита требует наличия возможности добавить метку и этап в вашем пулреквесте. Если у вас нет таких разрешений, вам нужно переговорить с кем-то, кто может сделать это для вас.</div><h2 id=настройка-переменных-для-сборки>Настройка переменных для сборки</h2><p>Перейдите на <code>&lt;rdocs-base></code>. В командной строке установите следующие переменные окружения.</p><ul><li><code>K8S_ROOT</code> со значением <code>&lt;k8s-base></code>.</li><li><code>WEB_ROOT</code> со значением <code>&lt;web-base></code>.</li><li><code>K8S_RELEASE</code> со значением нужной версии документации.
Например, если вы хотите собрать документацию для Kubernetes версии 1.17, определите переменную окружения <code>K8S_RELEASE</code> со значением 1.17.</li></ul><p>Примеры:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>WEB_ROOT</span><span style=color:#666>=</span><span style=color:#a2f;font-weight:700>$(</span>GOPATH<span style=color:#a2f;font-weight:700>)</span>/src/github.com/&lt;your-username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_ROOT</span><span style=color:#666>=</span><span style=color:#a2f;font-weight:700>$(</span>GOPATH<span style=color:#a2f;font-weight:700>)</span>/src/k8s.io/kubernetes
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>K8S_RELEASE</span><span style=color:#666>=</span>1.17
</span></span></code></pre></div><h2 id=создание-версионированной-директории>Создание версионированной директории</h2><p>Скрипт сборки <code>createversiondirs</code> создаёт версионированную директорию и копирует туда конфигурационные файлы справочника kubectl.
Имя версионированной директории имеет следующий вид: <code>v&lt;major>_&lt;minor></code>.</p><p>В директории <code>&lt;rdocs-base></code> выполнение следующий скрипт сборки:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make createversiondirs
</span></span></code></pre></div><h2 id=переход-в-тег-выпуска-в-k8s-io-kubernetes>Переход в тег выпуска в k8s.io/kubernetes</h2><p>В вашем локальном репозитории <code>&lt;k8s-base></code> перейдите в ветку с версией Kubernetes, для которой вы хотите получить документацию. Например, если вы хотите сгенерировать документацию для Kubernetes 1.17, перейдите в тег <code>v1.17.0</code>. Убедитесь, что ваша локальная ветка содержит актуальные изменения.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;k8s-base&gt;
</span></span><span style=display:flex><span>git checkout v1.17.0
</span></span><span style=display:flex><span>git pull https://github.com/kubernetes/kubernetes v1.17.0
</span></span></code></pre></div><h2 id=выполнение-кода-для-генерации-документации>Выполнение кода для генерации документации</h2><p>В вашей локальной директории <code>&lt;rdocs-base></code> запустите скрипт сборки <code>copycli</code>. Команда выполняется от пользователя <code>root</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;rdocs-base&gt;
</span></span><span style=display:flex><span>make copycli
</span></span></code></pre></div><p>Команда <code>copycli</code> удаляет временную директорию сборки, генерирует файлы команды kubectl и копирует полученную HTML-страницу справочника команде kubectl и ресурсы в <code>&lt;web-base></code>.</p><h2 id=проверка-сгенерированных-файлов>Проверка сгенерированных файлов</h2><p>Убедитесь в том, что перечисленные ниже два файлы были сгенерированы:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-kubectldocs/generators/build/index.html&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;index.html built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no index.html&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span> -e <span style=color:#b44>&#34;&lt;rdocs-base&gt;/gen-kubectldocs/generators/build/navData.js&#34;</span> <span style=color:#666>]</span> <span style=color:#666>&amp;&amp;</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;navData.js built&#34;</span> <span style=color:#666>||</span> <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;no navData.js&#34;</span>
</span></span></code></pre></div><h2 id=проверка-скопированных-файлов>Проверка скопированных файлов</h2><p>Убедитесь в том, все сгенерированные файлы были скопированы в вашу директорию <code>&lt;web-base></code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>git status
</span></span></code></pre></div><p>В выводе должны перечислены изменённые файлы:</p><pre tabindex=0><code>static/docs/reference/generated/kubectl/kubectl-commands.html
static/docs/reference/generated/kubectl/navData.js
</code></pre><p>Также в выводе должно быть:</p><pre tabindex=0><code>static/docs/reference/generated/kubectl/scroll.js
static/docs/reference/generated/kubectl/stylesheet.css
static/docs/reference/generated/kubectl/tabvisibility.js
static/docs/reference/generated/kubectl/node_modules/bootstrap/dist/css/bootstrap.min.css
static/docs/reference/generated/kubectl/node_modules/highlight.js/styles/default.css
static/docs/reference/generated/kubectl/node_modules/jquery.scrollto/jquery.scrollTo.min.js
static/docs/reference/generated/kubectl/node_modules/jquery/dist/jquery.min.js
static/docs/reference/generated/kubectl/node_modules/font-awesome/css/font-awesome.min.css
</code></pre><h2 id=проверка-документации-локально>Проверка документации локально</h2><p>Соберите документацию Kubernetes в вашей директории <code>&lt;web-base></code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> &lt;web-base&gt;
</span></span><span style=display:flex><span>make docker-serve
</span></span></code></pre></div><p>Посмотрите <a href=https://localhost:1313/docs/reference/generated/kubectl/kubectl-commands/>локальную предварительную версию сайта</a>.</p><h2 id=добавление-и-фиксация-изменений-в-kubernetes-website>Добавление и фиксация изменений в kubernetes/website</h2><p>Выполните команду <code>git add</code> и <code>git commit</code> для фиксации файлов.</p><h2 id=создание-пулреквеста>Создание пулреквеста</h2><p>Создайте пулреквест в репозиторий <code>kubernetes/website</code>. Отслеживайте изменения в пулреквесте и по мере необходимости отвечайте на комментарии рецензента. Не забывайте проверять пулреквест до тех пор, пока он не будет принят.</p><p>Спустя несколько минут после принятия вашего пулреквеста, обновленные темы справочника будут отображены в <a href=/ru/docs/home/>документации</a>.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/quickstart/>Руководство по быстрому старту генерации справочной документации</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-components/>Генерация справочной документации для компонентов и инструментов Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-28fc50a0072b0b2b444aa24e552d2e60>5.5 - Генерация справочных страниц для компонентов и инструментов Kubernetes</h1><p>На этой странице показывается, как собирать справочные страницы компонентов и инструментов Kubernetes.</p><h2 id=подготовка-к-работе>Подготовка к работе</h2><p>Начните с <a href=/ru/docs/contribute/generate-ref-docs/quickstart/#%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5>раздела с требованиями</a> в руководстве по быстрому старту.</p><p>Для генерации справочных страниц компонентов и инструментов Kubernetes изучите страницу <a href=/docs/contribute/generate-ref-docs/quickstart/>руководство по быстрому старту в справочной документации</a>.</p><h2 id=что-дальше>Что дальше</h2><ul><li><a href=/ru/docs/contribute/generate-ref-docs/quickstart/>Краткое руководство по генерации справочной документации</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubectl/>Генерация справочной документации для команд kubectl</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/kubernetes-api/>Генерация справочной документации для API Kubernetes</a></li><li><a href=/ru/docs/contribute/generate-ref-docs/contribute-upstream/>Участие в документации основного кода проекта Kubernetes</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-849a2fdb87779db1c212fe5a9f88ff0d>6 - Локализация документации Kubernetes</h1><p>На этой странице рассказывается, как <a href=https://blog.mozilla.org/l10n/2011/12/14/i18n-vs-l10n-whats-the-diff/>локализовать</a> документацию на разные языки.</p><h2 id=начало-работы>Начало работы</h2><p>Из-за того, что участники не могут одобрять собственные пулреквесты, нужно как минимум два участника для инициализации локализацию.</p><p>Все команды по локализации должны быть самодостаточными. Это означает, что мы с радостью разместим вашу работу, но мы не можем сделать перевод за вас.</p><h3 id=определение-двухбуквенного-кода-языка>Определение двухбуквенного кода языка</h3><p>Первым делом ознакомьтесь со <a href=https://www.loc.gov/standards/iso639-2/php/code_list.php>стандартом ISO 639-1</a>, чтобы найти двухбуквенный код страны для вашей локализации. Например, двухбуквенный код для корейского языка будет <code>ko</code>.</p><h3 id=создание-копии-репозитория>Создание копии репозитория</h3><p>Для начала <a href=/ru/docs/contribute/start/#%D1%83%D0%BB%D1%83%D1%87%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D1%8E%D1%89%D0%B5%D0%B3%D0%BE-%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%B0>создайте собственную копию репозитория</a> оригинального репозитория <a href=https://github.com/kubernetes/website>kubernetes/website</a>.</p><p>Затем клонируйте свою копию репозитория и перейдите в неё с помощью команды <code>cd</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/&lt;username&gt;/website
</span></span><span style=display:flex><span><span style=color:#a2f>cd</span> website
</span></span></code></pre></div><h3 id=создание-пулреквеста>Создание пулреквеста</h3><p>Далее <a href=/ru/docs/contribute/start/#%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0-%D0%BF%D1%83%D0%BB%D1%80%D0%B5%D0%BA%D0%B2%D0%B5%D1%81%D1%82%D0%B0>откройте пулреквест</a> (PR) с локализацией в репозиторий <code>kubernetes/website</code>.</p><p>Для того, чтобы ваш пулреквест был одобрен, он должен содержать <a href=#%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D1%8B%D0%B9-%D0%BC%D0%B8%D0%BD%D0%B8%D0%BC%D1%83%D0%BC-%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D1%82%D0%B0>необходимый минимум контента</a>.</p><p>В качестве примера добавления новой локализации, изучите PR, который добавляет <a href=https://github.com/kubernetes/website/pull/12548>документацию на французском</a>.</p><h3 id=вступление-в-github-организацию-kubernetes>Вступление в GitHub-организацию Kubernetes</h3><p>Как только, как вы открыли PR с локализацией, вы можете стать членом организации Kubernetes на GitHub. Каждый член команды должен подать <a href=https://github.com/kubernetes/org/issues/new/choose>запрос на членство в организации</a> в репозитории <code>kubernetes/org</code>.</p><h3 id=добавление-команды-локализации-на-github>Добавление команды локализации на GitHub</h3><p>Теперь нужно добавить вашу команду локализации Kubernetes в файл <a href=https://github.com/kubernetes/org/blob/master/config/kubernetes/sig-docs/teams.yaml><code>sig-docs/teams.yaml</code></a>. Для примера добавления команды локализации можете посмотреть PR, добавляющий <a href=https://github.com/kubernetes/org/pull/685>испанскую команду локализации</a>.</p><p>Члены <code>@kubernetes/sig-docs-**-owners</code> — могут одобрять PR, которые изменяют файлы внутри (и только там) директории с локализацией: <code>/content/**/</code>.</p><p>Для каждой локализации группа <code>@kubernetes/sig-docs-**-reviews</code> служит для автоматизации выбора проверяющих новых PR.</p><p>Члены <code>@kubernetes/website-maintainers</code> могут создавать новые ветки для координации работ по переводу.</p><p>Члены <code>@kubernetes/website-milestone-maintainers</code> могут использовать <a href=https://prow.k8s.io/command-help>Prow-команду</a> <code>/milestone</code> для контрольных точек для ишью или PR.</p><h3 id=настройка-рабочего-процесса>Настройка рабочего процесса</h3><p>Затем добавьте собственную GitHub-метку для вашей локализации в репозиторий <code>kubernetes/test-infra</code>. Метка позволяет фильтровать ишью и пулреквесты по конкретному языку.</p><p>Смотрите пример добавления <a href=https://github.com/kubernetes/test-infra/pull/11316>метки для итальянского языка</a>.</p><h3 id=поиск-сообщества>Поиск сообщества</h3><p>Сообщите участниками группы Kubernetes SIG Docs о вашем намерении перевода документации! Подключайтесь к <a href=https://kubernetes.slack.com/messages/C1J0BPD2M/>Slack-каналу SIG Docs</a>. Остальные команды по локализации с радостью помогут вам начать и ответят на любые вопросы.</p><p>Вы также можете создать Slack-канал для своей локализации в репозитории <code>kubernetes/community</code>. Для примера посмотрите PR с <a href=https://github.com/kubernetes/community/pull/3605>добавлением Slack-канала для индонезийского и португальского языков</a>.</p><h2 id=необходимый-минимум-контента>Необходимый минимум контента</h2><h3 id=изменение-конфигурации-сайта>Изменение конфигурации сайта</h3><p>Сайт Kubernetes использует использует фреймворк Hugo. Конфигурация сайта у Hugo находится в файле <a href=https://github.com/kubernetes/website/tree/master/config.toml><code>config.toml</code></a>. Для поддержки новой локализации вам нужно отредактировать файл <code>config.toml</code>.</p><p>Добавьте блок с конфигурацией для нового языка в <code>config.toml</code> после существующего блока <code>[languages]</code>. Например, конфигурация для немецкой локализации будет выглядить так:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[languages.de]
</span></span><span style=display:flex><span>title = <span style=color:#b44>&#34;Kubernetes&#34;</span>
</span></span><span style=display:flex><span>description = <span style=color:#b44>&#34;Produktionsreife Container-Verwaltung&#34;</span>
</span></span><span style=display:flex><span>languageName = <span style=color:#b44>&#34;Deutsch&#34;</span>
</span></span><span style=display:flex><span>contentDir = <span style=color:#b44>&#34;content/de&#34;</span>
</span></span><span style=display:flex><span>weight = <span style=color:#666>3</span>
</span></span></code></pre></div><p>При выбора значения для параметра <code>weight</code> в блока найдите языковой блок с наибольшим значением и прибавьте к нему 1.</p><p>Для получения дополнительной информации о многоязычной поддержке в Hugo посмотрите страницу "<a href=https://gohugo.io/content-management/multilingual/>Multilingual Mode</a>".</p><h3 id=добавление-директории-для-локализации>Добавление директории для локализации</h3><p>Добавьте директорию для вашего языка в директорию <a href=https://github.com/kubernetes/website/tree/master/content><code>content</code></a> репозитория. Например, двухбуквенный код для немецкого будет <code>de</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir content/de
</span></span></code></pre></div><h3 id=перевод-норм-поведения-сообщества>Перевод норм поведения сообщества</h3><p>Откройте PR в репозитории <a href=https://github.com/cncf/foundation/tree/master/code-of-conduct-languages><code>cncf/foundation</code></a> и добавьте перевод норм поведения на своём языке.</p><h3 id=добавление-перевода-для-файла-readme>Добавление перевода для файла README</h3><p>Чтобы помочь другим участников локализации добавьте новый файл <a href=https://help.github.com/articles/about-readmes/><code>README-**.md</code></a> в корневую директорию k/website, где <code>**</code> означает двухбуквенный код языка. Например, немецкий файл README будет именоваться как <code>README-de.md</code>.</p><p>Подготовьте рекомендации для участников в файле для конкретной локализации <code>README-**.md</code>. В этом файле должна быть точно такая же информация, что и в оригинальном README.md ту же информацию, включая также:</p><ul><li>Контактное лицо проекта локализации</li><li>Любая другая информация, относящаяся к локализации</li></ul><p>После создания перевода файла README добавьте ссылку на файл в основной английский файл <code>README.md</code> и добавьте контактную информацию на английском языке. Вы можете указать логин на GitHub, адрес электронной почты, Slack-канал или какой-нибудь способ связи. Вам также нужно добавить ссылку на перевод норм поведения в сообществе.</p><h3 id=настройка-файлов-owners>Настройка файлов OWNERS</h3><p>Для определения роли каждого пользователя, участвующего в локализации, создайте файл <code>OWNERS</code> в директории языка, указав в нём следующие секции:</p><ul><li><strong>reviewers</strong>: список Kubernetes-команд с ролями рецензентов, в данном случае команда <code>sig-docs-**-reviews</code> будет создана в разделе <a href=#%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D0%BD%D0%B0-github>Добавление команды локализации на GitHub</a>.</li><li><strong>approvers</strong>: список Kubernetes-команд с ролями утверждающих, в данном случае команда <code>sig-docs-**-owners</code> будет создана в разделе <a href=#%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D0%BD%D0%B0-github>Добавление команды локализации на GitHub</a>.</li><li><strong>labels</strong>: список GitHub-меток, которые будут автоматически добавляться к PR, в данном случае метка языка будет создана в разделе <a href=#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B3%D0%BE-%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%B0>Настройка рабочего процесса</a>.</li></ul><p>Дополнительную информацию о файле <code>OWNERS</code> вы можете получить по ссылке <a href=https://go.k8s.io/owners>go.k8s.io/owners</a>.</p><p><a href=https://git.k8s.io/website/content/es/OWNERS>Испанский файл OWNERS</a> с кодом языка <code>es</code> выглядит следующим образом:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#080;font-style:italic># See the OWNERS docs at https://go.k8s.io/owners</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic># This is the localization project for Spanish.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Teams and members are visible at https://github.com/orgs/kubernetes/teams.</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>reviewers</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- sig-docs-es-reviews<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>approvers</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- sig-docs-es-owners<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>- language/es<span style=color:#bbb>
</span></span></span></code></pre></div><p>После добавления файла <code>OWNERS</code> в определенном языке нужно обновить <a href=https://git.k8s.io/website/OWNERS_ALIASES>корневой файл <code>OWNERS_ALIASES</code></a>, добавив новые команды локализации Kubernetes — <code>sig-docs-**-owners</code> и <code>sig-docs-**-reviews</code>.</p><p>Для каждой команды добавьте список GitHub-пользователей из раздела <a href=#%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D0%BD%D0%B0-github>Добавление команды локализации на GitHub</a>, перечислите их в алфавитном порядке.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#a00000>--- a/OWNERS_ALIASES
</span></span></span><span style=display:flex><span><span style=color:#a00000></span><span style=color:#00a000>+++ b/OWNERS_ALIASES
</span></span></span><span style=display:flex><span><span style=color:#00a000></span><span style=color:purple;font-weight:700>@@ -48,6 +48,14 @@ aliases:
</span></span></span><span style=display:flex><span><span style=color:purple;font-weight:700></span>     - stewart-yu
</span></span><span style=display:flex><span>     - xiangpengzhao
</span></span><span style=display:flex><span>     - zhangxiaoyu-zidif
</span></span><span style=display:flex><span><span style=color:#00a000>+  sig-docs-es-owners: # Admins for Spanish content
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - alexbrand
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - raelga
</span></span></span><span style=display:flex><span><span style=color:#00a000>+  sig-docs-es-reviews: # PR reviews for Spanish content
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - alexbrand
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - electrocucaracha
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - glo-pena
</span></span></span><span style=display:flex><span><span style=color:#00a000>+    - raelga
</span></span></span><span style=display:flex><span><span style=color:#00a000></span>   sig-docs-fr-owners: # Admins for French content
</span></span><span style=display:flex><span>     - perriea
</span></span><span style=display:flex><span>     - remyleone
</span></span></code></pre></div><h2 id=перевод-контента>Перевод контента</h2><p>Локализация <em>всей</em> документации Kubernetes — колоссальная задача. Вполне нормально начать переводить что-то небольшое, а затем со временем делать перевод больших страниц.</p><p>Как минимум, все локализации должны включать:</p><table><thead><tr><th>Описание</th><th>URL-адреса</th></tr></thead><tbody><tr><td>Главная</td><td><a href=/ru/docs/home/>Все заголовки и подзаголовки URL-адресов</a></td></tr><tr><td>Установка</td><td><a href=/ru/docs/setup/>Все заголовки и подзаголовки URL-адресов</a></td></tr><tr><td>Руководства</td><td><a href=/ru/docs/tutorials/kubernetes-basics/>Основы Kubernetes</a>, <a href=/ru/docs/tutorials/stateless-application/hello-minikube/>Привет, Minikube</a></td></tr><tr><td>Надписи на сайте</td><td><a href=https://github.com/kubernetes/website/tree/master/i18n>Все надписи сайта в собственном TOML-файле</a></td></tr></tbody></table><p>Переведенные файлы должны находиться в собственной директории <code>content/**/</code>, но в во всём остальном должны быть такие, как и оригинал на английском. Например, чтобы подготовить <a href=/ru/docs/tutorials/kubernetes-basics/>Основы Kubernetes</a> для перевода на немецкий язык, создайте поддиректорию в директории <code>content/de/</code> и скопируйте туда оригинальный английский файл:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mkdir -p content/de/docs/tutorials
</span></span><span style=display:flex><span>cp content/en/docs/tutorials/kubernetes-basics.md content/de/docs/tutorials/kubernetes-basics.md
</span></span></code></pre></div><p>С помощью соответствующих инструментов можно ускорить процесс перевода. Например, у некоторых редакторов есть плагины для быстрого перевода текста.</p><div class="alert alert-warning caution callout" role=alert><strong>Внимание:</strong> Использование только машинного перевода не будет соответствовать минимальному уровню качества и поэтому такой перевод требует тщательного ручного рассмотрения для соблюдения стандарта качества.</div><p>To ensure accuracy in grammar and meaning, members of your localization team should carefully review all machine-generated translations before publishing.</p><h3 id=исходные-файлы>Исходные файлы</h3><p>Локализация должна исходить из самой последней версии оригинальной документации — v1.25.</p><p>Для того, чтобы получить исходные файлы последней версии:</p><ol><li>Перейдите в репозиторий сайта Kubernetes по адресу <a href=https://github.com/kubernetes/website>https://github.com/kubernetes/website</a>.</li><li>Выберите ветку <code>release-1.X</code> самой последней версии.</li></ol><p>Текущая последняя версия v1.25, поэтому веткой для этого релиза будет <a href=https://github.com/kubernetes/website/tree/release-1.25><code>release-1.25</code></a>.</p><h3 id=сообщения-на-сайте-в-i18n>Сообщения на сайте в i18n/</h3><p>Локализации должны включать содержимое файла <a href=https://github.com/kubernetes/website/blob/main/i18n/en.toml><code>i18n/en.toml</code></a> в новый языковой файл. В качестве примера рассмотрим немецкую локализацию: <code>i18n/de.toml</code>.</p><p>Добавьте новый файл локализации в <code>i18n/</code>. Например, для немецкой локализации (<code>de</code>):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cp i18n/en.toml i18n/de.toml
</span></span></code></pre></div><p>Затем переведите значение каждого сообщения:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-TOML data-lang=TOML><span style=display:flex><span>[docs_label_i_am]
</span></span><span style=display:flex><span>other = <span style=color:#b44>&#34;ICH BIN...&#34;</span>
</span></span></code></pre></div><p>Локализация сообщений сайта позволяет изменить сообщения, используемые на всём сайте, к примеру, текст авторских прав в футере на каждой странице.</p><h3 id=глоссарий-и-руководство-по-оформления-для-языка>Глоссарий и руководство по оформления для языка</h3><p>У некоторых языковых команд есть собственные руководства по оформлению и глоссарий. Например, посмотрите <a href=/ko/docs/contribute/localization_ko/>руководство корейской локализации</a>.</p><h2 id=стратегия-работы-с-ветками>Стратегия работы с ветками</h2><p>Работа в проектах локализации осуществляется посредством совместных усилий, поэтому мы приветствуем решение команды работать в общих ветках разработки.</p><p>Совместная работа в рабочих ветках может быть организована следующим образом:</p><ol><li><p>Член команды <a href=https://github.com/orgs/kubernetes/teams/website-maintainers>@kubernetes/website-maintainers</a> создает ветку из оригинальной ветки на <a href=https://github.com/kubernetes/website>https://github.com/kubernetes/website</a>.</p><p>После того, как вы <a href=#%D0%B4%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D0%BD%D0%B0-github>добавите свою команду локализации</a> в репозиторий <a href=https://github.com/kubernetes/org><code>kubernetes/org</code></a>, ваши утверждающие из группы будет присоединены к команде <code>@kubernetes/website-maintainers</code>.</p><p>Мы рекомендуем следующую схему именования веток:</p><p><code>dev-&lt;оригинальная версия>-&lt;код языка>.&lt;контрольная точка команды></code></p><p>Например, утверждающий в немецкой группе локализации открывает рабочую ветку <code>dev-1.12-de.1</code> непосредственно в репозитории kubernetes/website из ветки для Kubernetes v1.12.</p></li><li><p>Остальные участники создают новые ветки с изменениями на основе рабочей ветки.</p><p>Например, участник немецкой группы локализации открывает пулреквест с изменениями в <code>kubernetes:dev-1.12-de.1</code> из <code>username:local-branch-name</code>.</p></li><li><p>Утверждающий проверяет изменения и объединяют ветки в рабочую веткой.</p></li><li><p>Периодически утверждающий объединяет рабочую ветку в оригинальную ветку, открывая и принимая новый пулреквест. Не забудьте объединить (squash) коммиты перед слиянием пулреквеста.</p></li></ol><p>Повторяйте шаги 1-4 до тех пор, пока не будет завершена локализация. Например, по мере работы над немецким переводом, рабочие ветки будут меняться: <code>dev-1.12-de.2</code>, <code>dev-1.12-de.3</code> и т.д.</p><p>Команды должны объединять переведённый контент в ту же ветку выпуска, из которой она была создана. Например, рабочая ветка, созданная из версии release-1.25, должна сливаться с веткой версии 1.17.</p><p>Утверждающему следует поддерживать рабочую веку в актуальном состоянии в соответствии с оригинальной веткой, разрешая конфликты при слиянии. Чем дольше существует рабочая ветки, тем больше потребуется сил для ее поддержки. Поэтому лучше как можно быстрее сливать рабочую ветку и открывать новую, а не поддерживать только одну-единственную в течение длительного времени.</p><p>В начале каждой контрольной точки команды полезно открыть ишью для сравнения изменений между предыдущей веткой и текущей рабочей веткой.</p><p>Хотя только утверждающие могут открывать новую рабочую ветку и сливать пулреквесты, но любой может открыть пулреквест с новой веткой, которая может быть рабочей для команды. Никаких специальных разрешений для этого не требуется.</p><p>Для получения дополнительной информации о работе с копиями или непосредственно с оригинальным репозиторией смотрите раздел по <a href=#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8-%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D1%8F>созданию и клонированию копии репозитория</a>.</p><h2 id=участие-в-работе-над-оригинальным-контентом>Участие в работе над оригинальным контентом</h2><p>SIG Docs приветствует <a href=/ru/docs/contribute/intermediate#%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D1%82%D0%B0>участие и дополнения</a> в английскую документацию.</p><h2 id=помощь-для-существующей-локализации>Помощь для существующей локализации</h2><p>Вы также можете добавлять или улучшать контент в уже существующей локализации. Обратитесь к соответствующему <a href=https://kubernetes.slack.com/messages/C1J0BPD2M/>Slack-каналу</a> для этого и начинайте помогать через PR.</p><h2 id=что-дальше>Что дальше</h2><p>Как только локализация будет соответствовать требованиям установленного рабочего процесса и содержать требуемый минимум контента, группа SIG Docs:</p><ul><li>Добавит язык на сайт</li><li>Сообщит о новой локализации на каналах <a href=https://www.cncf.io/about/>Cloud Native Computing Foundation</a> (CNCF), включая <a href=https://kubernetes.io/blog/>блог Kubernetes</a>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e1098d3fca853af3d9dd514e4309cbba>7 - Участие в SIG Docs</h1><p>SIG Docs — это одна из <a href=https://github.com/kubernetes/community/blob/master/sig-list.md>специальных групп</a> в проекте Kubernetes, которая занимается написанием, обновлением и поддержкой документации Kubernetes в целом. Перейдите на страницу про <a href=https://github.com/kubernetes/community/tree/master/sig-docs>SIG Docs в GitHub-репозитории</a>, чтобы узнать подробную информацию об этой группе.</p><p>SIG Docs активно принимает правки и дополнения в документацию, так и отзывы от всех участников. Любой может открыть пулреквест (PR), либо сообщить про ошибки в тексте или просто прокомментировать выполняемые пулреквесты.</p><p>Вы также можете стать <a href=#%D1%87%D0%BB%D0%B5%D0%BD%D1%8B>членом</a>, <a href=#%D1%80%D0%B5%D1%86%D0%B5%D0%BD%D0%B7%D0%B5%D0%BD%D1%82%D1%8B>рецензентом</a> или <a href=#%D1%83%D1%82%D0%B2%D0%B5%D1%80%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5>утверждающим</a>. Эти роли расширяют ваши возможности, но и предлагают выполнение определенных обязанностей по рассмотрению и принятию изменений. Изучите содержимого файла <a href=https://github.com/kubernetes/community/blob/master/community-membership.md>community-membership</a> в директории сообщества репозитория, чтобы узнать про членство в сообществе Kubernetes. В остальной части этой страницы кратко рассматривается функционирование ролей в группе SIG Docs, которая в совокупности отвечает за поддержание одного из самой публичной части Kubernetes — сайта и документации Kubernetes.</p><h2 id=роли-и-обязанности>Роли и обязанности</h2><ul><li><strong>Любой</strong> может поучаствовать в документацию Kubernetes. Для этого вам нужно только <a href=/ru/docs/contribute/start#sign-the-cla>подписать CLA</a> и иметь аккаунт на GitHub.</li><li><strong>Члены</strong> организации Kubernetes — участники, которые активно занимаются пректом Kubernetes, как правило, открывая пулреквесты с принятыми изменениями. Посмотрите файл <a href=https://github.com/kubernetes/community/blob/master/community-membership.md>Членство в сообществе</a>, чтобы узнать про необходимые условия для членства.</li><li><strong>Рецензент</strong> SIG Docs — член организации Kubernetes, который занимается проверкой пулреквестов и поэтому был добавлен в соответствующую группу на GitHub и в файлы <code>OWNERS</code> в GitHub-репозитории.</li><li><strong>Утверждающий</strong> SIG Docs — член организации с хорошей репутацией, который подтвердил неизменную приверженность проекту. Утверждающий может принимать пулреквесты и публиковаться от имени организации Kubernetes. Утверждающие также могут представлять группу SIG Docs в более крупном сообществе Kubernetes. Некоторые из задач утверждающего SIG Docs, например, координация новой версии, требуют значительных затрат по времени.</li></ul><h2 id=любой>Любой</h2><p>Кто угодно может сделать следующее:</p><ul><li>Открыть ишью на GitHub в любую часть Kubernetes, включая документацию.</li><li>Дать рекомендацию или предложить улучшение в пулреквесте.</li><li>Предложить идею по улучшению в Slack](<a href=http://slack.k8s.io/>http://slack.k8s.io/</a>) или в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>список рассылки SIG Docs</a>.</li><li>Использовать команду <code>/lgtm</code> (сокращение от "looks good to me") бота Prow, чтобы одобрить изменения в пулреквесте.<div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Если вы не входите в организацию Kubernetes, то команда <code>/lgtm</code> не проставил автоматически соответствующую метку.</div></li></ul><p>После <a href=/ru/docs/contribute/start#sign-the-cla>подписания CLA</a> каждый также может:</p><ul><li>Открыть пулреквест, чтобы улучшить существующий текст, либо что-то новое, или написать запись в блоге или описать пример использования.</li></ul><h2 id=члены>Члены</h2><p>Члены — это участники проекта Kubernetes, которые удовлетворяют <a href=https://github.com/kubernetes/community/blob/master/community-membership.md#member>критериям членства</a>. SIG Docs ценит участие всех членов сообщества Kubernetes и часто просит дать обратную связь от членов других SIG-групп для соблюдения технической точности.</p><p>Любой член <a href=https://github.com/kubernetes>организации Kubernetes</a> может сделать следующее:</p><ul><li>Всё то же самое, что и <a href=#%D0%BB%D1%8E%D0%B1%D0%BE%D0%B9>любой другой участник</a></li><li>Использовать команду <code>/lgtm</code> в комментарии для автоматического добавления метки LGTM (looks good to me) для пулреквеста.</li><li>Использовать команду <code>/hold</code> в комментарии для блокировки слияния пулреквеста, если он имеет метку LGTM и другие утверждающие метки.</li><li>Использовать команду <code>/assign</code> в комментарии, чтобы назначить рецензента, который будет проверят пулреквест.</li></ul><h3 id=членство>Членство</h3><p>После того, как вы успешно отправили не менее 5 содержательных пулреквестов, вы можете стать <a href=https://github.com/kubernetes/community/blob/master/community-membership.md#member>членом</a> организации Kubernetes. Следуйте нижеперечисленным шагам:</p><ol><li><p>Найдите двух рецензентов или утверждающих, которые <a href=/ru/docs/contribute/advanced#%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0-%D0%BD%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE-%D1%83%D1%87%D0%B0%D1%81%D1%82%D0%BD%D0%B8%D0%BA%D0%B0>поддержат</a> ваше членство.</p><p>Запросите спонсорство в канале <a href=https://kubernetes.slack.com>#sig-docs Kubernetes Slack</a> или в <a href=https://groups.google.com/forum/#!forum/kubernetes-sig-docs>списке рассылки SIG Docs</a>.</p><div class="alert alert-info note callout" role=alert><strong>Заметка:</strong> Не отправляйте электронное письмо и не пишите личное сообщение в Slack кому-либо из участников SIG Docs.</div></li><li><p>Создайте ишью в репозитории <code>kubernetes/org</code>, чтобы запросить членство.
Заполните шаблон, предварительно изучив правила <a href=https://github.com/kubernetes/community/blob/master/community-membership.md>членства в сообществе</a>.</p></li><li><p>Сообщите вашим спонсорам про вашу заявку на GitHub, упомянув их в ней на GitHub (добавив комментарий в форме <code>@&lt;GitHub-username></code>), либо отправив им ссылку напрямую, чтобы они могли добавить проголосовать ( <code>+1</code>).</p></li><li><p>Когда ваше членство будет одобрено, член административной команды на GitHub, назначенный для обработки вашего пулреквеста, обновит ишью на GitHub, чтобы показать одобрение, а затем закроет проблему GitHub.
Поздравляем, теперь вы член организации!</p></li></ol><p>Если ваша заявка на членство не была одобрена, членский комитет даст уточнения или перечислит шаги, которые необходимо выполнить, прежде чем снова подать заявку.</p><h2 id=рецензенты>Рецензенты</h2><p>Рецензенты — это члены GitHub-группы <a href=https://github.com/orgs/kubernetes/teams/sig-docs-pr-reviews>@kubernetes/sig-docs-pr-reviews</a>. Рецензенты проверяют пулреквесты документации и оставлять обратную связь по предлагаемым изменениях. Рецензенты могут:</p><ul><li>Делать всё то, что и <a href=#%D0%BB%D1%8E%D0%B1%D0%BE%D0%B9>любой участник</a> и <a href=#%D1%87%D0%BB%D0%B5%D0%BD%D1%8B>члены</a></li><li>Писать документацию для новой функциональности</li><li>Назначать метки и классифицировать ишью</li><li>Проверять пулреквесты и оставлять обязательные для выполнения рекомендации</li><li>Создавайте диаграммы, графику и встраиваемые скринкасты и видеоролики</li><li>Заниматься локализацией</li><li>Редактировать строки в коде, относящиеся к интерфейсу пользователя</li><li>Улучшать комментарии к коду</li></ul><h3 id=выбор-рецензентов-для-проверки-пулреквестов>Выбор рецензентов для проверки пулреквестов</h3><p>Процесс выбора рецензентов для проверки пулреквестов автоматизирован. Вы можете попросить проверку у определенного рецензента, написав комментарий в пулреквесте: <code>/assign [@_github_handle]</code>. Чтобы показать, что пулреквест является правильным с технической точки зрения и не требует дополнительных изменений, рецензент добавляет комментарий с командой <code>/lgtm</code>.</p><p>Если назначенный рецензент еще не просмотрел содержимое пулреквеста, может присоединиться другой проверяющий. Кроме того, вы можете назначить технических рецензентов и подождать их одобрение через комментарий с <code>/lgtm</code>.</p><p>Также для совсем небольшого изменения, или такого, которое не требует технического рассмотрения, <a href=#%D1%83%D1%82%D0%B2%D0%B5%D1%80%D0%B6%D0%B4%D0%B0%D1%8E%D1%89%D0%B8%D0%B5>утверждающие</a> SIG Docs одобрить его через комментарий с <code>/lgtm</code>.</p><p>Комментарий с <code>/approve</code> от рецензента игнорируется ботом и поэтому соответствующая метка не добавится к пулреквесту.</p><h3 id=как-стать-рецензентом>Как стать рецензентом</h3><p>Если вы соответствуете <a href=https://github.com/kubernetes/community/blob/master/community-membership.md#reviewer>требованием</a>, то можете стать рецензентом SIG Docs. Рецензенты в других SIG-группах должны подать новую заявку для получения статуса рецензента в SIG Docs.</p><p>Для отправки заявки откройте пулреквест с добавлением самого себя в секцию <code>reviewers</code> <a href=https://github.com/kubernetes/website/blob/main/OWNERS>корневого файла OWNERS</a> в репозитории <code>kubernetes/website</code>. Запросите проверку вашего пулреквеста одному или нескольким текущим утверждающим в группе SIG Docs.</p><p>Если ваш пулреквест одобрен, вы становитесь рецензентом SIG Docs. Теперь бот <a href=https://github.com/kubernetes/test-infra/tree/master/prow#bots-home>K8s-ci-robot</a> будет назначать и предлагать вас в качестве рецензента для проверки новых пулреквестов.</p><p>После того, как ваша кандидатура будет одобрена, попросите текущего утверждающего SIG Docs добавить вас в GitHub-группу <a href=https://github.com/orgs/kubernetes/teams/sig-docs-pr-reviews>@kubernetes/sig-docs-pr-reviews</a>. Только члены GitHub-группы <code>kubernetes-website-admins</code> могут добавлять новых членов в какую-либо другую группу.</p><h2 id=утверждающие>Утверждающие</h2><p>Утверждающие — члены GitHub-группы <a href=https://github.com/orgs/kubernetes/teams/sig-docs-maintainers>@kubernetes/sig-docs-maintainers</a>. Перейдите в раздел <a href=#teams-and-groups-within-sig-docs>Команды и группы в SIG Docs</a> для получения дополнительной информации.</p><p>Утверждающие могут делать следующее:</p><ul><li>Все то же, что и <a href=#%D0%BB%D1%8E%D0%B1%D0%BE%D0%B9>обычные участники</a>, <a href=#%D1%87%D0%BB%D0%B5%D0%BD%D1%8B>члены</a> и <a href=#%D1%80%D0%B5%D1%86%D0%B5%D0%BD%D0%B7%D0%B5%D0%BD%D1%82%D1%8B>рецензенты</a></li><li>Публиковать изменения от других участников путём одобрения и слияния пулреквестов с помощью комментария с командой <code>/approve</code>.
Если кто-то оставляет комментарий, не являясь при этом официальным рецензентом, бот проигнорирует такой одобряющий комментарий.</li><li>Примите участие в работе команды выпуска новых версий Kubernetes как представитель документации</li><li>Предлагать улучшения в руководстве по оформлению</li><li>Предлагать улучшения для тестов документации</li><li>Предлагать улучшения для сайта Kubernetes или других инструментов</li></ul><p>Если у PR есть метка <code>/lgtm</code>, или если утверждающий оставляет комментарий с командной с <code>/lgtm</code>, PR автоматически сливается. Утверждающий SIG Docs должен оставлять комментарий с <code>/lgtm</code> только для тех изменений, которые не нуждаются в дополнительном техническом обзоре.</p><h3 id=как-стать-утверждающим>Как стать утверждающим</h3><p>Если вы соответствуете <a href=https://github.com/kubernetes/community/blob/master/community-membership.md#approver>требованием</a>, вы можете стать утверждающим SIG Docs. Утверждающие в других SIG-группах должны подать новую заявку для получения статуса утверждающего в SIG Docs.</p><p>Для отправки заявки откройте пулреквест с добавлением самого себя в секцию <code>approvers</code> <a href=https://github.com/kubernetes/website/blob/main/OWNERS>корневого файла OWNERS</a> в репозитории <code>kubernetes/website</code>. Запросите проверку вашего пулреквеста одному или нескольким текущим утверждающим в группе SIG Docs.</p><p>Если ваш пулреквест одобрен, вы становитесь утверждающим SIG Docs. Теперь бот <a href=https://github.com/kubernetes/test-infra/tree/master/prow#bots-home>K8s-ci-robot</a> будет назначать и предлагать вас в качестве рецензента для проверки новых пулреквестов.</p><p>После того, как ваша кандидатура будет одобрена, попросите текущего утверждающего SIG Docs добавить вас в GitHub-группу<a href=https://github.com/orgs/kubernetes/teams/sig-docs-maintainers>@kubernetes/sig-docs-maintainers</a>. Только члены GitHub-группы <code>kubernetes-website-admins</code> могут добавлять новых членов в какую-либо другую группу.</p><h3 id=обязанности-утверждающего>Обязанности утверждающего</h3><p>Утверждающие улучшают документацию, проверяя и сливая пулреквесты в репозитории сайта. Из-за того, эта роль предусматривает дополнительные привилегии, на утверждающих возлагаются дополнительные обязанности:</p><ul><li><p>Утверждающие могут использовать команду <code>/approve</code>, которая сливает PR в репозиторий.</p><p>Невнимательное слияние может нарушить работу сайта, поэтому имейте это в виду, когда объединяете какой-либо пулреквест.</p></li><li><p>Убедитесь, что предлагаемые изменения соответствуют <a href=/docs/contribute/style/content-guide/#contributing-content>правилам по содержанию</a>.</p><p>Если вы сомневаетесь или вы не уверены в чем-либо, не стесняйтесь обращаться для дополнительной проверки.</p></li><li><p>Проверьте, что тесты на Netlify пройдены успешно, перед тем как написать комментарий с <code>/approve</code> в PR.</p><img src=/images/docs/contribute/netlify-pass.png width=75% alt="Netlify tests must pass before approving"></li><li><p>Перед одобрением пулреквеста перейдите на предварительный просмотр сайта на Netlify для сделанных изменений в PR, и убедитесь, что всё содержимое выглядит хорошо.</p></li><li><p>Участвуйте в <a href=https://github.com/kubernetes/website/wiki/PR-Wranglers>графике дежурства смотрителя PR</a>, чтобы вас назначили дежурным проверяющим на неделю. SIG Docs ожидает, что все утверждающие примут участие в этом графике. За подробностям обратитесь к странице <a href=/ru/docs/contribute/advanced#%D0%B4%D0%B5%D0%B6%D1%83%D1%80%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE-pr-%D0%BD%D0%B0-%D0%BD%D0%B5%D0%B4%D0%B5%D0%BB%D1%8E>Be the PR Wrangler for a week</a>.</p></li></ul><h2 id=председатель-sig-docs>Председатель SIG Docs</h2><p>Каждая SIG-группа, включая SIG Docs, выбирает одного или нескольких членов из своей SIG-группы в качестве председателей. Это координаторы между SIG Docs и другими подразделениями в организации Kubernetes. От таких людей требуются обширные знания о структуре проекта Kubernetes в целом и как функционирует группа SIG Docs внутри неё. Смотрите раздел <a href=https://github.com/kubernetes/community/tree/master/sig-docs#leadership>Руководство</a>, чтобы узнать текущий список председателей.</p><h2 id=команды-sig-docs-и-автоматизация>Команды SIG Docs и автоматизация</h2><p>Автоматизация в SIG Docs основывается на двух разных механизмах:
группы GitHub и файлы OWNERS.</p><h3 id=github-группы>GitHub-группы</h3><p>Группа SIG Docs представлена двумя командами на GitHub:</p><ul><li><a href=https://github.com/orgs/kubernetes/teams/sig-docs-maintainers>@kubernetes/sig-docs-maintainers</a></li><li><a href=https://github.com/orgs/kubernetes/teams/sig-docs-pr-reviews>@kubernetes/sig-docs-pr-reviews</a></li></ul><p>На каждую из них можно сослаться по имени (<code>@name</code>) в комментариях на GitHub, чтобы общаться со всеми участниками в этой группе.</p><p>Эти команды пересекаются, но назначение у них разное. Для назначения людей на ишью, пулреквестов и поддержки одобрений в PR бот использует информацию из файлов OWNERS.</p><h3 id=файлы-owners-и-вступительная-часть>Файлы OWNERS и вступительная часть</h3><p>Проект Kubernetes использует инструмент автоматизации под названием prow, чтобы автоматизировать процесс, связанный с ишью и пулреквестами на GitHub. <a href=https://github.com/kubernetes/website>Репозиторий сайта Kubernetes</a> использует два <a href=https://github.com/kubernetes/test-infra/tree/master/prow/plugins>плагина prow</a>:</p><ul><li>blunderbuss</li><li>approve</li></ul><p>Все эти плагины используют файлы <a href=https://github.com/kubernetes/website/blob/main/OWNERS>OWNERS</a> и <a href=https://github.com/kubernetes/website/blob/main/OWNERS_ALIASES>OWNERS_ALIASES</a> в корневой директории GitHub-репозитория <code>kubernetes/website</code>, чтобы контролировать работу prow по всему репозиторию.</p><p>Файл OWNERS содержит список людей, которые являются рецензентами и утверждающими в SIG Docs. Файлы OWNERS также может быть в поддиректориях и могут переопределять тех, кто может выступать в качестве рецензента или утверждающего в изменениях файлов этой директории и её поддиректорий. Для получения дополнительной информации о файлах OWNERS в целом, перейдите в <a href=https://github.com/kubernetes/community/blob/master/contributors/guide/owners.md>OWNERS</a>.</p><p>Кроме того, в каждом Markdown-файле могут быть указаны рецензенты и утверждающие в так называемой вступительной части (front-matter) в виде логинов участников или имён групп на GitHub.</p><p>Таким образом файлы OWNERS и вступительная часть в Markdown-файлах определяет своего рода рекомендацию для бота, чтобы он знал, к кому обращаться за технической и редакционной проверкой каждого PR.</p><h2 id=как-происходит-слияние>Как происходит слияние</h2><p>Когда пулреквест сливается в действующую ветку сайта (в данный момент это <code>master</code>), содержимое публикуется и становится общедоступным. Для обеспечения высокого качества публикуемого нами контента, мы доверяем слияние пулреквестов утверждающим SIG Docs. Ниже описан этот процесс.</p><ul><li>Когда пулреквест имеет метки <code>lgtm</code> и <code>approve</code>, при этом у него нет метки <code>hold</code>, и то же время все тесты успешно проходят, то пулреквест автоматически сливается.</li><li>Члены организации Kubernetes и утверждающие SIG Docs могут оставлять комментарии со специальными командами, которые блокирует автоматическое объединение пулреквеста (добавление комментарий с текстом <code>/hold</code> или удаление ранее установленной метки <code>/lgtm</code>).</li><li>Любой участник Kubernetes может добавить метку <code>lgtm</code>, добавив комментарий, включающий в себя <code>/lgtm</code>.</li><li>Только утверждающие SIG Docs могут слить пулреквест путём добавления комментария с <code>/approve</code>. Некоторые утверждающие также играют дополнительные роли, например, <a href=#pr-wrangler>дежурного по PR</a> или <a href=#%D0%BF%D1%80%D0%B5%D0%B4%D1%81%D0%B5%D0%B4%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-sig-docs>председателя SIG Docs</a>.</li></ul><h2 id=что-дальше>Что дальше</h2><p>Для получения дополнительной информации про участие в документации Kubernetes, посмотрите следующие страницы:</p><ul><li><a href=/ru/docs/contribute/start/>Участие для начинающих</a></li><li><a href=/ru/docs/contribute/style/>Правила оформления документации</a></li></ul></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/ru/docs/home/>Главная</a>
<a class=text-white href=/ru/community/>Сообщество</a>
<a class=text-white href=/ru/case-studies/>Примеры использования</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 Авторы Kubernetes | Документация распространяется под лицензией <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. Все права защищены. The Linux Foundation является зарегистрированной торговой маркой. Список торговых марок The Linux Foundation приведен на странице <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>использования торговых марок</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>