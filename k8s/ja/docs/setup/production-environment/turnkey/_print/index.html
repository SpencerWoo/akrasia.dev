<!doctype html><html lang=ja class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/setup/production-environment/turnkey/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/ja/docs/setup/production-environment/turnkey/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>ターンキークラウドソリューション | Kubernetes</title><meta property="og:title" content="ターンキークラウドソリューション"><meta property="og:description" content="プロダクショングレードのコンテナ管理基盤"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/ja/docs/setup/production-environment/turnkey/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="ターンキークラウドソリューション"><meta itemprop=description content="プロダクショングレードのコンテナ管理基盤"><meta name=twitter:card content="summary"><meta name=twitter:title content="ターンキークラウドソリューション"><meta name=twitter:description content="プロダクショングレードのコンテナ管理基盤"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:url" content="https://kubernetes.io/ja/docs/setup/production-environment/turnkey/"><meta property="og:title" content="ターンキークラウドソリューション"><meta name=twitter:title content="ターンキークラウドソリューション"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/ja/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/ja/docs/>ドキュメント</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ja/blog/>Blogs</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ja/training/>トレーニング</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ja/partners/>パートナー</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ja/community/>コミュニティ</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/ja/case-studies/>ケーススタディ</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>バージョン</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/ja/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/ja/docs/setup/production-environment/turnkey/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/ja/docs/setup/production-environment/turnkey/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/ja/docs/setup/production-environment/turnkey/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/ja/docs/setup/production-environment/turnkey/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/ja/docs/setup/production-environment/turnkey/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>日本語 (Japanese)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/fr/docs/setup/production-environment/turnkey/>Français (French)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>これは、このセクションの複数ページの印刷可能なビューです。
<a href=# onclick="return print(),!1">印刷するには、ここをクリックしてください</a>.</p><p><a href=/ja/docs/setup/production-environment/turnkey/>このページの通常のビューに戻る</a>.</p></div><h1 class=title>ターンキークラウドソリューション</h1><ul><li>1: <a href=#pg-20c20ee4c93be1062165131aff27cff5>Alibaba CloudでKubernetesを動かす</a></li><li>2: <a href=#pg-4db51d554f14646b6af380916c827aa0>AWS EC2上でKubernetesを動かす</a></li><li>3: <a href=#pg-66b96ad245efc180060593fa01df4dde>Azure 上で Kubernetes を動かす</a></li><li>4: <a href=#pg-bed0528b13f56089ee19400212edf55d>Google Compute Engine上でKubernetesを動かす</a></li><li>5: <a href=#pg-ba2691e5872ead2141b1e8fd7d29ee21>IBM Cloud Privateを使ってマルチクラウドでKubernetesを動かす</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-20c20ee4c93be1062165131aff27cff5>1 - Alibaba CloudでKubernetesを動かす</h1><h2 id=alibaba-cloud-container-service>Alibaba Cloud Container Service</h2><p><a href=https://www.alibabacloud.com/product/container-service>Alibaba Cloud Container Service</a>はAlibaba Cloud ECSインスタンスのクラスター上もしくはサーバーレスの形態でDockerアプリケーションを起動して管理します。著名なオープンソースのコンテナオーケストレーターであるDocker SwarmおよびKubernetesをサポートしています。</p><p>クラスターの構築と管理を簡素化するために、<a href=https://www.alibabacloud.com/product/kubernetes>Alibaba Cloud Container ServiceのためのKubernetesサポート</a>を使用します。<a href=https://www.alibabacloud.com/help/doc-detail/86737.htm>Kubernetes walk-through</a>に従ってすぐに始めることができ、中国語の<a href=https://yq.aliyun.com/teams/11/type_blog-cid_200-page_1>Alibaba CloudにおけるKubernetesサポートのためのチュートリアル</a>もあります。</p><p>カスタムバイナリもしくはオープンソースKubernetesを使用する場合は、以下の手順に従って下さい。</p><h2 id=構築のカスタム>構築のカスタム</h2><p><a href=https://github.com/AliyunContainerService/kubernetes>Alibaba Cloudプロバイダーが実装されたKubernetesのソースコード</a>はオープンソースであり、GitHubから入手可能です。</p><p>さらなる情報は英語の<a href=https://www.alibabacloud.com/forum/read-830>Kubernetesのクイックデプロイメント - Alibaba CloudのVPC環境</a>をご覧下さい。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4db51d554f14646b6af380916c827aa0>2 - AWS EC2上でKubernetesを動かす</h1><p>このページでは、AWS上でKubernetesクラスターをインストールする方法について説明します。</p><h2 id=始める前に>始める前に</h2><p>AWS上でKubernetesクラスターを作成するには、AWSからアクセスキーIDおよびシークレットアクセスキーを入手する必要があります。</p><h3 id=サポートされているプロダクショングレードのツール>サポートされているプロダクショングレードのツール</h3><ul><li><p><a href=https://docs.conjure-up.io/stable/en/cni/k8s-and-aws>conjure-up</a>はUbuntu上でネイティブなAWSインテグレーションを用いてKubernetesクラスターを作成するオープンソースのインストーラーです。</p></li><li><p><a href=https://github.com/kubernetes/kops>Kubernetes Operations</a> - プロダクショングレードなKubernetesのインストール、アップグレード、管理が可能です。AWS上のDebian、Ubuntu、CentOS、RHELをサポートしています。</p></li><li><p><a href=https://github.com/kubernetes-incubator/kube-aws>kube-aws</a> EC2、CloudFormation、Auto Scalingを使用して、<a href=https://www.flatcar-linux.org/>Flatcar Linux</a>ノードでKubernetesクラスターを作成および管理します。</p></li><li><p><a href=https://github.com/kubermatic/kubeone>KubeOne</a>は可用性の高いKubernetesクラスターを作成、アップグレード、管理するための、オープンソースのライフサイクル管理ツールです。</p></li></ul><h2 id=クラスターの始まり>クラスターの始まり</h2><h3 id=コマンドライン管理ツール-kubectl>コマンドライン管理ツール: kubectl</h3><p>クラスターの起動スクリプトによってワークステーション上に<code>kubernetes</code>ディレクトリが作成されます。もしくは、Kubernetesの最新リリースを<a href=https://github.com/kubernetes/kubernetes/releases>こちら</a>からダウンロードすることも可能です。</p><p>次に、kubectlにアクセスするために適切なバイナリフォルダーを<code>PATH</code>へ追加します:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#080;font-style:italic># macOS</span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>PATH</span><span style=color:#666>=</span>&lt;path/to/kubernetes-directory&gt;/platforms/darwin/amd64:<span style=color:#b8860b>$PATH</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic># Linux</span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>PATH</span><span style=color:#666>=</span>&lt;path/to/kubernetes-directory&gt;/platforms/linux/amd64:<span style=color:#b8860b>$PATH</span>
</span></span></code></pre></div><p>ツールに関する最新のドキュメントページはこちらです: <a href=/docs/reference/kubectl/kubectl/>kubectl manual</a></p><p>デフォルトでは、<code>kubectl</code>はクラスターの起動中に生成された<code>kubeconfig</code>ファイルをAPIに対する認証に使用します。
詳細な情報は、<a href=/ja/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>kubeconfig files</a>を参照してください。</p><h3 id=例>例</h3><p>新しいクラスターを試すには、<a href=/ja/docs/tasks/run-application/run-stateless-application-deployment/>簡単なnginxの例</a>を参照してください。</p><p>"Guestbook"アプリケーションは、Kubernetesを始めるもう一つのポピュラーな例です: <a href=https://github.com/kubernetes/examples/tree/master/guestbook/>guestbookの例</a></p><p>より完全なアプリケーションについては、<a href=https://github.com/kubernetes/examples/tree/master/>examplesディレクトリ</a>を参照してください。</p><h2 id=クラスターのスケーリング>クラスターのスケーリング</h2><p><code>kubectl</code>を使用したノードの追加および削除はサポートしていません。インストール中に作成された<a href=https://docs.aws.amazon.com/autoscaling/latest/userguide/as-manual-scaling.html>Auto Scaling Group</a>内の'Desired'および'Max'プロパティを手動で調整することで、ノード数をスケールさせることができます。</p><h2 id=クラスターの解体>クラスターの解体</h2><p>クラスターのプロビジョニングに使用した環境変数がexportされていることを確認してから、<code>kubernetes</code>ディレクトリ内で以下のスクリプトを実行してください:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>cluster/kube-down.sh
</span></span></code></pre></div><h2 id=サポートレベル>サポートレベル</h2><table><thead><tr><th>IaaS プロバイダー</th><th>構成管理</th><th>OS</th><th>ネットワーク</th><th>ドキュメント</th><th>適合</th><th>サポートレベル</th></tr></thead><tbody><tr><td>AWS</td><td>kops</td><td>Debian</td><td>k8s (VPC)</td><td><a href=https://github.com/kubernetes/kops>docs</a></td><td></td><td>Community (<a href=https://github.com/justinsb>@justinsb</a>)</td></tr><tr><td>AWS</td><td>CoreOS</td><td>CoreOS</td><td>flannel</td><td>-</td><td></td><td>Community</td></tr><tr><td>AWS</td><td>Juju</td><td>Ubuntu</td><td>flannel, calico, canal</td><td>-</td><td>100%</td><td>Commercial, Community</td></tr><tr><td>AWS</td><td>KubeOne</td><td>Ubuntu, CoreOS, CentOS</td><td>canal, weavenet</td><td><a href=https://github.com/kubermatic/kubeone>docs</a></td><td>100%</td><td>Commercial, Community</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-66b96ad245efc180060593fa01df4dde>3 - Azure 上で Kubernetes を動かす</h1><h2 id=azure-kubernetes-service-aks>Azure Kubernetes Service (AKS)</h2><p><a href=https://azure.microsoft.com/ja-jp/services/kubernetes-service/>Azure Kubernetes Service</a>は、Kubernetesクラスターのためのシンプルなデプロイ機能を提供します。</p><p>Azure Kubernetes Serviceを利用してAzure上にKubernetesクラスターをデプロイする例:</p><p><strong><a href=https://docs.microsoft.com/ja-jp/azure/aks/intro-kubernetes>Microsoft Azure Kubernetes Service</a></strong></p><h2 id=デプロイのカスタマイズ-aks-engine>デプロイのカスタマイズ: AKS-Engine</h2><p>Azure Kubernetes Serviceのコア部分は<strong>オープンソース</strong>であり、コミュニティのためにGitHub上で公開され、利用およびコントリビュートすることができます: <strong><a href=https://github.com/Azure/aks-engine>AKS-Engine</a></strong>。レガシーな <a href=https://github.com/Azure/acs-engine>ACS-Engine</a> のコードベースはAKS-engineのために廃止となりました。</p><p>AKS-Engineは、Azure Kubernetes Serviceが公式にサポートしている機能を超えてデプロイをカスタマイズしたい場合に適した選択肢です。
既存の仮想ネットワークへのデプロイや、複数のagent poolを利用するなどのカスタマイズをすることができます。
コミュニティによるAKS-Engineへのコントリビュートが、Azure Kubernetes Serviceに組み込まれる場合もあります。</p><p>AKS-Engineへの入力は、Kubernetesクラスターを記述するapimodelのJSONファイルです。これはAzure Kubernetes Serviceを使用してクラスターを直接デプロイするために使用されるAzure Resource Manager (ARM) のテンプレート構文と似ています。
処理結果はARMテンプレートとして出力され、ソース管理に組み込んだり、AzureにKubernetesクラスターをデプロイするために使うことができます。</p><p><strong><a href=https://github.com/Azure/aks-engine/blob/master/docs/tutorials/README.md>AKS-Engine Kubernetes Tutorial</a></strong> を参照して始めることができます。</p><h2 id=azure上でcoreos-tectonicを動かす>Azure上でCoreOS Tectonicを動かす</h2><p>Azureで利用できるCoreOS Tectonic Installerは<strong>オープンソース</strong>であり、コミュニティのためにGitHub上で公開され、利用およびコントリビュートすることができます: <strong><a href=https://github.com/coreos/tectonic-installer>Tectonic Installer</a></strong>.</p><p>Tectonic Installerは、 <a href=https://www.terraform.io/docs/providers/azurerm/>Hashicorp が提供する Terraform</a>のAzure Resource Manager(ARM)プロバイダーを用いてクラスターをカスタマイズしたい場合に適した選択肢です。
これを利用することにより、Terraformと親和性の高いツールを使用してカスタマイズしたり連携したりすることができます。</p><p><a href=https://coreos.com/tectonic/docs/latest/install/azure/azure-terraform.html>Tectonic Installer for Azure Guide</a>を参照して、すぐに始めることができます。</p></div><div class=td-content style=page-break-before:always><h1 id=pg-bed0528b13f56089ee19400212edf55d>4 - Google Compute Engine上でKubernetesを動かす</h1><p>The example below creates a Kubernetes cluster with 3 worker node Virtual Machines and a master Virtual Machine (i.e. 4 VMs in your cluster). This cluster is set up and controlled from your workstation (or wherever you find convenient).</p><h2 id=始める前に>始める前に</h2><p>If you want a simplified getting started experience and GUI for managing clusters, please consider trying <a href=https://cloud.google.com/kubernetes-engine/>Google Kubernetes Engine</a> for hosted cluster installation and management.</p><p>For an easy way to experiment with the Kubernetes development environment, click the button below
to open a Google Cloud Shell with an auto-cloned copy of the Kubernetes source repo.</p><p><a href="https://console.cloud.google.com/cloudshell/open?git_repo=https://github.com/kubernetes/kubernetes&page=editor&open_in_editor=README.md"><img src=https://gstatic.com/cloudssh/images/open-btn.png alt="Open in Cloud Shell"></a></p><p>If you want to use custom binaries or pure open source Kubernetes, please continue with the instructions below.</p><h3 id=前提条件>前提条件</h3><ol><li>You need a Google Cloud Platform account with billing enabled. Visit the <a href=https://console.cloud.google.com>Google Developers Console</a> for more details.</li><li>Install <code>gcloud</code> as necessary. <code>gcloud</code> can be installed as a part of the <a href=https://cloud.google.com/sdk/>Google Cloud SDK</a>.</li><li>Enable the <a href=https://console.developers.google.com/apis/api/replicapool.googleapis.com/overview>Compute Engine Instance Group Manager API</a> in the <a href=https://console.developers.google.com/apis/library>Google Cloud developers console</a>.</li><li>Make sure that gcloud is set to use the Google Cloud Platform project you want. You can check the current project using <code>gcloud config list project</code> and change it via <code>gcloud config set project &lt;project-id></code>.</li><li>Make sure you have credentials for GCloud by running <code>gcloud auth login</code>.</li><li>(Optional) In order to make API calls against GCE, you must also run <code>gcloud auth application-default login</code>.</li><li>Make sure you can start up a GCE VM from the command line. At least make sure you can do the <a href=https://cloud.google.com/compute/docs/instances/#startinstancegcloud>Create an instance</a> part of the GCE Quickstart.</li><li>Make sure you can SSH into the VM without interactive prompts. See the <a href=https://cloud.google.com/compute/docs/instances/#sshing>Log in to the instance</a> part of the GCE Quickstart.</li></ol><h2 id=クラスターの起動>クラスターの起動</h2><p>You can install a client and start a cluster with either one of these commands (we list both in case only one is installed on your machine):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl -sS https://get.k8s.io | bash
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>wget -q -O - https://get.k8s.io | bash
</span></span></code></pre></div><p>Once this command completes, you will have a master VM and four worker VMs, running as a Kubernetes cluster.</p><p>By default, some containers will already be running on your cluster. Containers like <code>fluentd</code> provide <a href=/docs/concepts/cluster-administration/logging/>logging</a>, while <code>heapster</code> provides <a href=https://releases.k8s.io/master/cluster/addons/cluster-monitoring/README.md>monitoring</a> services.</p><p>The script run by the commands above creates a cluster with the name/prefix "kubernetes". It defines one specific cluster config, so you can't run it more than once.</p><p>Alternately, you can download and install the latest Kubernetes release from <a href=https://github.com/kubernetes/kubernetes/releases>this page</a>, then run the <code>&lt;kubernetes>/cluster/kube-up.sh</code> script to start the cluster:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> kubernetes
</span></span><span style=display:flex><span>cluster/kube-up.sh
</span></span></code></pre></div><p>If you want more than one cluster running in your project, want to use a different name, or want a different number of worker nodes, see the <code>&lt;kubernetes>/cluster/gce/config-default.sh</code> file for more fine-grained configuration before you start up your cluster.</p><p>If you run into trouble, please see the section on <a href=/ja/docs/setup/production-environment/turnkey/gce/#troubleshooting>troubleshooting</a>, post to the
<a href=https://discuss.kubernetes.io>Kubernetes Forum</a>, or come ask questions on <code>#gke</code> Slack channel.</p><p>The next few steps will show you:</p><ol><li>How to set up the command line client on your workstation to manage the cluster</li><li>Examples of how to use the cluster</li><li>How to delete the cluster</li><li>How to start clusters with non-default options (like larger clusters)</li></ol><h2 id=ワークステーション上でのkubernetesコマンドラインツールのインストール>ワークステーション上でのKubernetesコマンドラインツールのインストール</h2><p>The cluster startup script will leave you with a running cluster and a <code>kubernetes</code> directory on your workstation.</p><p>The <a href=/docs/reference/kubectl/kubectl/>kubectl</a> tool controls the Kubernetes cluster
manager. It lets you inspect your cluster resources, create, delete, and update
components, and much more. You will use it to look at your new cluster and bring
up example apps.</p><p>You can use <code>gcloud</code> to install the <code>kubectl</code> command-line tool on your workstation:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>gcloud components install kubectl
</span></span></code></pre></div><div class="alert alert-info note callout" role=alert><strong>備考:</strong> The kubectl version bundled with <code>gcloud</code> may be older than the one
The <a href=/ja/docs/reference/kubectl/kubectl/>kubectl</a> tool controls the Kubernetes cluster
document to see how you can set up the latest <code>kubectl</code> on your workstation.</div><h2 id=クラスターの始まり>クラスターの始まり</h2><h3 id=クラスターの様子を見る>クラスターの様子を見る</h3><p>Once <code>kubectl</code> is in your path, you can use it to look at your cluster. E.g., running:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get --all-namespaces services
</span></span></code></pre></div><p>should show a set of <a href=/docs/concepts/services-networking/service/>services</a> that look something like this:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>NAMESPACE     NAME          TYPE             CLUSTER_IP       EXTERNAL_IP       PORT<span style=color:#666>(</span>S<span style=color:#666>)</span>        AGE
</span></span><span style=display:flex><span>default       kubernetes    ClusterIP        10.0.0.1         &lt;none&gt;            443/TCP        1d
</span></span><span style=display:flex><span>kube-system   kube-dns      ClusterIP        10.0.0.2         &lt;none&gt;            53/TCP,53/UDP  1d
</span></span><span style=display:flex><span>kube-system   kube-ui       ClusterIP        10.0.0.3         &lt;none&gt;            80/TCP         1d
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Similarly, you can take a look at the set of <a href=/ja/docs/concepts/workloads/pods/>pods</a> that were created during cluster startup.
You can do this via the</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl get --all-namespaces pods
</span></span></code></pre></div><p>command.</p><p>You'll see a list of pods that looks something like this (the name specifics will be different):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>NAMESPACE     NAME                                           READY     STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>kube-system   coredns-5f4fbb68df-mc8z8                       1/1       Running   <span style=color:#666>0</span>          15m
</span></span><span style=display:flex><span>kube-system   fluentd-cloud-logging-kubernetes-minion-63uo   1/1       Running   <span style=color:#666>0</span>          14m
</span></span><span style=display:flex><span>kube-system   fluentd-cloud-logging-kubernetes-minion-c1n9   1/1       Running   <span style=color:#666>0</span>          14m
</span></span><span style=display:flex><span>kube-system   fluentd-cloud-logging-kubernetes-minion-c4og   1/1       Running   <span style=color:#666>0</span>          14m
</span></span><span style=display:flex><span>kube-system   fluentd-cloud-logging-kubernetes-minion-ngua   1/1       Running   <span style=color:#666>0</span>          14m
</span></span><span style=display:flex><span>kube-system   kube-ui-v1-curt1                               1/1       Running   <span style=color:#666>0</span>          15m
</span></span><span style=display:flex><span>kube-system   monitoring-heapster-v5-ex4u3                   1/1       Running   <span style=color:#666>1</span>          15m
</span></span><span style=display:flex><span>kube-system   monitoring-influx-grafana-v1-piled             2/2       Running   <span style=color:#666>0</span>          15m
</span></span></code></pre></div><p>Some of the pods may take a few seconds to start up (during this time they'll show <code>Pending</code>), but check that they all show as <code>Running</code> after a short period.</p><h3 id=いくつかの例の実行>いくつかの例の実行</h3><p>Then, see <a href=/ja/docs/tasks/run-application/run-stateless-application-deployment/>a simple nginx example</a> to try out your new cluster.</p><p>For more complete applications, please look in the <a href=https://github.com/kubernetes/examples/tree/master/>examples directory</a>. The <a href=https://github.com/kubernetes/examples/tree/master/guestbook/>guestbook example</a> is a good "getting started" walkthrough.</p><h2 id=クラスターの解体>クラスターの解体</h2><p>To remove/delete/teardown the cluster, use the <code>kube-down.sh</code> script.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#a2f>cd</span> kubernetes
</span></span><span style=display:flex><span>cluster/kube-down.sh
</span></span></code></pre></div><p>Likewise, the <code>kube-up.sh</code> in the same directory will bring it back up. You do not need to rerun the <code>curl</code> or <code>wget</code> command: everything needed to setup the Kubernetes cluster is now on your workstation.</p><h2 id=カスタマイズ>カスタマイズ</h2><p>The script above relies on Google Storage to stage the Kubernetes release. It
then will start (by default) a single master VM along with 3 worker VMs. You
can tweak some of these parameters by editing <code>kubernetes/cluster/gce/config-default.sh</code>
You can view a transcript of a successful cluster creation
<a href=https://gist.github.com/satnam6502/fc689d1b46db9772adea>here</a>.</p><h2 id=トラブルシューティング>トラブルシューティング</h2><h3 id=プロジェクトの設定>プロジェクトの設定</h3><p>You need to have the Google Cloud Storage API, and the Google Cloud Storage
JSON API enabled. It is activated by default for new projects. Otherwise, it
can be done in the Google Cloud Console. See the <a href=https://cloud.google.com/storage/docs/json_api/>Google Cloud Storage JSON
API Overview</a> for more
details.</p><p>Also ensure that-- as listed in the <a href=#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6>Prerequisites section</a>-- you've enabled the <code>Compute Engine Instance Group Manager API</code>, and can start up a GCE VM from the command line as in the <a href=https://cloud.google.com/compute/docs/quickstart>GCE Quickstart</a> instructions.</p><h3 id=クラスター初期化のハング>クラスター初期化のハング</h3><p>If the Kubernetes startup script hangs waiting for the API to be reachable, you can troubleshoot by SSHing into the master and node VMs and looking at logs such as <code>/var/log/startupscript.log</code>.</p><p><strong>Once you fix the issue, you should run <code>kube-down.sh</code> to cleanup</strong> after the partial cluster creation, before running <code>kube-up.sh</code> to try again.</p><h3 id=ssh>SSH</h3><p>If you're having trouble SSHing into your instances, ensure the GCE firewall
isn't blocking port 22 to your VMs. By default, this should work but if you
have edited firewall rules or created a new non-default network, you'll need to
expose it: <code>gcloud compute firewall-rules create default-ssh --network=&lt;network-name> --description "SSH allowed from anywhere" --allow tcp:22</code></p><p>Additionally, your GCE SSH key must either have no passcode or you need to be
using <code>ssh-agent</code>.</p><h3 id=ネットワーク>ネットワーク</h3><p>The instances must be able to connect to each other using their private IP. The
script uses the "default" network which should have a firewall rule called
"default-allow-internal" which allows traffic on any port on the private IPs.
If this rule is missing from the default network or if you change the network
being used in <code>cluster/config-default.sh</code> create a new rule with the following
field values:</p><ul><li>Source Ranges: <code>10.0.0.0/8</code></li><li>Allowed Protocols and Port: <code>tcp:1-65535;udp:1-65535;icmp</code></li></ul><h2 id=サポートレベル>サポートレベル</h2><table><thead><tr><th>IaaS Provider</th><th>Config. Mgmt</th><th>OS</th><th>Networking</th><th>Docs</th><th>Conforms</th><th>Support Level</th></tr></thead><tbody><tr><td>GCE</td><td>Saltstack</td><td>Debian</td><td>GCE</td><td><a href=/ja/docs/setup/production-environment/turnkey/gce/>docs</a></td><td></td><td>Project</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-ba2691e5872ead2141b1e8fd7d29ee21>5 - IBM Cloud Privateを使ってマルチクラウドでKubernetesを動かす</h1><p>IBM® Cloud Private is a turnkey cloud solution and an on-premises turnkey cloud solution. IBM Cloud Private delivers pure upstream Kubernetes with the typical management components that are required to run real enterprise workloads. These workloads include health management, log management, audit trails, and metering for tracking usage of workloads on the platform.</p><p>IBM Cloud Private is available in a community edition and a fully supported enterprise edition. The community edition is available at no charge from <a href=https://hub.docker.com/r/ibmcom/icp-inception/>Docker Hub</a>. The enterprise edition supports high availability topologies and includes commercial support from IBM for Kubernetes and the IBM Cloud Private management platform. If you want to try IBM Cloud Private, you can use either the hosted trial, the tutorial, or the self-guided demo. You can also try the free community edition. For details, see <a href=https://www.ibm.com/cloud/private/get-started>Get started with IBM Cloud Private</a>.</p><p>For more information, explore the following resources:</p><ul><li><a href=https://www.ibm.com/cloud/private>IBM Cloud Private</a></li><li><a href=https://github.com/ibm-cloud-architecture/refarch-privatecloud>Reference architecture for IBM Cloud Private</a></li><li><a href=https://www.ibm.com/support/knowledgecenter/SSBS6K/product_welcome_cloud_private.html>IBM Cloud Private documentation</a></li></ul><h2 id=ibm-cloud-privateとterraform>IBM Cloud PrivateとTerraform</h2><p>The following modules are available where you can deploy IBM Cloud Private by using Terraform:</p><ul><li>AWS: <a href=https://github.com/ibm-cloud-architecture/terraform-icp-aws>Deploy IBM Cloud Private to AWS</a></li><li>Azure: <a href=https://github.com/ibm-cloud-architecture/terraform-icp-azure>Deploy IBM Cloud Private to Azure</a></li><li>IBM Cloud: <a href=https://github.com/ibm-cloud-architecture/terraform-icp-ibmcloud>Deploy IBM Cloud Private cluster to IBM Cloud</a></li><li>OpenStack: <a href=https://github.com/ibm-cloud-architecture/terraform-icp-openstack>Deploy IBM Cloud Private to OpenStack</a></li><li>Terraform module: <a href=https://github.com/ibm-cloud-architecture/terraform-module-icp-deploy>Deploy IBM Cloud Private on any supported infrastructure vendor</a></li><li>VMware: <a href=https://github.com/ibm-cloud-architecture/terraform-icp-vmware>Deploy IBM Cloud Private to VMware</a></li></ul><h2 id=aws上でのibm-cloud-private>AWS上でのIBM Cloud Private</h2><p>You can deploy an IBM Cloud Private cluster on Amazon Web Services (AWS) using Terraform.</p><p>IBM Cloud Private can also run on the AWS cloud platform by using Terraform. To deploy IBM Cloud Private in an AWS EC2 environment, see <a href=https://github.com/ibm-cloud-architecture/terraform-icp-aws>Installing IBM Cloud Private on AWS</a>.</p><h2 id=azure上でのibm-cloud-private>Azure上でのIBM Cloud Private</h2><p>You can enable Microsoft Azure as a cloud provider for IBM Cloud Private deployment and take advantage of all the IBM Cloud Private features on the Azure public cloud. For more information, see <a href=https://www.ibm.com/support/knowledgecenter/SSBS6K_3.2.0/supported_environments/azure_overview.html>IBM Cloud Private on Azure</a>.</p><h2 id=red-hat-openshiftを用いたibm-cloud-private>Red Hat OpenShiftを用いたIBM Cloud Private</h2><p>You can deploy IBM certified software containers that are running on IBM Cloud Private onto Red Hat OpenShift.</p><p>Integration capabilities:</p><ul><li>Supports Linux® 64-bit platform in offline-only installation mode</li><li>Single-master configuration</li><li>Integrated IBM Cloud Private cluster management console and catalog</li><li>Integrated core platform services, such as monitoring, metering, and logging</li><li>IBM Cloud Private uses the OpenShift image registry</li></ul><p>For more information see, <a href=https://www.ibm.com/support/knowledgecenter/SSBS6K_3.2.0/supported_environments/openshift/overview.html>IBM Cloud Private on OpenShift</a>.</p><h2 id=virtualbox上でのibm-cloud-private>VirtualBox上でのIBM Cloud Private</h2><p>To install IBM Cloud Private to a VirtualBox environment, see <a href=https://github.com/ibm-cloud-architecture/refarch-privatecloud-virtualbox>Installing IBM Cloud Private on VirtualBox</a>.</p><h2 id=vmware上でのibm-cloud-private>VMware上でのIBM Cloud Private</h2><p>You can install IBM Cloud Private on VMware with either Ubuntu or RHEL images. For details, see the following projects:</p><ul><li><a href=https://github.com/ibm-cloud-architecture/refarch-privatecloud/blob/master/Installing_ICp_on_prem_ubuntu.md>Installing IBM Cloud Private with Ubuntu</a></li><li><a href=https://github.com/ibm-cloud-architecture/refarch-privatecloud/tree/master/icp-on-rhel>Installing IBM Cloud Private with Red Hat Enterprise</a></li></ul><p>The IBM Cloud Private Hosted service automatically deploys IBM Cloud Private Hosted on your VMware vCenter Server instances. This service brings the power of microservices and containers to your VMware environment on IBM Cloud. With this service, you can extend the same familiar VMware and IBM Cloud Private operational model and tools from on-premises into the IBM Cloud.</p><p>For more information, see <a href="https://cloud.ibm.com/docs/vmwaresolutions?topic=vmwaresolutions-icp_overview">IBM Cloud Private Hosted service</a>.</p></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/ja/docs/home/>ホーム</a>
<a class=text-white href=/ja/blog/>Blogs</a>
<a class=text-white href=/ja/training/>トレーニング</a>
<a class=text-white href=/ja/partners/>パートナー</a>
<a class=text-white href=/ja/community/>コミュニティ</a>
<a class=text-white href=/ja/case-studies/>ケーススタディ</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 The Kubernetes Authors | Documentation Distributed under <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Trademark Usage page</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>