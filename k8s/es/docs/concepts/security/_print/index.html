<!doctype html><html lang=es class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=en href=https://kubernetes.io/docs/concepts/security/><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/concepts/security/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/concepts/security/><link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/concepts/security/><link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/concepts/security/><link rel=alternate hreflang=pt-br href=https://kubernetes.io/pt-br/docs/concepts/security/><link rel=alternate hreflang=id href=https://kubernetes.io/id/docs/concepts/security/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/es/docs/concepts/security/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Seguridad | Kubernetes</title><meta property="og:title" content="Seguridad"><meta property="og:description" content="Orquestación de contenedores para producción"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/es/docs/concepts/security/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Seguridad"><meta itemprop=description content="Orquestación de contenedores para producción"><meta name=twitter:card content="summary"><meta name=twitter:title content="Seguridad"><meta name=twitter:description content="Orquestación de contenedores para producción"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:url" content="https://kubernetes.io/es/docs/concepts/security/"><meta property="og:title" content="Seguridad"><meta name=twitter:title content="Seguridad"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/es/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/es/docs/>Documentación</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/es/blog/>Kubernetes Blog</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/es/partners/>Partners</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/es/community/>Comunidad</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/es/case-studies/>Casos de éxito</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versions</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/es/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/es/docs/concepts/security/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/es/docs/concepts/security/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/es/docs/concepts/security/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/es/docs/concepts/security/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/es/docs/concepts/security/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Español (Spanish)</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/concepts/security/>English</a>
<a class=dropdown-item href=/zh-cn/docs/concepts/security/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/concepts/security/>한국어 (Korean)</a>
<a class=dropdown-item href=/ja/docs/concepts/security/>日本語 (Japanese)</a>
<a class=dropdown-item href=/fr/docs/concepts/security/>Français (French)</a>
<a class=dropdown-item href=/pt-br/docs/concepts/security/>Português (Portuguese)</a>
<a class=dropdown-item href=/id/docs/concepts/security/>Bahasa Indonesia</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Versión imprimible multipagina.
<a href=# onclick="return print(),!1">Haga click aquí para imprimir</a>.</p><p><a href=/es/docs/concepts/security/>Volver a la vista normal de esta página</a>.</p></div><h1 class=title>Seguridad</h1><ul><li>1: <a href=#pg-04eeb110d75afc8acb2cf7a3db743985>Vista General de Seguridad Cloud Native</a></li><li>2: <a href=#pg-4d77d1ae4c06aa14f54b385191627881>Controlando el Acceso a la API de Kubernetes</a></li></ul><div class=content></div></div><div class=td-content><h1 id=pg-04eeb110d75afc8acb2cf7a3db743985>1 - Vista General de Seguridad Cloud Native</h1><p>Esta descripción general define un modelo para la seguridad de Kubernetes en el contexto de Seguridad en Cloud Native.</p><div class="alert alert-danger warning callout" role=alert><strong>Advertencia:</strong> Este modelo de seguridad en el contenedor brinda sugerencias, no es una prueba de políticas de seguridad de la información.</div><h2 id=las-4c-de-seguridad-en-cloud-native>Las 4C de Seguridad en Cloud Native</h2><p>Puede pensar en seguridad por capas. Las 4C de la seguridad en Cloud Native son la nube (Cloud),
<a class=glossary-tooltip title='Un conjunto de máquinas, llamadas nodos, que ejecutan aplicaciones en contenedores administradas por Kubernetes.' data-toggle=tooltip data-placement=top href='/es/docs/reference/glossary/?all=true#term-cluster' target=_blank aria-label=Clústeres>Clústeres</a>, <a class=glossary-tooltip title='Una imagen ligera y portátil que contiene un software y todas sus dependencias.' data-toggle=tooltip data-placement=top href=/docs/concepts/overview/what-is-kubernetes/#why-containers target=_blank aria-label=Contenedores>Contenedores</a> y Código.</p><div class="alert alert-info note callout" role=alert><strong>Nota:</strong> Este enfoque en capas aumenta la <a href=https://en.wikipedia.org/wiki/Defense_in_depth_(computing)>defensa en profundidad</a>
de la seguridad, es considerada una buena práctica en seguridad para el software de sistemas.</div><figure><img src=/images/docs/4c.png><figcaption><h4>Las 4C de Seguridad en Cloud Native</h4></figcaption></figure><p>Cada capa del modelo de seguridad Cloud Native es basada en la siguiente capa más externa.
La capa de código se beneficia de una base sólida (nube, clúster, contenedor) de capas seguras.
No podemos garantizar la seguridad aplicando solo seguridad a nivel del código, y usar estándares de seguridad deficientes en las otras capas.</p><h2 id=nube-cloud>Nube (Cloud)</h2><p>En muchos sentidos, la nube (o los servidores o el centro de datos corporativo) es la
<a href=https://es.wikipedia.org/wiki/Base_de_computador_confiable>base de computador confiable</a>
de un clúster de Kubernetes. Si la capa de la nube es vulnerable (o
configurado de alguna manera vulnerable), por consecuencia no hay garantía de que los componentes construidos
encima de la base sean seguros. Cada proveedor de la nube tiene recomendaciones de seguridad
para ejecutar las cargas de trabajo de forma segura en sus entornos.</p><h3 id=seguridad-del-proveedor-de-la-nube>Seguridad del proveedor de la nube</h3><p>Si está ejecutando un clúster de Kubernetes en su propio hardware o en un proveedor de nube diferente,
consulte la documentación para conocer las mejores prácticas de seguridad.
A continuación, algunos enlaces a la documentación de seguridad de los proveedores de nube más populares:</p><table><caption style=display:none>Cloud provider security</caption><thead><tr><th>Proveedor IaaS</th><th>Link</th></tr></thead><tbody><tr><td>Alibaba Cloud</td><td><a href=https://www.alibabacloud.com/trust-center>https://www.alibabacloud.com/trust-center</a></td></tr><tr><td>Amazon Web Services</td><td><a href=https://aws.amazon.com/security/>https://aws.amazon.com/security/</a></td></tr><tr><td>Google Cloud Platform</td><td><a href=https://cloud.google.com/security/>https://cloud.google.com/security/</a></td></tr><tr><td>IBM Cloud</td><td><a href=https://www.ibm.com/cloud/security>https://www.ibm.com/cloud/security</a></td></tr><tr><td>Microsoft Azure</td><td><a href=https://docs.microsoft.com/en-us/azure/security/azure-security>https://docs.microsoft.com/en-us/azure/security/azure-security</a></td></tr><tr><td>Oracle Cloud Infrastructure</td><td><a href=https://www.oracle.com/security/>https://www.oracle.com/security/</a></td></tr><tr><td>VMWare VSphere</td><td><a href=https://www.vmware.com/security/hardening-guides.html>https://www.vmware.com/security/hardening-guides.html</a></td></tr></tbody></table><h3 id=infrastructure-security>Seguridad de la Infraestructura</h3><p>Sugerencias para proteger su infraestructura en un clúster de Kubernetes:</p><table><caption style=display:none>Infrastructure security</caption><thead><tr><th>Área de Interés para la Infraestructura de Kubernetes</th><th>Recomendación</th></tr></thead><tbody><tr><td>Acceso de red al Plano de Control</td><td>Todo acceso público al <a class=glossary-tooltip title='The container orchestration layer that exposes the API and interfaces to define, deploy, and manage the lifecycle of containers.' data-toggle=tooltip data-placement=top href='/es/docs/reference/glossary/?all=true#term-control-plane' target=_blank aria-label='plano de control'>plano de control</a> del Kubernetes en Internet no está permitido y es controlado por listas de control de acceso a la red estrictas a un conjunto de direcciones IP necesarias para administrar el clúster.</td></tr><tr><td>Acceso a la red de los Nodos</td><td>Los <a class=glossary-tooltip title='Un Node, nodo en castellano, es una de las máquinas del clúster de Kubernetes.' data-toggle=tooltip data-placement=top href=/docs/concepts/architecture/nodes/ target=_blank aria-label=nodos>nodos</a> deben ser configurados para <em>solo</em> aceptar conexiones (por medio de listas de control de acceso a la red) desde el plano de control en los puertos especificados y aceptar conexiones para servicios en Kubernetes del tipo NodePort y LoadBalancer. Si es posible, estos nodos no deben exponerse públicamente en Internet.</td></tr><tr><td>Acceso a la API de Kubernetes del proveedor de la nube</td><td>Cada proveedor de la nube debe dar un conjunto de permisos al plano de control y nodos del Kubernetes. Es mejor otorgar al clúster el permiso de acceso al proveedor de nube siguiendo el <a href=https://es.wikipedia.org/wiki/Principio_de_m%C3%ADnimo_privilegio>principio de mínimo privilegio</a> para los recursos que necesite administrar. La <a href=https://github.com/kubernetes/kops/blob/master/docs/iam_roles.md#iam-roles>documentación del Kops</a> ofrece información sobre las políticas y roles de IAM.</td></tr><tr><td>Acceso a etcd</td><td>El acceso a <a class=glossary-tooltip title='Almacén de datos persistente, consistente y distribuido de clave-valor utilizado para almacenar toda a la información del clúster de Kubernetes.' data-toggle=tooltip data-placement=top href=/docs/tasks/administer-cluster/configure-upgrade-etcd/ target=_blank aria-label=etcd>etcd</a> (banco de datos de Kubernetes) debe ser limitado apenas al plano de control. Dependiendo de su configuración, debería intentar usar etcd sobre TLS. Puede encontrar mas información en la <a href=https://github.com/etcd-io/etcd/tree/master/Documentation>documentación de etcd</a>.</td></tr><tr><td>Encriptación etcd</td><td>Siempre que sea posible, es una buena práctica encriptar todas las unidades de almacenamiento. Etcd mantiene el estado de todo el clúster (incluidos los Secretos), por lo que su disco debe estar encriptado.</td></tr></tbody></table><h2 id=clúster>Clúster</h2><p>Existen dos áreas de preocupación para proteger Kubernetes:</p><ul><li>Protección de las configuraciones de los componentes del clúster.</li><li>Protección de las aplicaciones que se ejecutan en el clúster.</li></ul><h3 id=cluster-components>Componentes del Clúster</h3><p>Si desea proteger su clúster de accesos accidentales o maliciosos y adoptar
buenas prácticas de seguridad, a continuación sigue estos consejos sobre
<a href=/docs/tasks/administer-cluster/securing-a-cluster/>como proteger el clúster</a>.</p><h3 id=cluster-applications>Componentes del clúster (su aplicación)</h3><p>Dependiendo de la superficie de ataque de su aplicación, es posible que desee concentrarse en
temas de seguridad específicos. Por ejemplo: si está ejecutando un servicio (Servicio A) que es crítico
en una cadena de otros recursos y otra carga de trabajo separada (Servicio B) que es
vulnerable a un ataque de sobrecarga de recursos, el riesgo de comprometer el Servicio A
es alto si no limita las funciones del Servicio B. La siguiente tabla enumera
áreas de atención de seguridad y recomendaciones para proteger las cargas de trabajo que se ejecutan en Kubernetes:</p><table><thead><tr><th>Áreas para la seguridad de la carga del trabajo</th><th>Recomendación</th></tr></thead><tbody><tr><td>Autorización RBAC (acceso a la API Kubernetes)</td><td><a href=https://kubernetes.io/docs/reference/access-authn-authz/rbac/>https://kubernetes.io/docs/reference/access-authn-authz/rbac/</a></td></tr><tr><td>Autenticación</td><td><a href=https://kubernetes.io/docs/concepts/security/controlling-access/>https://kubernetes.io/docs/concepts/security/controlling-access/</a></td></tr><tr><td>Administrar secretos en la aplicación (encriptar el etcd - dato en reposo)</td><td><a href=https://kubernetes.io/docs/concepts/configuration/secret/>https://kubernetes.io/docs/concepts/configuration/secret/</a><br><a href=https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/>https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/</a></td></tr><tr><td>Políticas de seguridad de Pod</td><td><a href=https://kubernetes.io/docs/concepts/policy/pod-security-policy/>https://kubernetes.io/docs/concepts/policy/pod-security-policy/</a></td></tr><tr><td>Calidad de servicio (y gestión de recursos del clúster)</td><td><a href=https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/>https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/</a></td></tr><tr><td>Políticas de Red</td><td><a href=https://kubernetes.io/docs/concepts/services-networking/network-policies/>https://kubernetes.io/docs/concepts/services-networking/network-policies/</a></td></tr><tr><td>TLS para Kubernetes Ingress</td><td><a href=https://kubernetes.io/docs/concepts/services-networking/ingress/#tls>https://kubernetes.io/docs/concepts/services-networking/ingress/#tls</a></td></tr></tbody></table><h2 id=contenedor>Contenedor</h2><p>La seguridad de los contenedores está fuera del alcance de la guía. Aquí hay recomendaciones generales y
enlaces para explorar este tema:</p><table><thead><tr><th>Área de Interés para Contenedores</th><th>Recomendación</th></tr></thead><tbody><tr><td>Escáneres de vulnerabilidad de contenedores y seguridad de dependencia del sistema operativo</td><td>Como parte del paso de la creación de la imagen, se debe utilizar un escáner de contenedores para detectar vulnerabilidades.</td></tr><tr><td>Firma de Imágenes y Aplicación</td><td>Firma de imágenes de contenedores para mantener un sistema confiable para el contenido de sus contenedores.</td></tr><tr><td>Prohibir Usuarios Privilegiados</td><td>Al crear contenedores, consulte la documentación para crear usuarios dentro de los contenedores con el menor privilegio necesario para cumplir con el propósito del contenedor en el sistema operativo.</td></tr><tr><td>Utilice el contenedor de tiempo de ejecución con el aislamiento más fuerte</td><td>Seleccione <a href=/docs/concepts/containers/runtime-class/>clases del contenedor runtime</a> con el proveedor de aislamiento más fuerte.</td></tr></tbody></table><h2 id=código>Código</h2><p>El código de la aplicación es una de las principales superficies de ataque sobre las que tenemos más control.
Aunque la protección del código de la aplicación está fuera del tema de seguridad de Kubernetes, aquí algunas
recomendaciones para proteger el código de su aplicación:</p><h3 id=seguridad-del-código>Seguridad del código</h3><table><caption style=display:none>Code security</caption><thead><tr><th>Áreas de Atención para el Código</th><th>Recomendación</th></tr></thead><tbody><tr><td>Acceso solo a través de TLS</td><td>Si su código necesita comunicarse a través de TCP, ejecute un handshake TLS con el cliente anticipadamente. Con la excepción de algunos casos, encripte todo lo que está en tránsito. Yendo un paso más allá, es una buena idea cifrar el tráfico de red entre los servicios. Esto se puede hacer a través del proceso de autenticación mutua o <a href=https://en.wikipedia.org/wiki/Mutual_authentication>mTLS</a>, que realiza una verificación bilateral de la comunicación a través de los certificados en los servicios.</td></tr><tr><td>Limitación de rangos de puertos de comunicación</td><td>Esta recomendación puede ser un poco evidente, pero siempre que sea posible, solo debe exponer los puertos de su servicio que son absolutamente esenciales para la comunicación o la recopilación de métricas.</td></tr><tr><td>Seguridad en dependencia de terceros</td><td>Es una buena práctica comprobar periódicamente las bibliotecas de terceros de su aplicación en busca de vulnerabilidades de seguridad. Cada lenguaje de programación tiene una herramienta para realizar esta verificación de forma automática.</td></tr><tr><td>Análisis de código estático</td><td>La mayoría de los lenguajes proporcionan una forma de analizar el código en busca de prácticas de codificación potencialmente inseguras. Siempre que sea posible, debe automatizar los escaneos utilizando herramientas que puedan escanear las bases del código en busca de errores de seguridad comunes. Algunas de las herramientas se pueden encontrar en <a href=https://owasp.org/www-community/Source_Code_Analysis_Tools>OWASP Source Code Analysis Tools</a>.</td></tr><tr><td>Ataques de sondeo dinámico</td><td>Existen algunas herramientas automatizadas que puede ejecutar en su servicio para explorar algunos de los ataques más conocidos. Esto incluye la inyección de SQL, CSRF y XSS. Una de las herramientas de análisis dinámico más populares es la <a href=https://owasp.org/www-project-zap/>OWASP Zed Attack proxy</a>.</td></tr></tbody></table><h2 id=siguientes-pasos>Siguientes pasos</h2><p>Obtenga más información sobre los temas de seguridad de Kubernetes:</p><ul><li><a href=/docs/concepts/security/pod-security-standards/>Estándares de seguridad del pod</a></li><li><a href=/docs/concepts/services-networking/network-policies/>Políticas de red para pods</a></li><li><a href=/docs/concepts/security/controlling-access>Control de acceso a la API de Kubernetes</a></li><li><a href=/docs/tasks/administer-cluster/securing-a-cluster/>Protegiendo su clúster</a></li><li><a href=/docs/tasks/tls/managing-tls-in-a-cluster/>Criptografía de datos en tránsito</a></li><li><a href=/docs/tasks/administer-cluster/encrypt-data/>Criptografía de datos en reposo</a></li><li><a href=/docs/concepts/configuration/secret/>Secretos en Kubernetes</a></li><li><a href=/docs/concepts/containers/runtime-class>Runtime class</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-4d77d1ae4c06aa14f54b385191627881>2 - Controlando el Acceso a la API de Kubernetes</h1><p>Esta página proporciona información sobre cómo controlar el acceso a la API de Kubernetes.</p><p>Los usuarios acceden a la <a href=/docs/concepts/overview/kubernetes-api/>API de Kubernetes</a> usando <code>kubectl</code>,
bibliotecas de cliente, o haciendo peticiones REST. Usuarios y
<a href=/docs/tasks/configure-pod-container/configure-service-account/>Kubernetes service accounts</a> pueden ser
autorizados para acceder a la API.
Cuando una petición llega a la API, pasa por varias etapas, están ilustradas en el
siguiente diagrama:</p><p><img src=/images/docs/admin/access-control-overview.svg alt="Diagrama de pasos para una petición a la API de Kubernetes"></p><h2 id=seguridad-en-la-capa-de-transporte>Seguridad en la capa de transporte</h2><p>En un <a class=glossary-tooltip title='Un conjunto de máquinas, llamadas nodos, que ejecutan aplicaciones en contenedores administradas por Kubernetes.' data-toggle=tooltip data-placement=top href='/es/docs/reference/glossary/?all=true#term-cluster' target=_blank aria-label=cluster>cluster</a> típico de Kubernetes, la API sirve peticiones en el puerto 443, protegida por TLS.
El <a class=glossary-tooltip title='Componente del plano de control que expone la API de Kubernetes.' data-toggle=tooltip data-placement=top href=/docs/reference/generated/kube-apiserver/ target=_blank aria-label='API Server'>API Server</a> presenta un certificado. Este certificado puede ser firmando usando
un certificado de autoridad privada (CA) o basado en una llave pública relacionada
generalmente a un CA reconocido.</p><p>Si el cluster usa un certificado de autoridad privado, se necesita copiar este certificado
CA configurado dentro de su <code>~/.kube/config</code> en el cliente, entonces se podrá
confiar en la conexión y estar seguro que no será comprometida.</p><p>El cliente puede presentar un certificado TLS de cliente en esta etapa.</p><h2 id=autenticación>Autenticación</h2><p>Una vez que se estableció la conexión TLS, las peticiones HTTP avanzan a la etapa de autenticación.
Esto se muestra en el paso 1 del diagrama.
El script de creación del cluster o el administrador del cluster puede configurar el <a class=glossary-tooltip title='Componente del plano de control que expone la API de Kubernetes.' data-toggle=tooltip data-placement=top href=/docs/reference/generated/kube-apiserver/ target=_blank aria-label='API Server'>API Server</a> para ejecutar
uno o mas módulos de autenticación.
Los Autenticadores están descritos con más detalle en
<a href=/docs/reference/access-authn-authz/authentication/>Authentication</a>.</p><p>La entrada al paso de autenticación es la petición HTTP completa, aun así, esta tipicamente
examina las cabeceras y/o el certificado del cliente.</p><p>Los modulos de autenticación incluyen certificado de cliente, contraseña, tokens planos,
tokens de inicio y JSON Web Tokens (usados para los service accounts).</p><p>Múltiples módulos de autenticación puede ser especificados, en este caso cada uno es probado secuencialmente,
hasta que uno de ellos tiene éxito.</p><p>Si la petición no puede ser autenticada, la misma es rechazada con un código HTTP 401.
Si la autenticación tiene éxito, el usuario es validado con el <code>username</code> específico, y el nombre de usuario
esta disponible para los pasos siguientes. Algunos autenticadores
también proporcionan membresías de grupo al usuario, mientras que otros
no lo hacen.</p><p>Aunque Kubernetes utiliza los nombres de usuario para tomar decisiones durante el control de acceso y para registrar las peticiones de entrada, no tiene un objeto <code>User</code> ni tampoco almacena información sobre los usuarios en la API.</p><h2 id=autorización>Autorización</h2><p>Después de autenticar la petición como proveniente de un usuario específico, la petición debe ser autorizada. Esto se muestra en el paso 2 del diagrama.</p><p>Una petición debe incluir el nombre de usuario solicitante, la acción solicitada y el objeto afectado por la acción. La petición es autorizada si hay una política existente que declare que el usuario tiene permisos para la realizar la acción.</p><p>Por ejemplo, si el usuario Bob tiene la siguiente política, entonces puede leer pods solamente en el namespace <code>projectCaribou</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;Policy&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;user&#34;</span>: <span style=color:#b44>&#34;bob&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;namespace&#34;</span>: <span style=color:#b44>&#34;projectCaribou&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;pods&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:green;font-weight:700>&#34;readonly&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Si Bob hace la siguiente petición, será autorizada dado que tiene permitido leer los objetos en el namespace <code>projectCaribou</code> :</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;authorization.k8s.io/v1beta1&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;SubjectAccessReview&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>&#34;resourceAttributes&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;namespace&#34;</span>: <span style=color:#b44>&#34;projectCaribou&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;verb&#34;</span>: <span style=color:#b44>&#34;get&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;unicorn.example.org&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;pods&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>En cambio, si Bob en su petición intenta escribir (<code>create</code> o <code>update</code>) en los objetos del namespace <code>projectCaribou</code>, la petición será denegada. Del mismo modo, si Bob hace una petición para leer (<code>get</code>) objetos en otro namespace como <code>projectFish</code>, la autorización también será denegada.</p><p>Las autorizaciones en Kubernetes requieren que se usen atributos REST comunes para interactuar con el existente sistema de control de toda la organización o del proveedor cloud. Es importante usar formatos REST porque esos sistemas de control pueden interactuar con otras APIs además de la API de Kubernetes.</p><p>Kubernetes soporta múltiples módulos de autorización, como el modo ABAC, el modo RBAC y el modo Webhook. Cuando un administrador crea un cluster, se realiza la configuración de los módulos de autorización que deben ser usados con la API del server. Si más de uno módulo de autorización es configurado, Kubernetes verificada cada uno y si alguno de ellos autoriza la petición entonces la misma se ejecuta. Si todos los modules deniegan la petición, entonces la misma es denegada (Con un error HTTP con código 403).</p><p>Para leer más acerca de las autorizaciones en Kubernetes, incluyendo detalles sobre cómo crear politicas usando los módulos de autorización soportados, vea <a href=/docs/reference/access-authn-authz/authorization/>Authorization</a>.</p><h2 id=control-de-admisión>Control de Admisión</h2><p>Los módulos de Control de Admisión son módulos de software que solo pueden modificar o rechazar peticiones.
Adicionalmente a los atributos disponibles en los módulos de Autorización, los de
Control de Admisión pueden acceder al contenido del objeto que esta siendo creado o modificado.</p><p>Los Controles de Admisión actúan en las peticiones que crean, modifican, borran o se conectan (proxy) a un objeto.
Cuando múltiples módulos de control de admisión son configurados, son llamados en orden.</p><p>Esto se muestra en el paso 3 del diagrama.</p><p>A diferencia de los módulos de Autorización y Autenticación, si uno de los módulos de control de admisión
rechaza la petición, entonces es inmediatamente rechazada.</p><p>Adicionalmente a rechazar objetos, los controles de admisión también permiten establecer
valores predeterminados complejos.</p><p>Los módulos de Control de Admisión disponibles están descritos en <a href=/docs/reference/access-authn-authz/admission-controllers/>Admission Controllers</a>.</p><p>Cuando una petición pasa todos los controles de admisión, esta es validada usando la rutinas de validación
para el objeto API correspondiente y luego es escrita en el objeto.</p><h2 id=puertos-e-ips-del-api-server>Puertos e IPs del API server</h2><p>La discusión previa aplica a peticiones enviadas a un puerto seguro del servidor API
(el caso típico). El servidor API puede en realidad servir en 2 puertos:</p><p>Por defecto, la API de Kubernetes entrega HTTP en 2 puertos:</p><ol><li><p>puerto <code>localhost</code>:</p><ul><li>debe usarse para testeo e iniciar el sistema y para otros componentes del nodo maestro
(scheduler, controller-manager) para hablar con la API</li><li>no se usa TLS</li><li>el puerto predeterminado es el <code>8080</code></li><li>la IP por defecto es localhost, la puede cambiar con el flag <code>--insecure-bind-address</code>.</li><li>la petición no pasa por los mecanismos de autenticación ni autorización</li><li>peticiones controladas por los modulos de control de admisión.</li><li>protegidas por necesidad para tener acceso al host</li></ul></li><li><p>“Puerto seguro”:</p><ul><li>usar siempre que sea posible</li><li>usa TLS. Se configura el certificado con el flag <code>--tls-cert-file</code> y la clave con <code>--tls-private-key-file</code>.</li><li>el puerto predeterminado es <code>6443</code>, se cambia con el flag <code>--secure-port</code>.</li><li>la IP por defecto es la primer interface que no es la localhost. se cambia con el flag <code>--bind-address</code>.</li><li>peticiones controladas por los módulos de autenticación y autorización.</li><li>peticiones controladas por los módulos de control de admisión.</li></ul></li></ol><h2 id=siguientes-pasos>Siguientes pasos</h2><p>En los siguientes enlaces, encontrará mucha más documentación sobre autenticación, autorización y el control de acceso a la API:</p><ul><li><p><a href=/docs/reference/access-authn-authz/authentication/>Authenticating</a></p><ul><li><a href=/docs/reference/access-authn-authz/bootstrap-tokens/>Authenticating with Bootstrap Tokens</a></li></ul></li><li><p><a href=/docs/reference/access-authn-authz/admission-controllers/>Admission Controllers</a></p><ul><li><a href=/docs/reference/access-authn-authz/extensible-admission-controllers/>Dynamic Admission Control</a></li></ul></li><li><p><a href=/docs/reference/access-authn-authz/authorization/>Authorization</a></p><ul><li><a href=/docs/reference/access-authn-authz/rbac/>Role Based Access Control</a></li><li><a href=/docs/reference/access-authn-authz/abac/>Attribute Based Access Control</a></li><li><a href=/docs/reference/access-authn-authz/node/>Node Authorization</a></li><li><a href=/docs/reference/access-authn-authz/webhook/>Webhook Authorization</a></li></ul></li><li><p><a href=/docs/reference/access-authn-authz/certificate-signing-requests/>Certificate Signing Requests</a></p><ul><li>including <a href=/docs/reference/access-authn-authz/certificate-signing-requests/#approval-rejection>CSR approval</a>
and <a href=/docs/reference/access-authn-authz/certificate-signing-requests/#signing>certificate signing</a></li></ul></li><li><p>Service accounts</p><ul><li><a href=/docs/tasks/configure-pod-container/configure-service-account/>Developer guide</a></li><li><a href=/docs/reference/access-authn-authz/service-accounts-admin/>Administration</a></li></ul></li><li><p>Como los pods pueden usar
<a href=/docs/concepts/configuration/secret/#service-accounts-automatically-create-and-attach-secrets-with-api-credentials>Secrets</a>
para obtener credenciales para la API.</p></li></ul></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/es/docs/home/>Home</a>
<a class=text-white href=/es/blog/>Blog</a>
<a class=text-white href=/es/partners/>Partners</a>
<a class=text-white href=/es/community/>Comunidad</a>
<a class=text-white href=/es/case-studies/>Casos de éxito</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 Los autores de Kubernetes | Documentación distribuida bajo <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. Todos los derechos reservados. The Linux Foundation tiene marcas registradas y utiliza marcas registradas. Para obtener una lista de marcas registradas por The Linux Foundation, visita <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Trademark Usage page</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>