<!doctype html><html lang=en class=no-js><head><meta name=robots content="noindex, nofollow"><link rel=alternate hreflang=zh-cn href=https://kubernetes.io/zh-cn/docs/reference/node/><link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/reference/node/><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=https://kubernetes.io/docs/reference/node/><link rel="shortcut icon" type=image/png href=/images/favicon.png><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=manifest href=/manifest.webmanifest><link rel=apple-touch-icon href=/images/kubernetes-192x192.png><title>Node Reference Information | Kubernetes</title><meta property="og:title" content="Node Reference Information"><meta property="og:description" content="Production-Grade Container Orchestration"><meta property="og:type" content="website"><meta property="og:url" content="https://kubernetes.io/docs/reference/node/"><meta property="og:site_name" content="Kubernetes"><meta itemprop=name content="Node Reference Information"><meta itemprop=description content="Production-Grade Container Orchestration"><meta name=twitter:card content="summary"><meta name=twitter:title content="Node Reference Information"><meta name=twitter:description content="Production-Grade Container Orchestration"><link href=/scss/main.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png","potentialAction":{"@type":"SearchAction","target":"https://kubernetes.io/search/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><meta name=theme-color content="#326ce5"><link rel=stylesheet href=/css/feature-states.css><meta name=description content="This section contains the following reference topics about nodes:
the kubelet's checkpoint API a list of Articles on dockershim Removal and on Using CRI-compatible Runtimes You can also read node reference details from elsewhere in the Kubernetes documentation, including:
Node Metrics Data. "><meta property="og:description" content="This section contains the following reference topics about nodes:
the kubelet's checkpoint API a list of Articles on dockershim Removal and on Using CRI-compatible Runtimes You can also read node reference details from elsewhere in the Kubernetes documentation, including:
Node Metrics Data. "><meta name=twitter:description content="This section contains the following reference topics about nodes:
the kubelet's checkpoint API a list of Articles on dockershim Removal and on Using CRI-compatible Runtimes You can also read node reference details from elsewhere in the Kubernetes documentation, including:
Node Metrics Data. "><meta property="og:url" content="https://kubernetes.io/docs/reference/node/"><meta property="og:title" content="Node Reference Information"><meta name=twitter:title content="Node Reference Information"><meta name=twitter:image content="https://kubernetes.io/images/favicon.png"><meta name=twitter:image:alt content="Kubernetes"><meta property="og:image" content="/images/kubernetes-horizontal-color.png"><meta property="og:type" content="article"><script src=/js/jquery-3.6.0.min.js intregrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary><a class=navbar-brand href=/></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-2 mb-lg-0"><a class="nav-link active" href=/docs/>Documentation</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/blog/>Kubernetes Blog</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/training/>Training</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/partners/>Partners</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/community/>Community</a></li><li class="nav-item mr-2 mb-lg-0"><a class=nav-link href=/case-studies/>Case Studies</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Versions</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/docs/reference/node/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/docs/reference/node/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/docs/reference/node/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/docs/reference/node/>v1.22</a>
<a class=dropdown-item href=https://v1-21.docs.kubernetes.io/docs/reference/node/>v1.21</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh-cn/docs/reference/node/>中文 (Chinese)</a>
<a class=dropdown-item href=/ko/docs/reference/node/>한국어 (Korean)</a></div></li></ul></div><button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/reference/node/>Return to the regular view of this page</a>.</p></div><h1 class=title>Node Reference Information</h1><ul><li>1: <a href=#pg-e9c91b750d5dd5acbbdb9e49c89d35ad>Kubelet Checkpoint API</a></li><li>2: <a href=#pg-26e96c9d268f9c39dfc525b98f477a12>Articles on dockershim Removal and on Using CRI-compatible Runtimes</a></li></ul><div class=content><p>This section contains the following reference topics about nodes:</p><ul><li>the kubelet's <a href=/docs/reference/node/kubelet-checkpoint-api/>checkpoint API</a></li><li>a list of <a href=/docs/reference/node/topics-on-dockershim-and-cri-compatible-runtimes/>Articles on dockershim Removal and on Using CRI-compatible Runtimes</a></li></ul><p>You can also read node reference details from elsewhere in the
Kubernetes documentation, including:</p><ul><li><a href=/docs/reference/instrumentation/node-metrics>Node Metrics Data</a>.</li></ul></div></div><div class=td-content><h1 id=pg-e9c91b750d5dd5acbbdb9e49c89d35ad>1 - Kubelet Checkpoint API</h1><div style=margin-top:10px;margin-bottom:10px><b>FEATURE STATE:</b> <code>Kubernetes v1.25 [alpha]</code></div><p>Checkpointing a container is the functionality to create a stateful copy of a
running container. Once you have a stateful copy of a container, you could
move it to a different computer for debugging or similar purposes.</p><p>If you move the checkpointed container data to a computer that's able to restore
it, that restored container continues to run at exactly the same
point it was checkpointed. You can also inspect the saved data, provided that you
have suitable tools for doing so.</p><p>Creating a checkpoint of a container might have security implications. Typically
a checkpoint contains all memory pages of all processes in the checkpointed
container. This means that everything that used to be in memory is now available
on the local disk. This includes all private data and possibly keys used for
encryption. The underlying CRI implementations (the container runtime on that node)
should create the checkpoint archive to be only accessible by the <code>root</code> user. It
is still important to remember if the checkpoint archive is transferred to another
system all memory pages will be readable by the owner of the checkpoint archive.</p><h2 id=operations>Operations</h2><h3 id=post-checkpoint><code>post</code> checkpoint the specified container</h3><p>Tell the kubelet to checkpoint a specific container from the specified Pod.</p><p>Consult the <a href=/docs/reference/access-authn-authz/kubelet-authn-authz>Kubelet authentication/authorization reference</a>
for more information about how access to the kubelet checkpoint interface is
controlled.</p><p>The kubelet will request a checkpoint from the underlying
<a class=glossary-tooltip title='An API for container runtimes to integrate with kubelet' data-toggle=tooltip data-placement=top href=/docs/concepts/overview/components/#container-runtime target=_blank aria-label=CRI>CRI</a> implementation. In the checkpoint
request the kubelet will specify the name of the checkpoint archive as
<code>checkpoint-&lt;podFullName>-&lt;containerName>-&lt;timestamp>.tar</code> and also request to
store the checkpoint archive in the <code>checkpoints</code> directory below its root
directory (as defined by <code>--root-dir</code>). This defaults to
<code>/var/lib/kubelet/checkpoints</code>.</p><p>The checkpoint archive is in <em>tar</em> format, and could be listed using an implementation of
<a href=https://pubs.opengroup.org/onlinepubs/7908799/xcu/tar.html><code>tar</code></a>. The contents of the
archive depend on the underlying CRI implementation (the container runtime on that node).</p><h4 id=post-checkpoint-request>HTTP Request</h4><p>POST /checkpoint/{namespace}/{pod}/{container}</p><h4 id=post-checkpoint-params>Parameters</h4><ul><li><p><strong>namespace</strong> (<em>in path</em>): string, required</p><a class=glossary-tooltip title='An abstraction used by Kubernetes to support isolation of groups of resources within a single cluster.' data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/namespaces target=_blank aria-label=Namespace>Namespace</a></li><li><p><strong>pod</strong> (<em>in path</em>): string, required</p><a class=glossary-tooltip title='A Pod represents a set of running containers in your cluster.' data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/pods/ target=_blank aria-label=Pod>Pod</a></li><li><p><strong>container</strong> (<em>in path</em>): string, required</p><a class=glossary-tooltip title='A lightweight and portable executable image that contains software and all of its dependencies.' data-toggle=tooltip data-placement=top href=/docs/concepts/containers/ target=_blank aria-label=Container>Container</a></li><li><p><strong>timeout</strong> (<em>in query</em>): integer</p><p>Timeout in seconds to wait until the checkpoint creation is finished.
If zero or no timeout is specfied the default <a class=glossary-tooltip title='An API for container runtimes to integrate with kubelet' data-toggle=tooltip data-placement=top href=/docs/concepts/overview/components/#container-runtime target=_blank aria-label=CRI>CRI</a> timeout value will be used. Checkpoint
creation time depends directly on the used memory of the container.
The more memory a container uses the more time is required to create
the corresponding checkpoint.</p></li></ul><h4 id=post-checkpoint-response>Response</h4><p>200: OK</p><p>401: Unauthorized</p><p>404: Not Found (if the <code>ContainerCheckpoint</code> feature gate is disabled)</p><p>404: Not Found (if the specified <code>namespace</code>, <code>pod</code> or <code>container</code> cannot be found)</p><p>500: Internal Server Error (if the CRI implementation encounter an error during checkpointing (see error message for further details))</p><p>500: Internal Server Error (if the CRI implementation does not implement the checkpoint CRI API (see error message for further details))</p></div><div class=td-content style=page-break-before:always><h1 id=pg-26e96c9d268f9c39dfc525b98f477a12>2 - Articles on dockershim Removal and on Using CRI-compatible Runtimes</h1><p>This is a list of articles and other pages that are either
about the Kubernetes' deprecation and removal of <em>dockershim</em>,
or about using CRI-compatible container runtimes,
in connection with that removal.</p><h2 id=kubernetes-project>Kubernetes project</h2><ul><li><p>Kubernetes blog: <a href=/blog/2020/12/02/dockershim-faq/>Dockershim Removal FAQ</a> (originally published 2020/12/02)</p></li><li><p>Kubernetes blog: <a href=/blog/2022/02/17/dockershim-faq/>Updated: Dockershim Removal FAQ</a> (updated published 2022/02/17)</p></li><li><p>Kubernetes blog: <a href=/blog/2022/01/07/kubernetes-is-moving-on-from-dockershim/>Kubernetes is Moving on From Dockershim: Commitments and Next Steps</a> (published 2022/01/07)</p></li><li><p>Kubernetes blog: <a href=/blog/2021/11/12/are-you-ready-for-dockershim-removal/>Dockershim removal is coming. Are you ready?</a> (published 2021/11/12)</p></li><li><p>Kubernetes documentation: <a href=/docs/tasks/administer-cluster/migrating-from-dockershim/>Migrating from dockershim</a></p></li><li><p>Kubernetes documentation: <a href=/docs/setup/production-environment/container-runtimes/>Container Runtimes</a></p></li><li><p>Kubernetes enhancement proposal: <a href=https://github.com/kubernetes/enhancements/blob/master/keps/sig-node/2221-remove-dockershim/README.md>KEP-2221: Removing dockershim from kubelet</a></p></li><li><p>Kubernetes enhancement proposal issue: <a href=https://github.com/kubernetes/enhancements/issues/2221>Removing dockershim from kubelet</a> (<em>k/enhancements#2221</em>)</p></li></ul><p>You can provide feedback via the GitHub issue <a href=https://github.com/kubernetes/kubernetes/issues/106917><strong>Dockershim removal feedback & issues</strong></a>. (<em>k/kubernetes/#106917</em>)</p><h2 id=third-party>External sources</h2><ul><li><p>Amazon Web Services EKS documentation: <a href=https://docs.aws.amazon.com/eks/latest/userguide/dockershim-deprecation.html>Amazon EKS is ending support for Dockershim</a></p></li><li><p>CNCF conference video: <a href="https://www.youtube.com/watch?v=uDOu6rK4yOk">Lessons Learned Migrating Kubernetes from Docker to containerd Runtime</a> (Ana Caylin, at KubeCon Europe 2019)</p></li><li><p>Docker.com blog: <a href=https://www.docker.com/blog/what-developers-need-to-know-about-docker-docker-engine-and-kubernetes-v1-20/>What developers need to know about Docker, Docker Engine, and Kubernetes v1.20</a> (published 2020/12/04)</p></li><li><p>"<em>Google Open Source</em>" channel on YouTube: <a href=https://youtu.be/fl7_4hjT52g>Learn Kubernetes with Google - Migrating from Dockershim to Containerd</a></p></li><li><p>Microsoft Apps on Azure blog: <a href=https://techcommunity.microsoft.com/t5/apps-on-azure-blog/dockershim-deprecation-and-aks/ba-p/3055902>Dockershim deprecation and AKS</a> (published 2022/01/21)</p></li><li><p>Mirantis blog: <a href=https://www.mirantis.com/blog/the-future-of-dockershim-is-cri-dockerd/>The Future of Dockershim is cri-dockerd</a> (published 2021/04/21)</p></li><li><p>Mirantis: <a href=https://github.com/Mirantis/cri-dockerd>Mirantis/cri-dockerd</a> Git repository (on GitHub)</p></li><li><p>Tripwire: <a href=https://www.tripwire.com/state-of-security/security-data-protection/cloud/how-dockershim-forthcoming-deprecation-affects-your-kubernetes/>How Dockershim’s Forthcoming Deprecation Affects Your Kubernetes</a> (published 2021/07/01)</p></li></ul></div></main></div></div><footer class=d-print-none><div class=footer__links><nav><a class=text-white href=/docs/home/>Home</a>
<a class=text-white href=/blog/>Blog</a>
<a class=text-white href=/training/>Training</a>
<a class=text-white href=/partners/>Partners</a>
<a class=text-white href=/community/>Community</a>
<a class=text-white href=/case-studies/>Case Studies</a></nav></div><div class=container-fluid><div class=row><div class="col-6 col-sm-2 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank href=https://discuss.kubernetes.io><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank href=https://twitter.com/kubernetesio><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar><a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io"><i class="fas fa-calendar-alt"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank href=https://youtube.com/kubernetescommunity><i class="fab fa-youtube"></i></a></li></ul></div><div class="col-6 col-sm-2 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href=https://slack.k8s.io><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute><a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide><i class="fas fa-edit"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-12 col-sm-8 text-center order-sm-2"><small class=text-white>&copy; 2023 The Kubernetes Authors | Documentation Distributed under <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small><br><small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Trademark Usage page</a></small><br><small class=text-white>ICP license: 京ICP备17074266号-3</small></div></div></div></footer></div><script src=/js/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=/js/popper-1.16.1.min.js intregrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=/js/bootstrap-4.6.1.min.js integrity=sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2 crossorigin=anonymous></script>
<script src=/js/script.js></script>
<script async src=/js/mermaid-8.13.4.min.js integrity=sha384-5hHNvPeMrNH14oM3IcQofDoBhiclNK3g2+hnEinKzQ07C4AliMeVpnvxuiwEGpaO crossorigin=anonymous></script>
<script src=/js/main.min.5c0bf7f21dc4f66485f74efbbeeff28a7e4f8cddaac1bae47043159c922ff3a3.js integrity="sha256-XAv38h3E9mSF9077vu/yin5PjN2qwbrkcEMVnJIv86M=" crossorigin=anonymous></script></body></html>